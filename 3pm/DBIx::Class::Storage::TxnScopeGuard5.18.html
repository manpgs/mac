<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>DBIx::Class::Storage::TxnScopeGuard(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DBIx::Class::Storage::TxnScopeGuard(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">DBIx::Class::Storage::TxnScopeGuard(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">DBIx::Class::Storage::TxnScopeGuard - Scope-based transaction
    handling</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
 sub foo {
   my ($self, $schema) = @_;

   my $guard = $schema-&gt;txn_scope_guard;

   # Multiple database operations here

   $guard-&gt;commit;
 }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">An object that behaves much like Scope::Guard, but hardcoded to do
    the right thing with transactions in DBIx::Class.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<section class="Ss">
<h2 class="Ss" id="new"><a class="permalink" href="#new">new</a></h2>
<p class="Pp">Creating an instance of this class will start a new transaction
    (by implicitly calling &quot;txn_begin&quot; in DBIx::Class::Storage.
    Expects a DBIx::Class::Storage object as its only argument.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="commit"><a class="permalink" href="#commit">commit</a></h2>
<p class="Pp">Commit the transaction, and stop guarding the scope. If this
    method is not called and this object goes out of scope (e.g. an exception is
    thrown) then the transaction is rolled back, via &quot;txn_rollback&quot; in
    DBIx::Class::Storage</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">&quot;txn_scope_guard&quot; in DBIx::Class::Schema.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Ash Berlin, 2008.</p>
<p class="Pp">Inspired by Scope::Guard by chocolateboy.</p>
<p class="Pp">This module is free software. It may be used, redistributed and/or
    modified under the same terms as Perl itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-01-23</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
