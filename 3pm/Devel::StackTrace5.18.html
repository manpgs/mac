<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Devel::StackTrace(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Devel::StackTrace(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Devel::StackTrace(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Devel::StackTrace - An object representing a stack trace</p>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
<p class="Pp">version 1.31</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
  use Devel::StackTrace;

  my $trace = Devel::StackTrace-&gt;new();

  print $trace-&gt;as_string(); # like carp

  # from top (most recent) of stack to bottom.
  while ( my $frame = $trace-&gt;next_frame() ) {
      print &quot;Has args\n&quot; if $frame-&gt;hasargs();
  }

  # from bottom (least recent) of stack to top.
  while ( my $frame = $trace-&gt;prev_frame() ) {
      print &quot;Sub: &quot;, $frame-&gt;subroutine(), &quot;\n&quot;;
  }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The <span class="Li">&quot;Devel::StackTrace&quot;</span> module
    contains two classes, C,Devel::StackTrace&gt; and Devel::StackTrace::Frame.
    These objects encapsulate the information that can retrieved via Perl's
    <span class="Li">&quot;caller()&quot;</span> function, as well as providing
    a simple interface to this data.</p>
<p class="Pp">The <span class="Li">&quot;Devel::StackTrace&quot;</span> object
    contains a set of
    <span class="Li">&quot;Devel::StackTrace::Frame&quot;</span> objects, one
    for each level of the stack. The frames contain all the data available from
    <span class="Li">&quot;caller()&quot;</span>.</p>
<p class="Pp">This code was created to support my Exception::Class::Base class
    (part of Exception::Class) but may be useful in other contexts.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="'TOP'_AND_'BOTTOM'_OF_THE_STACK"><a class="permalink" href="#'TOP'_AND_'BOTTOM'_OF_THE_STACK">'TOP'
  AND 'BOTTOM' OF THE STACK</a></h1>
<p class="Pp">When describing the methods of the trace object, I use the words
    'top' and 'bottom'. In this context, the 'top' frame on the stack is the
    most recent frame and the 'bottom' is the least recent.</p>
<p class="Pp">Here's an example:</p>
<p class="Pp"></p>
<pre>
  foo();  # bottom frame is here

  sub foo {
     bar();
  }

  sub bar {
     Devel::StackTrace-&gt;new();  # top frame is here.
  }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<p class="Pp">This class provide the following methods:</p>
<section class="Ss">
<h2 class="Ss" id="Devel::StackTrace"><a class="permalink" href="#Devel::StackTrace">Devel::StackTrace-&gt;new(%named_params)</a></h2>
<p class="Pp">Returns a new Devel::StackTrace object.</p>
<p class="Pp">Takes the following parameters:</p>
<ul class="Bl-bullet">
  <li>frame_filter =&gt; <span class="Li">$sub</span>
    <p class="Pp">By default, Devel::StackTrace will include all stack frames
        before the call to its constructor.</p>
    <p class="Pp">However, you may want to filter out some frames with more
        granularity than 'ignore_package' or 'ignore_class' allow.</p>
    <p class="Pp">You can provide a subroutine which is called with the raw
        frame data for each frame. This is a hash reference with two keys,
        &quot;caller&quot;, and &quot;args&quot;, both of which are array
        references. The &quot;caller&quot; key is the raw data as returned by
        Perl's <span class="Li">&quot;caller()&quot;</span> function, and the
        &quot;args&quot; key are the subroutine arguments found in
        <span class="Li">@DB::args</span>.</p>
    <p class="Pp">The filter should return true if the frame should be included,
        or false if it should be skipped.</p>
  </li>
  <li>ignore_package =&gt; <span class="Li">$package_name</span> OR
      \@package_names
    <p class="Pp">Any frames where the package is one of these packages will not
        be on the stack.</p>
  </li>
  <li>ignore_class =&gt; <span class="Li">$package_name</span> OR
      \@package_names
    <p class="Pp">Any frames where the package is a subclass of one of these
        packages (or is the same package) will not be on the stack.</p>
    <p class="Pp">Devel::StackTrace internally adds itself to the
        'ignore_package' parameter, meaning that the Devel::StackTrace package
        is <b>ALWAYS</b> ignored. However, if you create a subclass of
        Devel::StackTrace it will not be ignored.</p>
  </li>
  <li>no_refs =&gt; <span class="Li">$boolean</span>
    <p class="Pp">If this parameter is true, then Devel::StackTrace will not
        store references internally when generating stacktrace frames. This lets
        your objects go out of scope.</p>
    <p class="Pp">Devel::StackTrace replaces any references with their
        stringified representation.</p>
  </li>
  <li>no_args =&gt; <span class="Li">$boolean</span>
    <p class="Pp">If this parameter is true, then Devel::StackTrace will not
        store caller arguments in stack trace frames at all.</p>
  </li>
  <li>respect_overload =&gt; <span class="Li">$boolean</span>
    <p class="Pp">By default, Devel::StackTrace will call
        <span class="Li">&quot;overload::AddrRef()&quot;</span> to get the
        underlying string representation of an object, instead of respecting the
        object's stringification overloading. If you would prefer to see the
        overloaded representation of objects in stack traces, then set this
        parameter to true.</p>
  </li>
  <li>max_arg_length =&gt; <span class="Li">$integer</span>
    <p class="Pp">By default, Devel::StackTrace will display the entire argument
        for each subroutine call. Setting this parameter causes truncates each
        subroutine argument's string representation if it is longer than this
        number of characters.</p>
  </li>
  <li>message =&gt; <span class="Li">$string</span>
    <p class="Pp">By default, Devel::StackTrace will use 'Trace begun' as the
        message for the first stack frame when you call
        <span class="Li">&quot;as_string&quot;</span>. You can supply an
        alternative message using this option.</p>
  </li>
  <li>indent =&gt; <span class="Li">$boolean</span>
    <p class="Pp">If this parameter is true, each stack frame after the first
        will start with a tab character, just like
        <span class="Li">&quot;Carp::confess()&quot;</span>.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="$trace"><a class="permalink" href="#$trace">$trace-&gt;<i>next_frame()</i></a></h2>
<p class="Pp">Returns the next Devel::StackTrace::Frame object on the stack,
    going down. If this method hasn't been called before it returns the first
    frame. It returns <span class="Li">&quot;undef&quot;</span> when it reaches
    the bottom of the stack and then resets its pointer so the next call to
    <span class="Li">&quot;$trace-&gt;next_frame()&quot;</span> or
    <span class="Li">&quot;$trace-&gt;prev_frame()&quot;</span> will work
    properly.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$trace~2"><a class="permalink" href="#$trace~2">$trace-&gt;<i>prev_frame()</i></a></h2>
<p class="Pp">Returns the next Devel::StackTrace::Frame object on the stack,
    going up. If this method hasn't been called before it returns the last
    frame. It returns undef when it reaches the top of the stack and then resets
    its pointer so the next call to
    <span class="Li">&quot;$trace-&gt;next_frame()&quot;</span> or
    <span class="Li">&quot;$trace-&gt;prev_frame()&quot;</span> will work
    properly.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$trace~3"><a class="permalink" href="#$trace~3">$trace-&gt;reset_pointer</a></h2>
<p class="Pp">Resets the pointer so that the next call to
    <span class="Li">&quot;$trace-&gt;next_frame()&quot;</span> or
    <span class="Li">&quot;$trace-&gt;prev_frame()&quot;</span> will start at
    the top or bottom of the stack, as appropriate.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$trace~4"><a class="permalink" href="#$trace~4">$trace-&gt;<i>frames()</i></a></h2>
<p class="Pp">When this method is called with no arguments, it returns a list of
    Devel::StackTrace::Frame objects. They are returned in order from top (most
    recent) to bottom.</p>
<p class="Pp">This method can also be used to set the object's frames if you
    pass it a list of Devel::StackTrace::Frame objects.</p>
<p class="Pp">This is useful if you want to filter the list of frames in ways
    that are more complex than can be handled by the
    <span class="Li">&quot;$trace-&gt;filter_frames()&quot;</span> method:</p>
<p class="Pp"></p>
<pre>
  $stacktrace-&gt;frames( my_filter( $stacktrace-&gt;frames() ) );
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="$trace~5"><a class="permalink" href="#$trace~5">$trace-&gt;frame($index)</a></h2>
<p class="Pp">Given an index, this method returns the relevant frame, or undef
    if there is no frame at that index. The index is exactly like a Perl array.
    The first frame is 0 and negative indexes are allowed.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$trace~6"><a class="permalink" href="#$trace~6">$trace-&gt;<i>frame_count()</i></a></h2>
<p class="Pp">Returns the number of frames in the trace object.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$trace~7"><a class="permalink" href="#$trace~7">$trace-&gt;as_string(\%p)</a></h2>
<p class="Pp">Calls <span class="Li">&quot;$frame-&gt;as_string()&quot;</span>
    on each frame from top to bottom, producing output quite similar to the Carp
    module's cluck/confess methods.</p>
<p class="Pp">The optional <span class="Li">&quot;\%p&quot;</span> parameter
    only has one option. The <span class="Li">&quot;max_arg_length&quot;</span>
    parameter truncates each subroutine argument's string representation if it
    is longer than this number of characters.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SUPPORT"><a class="permalink" href="#SUPPORT">SUPPORT</a></h1>
<p class="Pp">Please submit bugs to the CPAN RT system at
    http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Devel%3A%3AStackTrace or via
    email at bug-devel-stacktrace@rt.cpan.org.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Dave Rolsky &lt;autarch@urth.org&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
<p class="Pp">This software is Copyright (c) 2014 by Dave Rolsky.</p>
<p class="Pp">This is free software, licensed under:</p>
<p class="Pp"></p>
<pre>
  The Artistic License 2.0 (GPL Compatible)
</pre>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-01-16</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
