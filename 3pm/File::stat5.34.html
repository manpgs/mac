<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>File::stat(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">File::stat(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">File::stat(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">File::stat - by-name interface to Perl's built-in stat()
  functions</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre> use File::stat;
 $st = stat($file) or die &quot;No $file: $!&quot;;
 if ( ($st-&gt;mode &amp; 0111) &amp;&amp; $st-&gt;nlink &gt; 1) ) {
     print &quot;$file is executable with lotsa links\n&quot;;
 } 
 if ( -x $st ) {
     print &quot;$file is executable\n&quot;;
 }
 use Fcntl &quot;S_IRUSR&quot;;
 if ( $st-&gt;cando(S_IRUSR, 1) ) {
     print &quot;My effective uid can read $file\n&quot;;
 }
 use File::stat qw(:FIELDS);
 stat($file) or die &quot;No $file: $!&quot;;
 if ( ($st_mode &amp; 0111) &amp;&amp; ($st_nlink &gt; 1) ) {
     print &quot;$file is executable with lotsa links\n&quot;;
 }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This module's default exports override the core <b>stat()</b> and
    <b>lstat()</b> functions, replacing them with versions that return
    &quot;File::stat&quot; objects. This object has methods that return the
    similarly named structure field name from the <b>stat</b>(2) function;
    namely, dev, ino, mode, nlink, uid, gid, rdev, size, atime, mtime, ctime,
    blksize, and blocks.</p>
<p class="Pp">As of version 1.02 (provided with perl 5.12) the object provides
    <span class="Li">&quot;-X&quot;</span> overloading, so you can call filetest
    operators (<span class="Li">&quot;-f&quot;</span>,
    <span class="Li">&quot;-x&quot;</span>, and so on) on it. It also provides a
    <span class="Li">&quot;-&gt;cando&quot;</span> method, called like</p>
<p class="Pp"></p>
<pre> $st-&gt;cando( ACCESS, EFFECTIVE )
</pre>
<p class="Pp">where <i>ACCESS</i> is one of
    <span class="Li">&quot;S_IRUSR&quot;</span>,
    <span class="Li">&quot;S_IWUSR&quot;</span> or
    <span class="Li">&quot;S_IXUSR&quot;</span> from the Fcntl module, and
    <i>EFFECTIVE</i> indicates whether to use effective (true) or real (false)
    ids. The method interprets the <span class="Li">&quot;mode&quot;</span>,
    <span class="Li">&quot;uid&quot;</span> and
    <span class="Li">&quot;gid&quot;</span> fields, and returns whether or not
    the current process would be allowed the specified access.</p>
<p class="Pp">If you don't want to use the objects, you may import the
    <span class="Li">&quot;-&gt;cando&quot;</span> method into your namespace as
    a regular function called <span class="Li">&quot;stat_cando&quot;</span>.
    This takes an arrayref containing the return values of
    <span class="Li">&quot;stat&quot;</span> or
    <span class="Li">&quot;lstat&quot;</span> as its first argument, and
    interprets it for you.</p>
<p class="Pp">You may also import all the structure fields directly into your
    namespace as regular variables using the :FIELDS import tag. (Note that this
    still overrides your <b>stat()</b> and <b>lstat()</b> functions.) Access
    these fields as variables named with a preceding
    <span class="Li">&quot;st_&quot;</span> in front their method names. Thus,
    <span class="Li">&quot;$stat_obj-&gt;dev()&quot;</span> corresponds to
    <span class="Li">$st_dev</span> if you import the fields.</p>
<p class="Pp">To access this functionality without the core overrides, pass the
    <span class="Li">&quot;use&quot;</span> an empty import list, and then
    access function functions with their full qualified names. On the other
    hand, the built-ins are still available via the
    <span class="Li">&quot;CORE::&quot;</span> pseudo-package.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">As of Perl 5.8.0 after using this module you cannot use the
    implicit <span class="Li">$_</span> or the special filehandle
    <span class="Li">&quot;_&quot;</span> with <b>stat()</b> or <b>lstat()</b>,
    trying to do so leads into strange errors. The workaround is for
    <span class="Li">$_</span> to be explicit</p>
<p class="Pp"></p>
<pre>    my $stat_obj = stat $_;
</pre>
<p class="Pp">and for <span class="Li">&quot;_&quot;</span> to explicitly
    populate the object using the unexported and undocumented <b>populate()</b>
    function with <b>CORE::stat()</b>:</p>
<p class="Pp"></p>
<pre>    my $stat_obj = File::stat::populate(CORE::stat(_));
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="ERRORS"><a class="permalink" href="#ERRORS">ERRORS</a></h1>
<dl class="Bl-tag">
  <dt>-%s is not implemented on a File::stat object</dt>
  <dd>The filetest operators <span class="Li">&quot;-t&quot;</span>,
      <span class="Li">&quot;-T&quot;</span> and
      <span class="Li">&quot;-B&quot;</span> are not implemented, as they
      require more information than just a stat buffer.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="WARNINGS"><a class="permalink" href="#WARNINGS">WARNINGS</a></h1>
<p class="Pp">These can all be disabled with</p>
<p class="Pp"></p>
<pre>    no warnings &quot;File::stat&quot;;
</pre>
<dl class="Bl-tag">
  <dt id="File::stat"><a class="permalink" href="#File::stat">File::stat ignores
    use filetest 'access'</a></dt>
  <dd>You have tried to use one of the
      <span class="Li">&quot;-rwxRWX&quot;</span> filetests with
      <span class="Li">&quot;use</span> <span class="Li">filetest
      'access'&quot;</span> in effect.
      <span class="Li">&quot;File::stat&quot;</span> will ignore the pragma, and
      just use the information in the <span class="Li">&quot;mode&quot;</span>
      member as usual.</dd>
  <dt id="File::stat~2"><a class="permalink" href="#File::stat~2">File::stat
    ignores VMS ACLs</a></dt>
  <dd>VMS systems have a permissions structure that cannot be completely
      represented in a stat buffer, and unlike on other systems the builtin
      filetest operators respect this. The
      <span class="Li">&quot;File::stat&quot;</span> overloads, however, do not,
      since the information required is not available.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="NOTE"><a class="permalink" href="#NOTE">NOTE</a></h1>
<p class="Pp">While this class is currently implemented using the Class::Struct
    module to build a struct-like class, you shouldn't rely upon this.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Tom Christiansen</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2020-06-14</td>
    <td class="foot-os">perl v5.34.0</td>
  </tr>
</table>
</body>
</html>
