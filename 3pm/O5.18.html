<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>O(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">O(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">O(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">O - Generic interface to Perl Compiler backends</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
        perl -MO=[-q,]Backend[,OPTIONS] foo.pl
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This is the module that is used as a frontend to the Perl
    Compiler.</p>
<p class="Pp">If you pass the <span class="Li">&quot;-q&quot;</span> option to
    the module, then the STDOUT filehandle will be redirected into the variable
    <span class="Li">$O::BEGIN_output</span> during compilation. This has the
    effect that any output printed to STDOUT by BEGIN blocks or use'd modules
    will be stored in this variable rather than printed. It's useful with those
    backends which produce output themselves
    (<span class="Li">&quot;Deparse&quot;</span>,
    <span class="Li">&quot;Concise&quot;</span> etc), so that their output is
    not confused with that generated by the code being compiled.</p>
<p class="Pp">The <span class="Li">&quot;-qq&quot;</span> option behaves like
    <span class="Li">&quot;-q&quot;</span>, except that it also closes STDERR
    after deparsing has finished. This suppresses the &quot;Syntax OK&quot;
    message normally produced by perl.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CONVENTIONS"><a class="permalink" href="#CONVENTIONS">CONVENTIONS</a></h1>
<p class="Pp">Most compiler backends use the following conventions: OPTIONS
    consists of a comma-separated list of words (no white-space). The
    <span class="Li">&quot;-v&quot;</span> option usually puts the backend into
    verbose mode. The <span class="Li">&quot;-ofile&quot;</span> option
    generates output to <b>file</b> instead of stdout. The
    <span class="Li">&quot;-D&quot;</span> option followed by various letters
    turns on various internal debugging flags. See the documentation for the
    desired backend (named <span class="Li">&quot;B::Backend&quot;</span> for
    the example above) to find out about that backend.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="IMPLEMENTATION"><a class="permalink" href="#IMPLEMENTATION">IMPLEMENTATION</a></h1>
<p class="Pp">This section is only necessary for those who want to write a
    compiler backend module that can be used via this module.</p>
<p class="Pp">The command-line mentioned in the SYNOPSIS section corresponds to
    the Perl code</p>
<p class="Pp"></p>
<pre>
    use O (&quot;Backend&quot;, OPTIONS);
</pre>
<p class="Pp">The <span class="Li">&quot;O::import&quot;</span> function loads
    the appropriate <span class="Li">&quot;B::Backend&quot;</span> module and
    calls its <span class="Li">&quot;compile&quot;</span> function, passing it
    OPTIONS. That function is expected to return a sub reference which we'll
    call CALLBACK. Next, the &quot;compile-only&quot; flag is switched on
    (equivalent to the command-line option
    <span class="Li">&quot;-c&quot;</span>) and a CHECK block is registered
    which calls CALLBACK. Thus the main Perl program mentioned on the
    command-line is read in, parsed and compiled into internal syntax tree form.
    Since the <span class="Li">&quot;-c&quot;</span> flag is set, the program
    does not start running (excepting BEGIN blocks of course) but the CALLBACK
    function registered by the compiler backend is called.</p>
<p class="Pp">In summary, a compiler backend module should be called
    &quot;B::Foo&quot; for some foo and live in the appropriate directory for
    that name. It should define a function called
    <span class="Li">&quot;compile&quot;</span>. When the user types</p>
<p class="Pp"></p>
<pre>
    perl -MO=Foo,OPTIONS foo.pl
</pre>
<p class="Pp">that function is called and is passed those OPTIONS (split on
    commas). It should return a sub ref to the main compilation function. After
    the user's program is loaded and parsed, that returned sub ref is invoked
    which can then go ahead and do the compilation, usually by making use of the
    <span class="Li">&quot;B&quot;</span> module's functionality.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">The <span class="Li">&quot;-q&quot;</span> and
    <span class="Li">&quot;-qq&quot;</span> options don't work correctly if perl
    isn't compiled with PerlIO support : STDOUT will be closed instead of being
    redirected to <span class="Li">$O::BEGIN_output</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Malcolm Beattie,
    <span class="Li">&quot;mbeattie@sable.ox.ac.uk&quot;</span></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-01-31</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
