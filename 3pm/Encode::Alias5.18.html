<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Encode::Alias(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Encode::Alias(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">Encode::Alias(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Encode::Alias - alias definitions to encodings</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
  use Encode;
  use Encode::Alias;
  define_alias( &quot;newName&quot; =&gt; ENCODING);
  define_alias( qr/.../ =&gt; ENCODING);
  define_alias( sub { return ENCODING if ...; } );
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">Allows newName to be used as an alias for ENCODING. ENCODING may
    be either the name of an encoding or an encoding object (as described in
    Encode).</p>
<p class="Pp">Currently the first argument to <i>define_alias()</i> can be
    specified in the following ways:</p>
<dl class="Bl-tag">
  <dt id="As"><a class="permalink" href="#As">As a simple string.</a></dt>
  <dd></dd>
  <dt id="As~2"><a class="permalink" href="#As~2">As a qr// compiled regular
    expression, e.g.:</a></dt>
  <dd>
    <pre>
  define_alias( qr/^iso8859-(\d+)$/i =&gt; '&quot;iso-8859-$1&quot;' );
    </pre>
    <p class="Pp">In this case, if <i>ENCODING</i> is not a reference, it is
        <span class="Li">&quot;eval&quot;</span>-ed in order to allow
        <span class="Li">$1</span> etc. to be substituted. The example is one
        way to alias names as used in X11 fonts to the MIME names for the
        iso-8859-* family. Note the double quotes inside the single quotes.</p>
    <p class="Pp">(or, you don't have to do this yourself because this example
        is predefined)</p>
    <p class="Pp">If you are using a regex here, you have to use the quotes as
        shown or it won't work. Also note that regex handling is tricky even for
        the experienced. Use this feature with caution.</p>
  </dd>
  <dt id="As~3"><a class="permalink" href="#As~3">As a code reference,
    e.g.:</a></dt>
  <dd>
    <pre>
  define_alias( sub {shift =~ /^iso8859-(\d+)$/i ? &quot;iso-8859-$1&quot; : undef } );
    </pre>
    <p class="Pp">The same effect as the example above in a different way. The
        coderef takes the alias name as an argument and returns a canonical name
        on success or undef if not. Note the second argument is ignored if
        provided. Use this with even more caution than the regex version.</p>
  </dd>
</dl>
<p class="Pp"><i>Changes in code reference aliasing</i></p>
<p class="Pp">As of Encode 1.87, the older form</p>
<p class="Pp"></p>
<pre>
  define_alias( sub { return  /^iso8859-(\d+)$/i ? &quot;iso-8859-$1&quot; : undef } );
</pre>
<p class="Pp">no longer works.</p>
<p class="Pp">Encode up to 1.86 internally used &quot;local
    <span class="Li">$_</span>&quot; to implement ths older form. But consider
    the code below;</p>
<p class="Pp"></p>
<pre>
  use Encode;
  $_ = &quot;eeeee&quot; ;
  while (/(e)/g) {
    my $utf = decode('aliased-encoding-name', $1);
    print &quot;position:&quot;,pos,&quot;\n&quot;;
  }
</pre>
<p class="Pp">Prior to Encode 1.86 this fails because of &quot;local
    <span class="Li">$_</span>&quot;.</p>
<section class="Ss">
<h2 class="Ss" id="Alias_overloading"><a class="permalink" href="#Alias_overloading">Alias
  overloading</a></h2>
<p class="Pp">You can override predefined aliases by simply applying
    <i>define_alias()</i>. The new alias is always evaluated first, and when
    necessary, <i>define_alias()</i> flushes the internal cache to make the new
    definition available.</p>
<p class="Pp"></p>
<pre>
  # redirect SHIFT_JIS to MS/IBM Code Page 932, which is a
  # superset of SHIFT_JIS

  define_alias( qr/shift.*jis$/i  =&gt; '&quot;cp932&quot;' );
  define_alias( qr/sjis$/i        =&gt; '&quot;cp932&quot;' );
</pre>
<p class="Pp">If you want to zap all predefined aliases, you can use</p>
<p class="Pp"></p>
<pre>
  Encode::Alias-&gt;undef_aliases;
</pre>
<p class="Pp">to do so. And</p>
<p class="Pp"></p>
<pre>
  Encode::Alias-&gt;init_aliases;
</pre>
<p class="Pp">gets the factory settings back.</p>
<p class="Pp">Note that <i>define_alias()</i> will not be able to override the
    canonical name of encodings. Encodings are first looked up by canonical name
    before potential aliases are tried.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">Encode, Encode::Supported</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-09-30</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
