<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Moose::Manual::Exceptions(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Moose::Manual::Exceptions(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Moose::Manual::Exceptions(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Moose::Manual::Exceptions - Moose's exceptions</p>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
<p class="Pp">version 2.2012</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXCEPTIONS_IN_MOOSE"><a class="permalink" href="#EXCEPTIONS_IN_MOOSE">EXCEPTIONS
  IN MOOSE</a></h1>
<p class="Pp">Moose will throw an exception for all error conditions. This
    applies both to code in the Moose core <i>as well</i> as to all code
    generated when a class is made immutable. All exceptions are subclasses of
    the <span class="Li">&quot;Moose::Exception&quot;</span> class.</p>
<p class="Pp">Each type of error has its own unique subclass, and many
    subclasses have additional attributes to provide more information about the
    error's context, such as what classes or roles were involved.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXCEPTION_STRINGIFICATION"><a class="permalink" href="#EXCEPTION_STRINGIFICATION">EXCEPTION
  STRINGIFICATION</a></h1>
<p class="Pp">By default, Moose exceptions remove Moose internals from the stack
    trace. If you set the
    <span class="Li">&quot;MOOSE_FULL_EXCEPTION&quot;</span> environment
    variable to a true value, then the Moose internals will be included in the
    trace.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="HANDLING_MOOSE_EXCEPTIONS"><a class="permalink" href="#HANDLING_MOOSE_EXCEPTIONS">HANDLING
  MOOSE EXCEPTIONS</a></h1>
<p class="Pp">Because Moose's exceptions use the standard
    <span class="Li">&quot;die&quot;</span> mechanism, you are free to catch and
    handle errors however you like. You could use an
    <span class="Li">&quot;eval&quot;</span> block to catch Moose exceptions.
    However, the Moose team strongly recommends using Try::Tiny instead. Please
    refer to Try::Tiny's documentation for a discussion of how
    <span class="Li">&quot;eval&quot;</span> is dangerous.</p>
<p class="Pp">The following example demonstrates how to catch and inspect a
    Moose::Exception. For the sake of simplicity, we will cause a very simple
    error. The <span class="Li">&quot;extends&quot;</span> keywords expects a
    list of superclass names. If we pass no superclass names, Moose will throw
    an instance of Moose::Exception::ExtendsMissingArgs.</p>
<section class="Ss">
<h2 class="Ss" id="Catching_with_Try::Tiny"><a class="permalink" href="#Catching_with_Try::Tiny">Catching
  with Try::Tiny</a></h2>
<pre>
    use warnings;
    use strict;
    use Try::Tiny;

    try {
        package Example::Exception;
        use Moose;
        extends;    # &lt;-- error!
    }
    catch {
        # $_ contains the instance of the exception thrown by the above try
        # block, but $_ may get clobbered, so we should copy its value to
        # another variable.
        my $e = $_;

        # Exception objects are not ubiquitous in Perl, so we must check
        # whether $e is blessed. We also need to ensure that $e is actually
        # the kind of exception we were expecting.
        if ( blessed $e
            &amp;&amp; $e-&gt;isa('Moose::Exception::ExtendsMissingArgs') ) {

            my $class_name = $e-&gt;class_name;
            warn &quot;You forgot to specify a superclass for $class_name, silly!&quot;;
        }

        # It's either another type of an object or not an object at all.
        else {
            warn &quot;$e\n&quot;;
        }
    }
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Example_of_catching_ValidationFailedForTypeConstraint"><a class="permalink" href="#Example_of_catching_ValidationFailedForTypeConstraint">Example
  of catching ValidationFailedForTypeConstraint</a></h2>
<pre>
    use warnings;
    use strict;

    use Try::Tiny;

    {
        package Person;
        use Moose;
        use Moose::Util::TypeConstraints;

        subtype 'NameStr',
            as 'Str',
            where { $_ =~ /^[a-zA-Z]+$/; };

        has age =&gt; (
            is       =&gt; 'ro',
            isa      =&gt; 'Int',
            required =&gt; 1
        );

        has name =&gt; (
            is       =&gt; 'ro',
            isa      =&gt; 'NameStr',
            required =&gt; 1
        );
    }

    my $person;
    while ( !$person ) {
        try {
            print 'Enter your age : ';
            my $age = &lt;STDIN&gt;;
            chomp $age;
            print 'Enter your name : ';
            my $name = &lt;STDIN&gt;;
            chomp $name;
            $person = Person-&gt;new(
                age  =&gt; $age,
                name =&gt; $name
            );
            my $person_name = $person-&gt;name;
            my $person_age  = $person-&gt;age;
            print &quot;$person_name is $person_age years old\n&quot;;
        }
        catch {
            my $e = $_;

            if (
                blessed $e
                &amp;&amp; $e-&gt;isa(
                    'Moose::Exception::ValidationFailedForTypeConstraint')
                ) {

                my $attribute_name = $e-&gt;attribute-&gt;name;
                my $type_name      = $e-&gt;type-&gt;name;
                my $value          = $e-&gt;value;

                warn
                    &quot;You entered $value for $attribute_name, which is not a $type_name!&quot;;
            }
            else {
                warn &quot;$e\n&quot;;
            }
        }
    }
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Example_of_catching_AttributeIsRequired"><a class="permalink" href="#Example_of_catching_AttributeIsRequired">Example
  of catching AttributeIsRequired</a></h2>
<pre>
    use warnings;
    use strict;
    use Try::Tiny;

    {
        package Example::RequiredAttribute;
        use Moose;

        has required_attribute =&gt; (
            is       =&gt; 'ro',
            isa      =&gt; 'Int',
            required =&gt; 1
        );
    }

    try {
        # we're not passing required_attribute, so it'll throw an exception
        my $object = Example::RequiredAttribute-&gt;new();
    }
    catch {
        my $e = $_;
        if ( blessed $e &amp;&amp; $e-&gt;isa('Moose::Exception::AttributeIsRequired') )
        {
            warn $e-&gt;message, &quot;\n&quot;;
        }
        else {
            warn &quot;$e\n&quot;;
        }
    };
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="MOOSE_EXCEPTION_CLASSES"><a class="permalink" href="#MOOSE_EXCEPTION_CLASSES">MOOSE
  EXCEPTION CLASSES</a></h1>
<p class="Pp">All the exception classes are listed in
    Moose::Manual::Exceptions::Manifest.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<ul class="Bl-bullet">
  <li>Stevan Little &lt;stevan.little@iinteractive.com&gt;</li>
  <li>Dave Rolsky &lt;autarch@urth.org&gt;</li>
  <li>Jesse Luehrs &lt;doy@tozt.net&gt;</li>
  <li>Shawn M Moore &lt;code@sartak.org&gt;</li>
  <li>&#x05D9;&#x05D5;&#x05D1;&#x05DC; &#x05E7;&#x05D5;&#x05D2;'&#x05DE;&#x05DF;
      (Yuval Kogman) &lt;nothingmuch@woobling.org&gt;</li>
  <li>Karen Etheridge &lt;ether@cpan.org&gt;</li>
  <li>Florian Ragwitz &lt;rafl@debian.org&gt;</li>
  <li>Hans Dieter Pearcey &lt;hdp@weftsoar.net&gt;</li>
  <li>Chris Prather &lt;chris@prather.org&gt;</li>
  <li>Matt S Trout &lt;mst@shadowcat.co.uk&gt;</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
<p class="Pp">This software is copyright (c) 2006 by Infinity Interactive,
  Inc.</p>
<p class="Pp">This is free software; you can redistribute it and/or modify it
    under the same terms as the Perl 5 programming language system itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-11-22</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
