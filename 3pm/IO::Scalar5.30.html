<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>IO::Scalar(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">IO::Scalar(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">IO::Scalar(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">IO::Scalar - IO:: interface for reading/writing a scalar</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp">Perform I/O on strings, using the basic OO interface...</p>
<p class="Pp"></p>
<pre>    use 5.005;
    use IO::Scalar;
    $data = &quot;My message:\n&quot;;
    ### Open a handle on a string, and append to it:
    $SH = new IO::Scalar \$data;
    $SH-&gt;print(&quot;Hello&quot;);
    $SH-&gt;print(&quot;, world!\nBye now!\n&quot;);
    print &quot;The string is now: &quot;, $data, &quot;\n&quot;;
    ### Open a handle on a string, read it line-by-line, then close it:
    $SH = new IO::Scalar \$data;
    while (defined($_ = $SH-&gt;getline)) {
        print &quot;Got line: $_&quot;;
    }
    $SH-&gt;close;
    ### Open a handle on a string, and slurp in all the lines:
    $SH = new IO::Scalar \$data;
    print &quot;All lines:\n&quot;, $SH-&gt;getlines;
    ### Get the current position (either of two ways):
    $pos = $SH-&gt;getpos;
    $offset = $SH-&gt;tell;
    ### Set the current position (either of two ways):
    $SH-&gt;setpos($pos);
    $SH-&gt;seek($offset, 0);
    ### Open an anonymous temporary scalar:
    $SH = new IO::Scalar;
    $SH-&gt;print(&quot;Hi there!&quot;);
    print &quot;I printed: &quot;, ${$SH-&gt;sref}, &quot;\n&quot;;      ### get at value
</pre>
<p class="Pp">Don't like OO for your I/O? No problem. Thanks to the magic of an
    invisible <b>tie()</b>, the following now works out of the box, just as it
    does with IO::Handle:</p>
<p class="Pp"></p>
<pre>    use 5.005;
    use IO::Scalar;
    $data = &quot;My message:\n&quot;;
    ### Open a handle on a string, and append to it:
    $SH = new IO::Scalar \$data;
    print $SH &quot;Hello&quot;;
    print $SH &quot;, world!\nBye now!\n&quot;;
    print &quot;The string is now: &quot;, $data, &quot;\n&quot;;
    ### Open a handle on a string, read it line-by-line, then close it:
    $SH = new IO::Scalar \$data;
    while (&lt;$SH&gt;) {
        print &quot;Got line: $_&quot;;
    }
    close $SH;
    ### Open a handle on a string, and slurp in all the lines:
    $SH = new IO::Scalar \$data;
    print &quot;All lines:\n&quot;, &lt;$SH&gt;;
    ### Get the current position (WARNING: requires 5.6):
    $offset = tell $SH;
    ### Set the current position (WARNING: requires 5.6):
    seek $SH, $offset, 0;
    ### Open an anonymous temporary scalar:
    $SH = new IO::Scalar;
    print $SH &quot;Hi there!&quot;;
    print &quot;I printed: &quot;, ${$SH-&gt;sref}, &quot;\n&quot;;      ### get at value
</pre>
<p class="Pp">And for you folks with 1.x code out there: the old <b>tie()</b>
    style still works, though this is <i>unnecessary and deprecated</i>:</p>
<p class="Pp"></p>
<pre>    use IO::Scalar;
    ### Writing to a scalar...
    my $s;
    tie *OUT, 'IO::Scalar', \$s;
    print OUT &quot;line 1\nline 2\n&quot;, &quot;line 3\n&quot;;
    print &quot;String is now: $s\n&quot;
    ### Reading and writing an anonymous scalar...
    tie *OUT, 'IO::Scalar';
    print OUT &quot;line 1\nline 2\n&quot;, &quot;line 3\n&quot;;
    tied(OUT)-&gt;seek(0,0);
    while (&lt;OUT&gt;) {
        print &quot;Got line: &quot;, $_;
    }
</pre>
<p class="Pp">Stringification works, too!</p>
<p class="Pp"></p>
<pre>    my $SH = new IO::Scalar \$data;
    print $SH &quot;Hello, &quot;;
    print $SH &quot;world!&quot;;
    print &quot;I printed: $SH\n&quot;;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This class is part of the IO::Stringy distribution; see
    IO::Stringy for change log and general information.</p>
<p class="Pp">The IO::Scalar class implements objects which behave just like
    IO::Handle (or FileHandle) objects, except that you may use them to write to
    (or read from) scalars. These handles are automatically tiehandle'd (though
    please see &quot;WARNINGS&quot; for information relevant to your Perl
    version).</p>
<p class="Pp">Basically, this:</p>
<p class="Pp"></p>
<pre>    my $s;
    $SH = new IO::Scalar \$s;
    $SH-&gt;print(&quot;Hel&quot;, &quot;lo, &quot;);         ### OO style
    $SH-&gt;print(&quot;world!\n&quot;);            ### ditto
</pre>
<p class="Pp">Or this:</p>
<p class="Pp"></p>
<pre>    my $s;
    $SH = tie *OUT, 'IO::Scalar', \$s;
    print OUT &quot;Hel&quot;, &quot;lo, &quot;;           ### non-OO style
    print OUT &quot;world!\n&quot;;              ### ditto
</pre>
<p class="Pp">Causes <span class="Li">$s</span> to be set to:</p>
<p class="Pp"></p>
<pre>    &quot;Hello, world!\n&quot;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="PUBLIC_INTERFACE"><a class="permalink" href="#PUBLIC_INTERFACE">PUBLIC
  INTERFACE</a></h1>
<section class="Ss">
<h2 class="Ss" id="Construction"><a class="permalink" href="#Construction">Construction</a></h2>
<dl class="Bl-tag">
  <dt id="new"><a class="permalink" href="#new">new [ARGS...]</a></dt>
  <dd><i>Class method.</i> Return a new, unattached scalar handle. If any
      arguments are given, they're sent to <b>open()</b>.</dd>
  <dt id="open"><a class="permalink" href="#open">open [SCALARREF]</a></dt>
  <dd><i>Instance method.</i> Open the scalar handle on a new scalar, pointed to
      by SCALARREF. If no SCALARREF is given, a &quot;private&quot; scalar is
      created to hold the file data.
    <p class="Pp">Returns the self object on success, undefined on error.</p>
  </dd>
  <dt id="opened"><a class="permalink" href="#opened">opened</a></dt>
  <dd><i>Instance method.</i> Is the scalar handle opened on something?</dd>
  <dt id="close"><a class="permalink" href="#close">close</a></dt>
  <dd><i>Instance method.</i> Disassociate the scalar handle from its underlying
      scalar. Done automatically on destroy.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Input_and_output"><a class="permalink" href="#Input_and_output">Input
  and output</a></h2>
<dl class="Bl-tag">
  <dt id="flush"><a class="permalink" href="#flush">flush</a></dt>
  <dd><i>Instance method.</i> No-op, provided for OO compatibility.</dd>
  <dt id="fileno"><a class="permalink" href="#fileno">fileno</a></dt>
  <dd><i>Instance method.</i> No-op, returns undef</dd>
  <dt id="getc"><a class="permalink" href="#getc">getc</a></dt>
  <dd><i>Instance method.</i> Return the next character, or undef if none
      remain.</dd>
  <dt id="getline"><a class="permalink" href="#getline">getline</a></dt>
  <dd><i>Instance method.</i> Return the next line, or undef on end of string.
      Can safely be called in an array context. Currently, lines are delimited
      by &quot;\n&quot;.</dd>
  <dt id="getlines"><a class="permalink" href="#getlines">getlines</a></dt>
  <dd><i>Instance method.</i> Get all remaining lines. It will <b>croak()</b> if
      accidentally called in a scalar context.</dd>
  <dt id="print"><a class="permalink" href="#print">print ARGS...</a></dt>
  <dd><i>Instance method.</i> Print ARGS to the underlying scalar.
    <p class="Pp"><b>Warning:</b> this continues to always cause a seek to the
        end of the string, but if you perform <b>seek()</b>s and <b>tell()</b>s,
        it is still safer to explicitly seek-to-end before subsequent
        <b>print()</b>s.</p>
  </dd>
  <dt id="read"><a class="permalink" href="#read">read BUF, NBYTES,
    [OFFSET]</a></dt>
  <dd><i>Instance method.</i> Read some bytes from the scalar. Returns the
      number of bytes actually read, 0 on end-of-file, undef on error.</dd>
  <dt id="write"><a class="permalink" href="#write">write BUF, NBYTES,
    [OFFSET]</a></dt>
  <dd><i>Instance method.</i> Write some bytes to the scalar.</dd>
  <dt id="sysread"><a class="permalink" href="#sysread">sysread BUF, LEN,
    [OFFSET]</a></dt>
  <dd><i>Instance method.</i> Read some bytes from the scalar. Returns the
      number of bytes actually read, 0 on end-of-file, undef on error.</dd>
  <dt id="syswrite"><a class="permalink" href="#syswrite">syswrite BUF, NBYTES,
    [OFFSET]</a></dt>
  <dd><i>Instance method.</i> Write some bytes to the scalar.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Seeking/telling_and_other_attributes"><a class="permalink" href="#Seeking/telling_and_other_attributes">Seeking/telling
  and other attributes</a></h2>
<dl class="Bl-tag">
  <dt id="autoflush"><a class="permalink" href="#autoflush">autoflush</a></dt>
  <dd><i>Instance method.</i> No-op, provided for OO compatibility.</dd>
  <dt id="binmode"><a class="permalink" href="#binmode">binmode</a></dt>
  <dd><i>Instance method.</i> No-op, provided for OO compatibility.</dd>
  <dt id="clearerr"><a class="permalink" href="#clearerr">clearerr</a></dt>
  <dd><i>Instance method.</i> Clear the error and EOF flags. A no-op.</dd>
  <dt id="eof"><a class="permalink" href="#eof">eof</a></dt>
  <dd><i>Instance method.</i> Are we at end of file?</dd>
  <dt id="seek"><a class="permalink" href="#seek">seek OFFSET, WHENCE</a></dt>
  <dd><i>Instance method.</i> Seek to a given position in the stream.</dd>
  <dt id="sysseek"><a class="permalink" href="#sysseek">sysseek OFFSET,
    WHENCE</a></dt>
  <dd><i>Instance method.</i> Identical to <span class="Li">&quot;seek OFFSET,
      WHENCE&quot;</span>, <i>q.v.</i></dd>
  <dt id="tell"><a class="permalink" href="#tell">tell</a></dt>
  <dd><i>Instance method.</i> Return the current position in the stream, as a
      numeric offset.</dd>
  <dt id="setpos"><a class="permalink" href="#setpos">setpos POS</a></dt>
  <dd><i>Instance method.</i> Set the current position, using the opaque value
      returned by <span class="Li">&quot;getpos()&quot;</span>.</dd>
  <dt id="getpos"><a class="permalink" href="#getpos">getpos</a></dt>
  <dd><i>Instance method.</i> Return the current position in the string, as an
      opaque object.</dd>
  <dt id="sref"><a class="permalink" href="#sref">sref</a></dt>
  <dd><i>Instance method.</i> Return a reference to the underlying scalar.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="WARNINGS"><a class="permalink" href="#WARNINGS">WARNINGS</a></h1>
<p class="Pp">Perl's TIEHANDLE spec was incomplete prior to 5.005_57; it was
    missing support for <span class="Li">&quot;seek()&quot;</span>,
    <span class="Li">&quot;tell()&quot;</span>, and
    <span class="Li">&quot;eof()&quot;</span>. Attempting to use these functions
    with an IO::Scalar will not work prior to 5.005_57. IO::Scalar will not have
    the relevant methods invoked; and even worse, this kind of bug can lie
    dormant for a while. If you turn warnings on (via
    <span class="Li">$^W</span> or <span class="Li">&quot;perl -w&quot;</span>),
    and you see something like this...</p>
<p class="Pp"></p>
<pre>    attempt to seek on unopened filehandle
</pre>
<p class="Pp">...then you are probably trying to use one of these functions on
    an IO::Scalar with an old Perl. The remedy is to simply use the OO version;
    e.g.:</p>
<p class="Pp"></p>
<pre>    $SH-&gt;seek(0,0);    ### GOOD: will work on any 5.005
    seek($SH,0,0);     ### WARNING: will only work on 5.005_57 and beyond
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
<p class="Pp"><span class="Li">$Id:</span> Scalar.pm,v 1.6 2005/02/10 21:21:53
    dfs Exp $</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<section class="Ss">
<h2 class="Ss" id="Primary_Maintainer"><a class="permalink" href="#Primary_Maintainer">Primary
  Maintainer</a></h2>
<p class="Pp">Dianne Skoll (<i>dfs@roaringpenguin.com</i>).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Principal_author"><a class="permalink" href="#Principal_author">Principal
  author</a></h2>
<p class="Pp">Eryq (<i>eryq@zeegee.com</i>). President, ZeeGee Software Inc
    (<i>http://www.zeegee.com</i>).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Other_contributors"><a class="permalink" href="#Other_contributors">Other
  contributors</a></h2>
<p class="Pp">The full set of contributors always includes the folks mentioned
    in &quot;CHANGE LOG&quot; in IO::Stringy. But just the same, special thanks
    to the following individuals for their invaluable contributions (if I've
    forgotten or misspelled your name, please email me!):</p>
<p class="Pp"><i>Andy Glew,</i> for contributing
    <span class="Li">&quot;getc()&quot;</span>.</p>
<p class="Pp"><i>Brandon Browning,</i> for suggesting
    <span class="Li">&quot;opened()&quot;</span>.</p>
<p class="Pp"><i>David Richter,</i> for finding and fixing the bug in
    <span class="Li">&quot;PRINTF()&quot;</span>.</p>
<p class="Pp"><i>Eric L. Brine,</i> for his offset-using <b>read()</b> and
    <b>write()</b> implementations.</p>
<p class="Pp"><i>Richard Jones,</i> for his patches to massively improve the
    performance of <span class="Li">&quot;getline()&quot;</span> and add
    <span class="Li">&quot;sysread&quot;</span> and
    <span class="Li">&quot;syswrite&quot;</span>.</p>
<p class="Pp"><i>B. K. Oxley (binkley),</i> for stringification and inheritance
    improvements, and sundry good ideas.</p>
<p class="Pp"><i>Doug Wilson,</i> for the IO::Handle inheritance and automatic
    tie-ing.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">IO::String, which is quite similar but which was designed
    more-recently and with an IO::Handle-like interface in mind, so you could
    mix OO- and native-filehandle usage without using <b>tied()</b>.</p>
<p class="Pp"><i>Note:</i> as of version 2.x, these classes all work like their
    IO::Handle counterparts, so we have comparable functionality to
  IO::String.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2015-04-22</td>
    <td class="foot-os">perl v5.30.3</td>
  </tr>
</table>
</body>
</html>
