<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>CPAN(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CPAN(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">CPAN(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">CPAN - query, download and build perl modules from CPAN sites</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp">Interactive mode:</p>
<p class="Pp"></p>
<pre>
  perl -MCPAN -e shell
</pre>
<p class="Pp">--or--</p>
<p class="Pp"></p>
<pre>
  cpan
</pre>
<p class="Pp">Basic commands:</p>
<p class="Pp"></p>
<pre>
  # Modules:

  cpan&gt; install Acme::Meta                       # in the shell

  CPAN::Shell-&gt;install(&quot;Acme::Meta&quot;);            # in perl

  # Distributions:

  cpan&gt; install NWCLARK/Acme-Meta-0.02.tar.gz    # in the shell

  CPAN::Shell-&gt;
    install(&quot;NWCLARK/Acme-Meta-0.02.tar.gz&quot;);    # in perl

  # module objects:

  $mo = CPAN::Shell-&gt;expandany($mod);
  $mo = CPAN::Shell-&gt;expand(&quot;Module&quot;,$mod);      # same thing

  # distribution objects:

  $do = CPAN::Shell-&gt;expand(&quot;Module&quot;,$mod)-&gt;distribution;
  $do = CPAN::Shell-&gt;expandany($distro);         # same thing
  $do = CPAN::Shell-&gt;expand(&quot;Distribution&quot;,
                            $distro);            # same thing
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The CPAN module automates or at least simplifies the make and
    install of perl modules and extensions. It includes some primitive searching
    capabilities and knows how to use LWP, HTTP::Tiny, Net::FTP and certain
    external download clients to fetch distributions from the net.</p>
<p class="Pp">These are fetched from one or more mirrored CPAN (Comprehensive
    Perl Archive Network) sites and unpacked in a dedicated directory.</p>
<p class="Pp">The CPAN module also supports named and versioned <i>bundles</i>
    of modules. Bundles simplify handling of sets of related modules. See
    Bundles below.</p>
<p class="Pp">The package contains a session manager and a cache manager. The
    session manager keeps track of what has been fetched, built, and installed
    in the current session. The cache manager keeps track of the disk space
    occupied by the make processes and deletes excess space using a simple FIFO
    mechanism.</p>
<p class="Pp">All methods provided are accessible in a programmer style and in
    an interactive shell style.</p>
<section class="Ss">
<h2 class="Ss" id="CPAN::shell(_$prompt,_$command_)_Starting_Interactive_Mode"><a class="permalink" href="#CPAN::shell(_$prompt,_$command_)_Starting_Interactive_Mode">CPAN::shell([$prompt,
  $command]) Starting Interactive Mode</a></h2>
<p class="Pp">Enter interactive mode by running</p>
<p class="Pp"></p>
<pre>
    perl -MCPAN -e shell
</pre>
<p class="Pp">or</p>
<p class="Pp"></p>
<pre>
    cpan
</pre>
<p class="Pp">which puts you into a readline interface. If
    <span class="Li">&quot;Term::ReadKey&quot;</span> and either of
    <span class="Li">&quot;Term::ReadLine::Perl&quot;</span> or
    <span class="Li">&quot;Term::ReadLine::Gnu&quot;</span> are installed,
    history and command completion are supported.</p>
<p class="Pp">Once at the command line, type
    <span class="Li">&quot;h&quot;</span> for one-page help screen; the rest
    should be self-explanatory.</p>
<p class="Pp">The function call <span class="Li">&quot;shell&quot;</span> takes
    two optional arguments: one the prompt, the second the default initial
    command line (the latter only works if a real ReadLine interface module is
    installed).</p>
<p class="Pp">The most common uses of the interactive modes are</p>
<dl class="Bl-tag">
  <dt id="Searching"><a class="permalink" href="#Searching">Searching for
    authors, bundles, distribution files and modules</a></dt>
  <dd>There are corresponding one-letter commands
      <span class="Li">&quot;a&quot;</span>,
      <span class="Li">&quot;b&quot;</span>,
      <span class="Li">&quot;d&quot;</span>, and
      <span class="Li">&quot;m&quot;</span> for each of the four categories and
      another, <span class="Li">&quot;i&quot;</span> for any of the mentioned
      four. Each of the four entities is implemented as a class with slightly
      differing methods for displaying an object.
    <p class="Pp">Arguments to these commands are either strings exactly
        matching the identification string of an object, or regular expressions
        matched case-insensitively against various attributes of the objects.
        The parser only recognizes a regular expression when you enclose it with
        slashes.</p>
    <p class="Pp">The principle is that the number of objects found influences
        how an item is displayed. If the search finds one item, the result is
        displayed with the rather verbose method
        <span class="Li">&quot;as_string&quot;</span>, but if more than one is
        found, each object is displayed with the terse method
        <span class="Li">&quot;as_glimpse&quot;</span>.</p>
    <p class="Pp">Examples:</p>
    <p class="Pp"></p>
    <pre>
  cpan&gt; m Acme::MetaSyntactic
  Module id = Acme::MetaSyntactic
      CPAN_USERID  BOOK (Philippe Bruhat (BooK) &lt;[...]&gt;)
      CPAN_VERSION 0.99
      CPAN_FILE    B/BO/BOOK/Acme-MetaSyntactic-0.99.tar.gz
      UPLOAD_DATE  2006-11-06
      MANPAGE      Acme::MetaSyntactic - Themed metasyntactic variables names
      INST_FILE    /usr/local/lib/perl/5.10.0/Acme/MetaSyntactic.pm
      INST_VERSION 0.99
  cpan&gt; a BOOK
  Author id = BOOK
      EMAIL        [...]
      FULLNAME     Philippe Bruhat (BooK)
  cpan&gt; d BOOK/Acme-MetaSyntactic-0.99.tar.gz
  Distribution id = B/BO/BOOK/Acme-MetaSyntactic-0.99.tar.gz
      CPAN_USERID  BOOK (Philippe Bruhat (BooK) &lt;[...]&gt;)
      CONTAINSMODS Acme::MetaSyntactic Acme::MetaSyntactic::Alias [...]
      UPLOAD_DATE  2006-11-06
  cpan&gt; m /lorem/
  Module  = Acme::MetaSyntactic::loremipsum (BOOK/Acme-MetaSyntactic-0.99.tar.gz)
  Module    Text::Lorem            (ADEOLA/Text-Lorem-0.3.tar.gz)
  Module    Text::Lorem::More      (RKRIMEN/Text-Lorem-More-0.12.tar.gz)
  Module    Text::Lorem::More::Source (RKRIMEN/Text-Lorem-More-0.12.tar.gz)
  cpan&gt; i /berlin/
  Distribution    BEATNIK/Filter-NumberLines-0.02.tar.gz
  Module  = DateTime::TimeZone::Europe::Berlin (DROLSKY/DateTime-TimeZone-0.7904.tar.gz)
  Module    Filter::NumberLines    (BEATNIK/Filter-NumberLines-0.02.tar.gz)
  Author          [...]
    </pre>
    <p class="Pp">The examples illustrate several aspects: the first three
        queries target modules, authors, or distros directly and yield exactly
        one result. The last two use regular expressions and yield several
        results. The last one targets all of bundles, modules, authors, and
        distros simultaneously. When more than one result is available, they are
        printed in one-line format.</p>
  </dd>
  <dt>&quot;get&quot;, &quot;make&quot;, &quot;test&quot;, &quot;install&quot;,
    &quot;clean&quot; modules or distributions</dt>
  <dd>These commands take any number of arguments and investigate what is
      necessary to perform the action. Argument processing is as follows:
    <p class="Pp"></p>
    <pre>
  known module name in format Foo/Bar.pm   module
  other embedded slash                     distribution
    - with trailing slash dot              directory
  enclosing slashes                        regexp
  known module name in format Foo::Bar     module
    </pre>
    <p class="Pp">If the argument is a distribution file name (recognized by
        embedded slashes), it is processed. If it is a module, CPAN determines
        the distribution file in which this module is included and processes
        that, following any dependencies named in the module's META.yml or
        Makefile.PL (this behavior is controlled by the configuration parameter
        <span class="Li">&quot;prerequisites_policy&quot;</span>). If an
        argument is enclosed in slashes it is treated as a regular expression:
        it is expanded and if the result is a single object (distribution,
        bundle or module), this object is processed.</p>
    <p class="Pp">Example:</p>
    <p class="Pp"></p>
    <pre>
    install Dummy::Perl                   # installs the module
    install AUXXX/Dummy-Perl-3.14.tar.gz  # installs that distribution
    install /Dummy-Perl-3.14/             # same if the regexp is unambiguous
    </pre>
    <p class="Pp"><span class="Li">&quot;get&quot;</span> downloads a
        distribution file and untars or unzips it,
        <span class="Li">&quot;make&quot;</span> builds it,
        <span class="Li">&quot;test&quot;</span> runs the test suite, and
        <span class="Li">&quot;install&quot;</span> installs it.</p>
    <p class="Pp">Any <span class="Li">&quot;make&quot;</span> or
        <span class="Li">&quot;test&quot;</span> is run unconditionally. An</p>
    <p class="Pp"></p>
    <pre>
  install &lt;distribution_file&gt;
    </pre>
    <p class="Pp">is also run unconditionally. But for</p>
    <p class="Pp"></p>
    <pre>
  install &lt;module&gt;
    </pre>
    <p class="Pp">CPAN checks whether an install is needed and prints <i>module
        up to date</i> if the distribution file containing the module doesn't
        need updating.</p>
    <p class="Pp">CPAN also keeps track of what it has done within the current
        session and doesn't try to build a package a second time regardless of
        whether it succeeded or not. It does not repeat a test run if the test
        has been run successfully before. Same for install runs.</p>
    <p class="Pp">The <span class="Li">&quot;force&quot;</span> pragma may
        precede another command (currently:
        <span class="Li">&quot;get&quot;</span>,
        <span class="Li">&quot;make&quot;</span>,
        <span class="Li">&quot;test&quot;</span>, or
        <span class="Li">&quot;install&quot;</span>) to execute the command from
        scratch and attempt to continue past certain errors. See the section
        below on the <span class="Li">&quot;force&quot;</span> and the
        <span class="Li">&quot;fforce&quot;</span> pragma.</p>
    <p class="Pp">The <span class="Li">&quot;notest&quot;</span> pragma skips
        the test part in the build process.</p>
    <p class="Pp">Example:</p>
    <p class="Pp"></p>
    <pre>
    cpan&gt; notest install Tk
    </pre>
    <p class="Pp">A <span class="Li">&quot;clean&quot;</span> command results in
        a</p>
    <p class="Pp"></p>
    <pre>
  make clean
    </pre>
    <p class="Pp">being executed within the distribution file's working
        directory.</p>
  </dd>
  <dt>&quot;readme&quot;, &quot;perldoc&quot;, &quot;look&quot; module or
    distribution</dt>
  <dd><span class="Li">&quot;readme&quot;</span> displays the README file of the
      associated distribution. <span class="Li">&quot;Look&quot;</span> gets and
      untars (if not yet done) the distribution file, changes to the appropriate
      directory and opens a subshell process in that directory.
      <span class="Li">&quot;perldoc&quot;</span> displays the module's pod
      documentation in html or plain text format.</dd>
  <dt>&quot;ls&quot; author</dt>
  <dd></dd>
  <dt>&quot;ls&quot; globbing_expression</dt>
  <dd>The first form lists all distribution files in and below an author's CPAN
      directory as stored in the CHECKSUMS files distributed on CPAN. The
      listing recurses into subdirectories.
    <p class="Pp">The second form limits or expands the output with shell
        globbing as in the following examples:</p>
    <p class="Pp"></p>
    <pre>
      ls JV/make*
      ls GSAR/*make*
      ls */*make*
    </pre>
    <p class="Pp">The last example is very slow and outputs extra progress
        indicators that break the alignment of the result.</p>
    <p class="Pp">Note that globbing only lists directories explicitly asked
        for, for example FOO/* will not list FOO/bar/Acme-Sthg-n.nn.tar.gz. This
        may be regarded as a bug that may be changed in some future version.</p>
  </dd>
  <dt>&quot;failed&quot;</dt>
  <dd>The <span class="Li">&quot;failed&quot;</span> command reports all
      distributions that failed on one of
      <span class="Li">&quot;make&quot;</span>,
      <span class="Li">&quot;test&quot;</span> or
      <span class="Li">&quot;install&quot;</span> for some reason in the
      currently running shell session.</dd>
  <dt id="Persistence"><a class="permalink" href="#Persistence">Persistence
    between sessions</a></dt>
  <dd>If the <span class="Li">&quot;YAML&quot;</span> or the
      <span class="Li">&quot;YAML::Syck&quot;</span> module is installed a
      record of the internal state of all modules is written to disk after each
      step. The files contain a signature of the currently running perl version
      for later perusal.
    <p class="Pp">If the configurations variable
        <span class="Li">&quot;build_dir_reuse&quot;</span> is set to a true
        value, then CPAN.pm reads the collected YAML files. If the stored
        signature matches the currently running perl, the stored state is loaded
        into memory such that persistence between sessions is effectively
        established.</p>
  </dd>
  <dt id="The"><a class="permalink" href="#The">The &quot;force&quot; and the
    &quot;fforce&quot; pragma</a></dt>
  <dd>To speed things up in complex installation scenarios, CPAN.pm keeps track
      of what it has already done and refuses to do some things a second time. A
      <span class="Li">&quot;get&quot;</span>, a
      <span class="Li">&quot;make&quot;</span>, and an
      <span class="Li">&quot;install&quot;</span> are not repeated. A
      <span class="Li">&quot;test&quot;</span> is repeated only if the previous
      test was unsuccessful. The diagnostic message when CPAN.pm refuses to do
      something a second time is one of <i>Has already been
      </i><span class="Li">&quot;unwrapped|made|tested successfully&quot;</span>
      or something similar. Another situation where CPAN refuses to act is an
      <span class="Li">&quot;install&quot;</span> if the corresponding
      <span class="Li">&quot;test&quot;</span> was not successful.
    <p class="Pp">In all these cases, the user can override this stubborn
        behaviour by prepending the command with the word force, for
      example:</p>
    <p class="Pp"></p>
    <pre>
  cpan&gt; force get Foo
  cpan&gt; force make AUTHOR/Bar-3.14.tar.gz
  cpan&gt; force test Baz
  cpan&gt; force install Acme::Meta
    </pre>
    <p class="Pp">Each <i>forced</i> command is executed with the corresponding
        part of its memory erased.</p>
    <p class="Pp">The <span class="Li">&quot;fforce&quot;</span> pragma is a
        variant that emulates a <span class="Li">&quot;force get&quot;</span>
        which erases the entire memory followed by the action specified,
        effectively restarting the whole get/make/test/install procedure from
        scratch.</p>
  </dd>
  <dt id="Lockfile"><a class="permalink" href="#Lockfile">Lockfile</a></dt>
  <dd>Interactive sessions maintain a lockfile, by default
      <span class="Li">&quot;~/.cpan/.lock&quot;</span>. Batch jobs can run
      without a lockfile and not disturb each other.
    <p class="Pp">The shell offers to run in <i>downgraded mode</i> when another
        process is holding the lockfile. This is an experimental feature that is
        not yet tested very well. This second shell then does not write the
        history file, does not use the metadata file, and has a different
        prompt.</p>
  </dd>
  <dt id="Signals"><a class="permalink" href="#Signals">Signals</a></dt>
  <dd>CPAN.pm installs signal handlers for SIGINT and SIGTERM. While you are in
      the cpan-shell, it is intended that you can press
      <span class="Li">&quot;^C&quot;</span> anytime and return to the
      cpan-shell prompt. A SIGTERM will cause the cpan-shell to clean up and
      leave the shell loop. You can emulate the effect of a SIGTERM by sending
      two consecutive SIGINTs, which usually means by pressing
      <span class="Li">&quot;^C&quot;</span> twice.
    <p class="Pp">CPAN.pm ignores SIGPIPE. If the user sets
        <span class="Li">&quot;inactivity_timeout&quot;</span>, a SIGALRM is
        used during the run of the <span class="Li">&quot;perl
        Makefile.PL&quot;</span> or <span class="Li">&quot;perl</span>
        <span class="Li">Build.PL&quot;</span> subprocess. A SIGALRM is also
        used during module version parsing, and is controlled by
        <span class="Li">&quot;version_timeout&quot;</span>.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="CPAN::Shell"><a class="permalink" href="#CPAN::Shell">CPAN::Shell</a></h2>
<p class="Pp">The commands available in the shell interface are methods in the
    package CPAN::Shell. If you enter the shell command, your input is split by
    the <b>Text::ParseWords::shellwords()</b> routine, which acts like most
    shells do. The first word is interpreted as the method to be invoked, and
    the rest of the words are treated as the method's arguments. Continuation
    lines are supported by ending a line with a literal backslash.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="autobundle"><a class="permalink" href="#autobundle">autobundle</a></h2>
<p class="Pp"><span class="Li">&quot;autobundle&quot;</span> writes a bundle
    file into the
    <span class="Li">&quot;$CPAN::Config-&gt;{cpan_home}/Bundle&quot;</span>
    directory. The file contains a list of all modules that are both available
    from CPAN and currently installed within <span class="Li">@INC</span>.
    Duplicates of each distribution are suppressed. The name of the bundle file
    is based on the current date and a counter, e.g.
    <i>Bundle/Snapshot_2012_05_21_00.pm</i>. This is installed again by running
    <span class="Li">&quot;cpan Bundle::Snapshot_2012_05_21_00&quot;</span>, or
    installing
    <span class="Li">&quot;Bundle::Snapshot_2012_05_21_00&quot;</span> from the
    CPAN shell.</p>
<p class="Pp">Return value: path to the written file.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="hosts"><a class="permalink" href="#hosts">hosts</a></h2>
<p class="Pp">Note: this feature is still in alpha state and may change in
    future versions of CPAN.pm</p>
<p class="Pp">This commands provides a statistical overview over recent download
    activities. The data for this is collected in the YAML file
    <span class="Li">&quot;FTPstats.yml&quot;</span> in your
    <span class="Li">&quot;cpan_home&quot;</span> directory. If no YAML module
    is configured or YAML not installed, no stats are provided.</p>
<dl class="Bl-tag">
  <dt id="install_tested"><a class="permalink" href="#install_tested">install_tested</a></dt>
  <dd>Install all distributions that have been tested successfully but have not
      yet been installed. See also
      <span class="Li">&quot;is_tested&quot;</span>.</dd>
  <dt id="is_tested"><a class="permalink" href="#is_tested">is_tested</a></dt>
  <dd>List all build directories of distributions that have been tested
      successfully but have not yet been installed. See also
      <span class="Li">&quot;install_tested&quot;</span>.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="mkmyconfig"><a class="permalink" href="#mkmyconfig">mkmyconfig</a></h2>
<p class="Pp"><b>mkmyconfig()</b> writes your own CPAN::MyConfig file into your
    <span class="Li">&quot;~/.cpan/&quot;</span> directory so that you can save
    your own preferences instead of the system-wide ones.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="r__Module_/Regexp/_..."><a class="permalink" href="#r__Module_/Regexp/_...">r
  [Module|/Regexp/]...</a></h2>
<p class="Pp">scans current perl installation for modules that have a newer
    version available on CPAN and provides a list of them. If called without
    argument, all potential upgrades are listed; if called with arguments the
    list is filtered to the modules and regexps given as arguments.</p>
<p class="Pp">The listing looks something like this:</p>
<p class="Pp"></p>
<pre>
  Package namespace         installed    latest  in CPAN file
  CPAN                        1.94_64    1.9600  ANDK/CPAN-1.9600.tar.gz
  CPAN::Reporter               1.1801    1.1902  DAGOLDEN/CPAN-Reporter-1.1902.tar.gz
  YAML                           0.70      0.73  INGY/YAML-0.73.tar.gz
  YAML::Syck                     1.14      1.17  AVAR/YAML-Syck-1.17.tar.gz
  YAML::Tiny                     1.44      1.50  ADAMK/YAML-Tiny-1.50.tar.gz
  CGI                            3.43      3.55  MARKSTOS/CGI.pm-3.55.tar.gz
  Module::Build::YAML            1.40      1.41  DAGOLDEN/Module-Build-0.3800.tar.gz
  TAP::Parser::Result::YAML      3.22      3.23  ANDYA/Test-Harness-3.23.tar.gz
  YAML::XS                       0.34      0.35  INGY/YAML-LibYAML-0.35.tar.gz
</pre>
<p class="Pp">It suppresses duplicates in the column <span class="Li">&quot;in
    CPAN file&quot;</span> such that distributions with many upgradeable modules
    are listed only once.</p>
<p class="Pp">Note that the list is not sorted.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="recent_***EXPERIMENTAL_COMMAND***"><a class="permalink" href="#recent_***EXPERIMENTAL_COMMAND***">recent
  ***EXPERIMENTAL COMMAND***</a></h2>
<p class="Pp">The <span class="Li">&quot;recent&quot;</span> command downloads a
    list of recent uploads to CPAN and displays them <i>slowly</i>. While the
    command is running, a <span class="Li">$SIG</span>{INT} exits the loop after
    displaying the current item.</p>
<p class="Pp"><b>Note</b>: This command requires XML::LibXML installed.</p>
<p class="Pp"><b>Note</b>: This whole command currently is just a hack and will
    probably change in future versions of CPAN.pm, but the general approach will
    likely remain.</p>
<p class="Pp"><b>Note</b>: See also smoke</p>
</section>
<section class="Ss">
<h2 class="Ss" id="recompile"><a class="permalink" href="#recompile">recompile</a></h2>
<p class="Pp"><b>recompile()</b> is a special command that takes no argument and
    runs the make/test/install cycle with brute force over all installed
    dynamically loadable extensions (a.k.a. XS modules) with 'force' in effect.
    The primary purpose of this command is to finish a network installation.
    Imagine you have a common source tree for two different architectures. You
    decide to do a completely independent fresh installation. You start on one
    architecture with the help of a Bundle file produced earlier. CPAN installs
    the whole Bundle for you, but when you try to repeat the job on the second
    architecture, CPAN responds with a <span class="Li">&quot;Foo up to
    date&quot;</span> message for all modules. So you invoke CPAN's recompile on
    the second architecture and you're done.</p>
<p class="Pp">Another popular use for
    <span class="Li">&quot;recompile&quot;</span> is to act as a rescue in case
    your perl breaks binary compatibility. If one of the modules that CPAN uses
    is in turn depending on binary compatibility (so you cannot run CPAN
    commands), then you should try the CPAN::Nox module for recovery.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="report_Bundle_Distribution_Module"><a class="permalink" href="#report_Bundle_Distribution_Module">report
  Bundle|Distribution|Module</a></h2>
<p class="Pp">The <span class="Li">&quot;report&quot;</span> command temporarily
    turns on the <span class="Li">&quot;test_report&quot;</span> config
    variable, then runs the <span class="Li">&quot;force test&quot;</span>
    command with the given arguments. The
    <span class="Li">&quot;force&quot;</span> pragma reruns the tests and
    repeats every step that might have failed before.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="smoke_***EXPERIMENTAL_COMMAND***"><a class="permalink" href="#smoke_***EXPERIMENTAL_COMMAND***">smoke
  ***EXPERIMENTAL COMMAND***</a></h2>
<p class="Pp"><b>*** WARNING: this command downloads and executes software from
    CPAN to</b> <b>your computer of completely unknown status. You should never
    do</b> <b>this with your normal account and better have a dedicated well</b>
    <b>separated and secured machine to do this. ***</b></p>
<p class="Pp">The <span class="Li">&quot;smoke&quot;</span> command takes the
    list of recent uploads to CPAN as provided by the
    <span class="Li">&quot;recent&quot;</span> command and tests them all. While
    the command is running <span class="Li">$SIG</span>{INT} is defined to mean
    that the current item shall be skipped.</p>
<p class="Pp"><b>Note</b>: This whole command currently is just a hack and will
    probably change in future versions of CPAN.pm, but the general approach will
    likely remain.</p>
<p class="Pp"><b>Note</b>: See also recent</p>
</section>
<section class="Ss">
<h2 class="Ss" id="upgrade__Module_/Regexp/_..."><a class="permalink" href="#upgrade__Module_/Regexp/_...">upgrade
  [Module|/Regexp/]...</a></h2>
<p class="Pp">The <span class="Li">&quot;upgrade&quot;</span> command first runs
    an <span class="Li">&quot;r&quot;</span> command with the given arguments
    and then installs the newest versions of all modules that were listed by
    that.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="The_four__CPAN::*__Classes:_Author,_Bundle,_Module,_Distribution"><a class="permalink" href="#The_four__CPAN::*__Classes:_Author,_Bundle,_Module,_Distribution">The
  four &quot;CPAN::*&quot; Classes: Author, Bundle, Module,
  Distribution</a></h2>
<p class="Pp">Although it may be considered internal, the class hierarchy does
    matter for both users and programmer. CPAN.pm deals with the four classes
    mentioned above, and those classes all share a set of methods. Classical
    single polymorphism is in effect. A metaclass object registers all objects
    of all kinds and indexes them with a string. The strings referencing objects
    have a separated namespace (well, not completely separated):</p>
<p class="Pp"></p>
<pre>
         Namespace                         Class

   words containing a &quot;/&quot; (slash)      Distribution
    words starting with Bundle::          Bundle
          everything else            Module or Author
</pre>
<p class="Pp">Modules know their associated Distribution objects. They always
    refer to the most recent official release. Developers may mark their
    releases as unstable development versions (by inserting an underscore into
    the module version number which will also be reflected in the distribution
    name when you run 'make dist'), so the really hottest and newest
    distribution is not always the default. If a module Foo circulates on CPAN
    in both version 1.23 and 1.23_90, CPAN.pm offers a convenient way to install
    version 1.23 by saying</p>
<p class="Pp"></p>
<pre>
    install Foo
</pre>
<p class="Pp">This would install the complete distribution file (say
    BAR/Foo-1.23.tar.gz) with all accompanying material. But if you would like
    to install version 1.23_90, you need to know where the distribution file
    resides on CPAN relative to the authors/id/ directory. If the author is BAR,
    this might be BAR/Foo-1.23_90.tar.gz; so you would have to say</p>
<p class="Pp"></p>
<pre>
    install BAR/Foo-1.23_90.tar.gz
</pre>
<p class="Pp">The first example will be driven by an object of the class
    CPAN::Module, the second by an object of class CPAN::Distribution.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Integrating_local_directories"><a class="permalink" href="#Integrating_local_directories">Integrating
  local directories</a></h2>
<p class="Pp">Note: this feature is still in alpha state and may change in
    future versions of CPAN.pm</p>
<p class="Pp">Distribution objects are normally distributions from the CPAN, but
    there is a slightly degenerate case for Distribution objects, too, of
    projects held on the local disk. These distribution objects have the same
    name as the local directory and end with a dot. A dot by itself is also
    allowed for the current directory at the time CPAN.pm was used. All actions
    such as <span class="Li">&quot;make&quot;</span>,
    <span class="Li">&quot;test&quot;</span>, and
    <span class="Li">&quot;install&quot;</span> are applied directly to that
    directory. This gives the command <span class="Li">&quot;cpan .&quot;</span>
    an interesting touch: while the normal mantra of installing a CPAN module
    without CPAN.pm is one of</p>
<p class="Pp"></p>
<pre>
    perl Makefile.PL                 perl Build.PL
           ( go and get prerequisites )
    make                             ./Build
    make test                        ./Build test
    make install                     ./Build install
</pre>
<p class="Pp">the command <span class="Li">&quot;cpan .&quot;</span> does all of
    this at once. It figures out which of the two mantras is appropriate,
    fetches and installs all prerequisites, takes care of them recursively, and
    finally finishes the installation of the module in the current directory, be
    it a CPAN module or not.</p>
<p class="Pp">The typical usage case is for private modules or working copies of
    projects from remote repositories on the local disk.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Redirection"><a class="permalink" href="#Redirection">Redirection</a></h2>
<p class="Pp">The usual shell redirection symbols <span class="Li">&quot; |
    &quot;</span> and <span class="Li">&quot;&gt;&quot;</span> are recognized by
    the cpan shell <b>only when surrounded by whitespace</b>. So piping to pager
    or redirecting output into a file works somewhat as in a normal shell, with
    the stipulation that you must type extra spaces.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Plugin_support_***EXPERIMENTAL***"><a class="permalink" href="#Plugin_support_***EXPERIMENTAL***">Plugin
  support ***EXPERIMENTAL***</a></h2>
<p class="Pp">Plugins are objects that implement any of currently eight
  methods:</p>
<p class="Pp"></p>
<pre>
  pre_get
  post_get
  pre_make
  post_make
  pre_test
  post_test
  pre_install
  post_install
</pre>
<p class="Pp">The <span class="Li">&quot;plugin_list&quot;</span> configuration
    parameter holds a list of strings of the form</p>
<p class="Pp"></p>
<pre>
  Modulename=arg0,arg1,arg2,arg3,...
</pre>
<p class="Pp">eg:</p>
<p class="Pp"></p>
<pre>
  CPAN::Plugin::Flurb=dir,/opt/pkgs/flurb/raw,verbose,1
</pre>
<p class="Pp">At run time, each listed plugin is instantiated as a singleton
    object by running the equivalent of this pseudo code:</p>
<p class="Pp"></p>
<pre>
  my $plugin = &lt;string representation from config&gt;;
  &lt;generate Modulename and arguments from $plugin&gt;;
  my $p = $instance{$plugin} ||= Modulename-&gt;new($arg0,$arg1,...);
</pre>
<p class="Pp">The generated singletons are kept around from instantiation until
    the end of the shell session. &lt;plugin_list&gt; can be reconfigured at any
    time at run time. While the cpan shell is running, it checks all activated
    plugins at each of the 8 reference points listed above and runs the
    respective method if it is implemented for that object. The method is called
    with the active CPAN::Distribution object passed in as an argument.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="CONFIGURATION"><a class="permalink" href="#CONFIGURATION">CONFIGURATION</a></h1>
<p class="Pp">When the CPAN module is used for the first time, a configuration
    dialogue tries to determine a couple of site specific options. The result of
    the dialog is stored in a hash reference <span class="Li"> $CPAN::Config
    </span> in a file CPAN/Config.pm.</p>
<p class="Pp">Default values defined in the CPAN/Config.pm file can be
    overridden in a user specific file: CPAN/MyConfig.pm. Such a file is best
    placed in <span class="Li">&quot;$HOME/.cpan/CPAN/MyConfig.pm&quot;</span>,
    because <span class="Li">&quot;$HOME/.cpan&quot;</span> is added to the
    search path of the CPAN module before the <b>use()</b> or <b>require()</b>
    statements. The mkmyconfig command writes this file for you.</p>
<p class="Pp">The <span class="Li">&quot;o conf&quot;</span> command has various
    bells and whistles:</p>
<dl class="Bl-tag">
  <dt id="completion"><a class="permalink" href="#completion">completion
    support</a></dt>
  <dd>If you have a ReadLine module installed, you can hit TAB at any point of
      the commandline and <span class="Li">&quot;o conf&quot;</span> will offer
      you completion for the built-in subcommands and/or config variable
    names.</dd>
  <dt id="displaying"><a class="permalink" href="#displaying">displaying some
    help: o conf help</a></dt>
  <dd>Displays a short help</dd>
  <dt id="displaying~2"><a class="permalink" href="#displaying~2">displaying
    current values: o conf [KEY]</a></dt>
  <dd>Displays the current value(s) for this config variable. Without KEY,
      displays all subcommands and config variables.
    <p class="Pp">Example:</p>
    <p class="Pp"></p>
    <pre>
  o conf shell
    </pre>
    <p class="Pp">If KEY starts and ends with a slash, the string in between is
        treated as a regular expression and only keys matching this regexp are
        displayed</p>
    <p class="Pp">Example:</p>
    <p class="Pp"></p>
    <pre>
  o conf /color/
    </pre>
  </dd>
  <dt id="changing"><a class="permalink" href="#changing">changing of scalar
    values: o conf KEY VALUE</a></dt>
  <dd>Sets the config variable KEY to VALUE. The empty string can be specified
      as usual in shells, with <span class="Li">''</span> or
      <span class="Li">&quot;&quot;</span>
    <p class="Pp">Example:</p>
    <p class="Pp"></p>
    <pre>
  o conf wget /usr/bin/wget
    </pre>
  </dd>
  <dt id="changing~2"><a class="permalink" href="#changing~2">changing of list
    values: o conf KEY SHIFT|UNSHIFT|PUSH|POP|SPLICE|LIST</a></dt>
  <dd>If a config variable name ends with
      <span class="Li">&quot;list&quot;</span>, it is a list.
      <span class="Li">&quot;o conf</span> <span class="Li">KEY
      shift&quot;</span> removes the first element of the list,
      <span class="Li">&quot;o conf KEY pop&quot;</span> removes the last
      element of the list. <span class="Li">&quot;o conf KEYS unshift
      LIST&quot;</span> prepends a list of values to the list,
      <span class="Li">&quot;o conf KEYS push LIST&quot;</span> appends a list
      of valued to the list.
    <p class="Pp">Likewise, <span class="Li">&quot;o conf KEY splice
        LIST&quot;</span> passes the LIST to the corresponding splice
      command.</p>
    <p class="Pp">Finally, any other list of arguments is taken as a new list
        value for the KEY variable discarding the previous value.</p>
    <p class="Pp">Examples:</p>
    <p class="Pp"></p>
    <pre>
  o conf urllist unshift http://cpan.dev.local/CPAN
  o conf urllist splice 3 1
  o conf urllist http://cpan1.local http://cpan2.local ftp://ftp.perl.org
    </pre>
  </dd>
  <dt id="reverting"><a class="permalink" href="#reverting">reverting to saved:
    o conf defaults</a></dt>
  <dd>Reverts all config variables to the state in the saved config file.</dd>
  <dt id="saving"><a class="permalink" href="#saving">saving the config: o conf
    commit</a></dt>
  <dd>Saves all config variables to the current config file (CPAN/Config.pm or
      CPAN/MyConfig.pm that was loaded at start).</dd>
</dl>
<p class="Pp">The configuration dialog can be started any time later again by
    issuing the command <span class="Li">&quot; o conf init &quot;</span> in the
    CPAN shell. A subset of the configuration dialog can be run by issuing
    <span class="Li">&quot;o conf init WORD&quot;</span> where WORD is any valid
    config variable or a regular expression.</p>
<section class="Ss">
<h2 class="Ss" id="Config_Variables"><a class="permalink" href="#Config_Variables">Config
  Variables</a></h2>
<p class="Pp">The following keys in the hash reference
    <span class="Li">$CPAN::Config</span> are currently defined:</p>
<p class="Pp"></p>
<pre>
  applypatch         path to external prg
  auto_commit        commit all changes to config variables to disk
  build_cache        size of cache for directories to build modules
  build_dir          locally accessible directory to build modules
  build_dir_reuse    boolean if distros in build_dir are persistent
  build_requires_install_policy
                     to install or not to install when a module is
                     only needed for building. yes|no|ask/yes|ask/no
  bzip2              path to external prg
  cache_metadata     use serializer to cache metadata
  check_sigs         if signatures should be verified
  cleanup_after_install
                     remove build directory immediately after a
                     successful install
  colorize_debug     Term::ANSIColor attributes for debugging output
  colorize_output    boolean if Term::ANSIColor should colorize output
  colorize_print     Term::ANSIColor attributes for normal output
  colorize_warn      Term::ANSIColor attributes for warnings
  commandnumber_in_prompt
                     boolean if you want to see current command number
  commands_quote     preferred character to use for quoting external
                     commands when running them. Defaults to double
                     quote on Windows, single tick everywhere else;
                     can be set to space to disable quoting
  connect_to_internet_ok
                     whether to ask if opening a connection is ok before
                     urllist is specified
  cpan_home          local directory reserved for this package
  curl               path to external prg
  dontload_hash      DEPRECATED
  dontload_list      arrayref: modules in the list will not be
                     loaded by the CPAN::has_inst() routine
  ftp                path to external prg
  ftp_passive        if set, the environment variable FTP_PASSIVE is set
                     for downloads
  ftp_proxy          proxy host for ftp requests
  ftpstats_period    max number of days to keep download statistics
  ftpstats_size      max number of items to keep in the download statistics
  getcwd             see below
  gpg                path to external prg
  gzip               location of external program gzip
  halt_on_failure    stop processing after the first failure of queued
                     items or dependencies
  histfile           file to maintain history between sessions
  histsize           maximum number of lines to keep in histfile
  http_proxy         proxy host for http requests
  inactivity_timeout breaks interactive Makefile.PLs or Build.PLs
                     after this many seconds inactivity. Set to 0 to
                     disable timeouts.
  index_expire       refetch index files after this many days
  inhibit_startup_message
                     if true, suppress the startup message
  keep_source_where  directory in which to keep the source (if we do)
  load_module_verbosity
                     report loading of optional modules used by CPAN.pm
  lynx               path to external prg
  make               location of external make program
  make_arg           arguments that should always be passed to 'make'
  make_install_make_command
                     the make command for running 'make install', for
                     example 'sudo make'
  make_install_arg   same as make_arg for 'make install'
  makepl_arg         arguments passed to 'perl Makefile.PL'
  mbuild_arg         arguments passed to './Build'
  mbuild_install_arg arguments passed to './Build install'
  mbuild_install_build_command
                     command to use instead of './Build' when we are
                     in the install stage, for example 'sudo ./Build'
  mbuildpl_arg       arguments passed to 'perl Build.PL'
  ncftp              path to external prg
  ncftpget           path to external prg
  no_proxy           don't proxy to these hosts/domains (comma separated list)
  pager              location of external program more (or any pager)
  password           your password if you CPAN server wants one
  patch              path to external prg
  patches_dir        local directory containing patch files
  perl5lib_verbosity verbosity level for PERL5LIB additions
  plugin_list        list of active hooks (see Plugin support above
                     and the CPAN::Plugin module)
  prefer_external_tar
                     per default all untar operations are done with
                     Archive::Tar; by setting this variable to true
                     the external tar command is used if available
  prefer_installer   legal values are MB and EUMM: if a module comes
                     with both a Makefile.PL and a Build.PL, use the
                     former (EUMM) or the latter (MB); if the module
                     comes with only one of the two, that one will be
                     used no matter the setting
  prerequisites_policy
                     what to do if you are missing module prerequisites
                     ('follow' automatically, 'ask' me, or 'ignore')
                     For 'follow', also sets PERL_AUTOINSTALL and
                     PERL_EXTUTILS_AUTOINSTALL for &quot;--defaultdeps&quot; if
                     not already set
  prefs_dir          local directory to store per-distro build options
  proxy_user         username for accessing an authenticating proxy
  proxy_pass         password for accessing an authenticating proxy
  randomize_urllist  add some randomness to the sequence of the urllist
  recommends_policy  whether recommended prerequisites should be included
  scan_cache         controls scanning of cache ('atstart', 'atexit' or 'never')
  shell              your favorite shell
  show_unparsable_versions
                     boolean if r command tells which modules are versionless
  show_upload_date   boolean if commands should try to determine upload date
  show_zero_versions boolean if r command tells for which modules $version==0
  suggests_policy    whether suggested prerequisites should be included
  tar                location of external program tar
  tar_verbosity      verbosity level for the tar command
  term_is_latin      deprecated: if true Unicode is translated to ISO-8859-1
                     (and nonsense for characters outside latin range)
  term_ornaments     boolean to turn ReadLine ornamenting on/off
  test_report        email test reports (if CPAN::Reporter is installed)
  trust_test_report_history
                     skip testing when previously tested ok (according to
                     CPAN::Reporter history)
  unzip              location of external program unzip
  urllist            arrayref to nearby CPAN sites (or equivalent locations)
  use_prompt_default set PERL_MM_USE_DEFAULT for configure/make/test/install
  use_sqlite         use CPAN::SQLite for metadata storage (fast and lean)
  username           your username if you CPAN server wants one
  version_timeout    stops version parsing after this many seconds.
                     Default is 15 secs. Set to 0 to disable.
  wait_list          arrayref to a wait server to try (See CPAN::WAIT)
  wget               path to external prg
  yaml_load_code     enable YAML code deserialisation via CPAN::DeferredCode
  yaml_module        which module to use to read/write YAML files
</pre>
<p class="Pp">You can set and query each of these options interactively in the
    cpan shell with the <span class="Li">&quot;o conf&quot;</span> or the
    <span class="Li">&quot;o conf init&quot;</span> command as specified
  below.</p>
<dl class="Bl-tag">
  <dt>&quot;o conf &lt;scalar option&gt;&quot;</dt>
  <dd>prints the current value of the <i>scalar option</i></dd>
  <dt>&quot;o conf &lt;scalar option&gt; &lt;value&gt;&quot;</dt>
  <dd>Sets the value of the <i>scalar option</i> to <i>value</i></dd>
  <dt>&quot;o conf &lt;list option&gt;&quot;</dt>
  <dd>prints the current value of the <i>list option</i> in MakeMaker's
      neatvalue format.</dd>
  <dt>&quot;o conf &lt;list option&gt; [shift|pop]&quot;</dt>
  <dd>shifts or pops the array in the <i>list option</i> variable</dd>
  <dt>&quot;o conf &lt;list option&gt; [unshift|push|splice]
    &lt;list&gt;&quot;</dt>
  <dd>works like the corresponding perl commands.</dd>
  <dt id="interactive"><a class="permalink" href="#interactive">interactive
    editing: o conf init [MATCH|LIST]</a></dt>
  <dd>Runs an interactive configuration dialog for matching variables. Without
      argument runs the dialog over all supported config variables. To specify a
      MATCH the argument must be enclosed by slashes.
    <p class="Pp">Examples:</p>
    <p class="Pp"></p>
    <pre>
  o conf init ftp_passive ftp_proxy
  o conf init /color/
    </pre>
    <p class="Pp">Note: this method of setting config variables often provides
        more explanation about the functioning of a variable than the
      manpage.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="CPAN::anycwd($path):_Note_on_config_variable_getcwd"><a class="permalink" href="#CPAN::anycwd($path):_Note_on_config_variable_getcwd">CPAN::anycwd($path):
  Note on config variable getcwd</a></h2>
<p class="Pp">CPAN.pm changes the current working directory often and needs to
    determine its own current working directory. By default it uses Cwd::cwd,
    but if for some reason this doesn't work on your system, configure
    alternatives according to the following table:</p>
<dl class="Bl-tag">
  <dt id="cwd"><a class="permalink" href="#cwd">cwd</a></dt>
  <dd>Calls Cwd::cwd</dd>
  <dt id="getcwd"><a class="permalink" href="#getcwd">getcwd</a></dt>
  <dd>Calls Cwd::getcwd</dd>
  <dt id="fastcwd"><a class="permalink" href="#fastcwd">fastcwd</a></dt>
  <dd>Calls Cwd::fastcwd</dd>
  <dt id="getdcwd"><a class="permalink" href="#getdcwd">getdcwd</a></dt>
  <dd>Calls Cwd::getdcwd</dd>
  <dt id="backtickcwd"><a class="permalink" href="#backtickcwd">backtickcwd</a></dt>
  <dd>Calls the external command cwd.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Note_on_the_format_of_the_urllist_parameter"><a class="permalink" href="#Note_on_the_format_of_the_urllist_parameter">Note
  on the format of the urllist parameter</a></h2>
<p class="Pp">urllist parameters are URLs according to RFC 1738. We do a little
    guessing if your URL is not compliant, but if you have problems with
    <span class="Li">&quot;file&quot;</span> URLs, please try the correct
    format. Either:</p>
<p class="Pp"></p>
<pre>
    file://localhost/whatever/ftp/pub/CPAN/
</pre>
<p class="Pp">or</p>
<p class="Pp"></p>
<pre>
    file:///home/ftp/pub/CPAN/
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="The_urllist_parameter_has_CD-ROM_support"><a class="permalink" href="#The_urllist_parameter_has_CD-ROM_support">The
  urllist parameter has CD-ROM support</a></h2>
<p class="Pp">The <span class="Li">&quot;urllist&quot;</span> parameter of the
    configuration table contains a list of URLs used for downloading. If the
    list contains any <span class="Li">&quot;file&quot;</span> URLs, CPAN always
    tries there first. This feature is disabled for index files. So the
    recommendation for the owner of a CD-ROM with CPAN contents is: include your
    local, possibly outdated CD-ROM as a
    <span class="Li">&quot;file&quot;</span> URL at the end of urllist, e.g.</p>
<p class="Pp"></p>
<pre>
  o conf urllist push file://localhost/CDROM/CPAN
</pre>
<p class="Pp">CPAN.pm will then fetch the index files from one of the CPAN sites
    that come at the beginning of urllist. It will later check for each module
    to see whether there is a local copy of the most recent version.</p>
<p class="Pp">Another peculiarity of urllist is that the site that we could
    successfully fetch the last file from automatically gets a preference token
    and is tried as the first site for the next request. So if you add a new
    site at runtime it may happen that the previously preferred site will be
    tried another time. This means that if you want to disallow a site for the
    next transfer, it must be explicitly removed from urllist.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Maintaining_the_urllist_parameter"><a class="permalink" href="#Maintaining_the_urllist_parameter">Maintaining
  the urllist parameter</a></h2>
<p class="Pp">If you have YAML.pm (or some other YAML module configured in
    <span class="Li">&quot;yaml_module&quot;</span>) installed, CPAN.pm collects
    a few statistical data about recent downloads. You can view the statistics
    with the <span class="Li">&quot;hosts&quot;</span> command or inspect them
    directly by looking into the
    <span class="Li">&quot;FTPstats.yml&quot;</span> file in your
    <span class="Li">&quot;cpan_home&quot;</span> directory.</p>
<p class="Pp">To get some interesting statistics, it is recommended that
    <span class="Li">&quot;randomize_urllist&quot;</span> be set; this
    introduces some amount of randomness into the URL selection.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="The__requires__and__build_requires__dependency_declarations"><a class="permalink" href="#The__requires__and__build_requires__dependency_declarations">The
  &quot;requires&quot; and &quot;build_requires&quot; dependency
  declarations</a></h2>
<p class="Pp">Since CPAN.pm version 1.88_51 modules declared as
    <span class="Li">&quot;build_requires&quot;</span> by a distribution are
    treated differently depending on the config variable
    <span class="Li">&quot;build_requires_install_policy&quot;</span>. By
    setting <span class="Li">&quot;build_requires_install_policy&quot;</span> to
    <span class="Li">&quot;no&quot;</span>, such a module is not installed. It
    is only built and tested, and then kept in the list of tested but
    uninstalled modules. As such, it is available during the build of the
    dependent module by integrating the path to the
    <span class="Li">&quot;blib/arch&quot;</span> and
    <span class="Li">&quot;blib/lib&quot;</span> directories in the environment
    variable PERL5LIB. If
    <span class="Li">&quot;build_requires_install_policy&quot;</span> is set ti
    <span class="Li">&quot;yes&quot;</span>, then both modules declared as
    <span class="Li">&quot;requires&quot;</span> and those declared as
    <span class="Li">&quot;build_requires&quot;</span> are treated alike. By
    setting to <span class="Li">&quot;ask/yes&quot;</span> or
    <span class="Li">&quot;ask/no&quot;</span>, CPAN.pm asks the user and sets
    the default accordingly.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Configuration_for_individual_distributions_("><a class="permalink" href="#Configuration_for_individual_distributions_(">Configuration
  for individual distributions (<i>Distroprefs</i>)</a></h2>
<p class="Pp">(<b>Note:</b> This feature has been introduced in CPAN.pm
  1.8854)</p>
<p class="Pp">Distributions on CPAN usually behave according to what we call the
    CPAN mantra. Or since the advent of Module::Build we should talk about two
    mantras:</p>
<p class="Pp"></p>
<pre>
    perl Makefile.PL     perl Build.PL
    make                 ./Build
    make test            ./Build test
    make install         ./Build install
</pre>
<p class="Pp">But some modules cannot be built with this mantra. They try to get
    some extra data from the user via the environment, extra arguments, or
    interactively--thus disturbing the installation of large bundles like
    Phalanx100 or modules with many dependencies like Plagger.</p>
<p class="Pp">The distroprefs system of
    <span class="Li">&quot;CPAN.pm&quot;</span> addresses this problem by
    allowing the user to specify extra informations and recipes in YAML files to
    either</p>
<ul class="Bl-bullet">
  <li>pass additional arguments to one of the four commands,</li>
  <li>set environment variables</li>
  <li>instantiate an Expect object that reads from the console, waits for some
      regular expressions and enters some answers</li>
  <li>temporarily override assorted <span class="Li">&quot;CPAN.pm&quot;</span>
      configuration variables</li>
  <li>specify dependencies the original maintainer forgot</li>
  <li>disable the installation of an object altogether</li>
</ul>
<p class="Pp">See the YAML and Data::Dumper files that come with the
    <span class="Li">&quot;CPAN.pm&quot;</span> distribution in the
    <span class="Li">&quot;distroprefs/&quot;</span> directory for examples.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Filenames"><a class="permalink" href="#Filenames">Filenames</a></h2>
<p class="Pp">The YAML files themselves must have the
    <span class="Li">&quot;.yml&quot;</span> extension; all other files are
    ignored (for two exceptions see <i>Fallback Data::Dumper and</i>
    <i>Storable</i> below). The containing directory can be specified in
    <span class="Li">&quot;CPAN.pm&quot;</span> in the
    <span class="Li">&quot;prefs_dir&quot;</span> config variable. Try
    <span class="Li">&quot;o conf init</span>
    <span class="Li">prefs_dir&quot;</span> in the CPAN shell to set and
    activate the distroprefs system.</p>
<p class="Pp">Every YAML file may contain arbitrary documents according to the
    YAML specification, and every document is treated as an entity that can
    specify the treatment of a single distribution.</p>
<p class="Pp">Filenames can be picked arbitrarily;
    <span class="Li">&quot;CPAN.pm&quot;</span> always reads all files (in
    alphabetical order) and takes the key
    <span class="Li">&quot;match&quot;</span> (see below in <i>Language
    Specs</i>) as a hashref containing match criteria that determine if the
    current distribution matches the YAML document or not.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Fallback_Data::Dumper_and_Storable"><a class="permalink" href="#Fallback_Data::Dumper_and_Storable">Fallback
  Data::Dumper and Storable</a></h2>
<p class="Pp">If neither your configured
    <span class="Li">&quot;yaml_module&quot;</span> nor YAML.pm is installed,
    CPAN.pm falls back to using Data::Dumper and Storable and looks for files
    with the extensions <span class="Li">&quot;.dd&quot;</span> or
    <span class="Li">&quot;.st&quot;</span> in the
    <span class="Li">&quot;prefs_dir&quot;</span> directory. These files are
    expected to contain one or more hashrefs. For Data::Dumper generated files,
    this is expected to be done with by defining <span class="Li">$VAR1</span>,
    <span class="Li">$VAR2</span>, etc. The YAML shell would produce these with
    the command</p>
<p class="Pp"></p>
<pre>
    ysh &lt; somefile.yml &gt; somefile.dd
</pre>
<p class="Pp">For Storable files the rule is that they must be constructed such
    that <span class="Li">&quot;Storable::retrieve(file)&quot;</span> returns an
    array reference and the array elements represent one distropref object each.
    The conversion from YAML would look like so:</p>
<p class="Pp"></p>
<pre>
    perl -MYAML=LoadFile -MStorable=nstore -e '
        @y=LoadFile(shift);
        nstore(\@y, shift)' somefile.yml somefile.st
</pre>
<p class="Pp">In bootstrapping situations it is usually sufficient to translate
    only a few YAML files to Data::Dumper for crucial modules like
    <span class="Li">&quot;YAML::Syck&quot;</span>,
    <span class="Li">&quot;YAML.pm&quot;</span> and
    <span class="Li">&quot;Expect.pm&quot;</span>. If you prefer Storable over
    Data::Dumper, remember to pull out a Storable version that writes an older
    format than all the other Storable versions that will need to read them.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Blueprint"><a class="permalink" href="#Blueprint">Blueprint</a></h2>
<p class="Pp">The following example contains all supported keywords and
    structures with the exception of <span class="Li">&quot;eexpect&quot;</span>
    which can be used instead of <span class="Li">&quot;expect&quot;</span>.</p>
<p class="Pp"></p>
<pre>
  ---
  comment: &quot;Demo&quot;
  match:
    module: &quot;Dancing::Queen&quot;
    distribution: &quot;^CHACHACHA/Dancing-&quot;
    not_distribution: &quot;\.zip$&quot;
    perl: &quot;/usr/local/cariba-perl/bin/perl&quot;
    perlconfig:
      archname: &quot;freebsd&quot;
      not_cc: &quot;gcc&quot;
    env:
      DANCING_FLOOR: &quot;Shubiduh&quot;
  disabled: 1
  cpanconfig:
    make: gmake
  pl:
    args:
      - &quot;--somearg=specialcase&quot;

    env: {}

    expect:
      - &quot;Which is your favorite fruit&quot;
      - &quot;apple\n&quot;

  make:
    args:
      - all
      - extra-all

    env: {}

    expect: []

    commandline: &quot;echo SKIPPING make&quot;

  test:
    args: []

    env: {}

    expect: []

  install:
    args: []

    env:
      WANT_TO_INSTALL: YES

    expect:
      - &quot;Do you really want to install&quot;
      - &quot;y\n&quot;

  patches:
    - &quot;ABCDE/Fedcba-3.14-ABCDE-01.patch&quot;

  depends:
    configure_requires:
      LWP: 5.8
    build_requires:
      Test::Exception: 0.25
    requires:
      Spiffy: 0.30
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Language_Specs"><a class="permalink" href="#Language_Specs">Language
  Specs</a></h2>
<p class="Pp">Every YAML document represents a single hash reference. The valid
    keys in this hash are as follows:</p>
<dl class="Bl-tag">
  <dt id="comment"><a class="permalink" href="#comment">comment
    [scalar]</a></dt>
  <dd>A comment</dd>
  <dt id="cpanconfig"><a class="permalink" href="#cpanconfig">cpanconfig
    [hash]</a></dt>
  <dd>Temporarily override assorted <span class="Li">&quot;CPAN.pm&quot;</span>
      configuration variables.
    <p class="Pp">Supported are:
        <span class="Li">&quot;build_requires_install_policy&quot;</span>,
        <span class="Li">&quot;check_sigs&quot;</span>,
        <span class="Li">&quot;make&quot;</span>,
        <span class="Li">&quot;make_install_make_command&quot;</span>,
        <span class="Li">&quot;prefer_installer&quot;</span>,
        <span class="Li">&quot;test_report&quot;</span>. Please report as a bug
        when you need another one supported.</p>
  </dd>
  <dt id="depends"><a class="permalink" href="#depends">depends [hash] ***
    EXPERIMENTAL FEATURE ***</a></dt>
  <dd>All three types, namely
      <span class="Li">&quot;configure_requires&quot;</span>,
      <span class="Li">&quot;build_requires&quot;</span>, and
      <span class="Li">&quot;requires&quot;</span> are supported in the way
      specified in the META.yml specification. The current implementation
      <i>merges</i> the specified dependencies with those declared by the
      package maintainer. In a future implementation this may be changed to
      override the original declaration.</dd>
  <dt id="disabled"><a class="permalink" href="#disabled">disabled
    [boolean]</a></dt>
  <dd>Specifies that this distribution shall not be processed at all.</dd>
  <dt id="features"><a class="permalink" href="#features">features [array] ***
    EXPERIMENTAL FEATURE ***</a></dt>
  <dd>Experimental implementation to deal with optional_features from META.yml.
      Still needs coordination with installer software and currently works only
      for META.yml declaring
      <span class="Li">&quot;dynamic_config=0&quot;</span>. Use with
    caution.</dd>
  <dt id="goto"><a class="permalink" href="#goto">goto [string]</a></dt>
  <dd>The canonical name of a delegate distribution to install instead. Useful
      when a new version, although it tests OK itself, breaks something else or
      a developer release or a fork is already uploaded that is better than the
      last released version.</dd>
  <dt id="install"><a class="permalink" href="#install">install [hash]</a></dt>
  <dd>Processing instructions for the <span class="Li">&quot;make
      install&quot;</span> or <span class="Li">&quot;./Build
      install&quot;</span> phase of the CPAN mantra. See below under
      <i>Processing Instructions</i>.</dd>
  <dt id="make"><a class="permalink" href="#make">make [hash]</a></dt>
  <dd>Processing instructions for the <span class="Li">&quot;make&quot;</span>
      or <span class="Li">&quot;./Build&quot;</span> phase of the CPAN mantra.
      See below under <i>Processing Instructions</i>.</dd>
  <dt id="match"><a class="permalink" href="#match">match [hash]</a></dt>
  <dd>A hashref with one or more of the keys
      <span class="Li">&quot;distribution&quot;</span>,
      <span class="Li">&quot;module&quot;</span>,
      <span class="Li">&quot;perl&quot;</span>,
      <span class="Li">&quot;perlconfig&quot;</span>, and
      <span class="Li">&quot;env&quot;</span> that specify whether a document is
      targeted at a specific CPAN distribution or installation. Keys prefixed
      with <span class="Li">&quot;not_&quot;</span> negates the corresponding
      match.
    <p class="Pp">The corresponding values are interpreted as regular
        expressions. The <span class="Li">&quot;distribution&quot;</span>
        related one will be matched against the canonical distribution name,
        e.g. &quot;AUTHOR/Foo-Bar-3.14.tar.gz&quot;.</p>
    <p class="Pp">The <span class="Li">&quot;module&quot;</span> related one
        will be matched against <i>all</i> modules contained in the distribution
        until one module matches.</p>
    <p class="Pp">The <span class="Li">&quot;perl&quot;</span> related one will
        be matched against <span class="Li">$^X</span> (but with the absolute
        path).</p>
    <p class="Pp">The value associated with
        <span class="Li">&quot;perlconfig&quot;</span> is itself a hashref that
        is matched against corresponding values in the
        <span class="Li">%Config::Config</span> hash living in the
        <span class="Li">&quot;Config.pm&quot;</span> module. Keys prefixed with
        <span class="Li">&quot;not_&quot;</span> negates the corresponding
        match.</p>
    <p class="Pp">The value associated with
        <span class="Li">&quot;env&quot;</span> is itself a hashref that is
        matched against corresponding values in the <span class="Li">%ENV</span>
        hash. Keys prefixed with <span class="Li">&quot;not_&quot;</span>
        negates the corresponding match.</p>
    <p class="Pp">If more than one restriction of
        <span class="Li">&quot;module&quot;</span>,
        <span class="Li">&quot;distribution&quot;</span>, etc. is specified, the
        results of the separately computed match values must all match. If so,
        the hashref represented by the YAML document is returned as the
        preference structure for the current distribution.</p>
  </dd>
  <dt id="patches"><a class="permalink" href="#patches">patches [array]</a></dt>
  <dd>An array of patches on CPAN or on the local disk to be applied in order
      via an external patch program. If the value for the
      <span class="Li">&quot;-p&quot;</span> parameter is
      <span class="Li">0</span> or <span class="Li">1</span> is determined by
      reading the patch beforehand. The path to each patch is either an absolute
      path on the local filesystem or relative to a patch directory specified in
      the <span class="Li">&quot;patches_dir&quot;</span> configuration variable
      or in the format of a canonical distro name. For examples please consult
      the distroprefs/ directory in the CPAN.pm distribution (these examples are
      not installed by default).
    <p class="Pp">Note: if the <span class="Li">&quot;applypatch&quot;</span>
        program is installed and
        <span class="Li">&quot;CPAN::Config&quot;</span> knows about it
        <b>and</b> a patch is written by the
        <span class="Li">&quot;makepatch&quot;</span> program, then
        <span class="Li">&quot;CPAN.pm&quot;</span> lets
        <span class="Li">&quot;applypatch&quot;</span> apply the patch. Both
        <span class="Li">&quot;makepatch&quot;</span> and
        <span class="Li">&quot;applypatch&quot;</span> are available from CPAN
        in the <span class="Li">&quot;JV/makepatch-*&quot;</span>
      distribution.</p>
  </dd>
  <dt id="pl"><a class="permalink" href="#pl">pl [hash]</a></dt>
  <dd>Processing instructions for the <span class="Li">&quot;perl
      Makefile.PL&quot;</span> or <span class="Li">&quot;perl</span>
      <span class="Li">Build.PL&quot;</span> phase of the CPAN mantra. See below
      under <i>Processing</i> <i>Instructions</i>.</dd>
  <dt id="test"><a class="permalink" href="#test">test [hash]</a></dt>
  <dd>Processing instructions for the <span class="Li">&quot;make
      test&quot;</span> or <span class="Li">&quot;./Build test&quot;</span>
      phase of the CPAN mantra. See below under <i>Processing
    Instructions</i>.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Processing_Instructions"><a class="permalink" href="#Processing_Instructions">Processing
  Instructions</a></h2>
<dl class="Bl-tag">
  <dt id="args"><a class="permalink" href="#args">args [array]</a></dt>
  <dd>Arguments to be added to the command line</dd>
  <dt id="commandline"><a class="permalink" href="#commandline">commandline</a></dt>
  <dd>A full commandline to run via
      <span class="Li">&quot;system()&quot;</span>. During execution, the
      environment variable PERL is set to $^X (but with an absolute path). If
      <span class="Li">&quot;commandline&quot;</span> is specified,
      <span class="Li">&quot;args&quot;</span> is not used.</dd>
  <dt id="eexpect"><a class="permalink" href="#eexpect">eexpect [hash]</a></dt>
  <dd>Extended <span class="Li">&quot;expect&quot;</span>. This is a hash
      reference with four allowed keys,
      <span class="Li">&quot;mode&quot;</span>,
      <span class="Li">&quot;timeout&quot;</span>,
      <span class="Li">&quot;reuse&quot;</span>, and
      <span class="Li">&quot;talk&quot;</span>.
    <p class="Pp">You must install the
        <span class="Li">&quot;Expect&quot;</span> module to use
        <span class="Li">&quot;eexpect&quot;</span>. CPAN.pm does not install it
        for you.</p>
    <p class="Pp"><span class="Li">&quot;mode&quot;</span> may have the values
        <span class="Li">&quot;deterministic&quot;</span> for the case where all
        questions come in the order written down and
        <span class="Li">&quot;anyorder&quot;</span> for the case where the
        questions may come in any order. The default mode is
        <span class="Li">&quot;deterministic&quot;</span>.</p>
    <p class="Pp"><span class="Li">&quot;timeout&quot;</span> denotes a timeout
        in seconds. Floating-point timeouts are OK. With
        <span class="Li">&quot;mode=deterministic&quot;</span>, the timeout
        denotes the timeout per question; with
        <span class="Li">&quot;mode=anyorder&quot;</span> it denotes the timeout
        per byte received from the stream or questions.</p>
    <p class="Pp"><span class="Li">&quot;talk&quot;</span> is a reference to an
        array that contains alternating questions and answers. Questions are
        regular expressions and answers are literal strings. The Expect module
        watches the stream from the execution of the external program
        (<span class="Li">&quot;perl Makefile.PL&quot;</span>,
        <span class="Li">&quot;perl</span>
        <span class="Li">Build.PL&quot;</span>,
        <span class="Li">&quot;make&quot;</span>, etc.).</p>
    <p class="Pp">For <span class="Li">&quot;mode=deterministic&quot;</span>,
        the CPAN.pm injects the corresponding answer as soon as the stream
        matches the regular expression.</p>
    <p class="Pp">For <span class="Li">&quot;mode=anyorder&quot;</span> CPAN.pm
        answers a question as soon as the timeout is reached for the next byte
        in the input stream. In this mode you can use the
        <span class="Li">&quot;reuse&quot;</span> parameter to decide what will
        happen with a question-answer pair after it has been used. In the
        default case (reuse=0) it is removed from the array, avoiding being used
        again accidentally. If you want to answer the question
        <span class="Li">&quot;Do you really want to do that&quot;</span>
        several times, then it must be included in the array at least as often
        as you want this answer to be given. Setting the parameter
        <span class="Li">&quot;reuse&quot;</span> to 1 makes this repetition
        unnecessary.</p>
  </dd>
  <dt id="env"><a class="permalink" href="#env">env [hash]</a></dt>
  <dd>Environment variables to be set during the command</dd>
  <dt id="expect"><a class="permalink" href="#expect">expect [array]</a></dt>
  <dd>You must install the <span class="Li">&quot;Expect&quot;</span> module to
      use <span class="Li">&quot;expect&quot;</span>. CPAN.pm does not install
      it for you.
    <p class="Pp"><span class="Li">&quot;expect: &lt;array&gt;&quot;</span> is a
        short notation for this <span class="Li">&quot;eexpect&quot;</span>:</p>
    <p class="Pp"></p>
    <pre>
        eexpect:
                mode: deterministic
                timeout: 15
                talk: &lt;array&gt;
    </pre>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Schema_verification_with__Kwalify_"><a class="permalink" href="#Schema_verification_with__Kwalify_">Schema
  verification with &quot;Kwalify&quot;</a></h2>
<p class="Pp">If you have the <span class="Li">&quot;Kwalify&quot;</span> module
    installed (which is part of the Bundle::CPANxxl), then all your distroprefs
    files are checked for syntactic correctness.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Example_Distroprefs_Files"><a class="permalink" href="#Example_Distroprefs_Files">Example
  Distroprefs Files</a></h2>
<p class="Pp"><span class="Li">&quot;CPAN.pm&quot;</span> comes with a
    collection of example YAML files. Note that these are really just examples
    and should not be used without care because they cannot fit everybody's
    purpose. After all, the authors of the packages that ask questions had a
    need to ask, so you should watch their questions and adjust the examples to
    your environment and your needs. You have been warned:-)</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="PROGRAMMER'S_INTERFACE"><a class="permalink" href="#PROGRAMMER'S_INTERFACE">PROGRAMMER'S
  INTERFACE</a></h1>
<p class="Pp">If you do not enter the shell, shell commands are available both
    as methods
    (<span class="Li">&quot;CPAN::Shell-&gt;install(...)&quot;</span>) and as
    functions in the calling package
    (<span class="Li">&quot;install(...)&quot;</span>). Before calling low-level
    commands, it makes sense to initialize components of CPAN you need,
  e.g.:</p>
<p class="Pp"></p>
<pre>
  CPAN::HandleConfig-&gt;load;
  CPAN::Shell::setup_output;
  CPAN::Index-&gt;reload;
</pre>
<p class="Pp">High-level commands do such initializations automatically.</p>
<p class="Pp">There's currently only one class that has a stable interface -
    CPAN::Shell. All commands that are available in the CPAN shell are methods
    of the class CPAN::Shell. The arguments on the commandline are passed as
    arguments to the method.</p>
<p class="Pp">So if you take for example the shell command</p>
<p class="Pp"></p>
<pre>
  notest install A B C
</pre>
<p class="Pp">the actually executed command is</p>
<p class="Pp"></p>
<pre>
  CPAN::Shell-&gt;notest(&quot;install&quot;,&quot;A&quot;,&quot;B&quot;,&quot;C&quot;);
</pre>
<p class="Pp">Each of the commands that produce listings of modules
    (<span class="Li">&quot;r&quot;</span>,
    <span class="Li">&quot;autobundle&quot;</span>,
    <span class="Li">&quot;u&quot;</span>) also return a list of the IDs of all
    modules within the list.</p>
<dl class="Bl-tag">
  <dt id="expand($type,@things)"><a class="permalink" href="#expand($type,@things)">expand($type,@things)</a></dt>
  <dd>The IDs of all objects available within a program are strings that can be
      expanded to the corresponding real objects with the
      <span class="Li">&quot;CPAN::Shell-&gt;expand(&quot;Module&quot;,@things)&quot;</span>
      method. Expand returns a list of CPAN::Module objects according to the
      <span class="Li">@things</span> arguments given. In scalar context, it
      returns only the first element of the list.</dd>
  <dt id="expandany(@things)"><a class="permalink" href="#expandany(@things)">expandany(@things)</a></dt>
  <dd>Like expand, but returns objects of the appropriate type, i.e.
      CPAN::Bundle objects for bundles, CPAN::Module objects for modules, and
      CPAN::Distribution objects for distributions. Note: it does not expand to
      CPAN::Author objects.</dd>
  <dt id="Programming"><a class="permalink" href="#Programming">Programming
    Examples</a></dt>
  <dd>This enables the programmer to do operations that combine functionalities
      that are available in the shell.
    <p class="Pp"></p>
    <pre>
    # install everything that is outdated on my disk:
    perl -MCPAN -e 'CPAN::Shell-&gt;install(CPAN::Shell-&gt;r)'

    # install my favorite programs if necessary:
    for $mod (qw(Net::FTP Digest::SHA Data::Dumper)) {
        CPAN::Shell-&gt;install($mod);
    }

    # list all modules on my disk that have no VERSION number
    for $mod (CPAN::Shell-&gt;expand(&quot;Module&quot;,&quot;/./&quot;)) {
        next unless $mod-&gt;inst_file;
        # MakeMaker convention for undefined $VERSION:
        next unless $mod-&gt;inst_version eq &quot;undef&quot;;
        print &quot;No VERSION in &quot;, $mod-&gt;id, &quot;\n&quot;;
    }

    # find out which distribution on CPAN contains a module:
    print CPAN::Shell-&gt;expand(&quot;Module&quot;,&quot;Apache::Constants&quot;)-&gt;cpan_file
    </pre>
    <p class="Pp">Or if you want to schedule a <i>cron</i> job to watch CPAN,
        you could list all modules that need updating. First a quick and dirty
        way:</p>
    <p class="Pp"></p>
    <pre>
    perl -e 'use CPAN; CPAN::Shell-&gt;r;'
    </pre>
    <p class="Pp">If you don't want any output should all modules be up to date,
        parse the output of above command for the regular expression
        <span class="Li">&quot;/modules are up to date/&quot;</span> and decide
        to mail the output only if it doesn't match.</p>
    <p class="Pp">If you prefer to do it more in a programmerish style in one
        single process, something like this may better suit you:</p>
    <p class="Pp"></p>
    <pre>
  # list all modules on my disk that have newer versions on CPAN
  for $mod (CPAN::Shell-&gt;expand(&quot;Module&quot;,&quot;/./&quot;)) {
    next unless $mod-&gt;inst_file;
    next if $mod-&gt;uptodate;
    printf &quot;Module %s is installed as %s, could be updated to %s from CPAN\n&quot;,
        $mod-&gt;id, $mod-&gt;inst_version, $mod-&gt;cpan_version;
  }
    </pre>
    <p class="Pp">If that gives too much output every day, you may want to watch
        only for three modules. You can write</p>
    <p class="Pp"></p>
    <pre>
  for $mod (CPAN::Shell-&gt;expand(&quot;Module&quot;,&quot;/Apache|LWP|CGI/&quot;)) {
    </pre>
    <p class="Pp">as the first line instead. Or you can combine some of the
        above tricks:</p>
    <p class="Pp"></p>
    <pre>
  # watch only for a new mod_perl module
  $mod = CPAN::Shell-&gt;expand(&quot;Module&quot;,&quot;mod_perl&quot;);
  exit if $mod-&gt;uptodate;
  # new mod_perl arrived, let me know all update recommendations
  CPAN::Shell-&gt;r;
    </pre>
  </dd>
</dl>
<section class="Ss">
<h2 class="Ss" id="Methods_in_the_other_Classes"><a class="permalink" href="#Methods_in_the_other_Classes">Methods
  in the other Classes</a></h2>
<dl class="Bl-tag">
  <dt id="CPAN::Author::as_glimpse()"><a class="permalink" href="#CPAN::Author::as_glimpse()"><b>CPAN::Author::as_glimpse()</b></a></dt>
  <dd>Returns a one-line description of the author</dd>
  <dt id="CPAN::Author::as_string()"><a class="permalink" href="#CPAN::Author::as_string()"><b>CPAN::Author::as_string()</b></a></dt>
  <dd>Returns a multi-line description of the author</dd>
  <dt id="CPAN::Author::email()"><a class="permalink" href="#CPAN::Author::email()"><b>CPAN::Author::email()</b></a></dt>
  <dd>Returns the author's email address</dd>
  <dt id="CPAN::Author::fullname()"><a class="permalink" href="#CPAN::Author::fullname()"><b>CPAN::Author::fullname()</b></a></dt>
  <dd>Returns the author's name</dd>
  <dt id="CPAN::Author::name()"><a class="permalink" href="#CPAN::Author::name()"><b>CPAN::Author::name()</b></a></dt>
  <dd>An alias for fullname</dd>
  <dt id="CPAN::Bundle::as_glimpse()"><a class="permalink" href="#CPAN::Bundle::as_glimpse()"><b>CPAN::Bundle::as_glimpse()</b></a></dt>
  <dd>Returns a one-line description of the bundle</dd>
  <dt id="CPAN::Bundle::as_string()"><a class="permalink" href="#CPAN::Bundle::as_string()"><b>CPAN::Bundle::as_string()</b></a></dt>
  <dd>Returns a multi-line description of the bundle</dd>
  <dt id="CPAN::Bundle::clean()"><a class="permalink" href="#CPAN::Bundle::clean()"><b>CPAN::Bundle::clean()</b></a></dt>
  <dd>Recursively runs the <span class="Li">&quot;clean&quot;</span> method on
      all items contained in the bundle.</dd>
  <dt id="CPAN::Bundle::contains()"><a class="permalink" href="#CPAN::Bundle::contains()"><b>CPAN::Bundle::contains()</b></a></dt>
  <dd>Returns a list of objects' IDs contained in a bundle. The associated
      objects may be bundles, modules or distributions.</dd>
  <dt id="CPAN::Bundle::force($method,@args)"><a class="permalink" href="#CPAN::Bundle::force($method,@args)">CPAN::Bundle::force($method,@args)</a></dt>
  <dd>Forces CPAN to perform a task that it normally would have refused to do.
      Force takes as arguments a method name to be called and any number of
      additional arguments that should be passed to the called method. The
      internals of the object get the needed changes so that CPAN.pm does not
      refuse to take the action. The <span class="Li">&quot;force&quot;</span>
      is passed recursively to all contained objects. See also the section above
      on the <span class="Li">&quot;force&quot;</span> and the
      <span class="Li">&quot;fforce&quot;</span> pragma.</dd>
  <dt id="CPAN::Bundle::get()"><a class="permalink" href="#CPAN::Bundle::get()"><b>CPAN::Bundle::get()</b></a></dt>
  <dd>Recursively runs the <span class="Li">&quot;get&quot;</span> method on all
      items contained in the bundle</dd>
  <dt id="CPAN::Bundle::inst_file()"><a class="permalink" href="#CPAN::Bundle::inst_file()"><b>CPAN::Bundle::inst_file()</b></a></dt>
  <dd>Returns the highest installed version of the bundle in either
      <span class="Li">@INC</span> or
      <span class="Li">&quot;$CPAN::Config-&gt;{cpan_home}&quot;</span>. Note
      that this is different from CPAN::Module::inst_file.</dd>
  <dt id="CPAN::Bundle::inst_version()"><a class="permalink" href="#CPAN::Bundle::inst_version()"><b>CPAN::Bundle::inst_version()</b></a></dt>
  <dd>Like CPAN::Bundle::inst_file, but returns the
      <span class="Li">$VERSION</span></dd>
  <dt id="CPAN::Bundle::uptodate()"><a class="permalink" href="#CPAN::Bundle::uptodate()"><b>CPAN::Bundle::uptodate()</b></a></dt>
  <dd>Returns 1 if the bundle itself and all its members are up-to-date.</dd>
  <dt id="CPAN::Bundle::install()"><a class="permalink" href="#CPAN::Bundle::install()"><b>CPAN::Bundle::install()</b></a></dt>
  <dd>Recursively runs the <span class="Li">&quot;install&quot;</span> method on
      all items contained in the bundle</dd>
  <dt id="CPAN::Bundle::make()"><a class="permalink" href="#CPAN::Bundle::make()"><b>CPAN::Bundle::make()</b></a></dt>
  <dd>Recursively runs the <span class="Li">&quot;make&quot;</span> method on
      all items contained in the bundle</dd>
  <dt id="CPAN::Bundle::readme()"><a class="permalink" href="#CPAN::Bundle::readme()"><b>CPAN::Bundle::readme()</b></a></dt>
  <dd>Recursively runs the <span class="Li">&quot;readme&quot;</span> method on
      all items contained in the bundle</dd>
  <dt id="CPAN::Bundle::test()"><a class="permalink" href="#CPAN::Bundle::test()"><b>CPAN::Bundle::test()</b></a></dt>
  <dd>Recursively runs the <span class="Li">&quot;test&quot;</span> method on
      all items contained in the bundle</dd>
  <dt id="CPAN::Distribution::as_glimpse()"><a class="permalink" href="#CPAN::Distribution::as_glimpse()"><b>CPAN::Distribution::as_glimpse()</b></a></dt>
  <dd>Returns a one-line description of the distribution</dd>
  <dt id="CPAN::Distribution::as_string()"><a class="permalink" href="#CPAN::Distribution::as_string()"><b>CPAN::Distribution::as_string()</b></a></dt>
  <dd>Returns a multi-line description of the distribution</dd>
  <dt id="CPAN::Distribution::author"><a class="permalink" href="#CPAN::Distribution::author">CPAN::Distribution::author</a></dt>
  <dd>Returns the CPAN::Author object of the maintainer who uploaded this
      distribution</dd>
  <dt id="CPAN::Distribution::pretty_id()"><a class="permalink" href="#CPAN::Distribution::pretty_id()"><b>CPAN::Distribution::pretty_id()</b></a></dt>
  <dd>Returns a string of the form &quot;AUTHORID/TARBALL&quot;, where AUTHORID
      is the author's PAUSE ID and TARBALL is the distribution filename.</dd>
  <dt id="CPAN::Distribution::base_id()"><a class="permalink" href="#CPAN::Distribution::base_id()"><b>CPAN::Distribution::base_id()</b></a></dt>
  <dd>Returns the distribution filename without any archive suffix. E.g
      &quot;Foo-Bar-0.01&quot;</dd>
  <dt id="CPAN::Distribution::clean()"><a class="permalink" href="#CPAN::Distribution::clean()"><b>CPAN::Distribution::clean()</b></a></dt>
  <dd>Changes to the directory where the distribution has been unpacked and runs
      <span class="Li">&quot;make clean&quot;</span> there.</dd>
  <dt id="CPAN::Distribution::containsmods()"><a class="permalink" href="#CPAN::Distribution::containsmods()"><b>CPAN::Distribution::containsmods()</b></a></dt>
  <dd>Returns a list of IDs of modules contained in a distribution file. Works
      only for distributions listed in the 02packages.details.txt.gz file. This
      typically means that just most recent version of a distribution is
      covered.</dd>
  <dt id="CPAN::Distribution::cvs_import()"><a class="permalink" href="#CPAN::Distribution::cvs_import()"><b>CPAN::Distribution::cvs_import()</b></a></dt>
  <dd>Changes to the directory where the distribution has been unpacked and runs
      something like
    <p class="Pp"></p>
    <pre>
    cvs -d $cvs_root import -m $cvs_log $cvs_dir $userid v$version
    </pre>
    <p class="Pp">there.</p>
  </dd>
  <dt id="CPAN::Distribution::dir()"><a class="permalink" href="#CPAN::Distribution::dir()"><b>CPAN::Distribution::dir()</b></a></dt>
  <dd>Returns the directory into which this distribution has been unpacked.</dd>
  <dt id="CPAN::Distribution::force($method,@args)"><a class="permalink" href="#CPAN::Distribution::force($method,@args)">CPAN::Distribution::force($method,@args)</a></dt>
  <dd>Forces CPAN to perform a task that it normally would have refused to do.
      Force takes as arguments a method name to be called and any number of
      additional arguments that should be passed to the called method. The
      internals of the object get the needed changes so that CPAN.pm does not
      refuse to take the action. See also the section above on the
      <span class="Li">&quot;force&quot;</span> and the
      <span class="Li">&quot;fforce&quot;</span> pragma.</dd>
  <dt id="CPAN::Distribution::get()"><a class="permalink" href="#CPAN::Distribution::get()"><b>CPAN::Distribution::get()</b></a></dt>
  <dd>Downloads the distribution from CPAN and unpacks it. Does nothing if the
      distribution has already been downloaded and unpacked within the current
      session.</dd>
  <dt id="CPAN::Distribution::install()"><a class="permalink" href="#CPAN::Distribution::install()"><b>CPAN::Distribution::install()</b></a></dt>
  <dd>Changes to the directory where the distribution has been unpacked and runs
      the external command <span class="Li">&quot;make install&quot;</span>
      there. If <span class="Li">&quot;make&quot;</span> has not yet been run,
      it will be run first. A <span class="Li">&quot;make test&quot;</span> is
      issued in any case and if this fails, the install is cancelled. The
      cancellation can be avoided by letting
      <span class="Li">&quot;force&quot;</span> run the
      <span class="Li">&quot;install&quot;</span> for you.
    <p class="Pp">This install method only has the power to install the
        distribution if there are no dependencies in the way. To install an
        object along with all its dependencies, use CPAN::Shell-&gt;install.</p>
    <p class="Pp">Note that <b>install()</b> gives no meaningful return value.
        See <b>uptodate()</b>.</p>
  </dd>
  <dt id="CPAN::Distribution::isa_perl()"><a class="permalink" href="#CPAN::Distribution::isa_perl()"><b>CPAN::Distribution::isa_perl()</b></a></dt>
  <dd>Returns 1 if this distribution file seems to be a perl distribution.
      Normally this is derived from the file name only, but the index from CPAN
      can contain a hint to achieve a return value of true for other filenames
      too.</dd>
  <dt id="CPAN::Distribution::look()"><a class="permalink" href="#CPAN::Distribution::look()"><b>CPAN::Distribution::look()</b></a></dt>
  <dd>Changes to the directory where the distribution has been unpacked and
      opens a subshell there. Exiting the subshell returns.</dd>
  <dt id="CPAN::Distribution::make()"><a class="permalink" href="#CPAN::Distribution::make()"><b>CPAN::Distribution::make()</b></a></dt>
  <dd>First runs the <span class="Li">&quot;get&quot;</span> method to make sure
      the distribution is downloaded and unpacked. Changes to the directory
      where the distribution has been unpacked and runs the external commands
      <span class="Li">&quot;perl</span>
      <span class="Li">Makefile.PL&quot;</span> or <span class="Li">&quot;perl
      Build.PL&quot;</span> and <span class="Li">&quot;make&quot;</span>
    there.</dd>
  <dt id="CPAN::Distribution::perldoc()"><a class="permalink" href="#CPAN::Distribution::perldoc()"><b>CPAN::Distribution::perldoc()</b></a></dt>
  <dd>Downloads the pod documentation of the file associated with a distribution
      (in HTML format) and runs it through the external command <i>lynx</i>
      specified in <span class="Li">&quot;$CPAN::Config-&gt;{lynx}&quot;</span>.
      If <i>lynx</i> isn't available, it converts it to plain text with the
      external command <i>html2text</i> and runs it through the pager specified
      in <span class="Li">&quot;$CPAN::Config-&gt;{pager}&quot;</span>.</dd>
  <dt id="CPAN::Distribution::prefs()"><a class="permalink" href="#CPAN::Distribution::prefs()"><b>CPAN::Distribution::prefs()</b></a></dt>
  <dd>Returns the hash reference from the first matching YAML file that the user
      has deposited in the <span class="Li">&quot;prefs_dir/&quot;</span>
      directory. The first succeeding match wins. The files in the
      <span class="Li">&quot;prefs_dir/&quot;</span> are processed
      alphabetically, and the canonical distro name (e.g.
      AUTHOR/Foo-Bar-3.14.tar.gz) is matched against the regular expressions
      stored in the <span class="Li">$root</span>-&gt;{match}{distribution}
      attribute value. Additionally all module names contained in a distribution
      are matched against the regular expressions in the
      <span class="Li">$root</span>-&gt;{match}{module} attribute value. The two
      match values are ANDed together. Each of the two attributes are
    optional.</dd>
  <dt id="CPAN::Distribution::prereq_pm()"><a class="permalink" href="#CPAN::Distribution::prereq_pm()"><b>CPAN::Distribution::prereq_pm()</b></a></dt>
  <dd>Returns the hash reference that has been announced by a distribution as
      the <span class="Li">&quot;requires&quot;</span> and
      <span class="Li">&quot;build_requires&quot;</span> elements. These can be
      declared either by the <span class="Li">&quot;META.yml&quot;</span> (if
      authoritative) or can be deposited after the run of
      <span class="Li">&quot;Build.PL&quot;</span> in the file
      <span class="Li">&quot;./_build/prereqs&quot;</span> or after the run of
      <span class="Li">&quot;Makfile.PL&quot;</span> written as the
      <span class="Li">&quot;PREREQ_PM&quot;</span> hash in a comment in the
      produced <span class="Li">&quot;Makefile&quot;</span>. <i>Note</i>: this
      method only works after an attempt has been made to
      <span class="Li">&quot;make&quot;</span> the distribution. Returns undef
      otherwise.</dd>
  <dt id="CPAN::Distribution::readme()"><a class="permalink" href="#CPAN::Distribution::readme()"><b>CPAN::Distribution::readme()</b></a></dt>
  <dd>Downloads the README file associated with a distribution and runs it
      through the pager specified in
      <span class="Li">&quot;$CPAN::Config-&gt;{pager}&quot;</span>.</dd>
  <dt id="CPAN::Distribution::reports()"><a class="permalink" href="#CPAN::Distribution::reports()"><b>CPAN::Distribution::reports()</b></a></dt>
  <dd>Downloads report data for this distribution from www.cpantesters.org and
      displays a subset of them.</dd>
  <dt id="CPAN::Distribution::read_yaml()"><a class="permalink" href="#CPAN::Distribution::read_yaml()"><b>CPAN::Distribution::read_yaml()</b></a></dt>
  <dd>Returns the content of the META.yml of this distro as a hashref. Note:
      works only after an attempt has been made to
      <span class="Li">&quot;make&quot;</span> the distribution. Returns undef
      otherwise. Also returns undef if the content of META.yml is not
      authoritative. (The rules about what exactly makes the content
      authoritative are still in flux.)</dd>
  <dt id="CPAN::Distribution::test()"><a class="permalink" href="#CPAN::Distribution::test()"><b>CPAN::Distribution::test()</b></a></dt>
  <dd>Changes to the directory where the distribution has been unpacked and runs
      <span class="Li">&quot;make test&quot;</span> there.</dd>
  <dt id="CPAN::Distribution::uptodate()"><a class="permalink" href="#CPAN::Distribution::uptodate()"><b>CPAN::Distribution::uptodate()</b></a></dt>
  <dd>Returns 1 if all the modules contained in the distribution are up-to-date.
      Relies on containsmods.</dd>
  <dt id="CPAN::Index::force_reload()"><a class="permalink" href="#CPAN::Index::force_reload()"><b>CPAN::Index::force_reload()</b></a></dt>
  <dd>Forces a reload of all indices.</dd>
  <dt id="CPAN::Index::reload()"><a class="permalink" href="#CPAN::Index::reload()"><b>CPAN::Index::reload()</b></a></dt>
  <dd>Reloads all indices if they have not been read for more than
      <span class="Li">&quot;$CPAN::Config-&gt;{index_expire}&quot;</span>
    days.</dd>
  <dt id="CPAN::InfoObj::dump()"><a class="permalink" href="#CPAN::InfoObj::dump()"><b>CPAN::InfoObj::dump()</b></a></dt>
  <dd>CPAN::Author, CPAN::Bundle, CPAN::Module, and CPAN::Distribution inherit
      this method. It prints the data structure associated with an object.
      Useful for debugging. Note: the data structure is considered internal and
      thus subject to change without notice.</dd>
  <dt id="CPAN::Module::as_glimpse()"><a class="permalink" href="#CPAN::Module::as_glimpse()"><b>CPAN::Module::as_glimpse()</b></a></dt>
  <dd>Returns a one-line description of the module in four columns: The first
      column contains the word <span class="Li">&quot;Module&quot;</span>, the
      second column consists of one character: an equals sign if this module is
      already installed and up-to-date, a less-than sign if this module is
      installed but can be upgraded, and a space if the module is not installed.
      The third column is the name of the module and the fourth column gives
      maintainer or distribution information.</dd>
  <dt id="CPAN::Module::as_string()"><a class="permalink" href="#CPAN::Module::as_string()"><b>CPAN::Module::as_string()</b></a></dt>
  <dd>Returns a multi-line description of the module</dd>
  <dt id="CPAN::Module::clean()"><a class="permalink" href="#CPAN::Module::clean()"><b>CPAN::Module::clean()</b></a></dt>
  <dd>Runs a clean on the distribution associated with this module.</dd>
  <dt id="CPAN::Module::cpan_file()"><a class="permalink" href="#CPAN::Module::cpan_file()"><b>CPAN::Module::cpan_file()</b></a></dt>
  <dd>Returns the filename on CPAN that is associated with the module.</dd>
  <dt id="CPAN::Module::cpan_version()"><a class="permalink" href="#CPAN::Module::cpan_version()"><b>CPAN::Module::cpan_version()</b></a></dt>
  <dd>Returns the latest version of this module available on CPAN.</dd>
  <dt id="CPAN::Module::cvs_import()"><a class="permalink" href="#CPAN::Module::cvs_import()"><b>CPAN::Module::cvs_import()</b></a></dt>
  <dd>Runs a cvs_import on the distribution associated with this module.</dd>
  <dt id="CPAN::Module::description()"><a class="permalink" href="#CPAN::Module::description()"><b>CPAN::Module::description()</b></a></dt>
  <dd>Returns a 44 character description of this module. Only available for
      modules listed in The Module List (CPAN/modules/00modlist.long.html or
      00modlist.long.txt.gz)</dd>
  <dt id="CPAN::Module::distribution()"><a class="permalink" href="#CPAN::Module::distribution()"><b>CPAN::Module::distribution()</b></a></dt>
  <dd>Returns the CPAN::Distribution object that contains the current version of
      this module.</dd>
  <dt id="CPAN::Module::dslip_status()"><a class="permalink" href="#CPAN::Module::dslip_status()"><b>CPAN::Module::dslip_status()</b></a></dt>
  <dd>Returns a hash reference. The keys of the hash are the letters
      <span class="Li">&quot;D&quot;</span>,
      <span class="Li">&quot;S&quot;</span>,
      <span class="Li">&quot;L&quot;</span>,
      <span class="Li">&quot;I&quot;</span>, and &lt;P&gt;, for development
      status, support level, language, interface and public licence
      respectively. The data for the DSLIP status are collected by
      pause.perl.org when authors register their namespaces. The values of the 5
      hash elements are one-character words whose meaning is described in the
      table below. There are also 5 hash elements
      <span class="Li">&quot;DV&quot;</span>,
      <span class="Li">&quot;SV&quot;</span>,
      <span class="Li">&quot;LV&quot;</span>,
      <span class="Li">&quot;IV&quot;</span>, and &lt;PV&gt; that carry a more
      verbose value of the 5 status variables.
    <p class="Pp">Where the 'DSLIP' characters have the following meanings:</p>
    <p class="Pp"></p>
    <pre>
  D - Development Stage  (Note: *NO IMPLIED TIMESCALES*):
    i   - Idea, listed to gain consensus or as a placeholder
    c   - under construction but pre-alpha (not yet released)
    a/b - Alpha/Beta testing
    R   - Released
    M   - Mature (no rigorous definition)
    S   - Standard, supplied with Perl 5

  S - Support Level:
    m   - Mailing-list
    d   - Developer
    u   - Usenet newsgroup comp.lang.perl.modules
    n   - None known, try comp.lang.perl.modules
    a   - abandoned; volunteers welcome to take over maintenance

  L - Language Used:
    p   - Perl-only, no compiler needed, should be platform independent
    c   - C and perl, a C compiler will be needed
    h   - Hybrid, written in perl with optional C code, no compiler needed
    +   - C++ and perl, a C++ compiler will be needed
    o   - perl and another language other than C or C++

  I - Interface Style
    f   - plain Functions, no references used
    h   - hybrid, object and function interfaces available
    n   - no interface at all (huh?)
    r   - some use of unblessed References or ties
    O   - Object oriented using blessed references and/or inheritance

  P - Public License
    p   - Standard-Perl: user may choose between GPL and Artistic
    g   - GPL: GNU General Public License
    l   - LGPL: &quot;GNU Lesser General Public License&quot; (previously known as
          &quot;GNU Library General Public License&quot;)
    b   - BSD: The BSD License
    a   - Artistic license alone
    2   - Artistic license 2.0 or later
    o   - open source: approved by www.opensource.org
    d   - allows distribution without restrictions
    r   - restricted distribution
    n   - no license at all
    </pre>
  </dd>
  <dt id="CPAN::Module::force($method,@args)"><a class="permalink" href="#CPAN::Module::force($method,@args)">CPAN::Module::force($method,@args)</a></dt>
  <dd>Forces CPAN to perform a task it would normally refuse to do. Force takes
      as arguments a method name to be invoked and any number of additional
      arguments to pass that method. The internals of the object get the needed
      changes so that CPAN.pm does not refuse to take the action. See also the
      section above on the <span class="Li">&quot;force&quot;</span> and the
      <span class="Li">&quot;fforce&quot;</span> pragma.</dd>
  <dt id="CPAN::Module::get()"><a class="permalink" href="#CPAN::Module::get()"><b>CPAN::Module::get()</b></a></dt>
  <dd>Runs a get on the distribution associated with this module.</dd>
  <dt id="CPAN::Module::inst_file()"><a class="permalink" href="#CPAN::Module::inst_file()"><b>CPAN::Module::inst_file()</b></a></dt>
  <dd>Returns the filename of the module found in <span class="Li">@INC</span>.
      The first file found is reported, just as perl itself stops searching
      <span class="Li">@INC</span> once it finds a module.</dd>
  <dt id="CPAN::Module::available_file()"><a class="permalink" href="#CPAN::Module::available_file()"><b>CPAN::Module::available_file()</b></a></dt>
  <dd>Returns the filename of the module found in PERL5LIB or
      <span class="Li">@INC</span>. The first file found is reported. The
      advantage of this method over
      <span class="Li">&quot;inst_file&quot;</span> is that modules that have
      been tested but not yet installed are included because PERL5LIB keeps
      track of tested modules.</dd>
  <dt id="CPAN::Module::inst_version()"><a class="permalink" href="#CPAN::Module::inst_version()"><b>CPAN::Module::inst_version()</b></a></dt>
  <dd>Returns the version number of the installed module in readable
    format.</dd>
  <dt id="CPAN::Module::available_version()"><a class="permalink" href="#CPAN::Module::available_version()"><b>CPAN::Module::available_version()</b></a></dt>
  <dd>Returns the version number of the available module in readable
    format.</dd>
  <dt id="CPAN::Module::install()"><a class="permalink" href="#CPAN::Module::install()"><b>CPAN::Module::install()</b></a></dt>
  <dd>Runs an <span class="Li">&quot;install&quot;</span> on the distribution
      associated with this module.</dd>
  <dt id="CPAN::Module::look()"><a class="permalink" href="#CPAN::Module::look()"><b>CPAN::Module::look()</b></a></dt>
  <dd>Changes to the directory where the distribution associated with this
      module has been unpacked and opens a subshell there. Exiting the subshell
      returns.</dd>
  <dt id="CPAN::Module::make()"><a class="permalink" href="#CPAN::Module::make()"><b>CPAN::Module::make()</b></a></dt>
  <dd>Runs a <span class="Li">&quot;make&quot;</span> on the distribution
      associated with this module.</dd>
  <dt id="CPAN::Module::manpage_headline()"><a class="permalink" href="#CPAN::Module::manpage_headline()"><b>CPAN::Module::manpage_headline()</b></a></dt>
  <dd>If module is installed, peeks into the module's manpage, reads the
      headline, and returns it. Moreover, if the module has been downloaded
      within this session, does the equivalent on the downloaded module even if
      it hasn't been installed yet.</dd>
  <dt id="CPAN::Module::perldoc()"><a class="permalink" href="#CPAN::Module::perldoc()"><b>CPAN::Module::perldoc()</b></a></dt>
  <dd>Runs a <span class="Li">&quot;perldoc&quot;</span> on this module.</dd>
  <dt id="CPAN::Module::readme()"><a class="permalink" href="#CPAN::Module::readme()"><b>CPAN::Module::readme()</b></a></dt>
  <dd>Runs a <span class="Li">&quot;readme&quot;</span> on the distribution
      associated with this module.</dd>
  <dt id="CPAN::Module::reports()"><a class="permalink" href="#CPAN::Module::reports()"><b>CPAN::Module::reports()</b></a></dt>
  <dd>Calls the <b>reports()</b> method on the associated distribution
    object.</dd>
  <dt id="CPAN::Module::test()"><a class="permalink" href="#CPAN::Module::test()"><b>CPAN::Module::test()</b></a></dt>
  <dd>Runs a <span class="Li">&quot;test&quot;</span> on the distribution
      associated with this module.</dd>
  <dt id="CPAN::Module::uptodate()"><a class="permalink" href="#CPAN::Module::uptodate()"><b>CPAN::Module::uptodate()</b></a></dt>
  <dd>Returns 1 if the module is installed and up-to-date.</dd>
  <dt id="CPAN::Module::userid()"><a class="permalink" href="#CPAN::Module::userid()"><b>CPAN::Module::userid()</b></a></dt>
  <dd>Returns the author's ID of the module.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Cache_Manager"><a class="permalink" href="#Cache_Manager">Cache
  Manager</a></h2>
<p class="Pp">Currently the cache manager only keeps track of the build
    directory ($CPAN::Config-&gt;{build_dir}). It is a simple FIFO mechanism
    that deletes complete directories below
    <span class="Li">&quot;build_dir&quot;</span> as soon as the size of all
    directories there gets bigger than
    <span class="Li">$CPAN::Config</span>-&gt;{build_cache} (in MB). The
    contents of this cache may be used for later re-installations that you
    intend to do manually, but will never be trusted by CPAN itself. This is due
    to the fact that the user might use these directories for building modules
    on different architectures.</p>
<p class="Pp">There is another directory ($CPAN::Config-&gt;{keep_source_where})
    where the original distribution files are kept. This directory is not
    covered by the cache manager and must be controlled by the user. If you
    choose to have the same directory as build_dir and as keep_source_where
    directory, then your sources will be deleted with the same fifo
  mechanism.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Bundles"><a class="permalink" href="#Bundles">Bundles</a></h2>
<p class="Pp">A bundle is just a perl module in the namespace Bundle:: that does
    not define any functions or methods. It usually only contains
  documentation.</p>
<p class="Pp">It starts like a perl module with a package declaration and a
    <span class="Li">$VERSION</span> variable. After that the pod section looks
    like any other pod with the only difference being that <i>one special pod
    section</i> exists starting with (verbatim):</p>
<p class="Pp"></p>
<pre>
    =head1 CONTENTS
</pre>
<p class="Pp">In this pod section each line obeys the format</p>
<p class="Pp"></p>
<pre>
        Module_Name [Version_String] [- optional text]
</pre>
<p class="Pp">The only required part is the first field, the name of a module
    (e.g. Foo::Bar, i.e. <i>not</i> the name of the distribution file). The rest
    of the line is optional. The comment part is delimited by a dash just as in
    the man page header.</p>
<p class="Pp">The distribution of a bundle should follow the same convention as
    other distributions.</p>
<p class="Pp">Bundles are treated specially in the CPAN package. If you say
    'install Bundle::Tkkit' (assuming such a bundle exists), CPAN will install
    all the modules in the CONTENTS section of the pod. You can install your own
    Bundles locally by placing a conformant Bundle file somewhere into your
    <span class="Li">@INC</span> path. The <b>autobundle()</b> command which is
    available in the shell interface does that for you by including all
    currently installed modules in a snapshot bundle file.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="PREREQUISITES"><a class="permalink" href="#PREREQUISITES">PREREQUISITES</a></h1>
<p class="Pp">The CPAN program is trying to depend on as little as possible so
    the user can use it in hostile environment. It works better the more goodies
    the environment provides. For example if you try in the CPAN shell</p>
<p class="Pp"></p>
<pre>
  install Bundle::CPAN
</pre>
<p class="Pp">or</p>
<p class="Pp"></p>
<pre>
  install Bundle::CPANxxl
</pre>
<p class="Pp">you will find the shell more convenient than the bare shell
    before.</p>
<p class="Pp">If you have a local mirror of CPAN and can access all files with
    &quot;file:&quot; URLs, then you only need a perl later than perl5.003 to
    run this module. Otherwise Net::FTP is strongly recommended. LWP may be
    required for non-UNIX systems, or if your nearest CPAN site is associated
    with a URL that is not <span class="Li">&quot;ftp:&quot;</span>.</p>
<p class="Pp">If you have neither Net::FTP nor LWP, there is a fallback
    mechanism implemented for an external ftp command or for an external lynx
    command.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="UTILITIES"><a class="permalink" href="#UTILITIES">UTILITIES</a></h1>
<section class="Ss">
<h2 class="Ss" id="Finding_packages_and_"><a class="permalink" href="#Finding_packages_and_">Finding
  packages and VERSION</a></h2>
<p class="Pp">This module presumes that all packages on CPAN</p>
<ul class="Bl-bullet">
  <li>declare their <span class="Li">$VERSION</span> variable in an easy to
      parse manner. This prerequisite can hardly be relaxed because it consumes
      far too much memory to load all packages into the running program just to
      determine the <span class="Li">$VERSION</span> variable. Currently all
      programs that are dealing with version use something like this
    <p class="Pp"></p>
    <pre>
    perl -MExtUtils::MakeMaker -le \
        'print MM-&gt;parse_version(shift)' filename
    </pre>
    <p class="Pp">If you are author of a package and wonder if your
        <span class="Li">$VERSION</span> can be parsed, please try the above
        method.</p>
  </li>
  <li>come as compressed or gzipped tarfiles or as zip files and contain a
      <span class="Li">&quot;Makefile.PL&quot;</span> or
      <span class="Li">&quot;Build.PL&quot;</span> (well, we try to handle a bit
      more, but with little enthusiasm).</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Debugging"><a class="permalink" href="#Debugging">Debugging</a></h2>
<p class="Pp">Debugging this module is more than a bit complex due to
    interference from the software producing the indices on CPAN, the mirroring
    process on CPAN, packaging, configuration, synchronicity, and even (gasp!)
    due to bugs within the CPAN.pm module itself.</p>
<p class="Pp">For debugging the code of CPAN.pm itself in interactive mode, some
    debugging aid can be turned on for most packages within CPAN.pm with one
  of</p>
<dl class="Bl-tag">
  <dt id="o"><a class="permalink" href="#o">o debug package...</a></dt>
  <dd>sets debug mode for packages.</dd>
  <dt id="o~2"><a class="permalink" href="#o~2">o debug -package...</a></dt>
  <dd>unsets debug mode for packages.</dd>
  <dt id="o~3"><a class="permalink" href="#o~3">o debug all</a></dt>
  <dd>turns debugging on for all packages.</dd>
  <dt id="o~4"><a class="permalink" href="#o~4">o debug number</a></dt>
  <dd></dd>
</dl>
<p class="Pp">which sets the debugging packages directly. Note that
    <span class="Li">&quot;o debug 0&quot;</span> turns debugging off.</p>
<p class="Pp">What seems a successful strategy is the combination of
    <span class="Li">&quot;reload</span> <span class="Li">cpan&quot;</span> and
    the debugging switches. Add a new debug statement while running in the shell
    and then issue a <span class="Li">&quot;reload cpan&quot;</span> and see the
    new debugging messages immediately without losing the current context.</p>
<p class="Pp"><span class="Li">&quot;o debug&quot;</span> without an argument
    lists the valid package names and the current set of packages in debugging
    mode. <span class="Li">&quot;o debug&quot;</span> has built-in completion
    support.</p>
<p class="Pp">For debugging of CPAN data there is the
    <span class="Li">&quot;dump&quot;</span> command which takes the same
    arguments as make/test/install and outputs each object's Data::Dumper dump.
    If an argument looks like a perl variable and contains one of
    <span class="Li">&quot;$&quot;</span>, <span class="Li">&quot;@&quot;</span>
    or <span class="Li">&quot;%&quot;</span>, it is <b>eval()</b>ed and fed to
    Data::Dumper directly.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Floppy,_Zip,_Offline_Mode"><a class="permalink" href="#Floppy,_Zip,_Offline_Mode">Floppy,
  Zip, Offline Mode</a></h2>
<p class="Pp">CPAN.pm works nicely without network access, too. If you maintain
    machines that are not networked at all, you should consider working with
    <span class="Li">&quot;file:&quot;</span> URLs. You'll have to collect your
    modules somewhere first. So you might use CPAN.pm to put together all you
    need on a networked machine. Then copy the
    <span class="Li">$CPAN::Config</span>-&gt;{keep_source_where} (but not
    <span class="Li">$CPAN::Config</span>-&gt;{build_dir}) directory on a
    floppy. This floppy is kind of a personal CPAN. CPAN.pm on the non-networked
    machines works nicely with this floppy. See also below the paragraph about
    CD-ROM support.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Basic_Utilities_for_Programmers"><a class="permalink" href="#Basic_Utilities_for_Programmers">Basic
  Utilities for Programmers</a></h2>
<dl class="Bl-tag">
  <dt id="has_inst($module)"><a class="permalink" href="#has_inst($module)">has_inst($module)</a></dt>
  <dd>Returns true if the module is installed. Used to load all modules into the
      running CPAN.pm that are considered optional. The config variable
      <span class="Li">&quot;dontload_list&quot;</span> intercepts the
      <span class="Li">&quot;has_inst()&quot;</span> call such that an optional
      module is not loaded despite being available. For example, the following
      command will prevent <span class="Li">&quot;YAML.pm&quot;</span> from
      being loaded:
    <p class="Pp"></p>
    <pre>
    cpan&gt; o conf dontload_list push YAML
    </pre>
    <p class="Pp">See the source for details.</p>
  </dd>
  <dt id="use_inst($module)"><a class="permalink" href="#use_inst($module)">use_inst($module)</a></dt>
  <dd>Similary to <b>has_inst()</b> tries to load optional library but also dies
      if library is not available</dd>
  <dt id="has_usable($module)"><a class="permalink" href="#has_usable($module)">has_usable($module)</a></dt>
  <dd>Returns true if the module is installed and in a usable state. Only useful
      for a handful of modules that are used internally. See the source for
      details.</dd>
  <dt id="instance($module)"><a class="permalink" href="#instance($module)">instance($module)</a></dt>
  <dd>The constructor for all the singletons used to represent modules,
      distributions, authors, and bundles. If the object already exists, this
      method returns the object; otherwise, it calls the constructor.</dd>
  <dt id="frontend()"><a class="permalink" href="#frontend()"><b>frontend()</b></a></dt>
  <dd></dd>
  <dt id="frontend($new_frontend)"><a class="permalink" href="#frontend($new_frontend)">frontend($new_frontend)</a></dt>
  <dd>Getter/setter for frontend object. Method just allows to subclass
    CPAN.pm.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SECURITY"><a class="permalink" href="#SECURITY">SECURITY</a></h1>
<p class="Pp">There's no strong security layer in CPAN.pm. CPAN.pm helps you to
    install foreign, unmasked, unsigned code on your machine. We compare to a
    checksum that comes from the net just as the distribution file itself. But
    we try to make it easy to add security on demand:</p>
<section class="Ss">
<h2 class="Ss" id="Cryptographically_signed_modules"><a class="permalink" href="#Cryptographically_signed_modules">Cryptographically
  signed modules</a></h2>
<p class="Pp">Since release 1.77, CPAN.pm has been able to verify
    cryptographically signed module distributions using Module::Signature. The
    CPAN modules can be signed by their authors, thus giving more security. The
    simple unsigned MD5 checksums that were used before by CPAN protect mainly
    against accidental file corruption.</p>
<p class="Pp">You will need to have Module::Signature installed, which in turn
    requires that you have at least one of Crypt::OpenPGP module or the
    command-line <i>gpg</i> tool installed.</p>
<p class="Pp">You will also need to be able to connect over the Internet to the
    public key servers, like pgp.mit.edu, and their port 11731 (the HKP
    protocol).</p>
<p class="Pp">The configuration parameter check_sigs is there to turn signature
    checking on or off.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="EXPORT"><a class="permalink" href="#EXPORT">EXPORT</a></h1>
<p class="Pp">Most functions in package CPAN are exported by default. The reason
    for this is that the primary use is intended for the cpan shell or for
    one-liners.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT"><a class="permalink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<p class="Pp">When the CPAN shell enters a subshell via the look command, it
    sets the environment CPAN_SHELL_LEVEL to 1, or increments that variable if
    it is already set.</p>
<p class="Pp">When CPAN runs, it sets the environment variable
    PERL5_CPAN_IS_RUNNING to the ID of the running process. It also sets
    PERL5_CPANPLUS_IS_RUNNING to prevent runaway processes which could happen
    with older versions of Module::Install.</p>
<p class="Pp">When running <span class="Li">&quot;perl Makefile.PL&quot;</span>,
    the environment variable
    <span class="Li">&quot;PERL5_CPAN_IS_EXECUTING&quot;</span> is set to the
    full path of the <span class="Li">&quot;Makefile.PL&quot;</span> that is
    being executed. This prevents runaway processes with newer versions of
    Module::Install.</p>
<p class="Pp">When the config variable ftp_passive is set, all downloads will be
    run with the environment variable FTP_PASSIVE set to this value. This is in
    general a good idea as it influences both Net::FTP and LWP based
    connections. The same effect can be achieved by starting the cpan shell with
    this environment variable set. For Net::FTP alone, one can also always set
    passive mode by running libnetcfg.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="POPULATE_AN_INSTALLATION_WITH_LOTS_OF_MODULES"><a class="permalink" href="#POPULATE_AN_INSTALLATION_WITH_LOTS_OF_MODULES">POPULATE
  AN INSTALLATION WITH LOTS OF MODULES</a></h1>
<p class="Pp">Populating a freshly installed perl with one's favorite modules is
    pretty easy if you maintain a private bundle definition file. To get a
    useful blueprint of a bundle definition file, the command autobundle can be
    used on the CPAN shell command line. This command writes a bundle definition
    file for all modules installed for the current perl interpreter. It's
    recommended to run this command once only, and from then on maintain the
    file manually under a private name, say Bundle/my_bundle.pm. With a clever
    bundle file you can then simply say</p>
<p class="Pp"></p>
<pre>
    cpan&gt; install Bundle::my_bundle
</pre>
<p class="Pp">then answer a few questions and go out for coffee (possibly even
    in a different city).</p>
<p class="Pp">Maintaining a bundle definition file means keeping track of two
    things: dependencies and interactivity. CPAN.pm sometimes fails on
    calculating dependencies because not all modules define all MakeMaker
    attributes correctly, so a bundle definition file should specify
    prerequisites as early as possible. On the other hand, it's annoying that so
    many distributions need some interactive configuring. So what you can try to
    accomplish in your private bundle file is to have the packages that need to
    be configured early in the file and the gentle ones later, so you can go out
    for coffee after a few minutes and leave CPAN.pm to churn away
  unattended.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="WORKING_WITH_CPAN.pm_BEHIND_FIREWALLS"><a class="permalink" href="#WORKING_WITH_CPAN.pm_BEHIND_FIREWALLS">WORKING
  WITH CPAN.pm BEHIND FIREWALLS</a></h1>
<p class="Pp">Thanks to Graham Barr for contributing the following paragraphs
    about the interaction between perl, and various firewall configurations. For
    further information on firewalls, it is recommended to consult the
    documentation that comes with the <i>ncftp</i> program. If you are unable to
    go through the firewall with a simple Perl setup, it is likely that you can
    configure <i>ncftp</i> so that it works through your firewall.</p>
<section class="Ss">
<h2 class="Ss" id="Three_basic_types_of_firewalls"><a class="permalink" href="#Three_basic_types_of_firewalls">Three
  basic types of firewalls</a></h2>
<p class="Pp">Firewalls can be categorized into three basic types.</p>
<dl class="Bl-tag">
  <dt id="http"><a class="permalink" href="#http">http firewall</a></dt>
  <dd>This is when the firewall machine runs a web server, and to access the
      outside world, you must do so via that web server. If you set environment
      variables like http_proxy or ftp_proxy to values beginning with http://,
      or in your web browser you've proxy information set, then you know you are
      running behind an http firewall.
    <p class="Pp">To access servers outside these types of firewalls with perl
        (even for ftp), you need LWP or HTTP::Tiny.</p>
  </dd>
  <dt id="ftp"><a class="permalink" href="#ftp">ftp firewall</a></dt>
  <dd>This where the firewall machine runs an ftp server. This kind of firewall
      will only let you access ftp servers outside the firewall. This is usually
      done by connecting to the firewall with ftp, then entering a username like
      &quot;user@outside.host.com&quot;.
    <p class="Pp">To access servers outside these type of firewalls with perl,
        you need Net::FTP.</p>
  </dd>
  <dt id="One-way"><a class="permalink" href="#One-way">One-way
    visibility</a></dt>
  <dd>One-way visibility means these firewalls try to make themselves invisible
      to users inside the firewall. An FTP data connection is normally created
      by sending your IP address to the remote server and then listening for the
      return connection. But the remote server will not be able to connect to
      you because of the firewall. For these types of firewall, FTP connections
      need to be done in a passive mode.
    <p class="Pp">There are two that I can think off.</p>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="SOCKS"><a class="permalink" href="#SOCKS">SOCKS</a></dt>
  <dd>If you are using a SOCKS firewall, you will need to compile perl and link
      it with the SOCKS library. This is what is normally called a 'socksified'
      perl. With this executable you will be able to connect to servers outside
      the firewall as if it were not there.</dd>
  <dt id="IP"><a class="permalink" href="#IP">IP Masquerade</a></dt>
  <dd>This is when the firewall implemented in the kernel (via NAT, or
      networking address translation), it allows you to hide a complete network
      behind one IP address. With this firewall no special compiling is needed
      as you can access hosts directly.
    <p class="Pp">For accessing ftp servers behind such firewalls you usually
        need to set the environment variable
        <span class="Li">&quot;FTP_PASSIVE&quot;</span> or the config variable
        ftp_passive to a true value.</p>
  </dd>
</dl>
</div>
<div class="Bd-indent"></div>
</section>
<section class="Ss">
<h2 class="Ss" id="Configuring_lynx_or_ncftp_for_going_through_a_firewall"><a class="permalink" href="#Configuring_lynx_or_ncftp_for_going_through_a_firewall">Configuring
  lynx or ncftp for going through a firewall</a></h2>
<p class="Pp">If you can go through your firewall with e.g. lynx, presumably
    with a command such as</p>
<p class="Pp"></p>
<pre>
    /usr/local/bin/lynx -pscott:tiger
</pre>
<p class="Pp">then you would configure CPAN.pm with the command</p>
<p class="Pp"></p>
<pre>
    o conf lynx &quot;/usr/local/bin/lynx -pscott:tiger&quot;
</pre>
<p class="Pp">That's all. Similarly for ncftp or ftp, you would configure
    something like</p>
<p class="Pp"></p>
<pre>
    o conf ncftp &quot;/usr/bin/ncftp -f /home/scott/ncftplogin.cfg&quot;
</pre>
<p class="Pp">Your mileage may vary...</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="FAQ"><a class="permalink" href="#FAQ">FAQ</a></h1>
<dl class="Bl-tag">
  <dt>1)</dt>
  <dd>I installed a new version of module X but CPAN keeps saying, I have the
      old version installed
    <p class="Pp">Probably you <b>do</b> have the old version installed. This
        can happen if a module installs itself into a different directory in the
        <span class="Li">@INC</span> path than it was previously installed. This
        is not really a CPAN.pm problem, you would have the same problem when
        installing the module manually. The easiest way to prevent this
        behaviour is to add the argument
        <span class="Li">&quot;UNINST=1&quot;</span> to the
        <span class="Li">&quot;make install&quot;</span> call, and that is why
        many people add this argument permanently by configuring</p>
    <p class="Pp"></p>
    <pre>
  o conf make_install_arg UNINST=1
    </pre>
  </dd>
  <dt>2)</dt>
  <dd>So why is UNINST=1 not the default?
    <p class="Pp">Because there are people who have their precise expectations
        about who may install where in the <span class="Li">@INC</span> path and
        who uses which <span class="Li">@INC</span> array. In fine tuned
        environments <span class="Li">&quot;UNINST=1&quot;</span> can cause
        damage.</p>
  </dd>
  <dt>3)</dt>
  <dd>I want to clean up my mess, and install a new perl along with all modules
      I have. How do I go about it?
    <p class="Pp">Run the autobundle command for your old perl and optionally
        rename the resulting bundle file (e.g. Bundle/mybundle.pm), install the
        new perl with the Configure option prefix, e.g.</p>
    <p class="Pp"></p>
    <pre>
    ./Configure -Dprefix=/usr/local/perl-5.6.78.9
    </pre>
    <p class="Pp">Install the bundle file you produced in the first step with
        something like</p>
    <p class="Pp"></p>
    <pre>
    cpan&gt; install Bundle::mybundle
    </pre>
    <p class="Pp">and you're done.</p>
  </dd>
  <dt>4)</dt>
  <dd>When I install bundles or multiple modules with one command there is too
      much output to keep track of.
    <p class="Pp">You may want to configure something like</p>
    <p class="Pp"></p>
    <pre>
  o conf make_arg &quot;| tee -ai /root/.cpan/logs/make.out&quot;
  o conf make_install_arg &quot;| tee -ai /root/.cpan/logs/make_install.out&quot;
    </pre>
    <p class="Pp">so that STDOUT is captured in a file for later inspection.</p>
  </dd>
  <dt>5)</dt>
  <dd>I am not root, how can I install a module in a personal directory?
    <p class="Pp">As of CPAN 1.9463, if you do not have permission to write the
        default perl library directories, CPAN's configuration process will ask
        you whether you want to bootstrap &lt;local::lib&gt;, which makes
        keeping a personal perl library directory easy.</p>
    <p class="Pp">Another thing you should bear in mind is that the UNINST
        parameter can be dangerous when you are installing into a private area
        because you might accidentally remove modules that other people depend
        on that are not using the private area.</p>
  </dd>
  <dt>6)</dt>
  <dd>How to get a package, unwrap it, and make a change before building it?
    <p class="Pp">Have a look at the <span class="Li">&quot;look&quot;</span>
        (!) command.</p>
  </dd>
  <dt>7)</dt>
  <dd>I installed a Bundle and had a couple of fails. When I retried, everything
      resolved nicely. Can this be fixed to work on first try?
    <p class="Pp">The reason for this is that CPAN does not know the
        dependencies of all modules when it starts out. To decide about the
        additional items to install, it just uses data found in the META.yml
        file or the generated Makefile. An undetected missing piece breaks the
        process. But it may well be that your Bundle installs some prerequisite
        later than some depending item and thus your second try is able to
        resolve everything. Please note, CPAN.pm does not know the dependency
        tree in advance and cannot sort the queue of things to install in a
        topologically correct order. It resolves perfectly well <b>if</b> all
        modules declare the prerequisites correctly with the PREREQ_PM attribute
        to MakeMaker or the <span class="Li">&quot;requires&quot;</span> stanza
        of Module::Build. For bundles which fail and you need to install often,
        it is recommended to sort the Bundle definition file manually.</p>
  </dd>
  <dt>8)</dt>
  <dd>In our intranet, we have many modules for internal use. How can I
      integrate these modules with CPAN.pm but without uploading the modules to
      CPAN?
    <p class="Pp">Have a look at the CPAN::Site module.</p>
  </dd>
  <dt>9)</dt>
  <dd>When I run CPAN's shell, I get an error message about things in my
      <span class="Li">&quot;/etc/inputrc&quot;</span> (or
      <span class="Li">&quot;~/.inputrc&quot;</span>) file.
    <p class="Pp">These are readline issues and can only be fixed by studying
        readline configuration on your architecture and adjusting the referenced
        file accordingly. Please make a backup of the
        <span class="Li">&quot;/etc/inputrc&quot;</span> or
        <span class="Li">&quot;~/.inputrc&quot;</span> and edit them. Quite
        often harmless changes like uppercasing or lowercasing some arguments
        solves the problem.</p>
  </dd>
  <dt>10)</dt>
  <dd>Some authors have strange characters in their names.
    <p class="Pp">Internally CPAN.pm uses the UTF-8 charset. If your terminal is
        expecting ISO-8859-1 charset, a converter can be activated by setting
        term_is_latin to a true value in your config file. One way of doing so
        would be</p>
    <p class="Pp"></p>
    <pre>
    cpan&gt; o conf term_is_latin 1
    </pre>
    <p class="Pp">If other charset support is needed, please file a bug report
        against CPAN.pm at rt.cpan.org and describe your needs. Maybe we can
        extend the support or maybe UTF-8 terminals become widely available.</p>
    <p class="Pp">Note: this config variable is deprecated and will be removed
        in a future version of CPAN.pm. It will be replaced with the conventions
        around the family of <span class="Li">$LANG</span> and
        <span class="Li">$LC_</span>* environment variables.</p>
  </dd>
  <dt>11)</dt>
  <dd>When an install fails for some reason and then I correct the error
      condition and retry, CPAN.pm refuses to install the module, saying
      <span class="Li">&quot;Already tried without success&quot;</span>.
    <p class="Pp">Use the force pragma like so</p>
    <p class="Pp"></p>
    <pre>
  force install Foo::Bar
    </pre>
    <p class="Pp">Or you can use</p>
    <p class="Pp"></p>
    <pre>
  look Foo::Bar
    </pre>
    <p class="Pp">and then <span class="Li">&quot;make install&quot;</span>
        directly in the subshell.</p>
  </dd>
  <dt>12)</dt>
  <dd>How do I install a &quot;DEVELOPER RELEASE&quot; of a module?
    <p class="Pp">By default, CPAN will install the latest non-developer release
        of a module. If you want to install a dev release, you have to specify
        the partial path starting with the author id to the tarball you wish to
        install, like so:</p>
    <p class="Pp"></p>
    <pre>
    cpan&gt; install KWILLIAMS/Module-Build-0.27_07.tar.gz
    </pre>
    <p class="Pp">Note that you can use the
        <span class="Li">&quot;ls&quot;</span> command to get this path
      listed.</p>
  </dd>
  <dt>13)</dt>
  <dd>How do I install a module and all its dependencies from the commandline,
      without being prompted for anything, despite my CPAN configuration (or
      lack thereof)?
    <p class="Pp">CPAN uses ExtUtils::MakeMaker's <b>prompt()</b> function to
        ask its questions, so if you set the PERL_MM_USE_DEFAULT environment
        variable, you shouldn't be asked any questions at all (assuming the
        modules you are installing are nice about obeying that variable as
        well):</p>
    <p class="Pp"></p>
    <pre>
    % PERL_MM_USE_DEFAULT=1 perl -MCPAN -e 'install My::Module'
    </pre>
  </dd>
  <dt>14)</dt>
  <dd>How do I create a Module::Build based Build.PL derived from an
      ExtUtils::MakeMaker focused Makefile.PL?
    <p class="Pp">http://search.cpan.org/dist/Module-Build-Convert/</p>
  </dd>
  <dt>15)</dt>
  <dd>I'm frequently irritated with the CPAN shell's inability to help me select
      a good mirror.
    <p class="Pp">CPAN can now help you select a &quot;good&quot; mirror, based
        on which ones have the lowest 'ping' round-trip times. From the shell,
        use the command 'o conf init urllist' and allow CPAN to automatically
        select mirrors for you.</p>
    <p class="Pp">Beyond that help, the urllist config parameter is yours. You
        can add and remove sites at will. You should find out which sites have
        the best up-to-dateness, bandwidth, reliability, etc. and are
        topologically close to you. Some people prefer fast downloads, others
        up-to-dateness, others reliability. You decide which to try in which
        order.</p>
    <p class="Pp">Henk P. Penning maintains a site that collects data about CPAN
        sites:</p>
    <p class="Pp"></p>
    <pre>
  http://mirrors.cpan.org/
    </pre>
    <p class="Pp">Also, feel free to play with experimental features. Run</p>
    <p class="Pp"></p>
    <pre>
  o conf init randomize_urllist ftpstats_period ftpstats_size
    </pre>
    <p class="Pp">and choose your favorite parameters. After a few downloads
        running the <span class="Li">&quot;hosts&quot;</span> command will
        probably assist you in choosing the best mirror sites.</p>
  </dd>
  <dt>16)</dt>
  <dd>Why do I get asked the same questions every time I start the shell?
    <p class="Pp">You can make your configuration changes permanent by calling
        the command <span class="Li">&quot;o conf commit&quot;</span>.
        Alternatively set the <span class="Li">&quot;auto_commit&quot;</span>
        variable to true by running <span class="Li">&quot;o conf init
        auto_commit&quot;</span> and answering the following question with
      yes.</p>
  </dd>
  <dt>17)</dt>
  <dd>Older versions of CPAN.pm had the original root directory of all tarballs
      in the build directory. Now there are always random characters appended to
      these directory names. Why was this done?
    <p class="Pp">The random characters are provided by File::Temp and ensure
        that each module's individual build directory is unique. This makes
        running CPAN.pm in concurrent processes simultaneously safe.</p>
  </dd>
  <dt>18)</dt>
  <dd>Speaking of the build directory. Do I have to clean it up myself?
    <p class="Pp">You have the choice to set the config variable
        <span class="Li">&quot;scan_cache&quot;</span> to
        <span class="Li">&quot;never&quot;</span>. Then you must clean it up
        yourself. The other possible values,
        <span class="Li">&quot;atstart&quot;</span> and
        <span class="Li">&quot;atexit&quot;</span> clean up the build directory
        when you start (or more precisely, after the first extraction into the
        build directory) or exit the CPAN shell, respectively. If you never
        start up the CPAN shell, you probably also have to clean up the build
        directory yourself.</p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="COMPATIBILITY"><a class="permalink" href="#COMPATIBILITY">COMPATIBILITY</a></h1>
<section class="Ss">
<h2 class="Ss">OLD PERL VERSIONS</h2>
<p class="Pp">CPAN.pm is regularly tested to run under 5.005 and assorted newer
    versions. It is getting more and more difficult to get the minimal
    prerequisites working on older perls. It is close to impossible to get the
    whole Bundle::CPAN working there. If you're in the position to have only
    these old versions, be advised that CPAN is designed to work fine without
    the Bundle::CPAN installed.</p>
<p class="Pp">To get things going, note that GBARR/Scalar-List-Utils-1.18.tar.gz
    is compatible with ancient perls and that File::Temp is listed as a
    prerequisite but CPAN has reasonable workarounds if it is missing.</p>
</section>
<section class="Ss">
<h2 class="Ss">CPANPLUS</h2>
<p class="Pp">This module and its competitor, the CPANPLUS module, are both much
    cooler than the other. CPAN.pm is older. CPANPLUS was designed to be more
    modular, but it was never intended to be compatible with CPAN.pm.</p>
</section>
<section class="Ss">
<h2 class="Ss">CPANMINUS</h2>
<p class="Pp">In the year 2010 App::cpanminus was launched as a new approach to
    a cpan shell with a considerably smaller footprint. Very cool stuff.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SECURITY_ADVICE"><a class="permalink" href="#SECURITY_ADVICE">SECURITY
  ADVICE</a></h1>
<p class="Pp">This software enables you to upgrade software on your computer and
    so is inherently dangerous because the newly installed software may contain
    bugs and may alter the way your computer works or even make it unusable.
    Please consider backing up your data before every upgrade.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">Please report bugs via &lt;http://rt.cpan.org/&gt;</p>
<p class="Pp">Before submitting a bug, please make sure that the traditional
    method of building a Perl module package from a shell by following the
    installation instructions of that package still works in your
  environment.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Andreas Koenig
    <span class="Li">&quot;&lt;andk@cpan.org&gt;&quot;</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="LICENSE"><a class="permalink" href="#LICENSE">LICENSE</a></h1>
<p class="Pp">This program is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself.</p>
<p class="Pp">See &lt;http://www.perl.com/perl/misc/Artistic.html&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="TRANSLATIONS"><a class="permalink" href="#TRANSLATIONS">TRANSLATIONS</a></h1>
<p class="Pp">Kawai,Takanori provides a Japanese translation of a very old
    version of this manpage at
    &lt;http://homepage3.nifty.com/hippo2000/perltips/CPAN.htm&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">Many people enter the CPAN shell by running the cpan utility
    program which is installed in the same directory as perl itself. So if you
    have this directory in your PATH variable (or some equivalent in your
    operating system) then typing <span class="Li">&quot;cpan&quot;</span> in a
    console window will work for you as well. Above that the utility provides
    several commandline shortcuts.</p>
<p class="Pp">melezhik (Alexey) sent me a link where he published a chef recipe
    to work with CPAN.pm: http://community.opscode.com/cookbooks/cpan.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-10-21</td>
    <td class="foot-os">perl v5.30.3</td>
  </tr>
</table>
</body>
</html>
