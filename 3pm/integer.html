<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>integer(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">integer(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">integer(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">integer - Perl pragma to use integer arithmetic instead of
    floating point</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>    use integer;
    $x = 10/3;
    # $x is now 3, not 3.33333333333333333
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This tells the compiler to use integer operations from here to the
    end of the enclosing BLOCK. On many machines, this doesn't matter a great
    deal for most computations, but on those without floating point hardware, it
    can make a big difference in performance.</p>
<p class="Pp">Note that this only affects how most of the arithmetic and
    relational <b>operators</b> handle their operands and results, and
    <b>not</b> how all numbers everywhere are treated. Specifically,
    <span class="Li">&quot;use integer;&quot;</span> has the effect that before
    computing the results of the arithmetic operators (+, -, *, /, %, +=, -=,
    *=, /=, %=, and unary minus), the comparison operators (&lt;, &lt;=, &gt;,
    &gt;=, ==, !=, &lt;=&gt;), and the bitwise operators (|, &amp;, ^, &lt;&lt;,
    &gt;&gt;, |=, &amp;=, ^=, &lt;&lt;=, &gt;&gt;=), the operands have their
    fractional portions truncated (or floored), and the result will have its
    fractional portion truncated as well. In addition, the range of operands and
    results is restricted to that of familiar two's complement integers, i.e.,
    -(2**31) .. (2**31-1) on 32-bit architectures, and -(2**63) .. (2**63-1) on
    64-bit architectures. For example, this code</p>
<p class="Pp"></p>
<pre>    use integer;
    $x = 5.8;
    $y = 2.5;
    $z = 2.7;
    $a = 2**31 - 1;  # Largest positive integer on 32-bit machines
    $, = &quot;, &quot;;
    print $x, -$x, $x+$y, $x-$y, $x/$y, $x*$y, $y==$z, $a, $a+1;
</pre>
<p class="Pp">will print: 5.8, -5, 7, 3, 2, 10, 1, 2147483647, -2147483648</p>
<p class="Pp">Note that <span class="Li">$x</span> is still printed as having
    its true non-integer value of 5.8 since it wasn't operated on. And note too
    the wrap-around from the largest positive integer to the largest negative
    one. Also, arguments passed to functions and the values returned by them are
    <b>not</b> affected by <span class="Li">&quot;use integer;&quot;</span>.
    E.g.,</p>
<p class="Pp"></p>
<pre>    srand(1.5);
    $, = &quot;, &quot;;
    print sin(.5), cos(.5), atan2(1,2), sqrt(2), rand(10);
</pre>
<p class="Pp">will give the same result with or without
    <span class="Li">&quot;use integer;&quot;</span> The power operator
    <span class="Li">&quot;**&quot;</span> is also not affected, so that 2 ** .5
    is always the square root of 2. Now, it so happens that the pre- and post-
    increment and decrement operators, ++ and --, are not affected by
    <span class="Li">&quot;use integer;&quot;</span> either. Some may rightly
    consider this to be a bug -- but at least it's a long-standing one.</p>
<p class="Pp">Finally, <span class="Li">&quot;use integer;&quot;</span> also has
    an additional affect on the bitwise operators. Normally, the operands and
    results are treated as <b>unsigned</b> integers, but with
    <span class="Li">&quot;use integer;&quot;</span> the operands and results
    are <b>signed</b>. This means, among other things, that ~0 is -1, and -2
    &amp; -5 is -6.</p>
<p class="Pp">Internally, native integer arithmetic (as provided by your C
    compiler) is used. This means that Perl's own semantics for arithmetic
    operations may not be preserved. One common source of trouble is the modulus
    of negative numbers, which Perl does one way, but your hardware may do
    another.</p>
<p class="Pp"></p>
<pre>    % perl -le 'print (4 % -3)'
    -2
    % perl -Minteger -le 'print (4 % -3)'
    1
</pre>
<p class="Pp">See &quot;Pragmatic Modules&quot; in perlmodlib, &quot;Integer
    Arithmetic&quot; in perlop</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-10-21</td>
    <td class="foot-os">perl v5.30.3</td>
  </tr>
</table>
</body>
</html>
