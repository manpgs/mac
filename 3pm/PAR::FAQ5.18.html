<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>PAR::FAQ(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PAR::FAQ(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">PAR::FAQ(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">PAR::FAQ - Frequently Asked Questions about PAR</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp">This is the Frequently Asked Questions list for the Perl Archive
    Toolkit. You can edit this document at &lt;http://par.perl.org/wiki/FAQ&gt;
    online. This (included) FAQ list might be outdated. The Wiki version at the
    above URL is guaranteed to be up to date.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<section class="Ss">
<h2 class="Ss" id="Where_is_the_Windows_binary_version?"><a class="permalink" href="#Where_is_the_Windows_binary_version?">Where
  is the Windows binary version?</a></h2>
<p class="Pp">You can find windows binaries here:</p>
<p class="Pp">&lt;http://www.cpan.org/authors/id/S/SM/SMUELLER/&gt;</p>
<p class="Pp">There are three ways to install them. Sorted in order of
    preference:</p>
<p class="Pp"><i>cpan</i></p>
<p class="Pp">Run the <i>cpan</i> command line tool that comes with Perl. In the
    <i>cpan</i> shell, type</p>
<p class="Pp"></p>
<pre>
  install PAR
</pre>
<p class="Pp">and wait for the script to download and extract PAR and its
    dependencies. If you have a C compiler installed, PAR will be built on your
    computer for your specific version of Perl. If you do not have a C compiler,
    the installer will look at the site referenced above for a compatible binary
    release and ask you whether you would like to install it.</p>
<p class="Pp"><i>ppm</i></p>
<p class="Pp">If you are using ActivePerl from ActiveState, you can use the
    'ppm' program that comes with the ActiveState Perl. Instructions can be
    found below. PAR is availlable from various PPM repositories and some
    packages are compatible with some versions of ActivePerl and not with
    others. There is an incomplete PAR-Win32 Binary Compatibility List at
    &lt;http://par.wikia.com/wiki/PAR_PPM_Compatibility_List&gt; There are at
    least three relevant PPM repositories: The default ActiveState one, the
    bribes repository which is used in the example below and Randy Kobes'
    repository at &lt;http://theoryx5.uwinnipeg.ca/ppms/&gt;.</p>
<p class="Pp"></p>
<pre>
    C:\&gt; ppm3
    # activestate was out of date compared to this one
    % rep add bribes http://www.bribes.org/perl/ppm
    # move it to first place on list of repositories
    % rep up bribes
    CPAN&gt;upgrade -install PAR
</pre>
<p class="Pp">And finally, 'q' to quit and that's all :-) You have access to pp
    and so on...</p>
<p class="Pp"><i>manual</i></p>
<p class="Pp">For reference, here's the old explanation of how to install it by
    hand: The file you need will be called
    PAR-X.XX-MSWin32-x86-multi-thread-Y.Y.Y.par where X.XX is the version of PAR
    you will use and Y.Y.Y is the version of Perl you have. Unzip this file (you
    may need to rename it to end with .zip instead of .par first) and copy all
    the files in the script directory into a directory in your PATH. Now you
    should be able to use PAR.</p>
</section>
<section class="Ss">
<h2 class="Ss">Can PAR bundle all its prerequisites?</h2>
<p class="Pp"><i>Note:</i> This entry needs serious attention.</p>
<p class="Pp">Yes and no.</p>
<p class="Pp">It would be possible to do this but it would also introduce a
    maintenance nightmare. A new version of PAR would have to be released
    whenever a new version of any of the dependencies came out. This is already
    painful with the included Module::Install.</p>
<p class="Pp">The original proposal which led to this FAQ entry considered the
    case where you want to install PAR without a working CPAN.pm/CPAN shell
    installation or without internet connectivity. By default, PAR will try to
    install its dependencies from CPAN using the CPAN.pm module.</p>
<p class="Pp">Given that you have a development machine with PAR installed and
    with a working CPAN.pm, it is reasonably simple to create one or more .par
    distributions of PAR's dependencies. Install PAR::Dist::FromCPAN. Then you
    can create .par distributions (read: binaries installable with the pure-perl
    PAR::Dist on the same architecture) for the PAR dependencies as follows:</p>
<p class="Pp"></p>
<pre>
  mkdir par_files
  cpan2par --pattern PAR --follow --out par_files/ --merge --skip File::.*
           --skip Getopt::Std --skip Carp --skip Data::Dumper --skip Time::Local
           --skip 'Test\b.*' --skip Text::ParseWords --skip ExtUtils::.*
           --skip Getopt::Long --skip Text::Abbrev --skip DirHandle --skip Pod::.*
</pre>
<p class="Pp">(Line breaks inserted for readability.) What happens here?
    cpan2par uses the API of the CPAN.pm module to fetch the PAR distribution
    from CPAN, unpacks it, builds it, creates a .par archive from its compiled
    state and then does the same for any of its dependencies. And then for its
    dependencies dependencies and... You get the idea. This is what the --follow
    option does. We add a couple of --skip options to skip core modules which we
    need not include and any Test::* modules. The --merge option merges all of
    the .par distributions into the original PAR one. Voila! (Future versions of
    PAR::Dist::FromCPAN might include an option --skip-core which would skip any
    modules contained in the core distribution.)</p>
<p class="Pp">After this command worked its magic, you should have a single file
    PAR-VERSION-ARCHNAME-PERLVERSION.par in the subdirectory 'par_files/'. You
    can now install PAR and its non-core dependencies on any machine that has
    the architecture of your development system (and a binary compatible perl
    version) using PAR::Dist as follows:</p>
<p class="Pp"></p>
<pre>
  perl -MPAR::Dist -einstall_par
</pre>
<p class="Pp">Provided that you run the command from within the directory
    containing the aforementioned .par file (and no other .par file).</p>
<p class="Pp">Since you might not even have PAR::Dist on the target machine, you
    can do this simple hack to get a basic installer:</p>
<p class="Pp"></p>
<pre>
  perl -MPAR::Dist -e'open my $fh, &quot;&lt;&quot;, $INC{&quot;PAR/Dist.pm&quot;}; print &lt;$fh&gt;;
       print &quot;\npackage main;\nPAR::Dist::install_par(\@ARGV ? shift(\@ARGV)
       : ());\n\n&quot;'
       &gt; installer.pl
</pre>
<p class="Pp">(Again: Line breaks inserted for readability.) This looks for your
    installed copy of PAR::Dist, reads it, writes it to STDOUT and appends two
    lines of code: &quot;package main;&quot; and a call to
    PAR::Dist::install_par. By default, it will install any (single) .par file
    in the current directory. If supplied with a file name as first argument, it
    will install the specified file. It should have no non-core dependencies! So
    shipping the generated PAR-....par file and the installer.pl file to the
    target machine and running &quot;perl installer.pl&quot; should just
    magically install PAR and its dependencies for you.</p>
<p class="Pp">Now, this whole trick works equally well for any other modules. In
    fact, if you have PAR on the target machine, you needn't even install the
    modules in the .par file in order to use them! You can just add &quot;use
    PAR 'foo-bar.par';&quot; to your code and any modules will be loaded from
    the .par file as necessary. (&quot;perl -MPAR=foo-bar.par
    your_script.pl&quot; works, too.) The documentation of the PAR module has
    details on this.</p>
<p class="Pp">Finally, note that you can install PAR::Repository::Client on the
    target machines and subsequently use PAR 0.951 and later to automatically
    fetch any unfulfilled dependencies from a (remote or local) repository:</p>
<p class="Pp"></p>
<pre>
  use PAR { repository =&gt; 'http://my_local_secure_host/repository' };
</pre>
<p class="Pp">or:</p>
<p class="Pp"></p>
<pre>
  use PAR { repository =&gt; 'file:///path/to/repository' };
</pre>
<p class="Pp">Details, again, in the PAR documentation and in the
    PAR::Repository::Client documentation.</p>
<p class="Pp">Answer from: Steffen Mueller, 16 August 2006</p>
</section>
<section class="Ss">
<h2 class="Ss" id="If_I_try_to_compile_my_wxGlade_generated_script,_it_doesn't_run._What's_wrong?"><a class="permalink" href="#If_I_try_to_compile_my_wxGlade_generated_script,_it_doesn't_run._What's_wrong?">If
  I try to compile my wxGlade generated script, it doesn't run. What's
  wrong?</a></h2>
<p class="Pp"><i>Note:</i> Is this still a problem?</p>
<p class="Pp">Comment out the line that starts with &quot; unless (caller)
    &quot;, and compile it again. Note that this is considered a bug; clearing
    the caller stack is a development in progress. See:
    &lt;http://par.perl.org/wiki/Development_in_progress&gt;</p>
</section>
<section class="Ss">
<h2 class="Ss" id="I_get_a_link_error_'/usr/bin/ld:_cannot_find_"><a class="permalink" href="#I_get_a_link_error_'/usr/bin/ld:_cannot_find_">I
  get a link error '/usr/bin/ld: cannot find -lperl' during the 'make' step of
  the installation on Debian. What's wrong?</a></h2>
<p class="Pp">Install the <span class="Li">&quot;libperl-dev&quot;</span>
    package.</p>
<p class="Pp">Note that Debian provides (usually up-to-date) packages of the
    modules in the PAR ecosystem: Module::Scandeps, PAR, PAR::Dist and
    PAR::Packer; the corresponding packages are called
    <span class="Li">&quot;libmodule-scandeps-perl&quot;</span>,
    <span class="Li">&quot;libpar-dist-perl&quot;</span>,
    <span class="Li">&quot;libpar-perl&quot;</span> and
    <span class="Li">&quot;libpar-packer-perl&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="I_specify_a_.ico_file_with_"><a class="permalink" href="#I_specify_a_.ico_file_with_">I
  specify a .ico file with --icon for Win32, but the icon is still the black and
  white camel. What's wrong?</a></h2>
<p class="Pp">Unlike Perl2EXE, which can use a standard 16-color bitmap as an
    application icon, PAR requires a true Windows icon file. Download a trial
    version of Microangelo and use that to create your .ico file. The latest
    Netpbm tools at &lt;http://netpbm.sourceforge.net/&gt; has ppmtowinicon,
    which can tack a pbm and convert it to a windows icon. It is open source and
    has win32 ports.</p>
<p class="Pp">Gimp for Windows can also create Windows icon files
    &lt;http://gimp-win.sourceforge.net/&gt;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="I_added_a_directory_to_my_"><a class="permalink" href="#I_added_a_directory_to_my_">I
  added a directory to my PAR file using &quot;zip -r&quot; or winzip, and then
  generated an executable from this PAR file, and the executable failed to run
  (IO error: reading header signature :..). What's wrong?</a></h2>
<p class="Pp">As pointed out by Alan Stewart, zip adds a directory entry for the
    new directory, and it causes the PAR executable to fail. Just use :</p>
<p class="Pp"></p>
<pre>
  zip -r -D hello.par my_dir/
</pre>
<p class="Pp">or the Archive::Zip::addTree as follows :</p>
<p class="Pp"></p>
<pre>
  $zip-&gt;addTree( $root, $dest, sub { -f } )
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="On_what_platforms_can_I_run_"><a class="permalink" href="#On_what_platforms_can_I_run_">On
  what platforms can I run PAR? On what platforms will the resulting executable
  run?</a></h2>
<p class="Pp">Win32 (95/98/ME/NT4/2K/XP), FreeBSD, Linux, AIX, Solaris, Darwin
    and Cygwin.</p>
<p class="Pp">The resulting executable will run on any platforms that supports
    the binary format of the generating platform.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_extract_my_script_out_of_packed_executable?"><a class="permalink" href="#How_do_I_extract_my_script_out_of_packed_executable?">How
  do I extract my script out of packed executable?</a></h2>
<p class="Pp">In other words, &quot;I did a `pp foo.pl' and I lost foo.pl, how
    do I get it back?&quot;.</p>
<p class="Pp">The answer is to just use unzip/winzip/winrar/whatever to
    decompress the executable, treating it like a normal Zip file. You may need
    to rename the executable into a .zip extension first.</p>
</section>
<section class="Ss">
<h2 class="Ss">Can PAR completely hide my source code?</h2>
<p class="Pp">Not completely, but possible to a degree. Starting from version
    0.76, PAR supports an input filter mechanism, which can be used to implement
    source obfuscators (or even product activation schemes).</p>
<p class="Pp">But if you are looking for 100% bulletproof way of hiding source
    code, it is not possible with any language. Learning Perl, 3rd Edition has
    this answer to offer (quoted with permission from Randal Schwartz):</p>
<p class="Pp">If you're wishing for an opaque binary, though, we have to tell
    you that they don't exist. If someone can install and run your program, they
    can turn it back into source code. Granted, this won't necessarily be the
    same source that you started with, but it will be some kind of source code.
    The real way to keep your secret algorithm a secret is, alas, to apply the
    proper number of attorneys; they can write a license that says &quot;you can
    do this with the code, but you can't do that. And if you break our rules,
    we've got the proper number of attorneys to ensure that you'll regret
    it.&quot;</p>
<p class="Pp">Other than that, I would point you at PAR::Filter::Crypto. Be sure
    to read the CAVEATS and WARNINGS sections of the documentation.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="On_Windows_"><a class="permalink" href="#On_Windows_">On
  Windows XP, pp crashes saying that &quot;par.exe has encountered a
  problem&quot;</a></h2>
<p class="Pp">This is believed to be fixed by PAR 0.76_99. The following answer
    applies to PAR 0.76 and earlier:</p>
<p class="Pp">You may be able to escape this problem by setting some executables
    to Windows 95 compatibility mode. Specifically, find &quot;parl.exe&quot;
    (probably in &quot;C:\perl\5.8.0\bin&quot;) using Windows Explorer, and
    right-click on it and choose &quot;Properties&quot;. Choose the
    &quot;Compatibility&quot; tab and tick the box for &quot;Run this program
    with compatibility mode for&quot; and check that the dropdown shows
    &quot;Windows 95&quot;. Then click OK.</p>
<p class="Pp">Now you can hopefully run pp as normal to generate an EXE. Before
    you can run the generated EXE, you'll need to set its compatibility mode
    too, in the same way as you did for parl.exe.</p>
<p class="Pp">This workaround is known not to work in all cases, and the
    developers are working on a solution to the problem. See these posts for
    more info:</p>
<p class="Pp">&lt;http://www.mail-archive.com/par@perl.org/msg00423.html&gt;,
    &lt;http://www.mail-archive.com/par@perl.org/msg00435.html&gt;,
    &lt;http://www.mail-archive.com/par@perl.org/msg00573.html&gt;,
    &lt;http://www.mail-archive.com/par@perl.org/msg00670.html&gt;</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Perl_Tk_tips"><a class="permalink" href="#Perl_Tk_tips">Perl
  Tk tips</a></h2>
<p class="Pp">On Windows XP start your script with</p>
<p class="Pp"></p>
<pre>
  use strict; use Encode::Unicode; use Tk;
</pre>
<p class="Pp">Some widgets use xbm bitmaps which don't get picked up by PAR. The
    error is:</p>
<p class="Pp"></p>
<pre>
  couldn't read bitmap file &quot;&quot;: No such file or directory
  error reading bitmap file &quot;&quot; at Tk/Widget.pm line 205.
  at Tk/Widget.pm line 203
</pre>
<p class="Pp">Fix is to find the missing xbm files (perl -V tells you where to
    start looking) and add them to the executable eg</p>
<p class="Pp">copy missing xbm files to script directory then:</p>
<p class="Pp"></p>
<pre>
    % pp --add cbxarrow.xbm --add arrowdownwin.xbm -o test test.pl
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Problem_with_Win32::Perms_and_Perms.DLL"><a class="permalink" href="#Problem_with_Win32::Perms_and_Perms.DLL">Problem
  with Win32::Perms and Perms.DLL</a></h2>
<p class="Pp">With a script my.pl using Win32::Perms, pp -o my.exe my.pl you may
    have:</p>
<p class="Pp"></p>
<pre>
  Can't locate loadable object for module Win32::Perms in @INC
  (@INC contains: CODE(0xb97eec) CODE(0xc8a99c) .)
  at ../blib/lib/PAR/Heavy.pm line 78
</pre>
<p class="Pp">In fact the dll is Perms.DLL wit DLL in capital letters. That's
    the problem. The bootstrap function of PAR in the Dynaloader module fails
    looking for Perms.dll in the table of dlls which contains only Perms.DLL.
    And so the solution is just rename Perms.DLL in Perms.dll and do pp -o
    my.exe my.pl ... and everything goes right.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Under_Win32,_a_pp_packed_executable_has_trouble_executing_other_perl_scripts_or_pp_packed_executable"><a class="permalink" href="#Under_Win32,_a_pp_packed_executable_has_trouble_executing_other_perl_scripts_or_pp_packed_executable">Under
  Win32, a pp packed executable has trouble executing other perl scripts or pp
  packed executable</a></h2>
<p class="Pp"><i>Note:</i> Is this still current?</p>
<p class="Pp">When running on a Win32 system, if a perl script is packed with pp
    and invokes another Perl script or pp packed executable, either with
    <i>system()</i> or backticks, the invoked program runs with the copy of
    perl5x.dll already loaded into memory. If the calling executable was packed
    with &quot;pp -d&quot;, the perl5x.dll is the one from the installed perl
    bin directory. Otherwise, it is the one packed with the executable. The
    perl5x.dll from the bin dir knows the <span class="Li">@INC</span> paths for
    the installed libraries; the one in the executable does not. Because of
    this, a program packed without &quot;-d&quot; calling a program with packed
    with &quot;-d&quot; or calling perl.exe to run a plain Perl script may fail.
    This is a Win32 limitation.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_can_I_make_a_.exe_that_runs_with_no_console_window_under_Windows?"><a class="permalink" href="#How_can_I_make_a_.exe_that_runs_with_no_console_window_under_Windows?">How
  can I make a .exe that runs with no console window under Windows?</a></h2>
<p class="Pp">Use the --gui switch, ie</p>
<p class="Pp"></p>
<pre>
    % pp --gui -o file.exe file.pl
</pre>
<p class="Pp">I found that this is not documented on all versions of pp ... Some
    versions have a more complete doc than others when you type &quot;pp
    -h&quot; etc. (This should be reasonably documented now.)</p>
<p class="Pp">When searching for an answer to this myself, I found many
    references to using &quot;exetype&quot; ... it comes as a .bat with
    ActivePerl, or you can find an exetype.pl from several places. You run
    &quot;exetype file.exe [WINDOWS|CONSOLE]&quot;. This worked, I think, but
    still did not achieve the desired result on my PAR executable. While the exe
    itself did not generate a console window, par.exe (which was invoked in my
    exe somewhere) DID generate a console window, with a titlebar saying
    &quot;par.exe &lt;strange-looking path to file in temp dir&gt;&quot;,
    whereas before changing the console window title bar just displayed the path
    to my .exe.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_can_I_change_the_icon_of_the_generated_.exe_file_under_Windows?"><a class="permalink" href="#How_can_I_change_the_icon_of_the_generated_.exe_file_under_Windows?">How
  can I change the icon of the generated .exe file under Windows?</a></h2>
<p class="Pp">There is another not-completely-documented switch that only works
    on windows, Xicon MyIcon.ico. So just use this:</p>
<p class="Pp"></p>
<pre>
    % pp --icon &quot;c:\path to\MyIcon.ico&quot; -o file.exe file.pl.
</pre>
<p class="Pp">(This should also be documented now?)</p>
</section>
<section class="Ss">
<h2 class="Ss" id="The_command_line_parameters_(@ARGV)_of_a_pp-ed_binary_called_from_another_pp-ed_binary_are_missing_or_broken._What_the...?"><a class="permalink" href="#The_command_line_parameters_(@ARGV)_of_a_pp-ed_binary_called_from_another_pp-ed_binary_are_missing_or_broken._What_the...?">The
  command line parameters (@ARGV) of a pp-ed binary called from another pp-ed
  binary are missing or broken. What the...?</a></h2>
<p class="Pp">This was a bug in releases up to and incuding PAR-0.90. Please
    upgrade to PAR 0.91 or later and the problem will go away.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="I_want_to_include_a_pp-ed_binary_in_an_"><a class="permalink" href="#I_want_to_include_a_pp-ed_binary_in_an_">I
  want to include a pp-ed binary in an RPM package. How can I make this
  work?</a></h2>
<p class="Pp">The binary executables outputted by pp (on Linux) are not valid
    ELF binaries because it basically attaches a zip archive to the binary
    loader and does not modify the ELF headers to reflect that. When building an
    RPM archive, the validity of the ELF headers is checked by default. This can
    result in problems when packaging pp-ed binaries in RPM archives.</p>
<p class="Pp">Scott McBrien helped track down what can be done to get this to
    work:</p>
<p class="Pp"></p>
<pre>
  [I]t appears that the RPM archive that is generated gets a list of
  the MD5 sums for components of the executable file calculated by
  prelink.  By disabling prelink, it fixed the problem; in my RPM .spec
  file:
  %define         __prelink_undo_cmd     %{nil}
</pre>
<p class="Pp">After quite some time, it seems like the smart folks at Redhat
    found the culprit. I'm glad *they* did, because I wouldn't have:</p>
<p class="Pp"></p>
<pre>
  It appears that we found a solution that works. It like the pp
  executables are already stripped, so we don't want rpm stripping them
  again, which, of course, renders them useless.
  
  In this case, we added the following lines to the spec file to keep rpm
  from running the strip process and not produce debuginfo packages:
  
  %define __spec_install_post :
  %define debug_package %{nil}
  
  Don't forget to add the &quot;:&quot; character to __spec_install_post as above or
  this won't work.
</pre>
<p class="Pp">Much praise to all who helped track this down! The discussion can
    be found in the following RT tickets:
    &quot;/rt.cpan.org/Public/Bug/Display.html?id=18536 #18536&quot; in http:
    and &quot;/rt.cpan.org/Public/Bug/Display.html?id=19609 #19609&quot; in
    http:.</p>
<p class="Pp">-- Steffen Mueller, 22 July 2006</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_can_I_package_Wx_applications?"><a class="permalink" href="#How_can_I_package_Wx_applications?">How
  can I package Wx applications?</a></h2>
<p class="Pp">Have a look at the separately maintained Wx::Perl::Packager
    module.</p>
<p class="Pp">-- Steffen Mueller, 3 July 2006</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_can_I_package_Catalyst_web_applications?"><a class="permalink" href="#How_can_I_package_Catalyst_web_applications?">How
  can I package Catalyst web applications?</a></h2>
<p class="Pp">Catalyst has some builtin PAR support. I found the following URL
    to be very helpful:</p>
<p class="Pp">&lt;http://catalyst.infogami.com/cookbook/par&gt;.</p>
<p class="Pp">-- Steffen Mueller, 21 July 2006</p>
</section>
<section class="Ss">
<h2 class="Ss" id="The_resulting_files_are_huge!_How_can_I_reduce_the_size_of_the_output_file?"><a class="permalink" href="#The_resulting_files_are_huge!_How_can_I_reduce_the_size_of_the_output_file?">The
  resulting files are huge! How can I reduce the size of the output
  file?</a></h2>
<p class="Pp">The executables generated by pp generally contain a copy of your
    Perl shared libraries, the Perl core modules and any module dependencies
    your packaged application may have. That is a lot. Sometimes, PAR packages
    too much. It adheres to the philosophy of rather making the application work
    than generating a streamlined executable. If you want to optimize this, you
    will have to do so by excluding specific modules.</p>
<p class="Pp">Chris Dolan's recent post to the PAR mailing list explains this
    well. Quoting Chris:
  (&lt;http://www.nntp.perl.org/group/perl.par/2490&gt;)</p>
<p class="Pp"></p>
<pre>
  [...]
  I've found a few tricks that can help a lot:

  * If you know the target platform has Perl pre-installed (e.g. Mac OS X)
    then use the &quot;--dependent&quot; flag. This skips all of the core modules,
    yielding a much smaller executable.
    
    One significant caveat is moving to older systems.  For example,
    Mac OS X 10.2 had Perl 5.6.0 which has 146 fewer core modules than
    Perl 5.8.6 which shipped with Mac OS X 10.4, and (even more significantly)
    is binary-incompatible with any extra XS modules added from CPAN.
    Other platforms can be even harder to predict.
  
  * Watch for modules that pull in lots of dependencies
    
    A good example is DBI.  If your program uses DBI, then Module::ScanDeps
    pulls in ALL of the DBD::* modules (some of which are large) installed on
    your system, because it cannot realistically parse the DBI-&gt;connect()
    arguments which specify which database drivers are actually needed.
    In one of my MySQL-based applications, I use this invocation of PAR:
    
      pp -X DBD::SQLite -X DBD::CSV -X DBD::File -X DBD::Excel
    
    which saves quite a few bytes, because both DBD::SQLite and DBD::Excel
    have lots of CPAN dependencies.  The actual list if DBD::* modules you
    need to exclude depends on your system.  Here's a short command that will
    reveal all DBD::* modules on a unix-like system:
    
      perl -MModule::ScanDeps -le'print for map {&quot;DBD/&quot;.$_-&gt;{name}} Module::ScanDeps::_glob_in_inc(&quot;DBD&quot;)'
    
    Another smaller example is SOAP::Transport::* where most installations
    only need SOAP::Transport::HTTP.
    [...]
</pre>
<p class="Pp">Similar techniques can be applied when a module makes use of
    Module::Pluggable for plugins.</p>
<p class="Pp">Finally, there is a PAR filter available as a separate
    distribution on CPAN which compresses the source code as much as possible by
    first parsing it using PPI and then spitting out a reduced functional
    equivalent: PAR::Filter::Squish.</p>
<p class="Pp">-- Steffen Mueller, August 2006</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_use_Win32::GUI::SplashScreen_with_"><a class="permalink" href="#How_do_I_use_Win32::GUI::SplashScreen_with_">How
  do I use Win32::GUI::SplashScreen with PAR?</a></h2>
<p class="Pp">When using pp to package an application that uses
    Win32::GUI::SplashScreen, try adding the splashscreen bitmap manually as
    suggested in the Win32::GUI::SplashScreen docs:</p>
<p class="Pp"></p>
<pre>
  pp -a SPLASHFILE.bmp -o xxx.exe xxx.pl
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="The_Perl_Packager_scripts_says_that_it_can_create_executable_that_runs_in_same_"><a class="permalink" href="#The_Perl_Packager_scripts_says_that_it_can_create_executable_that_runs_in_same_">The
  Perl Packager scripts says that it can create executable that runs in same OS.
  Can I use it to create Win32 binary with linux machine? Or what should I use
  to create Win32 executable binary on linux from my script?</a></h2>
<p class="Pp">It is not possible to create stand-alone binaries for different
    platform than what you are currently running on. This is a generally hard
    problem since you would have to cross-compile all XS modules and perl
    itself. Not nice.</p>
<p class="Pp">For example, if you would like to develop an application on Linux
    and ship it for both Linux/x86 and Win32/x86, it works well to set up a
    Virtual Machine with a Windows (XP or 2000 or whatever) and a Perl
    installation. On that machine, use PAR/pp to package your application for
    Win32.</p>
<p class="Pp">See also the question &quot;On what platforms can I run PAR? On
    what platforms will the resulting executable run?&quot;.</p>
<p class="Pp">-- Steffen Mueller, 2 November 2006</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">PAR, PAR::Tutorial</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<p class="Pp">Audrey Tang &lt;cpan@audreyt.org&gt;, Steffen Mueller
    &lt;smueller@cpan.org&gt;</p>
<p class="Pp">&lt;http://par.perl.org/&gt; is the official PAR website. You can
    write to the mailing list at &lt;par@perl.org&gt;, or send an empty mail to
    &lt;par-subscribe@perl.org&gt; to participate in the discussion.</p>
<p class="Pp">Please submit bug reports to &lt;bug-par@rt.cpan.org&gt;.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">Copyright 2003-2008 by Audrey Tang &lt;cpan@audreyt.org&gt;.</p>
<p class="Pp">This document is free documentation; you can redistribute it
    and/or modify it under the same terms as Perl itself.</p>
<p class="Pp">See &lt;http://www.perl.com/perl/misc/Artistic.html&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="POD_ERRORS"><a class="permalink" href="#POD_ERRORS">POD
  ERRORS</a></h1>
<p class="Pp">Hey! <b>The above document had some coding errors, which are
    explained below:</b></p>
<dl class="Bl-tag">
  <dt id="Around"><a class="permalink" href="#Around">Around line 221:</a></dt>
  <dd>Non-ASCII character seen before =encoding in 'Xicon'. Assuming UTF-8</dd>
</dl>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2011-12-28</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
