<!DOCTYPE html>
<html lang="en">
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Pegex::Compiler(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Pegex::Compiler(3)</td>
    <td class="head-vol"><a href=".">User Contributed Perl Documentation</a></td>
    <td class="head-rtitle">Pegex::Compiler(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Pegex::Compiler - Pegex Compiler</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>    use Pegex::Compiler;
    my $grammar_text = '... grammar text ...';
    my $pegex_compiler = Pegex::Compiler-&gt;new();
    my $grammar_tree = $pegex_compiler-&gt;compile($grammar_text)-&gt;tree;
</pre>
<p class="Pp">or:</p>
<p class="Pp"></p>
<pre>    perl -Ilib -MYourGrammarModule=compile
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The Pegex::Compiler transforms a Pegex grammar string (or file)
    into a compiled form. The compiled form is known as a grammar tree, which is
    simply a nested data structure.</p>
<p class="Pp">The grammar tree can be serialized to YAML, JSON, Perl, or any
    other programming language. This makes it extremely portable. Pegex::Grammar
    has methods for serializing to all these forms.</p>
<p class="Pp">NOTE: Unless you are developing Pegex based modules, you can
    safely ignore
  <br/>
   this module. Even if you are you probably won't use it directly. See [In
  <br/>
   Place Compilation] below.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<p class="Pp">The following public methods are available:</p>
<dl class="Bl-tag">
  <dt>&quot;$compiler = Pegex::Compiler-&gt;new();&quot;</dt>
  <dd>Return a new Pegex::Compiler object.</dd>
  <dt>&quot;$grammar_tree = $compiler-&gt;compile($grammar_input);&quot;</dt>
  <dd>Compile a grammar text into a grammar tree that can be used by a
      Pegex::Parser. This method is calls the
      <span class="Li">&quot;parse&quot;</span> and
      <span class="Li">&quot;combinate&quot;</span> methods and returns the
      resulting tree.
    <p class="Pp">Input can be a string, a string ref, a file path, a file
        handle, or a Pegex::Input object. Return <span class="Li">$self</span>
        so you can chain it to other methods.</p>
  </dd>
  <dt>&quot;$compiler-&gt;parse($grammar_text)&quot;</dt>
  <dd>The first step of a <span class="Li">&quot;compile&quot;</span> is
      <span class="Li">&quot;parse&quot;</span>. This applies the Pegex language
      grammar to your grammar text and produces an unoptimized tree.
    <p class="Pp">This method returns <span class="Li">$self</span> so you can
        chain it to other methods.</p>
  </dd>
  <dt>&quot;$compiler-&gt;combinate()&quot;</dt>
  <dd>Before a Pegex grammar tree can be used to parse things, it needs to be
      combinated. This process turns the regex tokens into real regexes. It also
      combines some rules together and eliminates rules that are not needed or
      have been combinated. The result is a Pegex grammar tree that can be used
      by a Pegex::Parser.
    <p class="Pp">NOTE: While the parse phase of a compile is always the same
        for various
      <br/>
       programming languages, the combinate phase takes into consideration and
      <br/>
       special needs of the target language. Pegex::Compiler only combinates
      <br/>
       for Perl, although this is often sufficient in similar languages like
      <br/>
       Ruby or Python (PCRE based regexes). Languages like Java probably need
      <br/>
       to use their own combinators.</p>
  </dd>
  <dt>&quot;$compiler-&gt;tree()&quot;</dt>
  <dd>Return the current state of the grammar tree (as a hash ref).</dd>
  <dt>&quot;$compiler-&gt;to_yaml()&quot;</dt>
  <dd>Serialize the current grammar tree to YAML.</dd>
  <dt>&quot;$compiler-&gt;to_json()&quot;</dt>
  <dd>Serialize the current grammar tree to JSON.</dd>
  <dt>&quot;$compiler-&gt;to_perl()&quot;</dt>
  <dd>Serialize the current grammar tree to Perl.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="IN_PLACE_COMPILATION"><a class="permalink" href="#IN_PLACE_COMPILATION">IN
  PLACE COMPILATION</a></h1>
<p class="Pp">When you write a Pegex based module you will want to precompile
    your grammar into Perl so that it has no load penalty. Pegex::Grammar
    provides a special mechanism for this. Say you have a class like this:</p>
<p class="Pp"></p>
<pre>    package MyThing::Grammar;
    use Pegex::Base;
    extends 'Pegex::Grammar';
    use constant file =&gt; '../mything-grammar-repo/mything.pgx';
    sub make_tree {
    }
</pre>
<p class="Pp">Simply use this command:</p>
<p class="Pp"></p>
<pre>    perl -Ilib -MMyThing::Grammar=compile
</pre>
<p class="Pp">and Pegex::Grammar will call Pegex::Compile to put your compiled
    grammar inside your <span class="Li">&quot;make_tree&quot;</span>
    subroutine. It will actually write the text into your module. This makes it
    trivial to update your grammar module after making changes to the grammar
    file.</p>
<p class="Pp">See Pegex::JSON for an example.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Ingy d&#x00F6;t Net &lt;ingy@cpan.org&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
<p class="Pp">Copyright 2010-2020. Ingy d&#x00F6;t Net.</p>
<p class="Pp">This program is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself.</p>
<p class="Pp">See &lt;http://www.perl.com/perl/misc/Artistic.html&gt;</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2020-02-13</td>
    <td class="foot-os"><a href="..">perl v5.34.0</a></td>
  </tr>
</table>
</body>
</html>
