<!DOCTYPE html>
<html lang="en">
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Moose::Manual::Concepts(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Moose::Manual::Concepts(3)</td>
    <td class="head-vol"><a href=".">User Contributed Perl Documentation</a></td>
    <td class="head-rtitle">Moose::Manual::Concepts(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Moose::Manual::Concepts - Moose OO concepts</p>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
<p class="Pp">version 2.2012</p>
</section>
<section class="Sh">
<h1 class="Sh" id="MOOSE_CONCEPTS_(VS__OLD_SCHOOL__Perl)"><a class="permalink" href="#MOOSE_CONCEPTS_(VS__OLD_SCHOOL__Perl)">MOOSE
  CONCEPTS (VS &quot;OLD SCHOOL&quot; Perl)</a></h1>
<p class="Pp">In the past, you may not have thought too much about the
    difference between packages and classes, attributes and methods,
    constructors and methods, etc. With Moose, these are all conceptually
    separate, though under the hood they're implemented with plain old Perl.</p>
<p class="Pp">Our meta-object protocol (aka MOP) provides well-defined
    introspection features for each of those concepts, and Moose in turn
    provides distinct sugar for each of them. Moose also introduces additional
    concepts such as roles, method modifiers, and declarative delegation.</p>
<p class="Pp">Knowing what these concepts mean in Moose-speak, and how they used
    to be done in old school Perl 5 OO is a good way to start learning to use
    Moose.</p>
<section class="Ss">
<h2 class="Ss" id="Class"><a class="permalink" href="#Class">Class</a></h2>
<p class="Pp">When you say &quot;use Moose&quot; in a package, you are making
    your package a class. At its simplest, a class will consist simply of
    attributes and/or methods. It can also include roles, method modifiers, and
    more.</p>
<p class="Pp">A class <i>has</i> zero or more <b>attributes</b>.</p>
<p class="Pp">A class <i>has</i> zero or more <b>methods</b>.</p>
<p class="Pp">A class <i>has</i> zero or more superclasses (aka parent classes).
    A class inherits from its superclass(es).</p>
<p class="Pp">A class <i>has</i> zero or more <b>method modifiers</b>. These
    modifiers can apply to its own methods or methods that are inherited from
    its ancestors.</p>
<p class="Pp">A class <i>does</i> (and <i>consumes</i>) zero or more
    <b>roles</b>.</p>
<p class="Pp">A class <i>has</i> a <b>constructor</b> and a <b>destructor</b>.
    These are provided for you &quot;for free&quot; by Moose.</p>
<p class="Pp">The <b>constructor</b> accepts named parameters corresponding to
    the class's attributes and uses them to initialize an <b>object
    instance</b>.</p>
<p class="Pp">A class <i>has</i> a <b>metaclass</b>, which in turn has
    <b>meta-attributes</b>, <b>meta-methods</b>, and <b>meta-roles</b>. This
    metaclass <i>describes</i> the class.</p>
<p class="Pp">A class is usually analogous to a category of nouns, like
    &quot;People&quot; or &quot;Users&quot;.</p>
<p class="Pp"></p>
<pre>  package Person;
  use Moose;
  # now it's a Moose class!
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Attribute"><a class="permalink" href="#Attribute">Attribute</a></h2>
<p class="Pp">An attribute is a property of the class that defines it. It
    <i>always</i> has a name, and it <i>may have</i> a number of other
    properties.</p>
<p class="Pp">These properties can include a read/write flag, a <b>type</b>,
    accessor method names, <b>delegations</b>, a default value, and more.</p>
<p class="Pp">Attributes <i>are not</i> methods, but defining them causes
    various accessor methods to be created. At a minimum, a normal attribute
    will have a reader accessor method. Many attributes have other methods, such
    as a writer method, a clearer method, or a predicate method (&quot;has it
    been set?&quot;).</p>
<p class="Pp">An attribute may also define <b>delegations</b>, which will create
    additional methods based on the delegation mapping.</p>
<p class="Pp">By default, Moose stores attributes in the object instance, which
    is a hashref, <i>but this is invisible to the author of a Moose-based</i>
    <i>class</i>! It is best to think of Moose attributes as
    &quot;properties&quot; of the <i>opaque</i> <b>object instance</b>. These
    properties are accessed through well-defined accessor methods.</p>
<p class="Pp">An attribute is something that the class's members have. For
    example, People have first and last names. Users have passwords and last
    login datetimes.</p>
<p class="Pp"></p>
<pre>  has 'first_name' =&gt; (
      is  =&gt; 'rw',
      isa =&gt; 'Str',
  );
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Method"><a class="permalink" href="#Method">Method</a></h2>
<p class="Pp">A <b>method</b> is very straightforward. Any subroutine you define
    in your class is a method.</p>
<p class="Pp"><b>Methods</b> correspond to verbs, and are what your objects can
    do. For example, a User can login.</p>
<p class="Pp"></p>
<pre>  sub login { ... }
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Role"><a class="permalink" href="#Role">Role</a></h2>
<p class="Pp">A role is something that a class <i>does</i>. We also say that
    classes <i>consume</i> roles. For example, a Machine class might do the
    Breakable role, and so could a Bone class. A role is used to define some
    concept that cuts across multiple unrelated classes, like
    &quot;breakability&quot;, or &quot;has a color&quot;.</p>
<p class="Pp">A role <i>has</i> zero or more <b>attributes</b>.</p>
<p class="Pp">A role <i>has</i> zero or more <b>methods</b>.</p>
<p class="Pp">A role <i>has</i> zero or more <b>method modifiers</b>.</p>
<p class="Pp">A role <i>has</i> zero or more <b>required methods</b>.</p>
<p class="Pp">A required method is not implemented by the role. Required methods
    are a way for the role to declare &quot;to use this role you must implement
    this method&quot;.</p>
<p class="Pp">A role <i>has</i> zero or more <b>excluded roles</b>.</p>
<p class="Pp">An excluded role is a role that the role doing the excluding says
    it cannot be combined with.</p>
<p class="Pp">Roles are <i>composed</i> into classes (or other roles). When a
    role is composed into a class, its attributes and methods are
    &quot;flattened&quot; into the class. Roles <i>do not</i> show up in the
    inheritance hierarchy. When a role is composed, its attributes and methods
    appear as if they were defined <i>in the consuming class</i>.</p>
<p class="Pp">Role are somewhat like mixins or interfaces in other OO
  languages.</p>
<p class="Pp"></p>
<pre>  package Breakable;
  use Moose::Role;
  requires 'break';
  has 'is_broken' =&gt; (
      is  =&gt; 'rw',
      isa =&gt; 'Bool',
  );
  after 'break' =&gt; sub {
      my $self = shift;
      $self-&gt;is_broken(1);
  };
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Method_modifiers"><a class="permalink" href="#Method_modifiers">Method
  modifiers</a></h2>
<p class="Pp">A <b>method modifier</b> is a hook that is called when a named
    method is called. For example, you could say &quot;before calling
    <span class="Li">&quot;login()&quot;</span>, call this modifier first&quot;.
    Modifiers come in different flavors like &quot;before&quot;,
    &quot;after&quot;, &quot;around&quot;, and &quot;augment&quot;, and you can
    apply more than one modifier to a single method.</p>
<p class="Pp">Method modifiers are often used as an alternative to overriding a
    method in a parent class. They are also used in roles as a way of modifying
    methods in the consuming class.</p>
<p class="Pp">Under the hood, a method modifier is just a plain old Perl
    subroutine that gets called before or after (or around, etc.) some named
    method.</p>
<p class="Pp"></p>
<pre>  before 'login' =&gt; sub {
      my $self = shift;
      my $pw   = shift;
      warn &quot;Called login() with $pw\n&quot;;
  };
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Type"><a class="permalink" href="#Type">Type</a></h2>
<p class="Pp">Moose also comes with a (miniature) type system. This allows you
    to define types for attributes. Moose has a set of built-in types based on
    the types Perl provides in its core, such as
    <span class="Li">&quot;Str&quot;</span>,
    <span class="Li">&quot;Num&quot;</span>,
    <span class="Li">&quot;Bool&quot;</span>,
    <span class="Li">&quot;HashRef&quot;</span>, etc.</p>
<p class="Pp">In addition, every class name in your application can also be used
    as a type name.</p>
<p class="Pp">Finally, you can define your own types with their own constraints.
    For example, you could define a <span class="Li">&quot;PosInt&quot;</span>
    type, a subtype of <span class="Li">&quot;Int&quot;</span> which only allows
    positive numbers.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Delegation"><a class="permalink" href="#Delegation">Delegation</a></h2>
<p class="Pp">Moose attributes provide declarative syntax for defining
    delegations. A delegation is a method which in turn calls some method on an
    attribute to do its real work.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Constructor"><a class="permalink" href="#Constructor">Constructor</a></h2>
<p class="Pp">A constructor creates an <b>object instance</b> for the class. In
    old school Perl, this was usually done by defining a method called
    <span class="Li">&quot;new()&quot;</span> which in turn called
    <span class="Li">&quot;bless&quot;</span> on a reference.</p>
<p class="Pp">With Moose, this <span class="Li">&quot;new()&quot;</span> method
    is created for you, and it simply does the right thing. You should never
    need to define your own constructor!</p>
<p class="Pp">Sometimes you want to do something whenever an object is created.
    In those cases, you can provide a
    <span class="Li">&quot;BUILD()&quot;</span> method in your class. Moose will
    call this for you after creating a new object.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Destructor"><a class="permalink" href="#Destructor">Destructor</a></h2>
<p class="Pp">This is a special method called when an object instance goes out
    of scope. You can specialize what your class does in this method if you need
    to, but you usually don't.</p>
<p class="Pp">With old school Perl 5, this is the
    <span class="Li">&quot;DESTROY()&quot;</span> method, but with Moose it is
    the <span class="Li">&quot;DEMOLISH()&quot;</span> method.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Object_instance"><a class="permalink" href="#Object_instance">Object
  instance</a></h2>
<p class="Pp">An object instance is a specific noun in the class's
    &quot;category&quot;. For example, one specific Person or User. An instance
    is created by the class's <b>constructor</b>.</p>
<p class="Pp">An instance has values for its attributes. For example, a specific
    person has a first and last name.</p>
<p class="Pp">In old school Perl 5, this is often a blessed hash reference. With
    Moose, you should never need to know what your object instance actually is.
    (Okay, it's usually a blessed hashref with Moose, too.)</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Moose_vs_old_school_summary"><a class="permalink" href="#Moose_vs_old_school_summary">Moose
  vs old school summary</a></h2>
<ul class="Bl-bullet">
  <li>Class
    <p class="Pp">A package with no introspection other than mucking about in
        the symbol table.</p>
    <p class="Pp">With Moose, you get well-defined declaration and
        introspection.</p>
  </li>
  <li>Attributes
    <p class="Pp">Hand-written accessor methods, symbol table hackery, or a
        helper module like
      <span class="Li">&quot;Class::Accessor&quot;</span>.</p>
    <p class="Pp">With Moose, these are declaratively defined, and distinct from
        methods.</p>
  </li>
  <li>Method
    <p class="Pp">These are pretty much the same in Moose as in old school
      Perl.</p>
  </li>
  <li>Roles
    <p class="Pp"><span class="Li">&quot;Class::Trait&quot;</span> or
        <span class="Li">&quot;Class::Role&quot;</span>, or maybe
        <span class="Li">&quot;mixin.pm&quot;</span>.</p>
    <p class="Pp">With Moose, they're part of the core feature set, and are
        introspectable like everything else.</p>
  </li>
  <li>Method Modifiers
    <p class="Pp">Could only be done through serious symbol table wizardry, and
        you probably never saw this before (at least in Perl 5).</p>
  </li>
  <li>Type
    <p class="Pp">Hand-written parameter checking in your
        <span class="Li">&quot;new()&quot;</span> method and accessors.</p>
    <p class="Pp">With Moose, you define types declaratively, and then use them
        by name with your attributes.</p>
  </li>
  <li>Delegation
    <p class="Pp"><span class="Li">&quot;Class::Delegation&quot;</span> or
        <span class="Li">&quot;Class::Delegator&quot;</span>, but probably even
        more hand-written code.</p>
    <p class="Pp">With Moose, this is also declarative.</p>
  </li>
  <li>Constructor
    <p class="Pp">A <span class="Li">&quot;new()&quot;</span> method which calls
        <span class="Li">&quot;bless&quot;</span> on a reference.</p>
    <p class="Pp">Comes for free when you define a class with Moose.</p>
  </li>
  <li>Destructor
    <p class="Pp">A <span class="Li">&quot;DESTROY()&quot;</span> method.</p>
    <p class="Pp">With Moose, this is called
        <span class="Li">&quot;DEMOLISH()&quot;</span>.</p>
  </li>
  <li>Object Instance
    <p class="Pp">A blessed reference, usually a hash reference.</p>
    <p class="Pp">With Moose, this is an opaque thing which has a bunch of
        attributes and methods, as defined by its class.</p>
  </li>
  <li>Immutabilization
    <p class="Pp">Moose comes with a feature called
        &quot;immutabilization&quot;. When you make your class immutable, it
        means you're done adding methods, attributes, roles, etc. This lets
        Moose optimize your class with a bunch of extremely dirty in-place code
        generation tricks that speed up things like object construction and so
        on.</p>
  </li>
</ul>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="META_WHAT?"><a class="permalink" href="#META_WHAT?">META
  WHAT?</a></h1>
<p class="Pp">A metaclass is a class that describes classes. With Moose, every
    class you define gets a <span class="Li">&quot;meta()&quot;</span> method.
    The <span class="Li">&quot;meta()&quot;</span> method returns a
    Moose::Meta::Class object, which has an introspection API that can tell you
    about the class it represents.</p>
<p class="Pp"></p>
<pre>  my $meta = User-&gt;meta();
  for my $attribute ( $meta-&gt;get_all_attributes ) {
      print $attribute-&gt;name(), &quot;\n&quot;;
      if ( $attribute-&gt;has_type_constraint ) {
          print &quot;  type: &quot;, $attribute-&gt;type_constraint-&gt;name, &quot;\n&quot;;
      }
  }
  for my $method ( $meta-&gt;get_all_methods ) {
      print $method-&gt;name, &quot;\n&quot;;
  }
</pre>
<p class="Pp">Almost every concept we defined earlier has a meta class, so we
    have Moose::Meta::Class, Moose::Meta::Attribute, Moose::Meta::Method,
    Moose::Meta::Role, Moose::Meta::TypeConstraint, Moose::Meta::Instance, and
    so on.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUT_I_NEED_TO_DO_IT_MY_WAY!"><a class="permalink" href="#BUT_I_NEED_TO_DO_IT_MY_WAY!">BUT
  I NEED TO DO IT MY WAY!</a></h1>
<p class="Pp">One of the great things about Moose is that if you dig down and
    find that it does something the &quot;wrong way&quot;, you can change it by
    extending a metaclass. For example, you can have arrayref based objects, you
    can make your constructors strict (no unknown parameters allowed!), you can
    define a naming scheme for attribute accessors, you can make a class a
    Singleton, and much, much more.</p>
<p class="Pp">Many of these extensions require surprisingly small amounts of
    code, and once you've done it once, you'll never have to hand-code
    &quot;your way of doing things&quot; again. Instead you'll just load your
    favorite extensions.</p>
<p class="Pp"></p>
<pre>  package MyWay::User;
  use Moose;
  use MooseX::StrictConstructor;
  use MooseX::MyWay;
  has ...;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="WHAT_NEXT?"><a class="permalink" href="#WHAT_NEXT?">WHAT
  NEXT?</a></h1>
<p class="Pp">So you're sold on Moose. Time to learn how to really use it.</p>
<p class="Pp">If you want to see how Moose would translate directly into old
    school Perl 5 OO code, check out Moose::Manual::Unsweetened. This might be
    helpful for quickly wrapping your brain around some aspects of &quot;the
    Moose way&quot;.</p>
<p class="Pp">Or you can skip that and jump straight to Moose::Manual::Classes
    and the rest of the Moose::Manual.</p>
<p class="Pp">After that we recommend that you start with the Moose::Cookbook.
    If you work your way through all the recipes under the basics section, you
    should have a pretty good sense of how Moose works, and all of its basic OO
    features.</p>
<p class="Pp">After that, check out the Role recipes. If you're really curious,
    go on and read the Meta and Extending recipes, but those are mostly there
    for people who want to be Moose wizards and extend Moose itself.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<ul class="Bl-bullet">
  <li>Stevan Little &lt;stevan.little@iinteractive.com&gt;</li>
  <li>Dave Rolsky &lt;autarch@urth.org&gt;</li>
  <li>Jesse Luehrs &lt;doy@tozt.net&gt;</li>
  <li>Shawn M Moore &lt;code@sartak.org&gt;</li>
  <li>&#x05D9;&#x05D5;&#x05D1;&#x05DC; &#x05E7;&#x05D5;&#x05D2;'&#x05DE;&#x05DF;
      (Yuval Kogman) &lt;nothingmuch@woobling.org&gt;</li>
  <li>Karen Etheridge &lt;ether@cpan.org&gt;</li>
  <li>Florian Ragwitz &lt;rafl@debian.org&gt;</li>
  <li>Hans Dieter Pearcey &lt;hdp@weftsoar.net&gt;</li>
  <li>Chris Prather &lt;chris@prather.org&gt;</li>
  <li>Matt S Trout &lt;mst@shadowcat.co.uk&gt;</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
<p class="Pp">This software is copyright (c) 2006 by Infinity Interactive,
  Inc.</p>
<p class="Pp">This is free software; you can redistribute it and/or modify it
    under the same terms as the Perl 5 programming language system itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-11-22</td>
    <td class="foot-os"><a href="..">perl v5.34.0</a></td>
  </tr>
</table>
</body>
</html>
