<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Mail::SPF::Util(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Mail::SPF::Util(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Mail::SPF::Util(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Mail::SPF::Util - Mail::SPF utility class</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
    use Mail::SPF::Util;

    $hostname = Mail::SPF::Util-&gt;hostname;

    $ipv6_address_v4mapped =
        Mail::SPF::Util-&gt;ipv4_address_to_ipv6($ipv4_address);

    $ipv4_address =
        Mail::SPF::Util-&gt;ipv6_address_to_ipv4($ipv6_address_v4mapped);

    $is_v4mapped =
        Mail::SPF::Util-&gt;ipv6_address_is_ipv4_mapped($ipv6_address);

    $ip_address_string  = Mail::SPF::Util-&gt;ip_address_to_string($ip_address);
    $reverse_name       = Mail::SPF::Util-&gt;ip_address_reverse($ip_address);

    $validated_domain = Mail::SPF::Util-&gt;valid_domain_for_ip_address(
        $spf_server, $request,
        $ip_address, $domain,
        $find_best_match,       # defaults to false
        $accept_any_domain      # defaults to false
    );

    $sanitized_string = Mail::SPF::Util-&gt;sanitize_string($string);
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><b>Mail::SPF::Util</b> is Mail::SPF's utility class.</p>
<section class="Ss">
<h2 class="Ss" id="Class_methods"><a class="permalink" href="#Class_methods">Class
  methods</a></h2>
<p class="Pp">The following class methods are provided:</p>
<dl class="Bl-tag">
  <dt id="hostname"><a class="permalink" href="#hostname"><b>hostname</b>:
    returns <i>string</i></a></dt>
  <dd>Returns the fully qualified domain name (FQDN) of the local host.</dd>
  <dt id="ipv4_address_to_ipv6($ipv4_address)"><a class="permalink" href="#ipv4_address_to_ipv6($ipv4_address)"><b>ipv4_address_to_ipv6($ipv4_address)</b>:
    returns <i>NetAddr::IP</i>; throws
    <i>Mail::SPF::EInvalidOptionValue</i></a></dt>
  <dd>Converts the specified <i>NetAddr::IP</i> IPv4 address into an IPv4-mapped
      IPv6 address. Throws a <i>Mail::SPF::EInvalidOptionValue</i> exception if
      the specified IP address is not an IPv4 address.</dd>
  <dt id="ipv6_address_to_ipv4($ipv6_address)"><a class="permalink" href="#ipv6_address_to_ipv4($ipv6_address)"><b>ipv6_address_to_ipv4($ipv6_address)</b>:
    returns <i>NetAddr::IP</i>; throws
    <i>Mail::SPF::EInvalidOptionValue</i></a></dt>
  <dd>Converts the specified <i>NetAddr::IP</i> IPv4-mapped IPv6 address into a
      proper IPv4 address. Throws a <i>Mail::SPF::EInvalidOptionValue</i>
      exception if the specified IP address is not an IPv4-mapped IPv6
    address.</dd>
  <dt id="ipv6_address_is_ipv4_mapped($ipv6_address)"><a class="permalink" href="#ipv6_address_is_ipv4_mapped($ipv6_address)"><b>ipv6_address_is_ipv4_mapped($ipv6_address)</b>:
    returns <i>boolean</i></a></dt>
  <dd>Returns <b>true</b> if the specified <i>NetAddr::IP</i> IPv6 address is an
      IPv4-mapped address, <b>false</b> otherwise.</dd>
  <dt id="ip_address_to_string($ip_address)"><a class="permalink" href="#ip_address_to_string($ip_address)"><b>ip_address_to_string($ip_address)</b>:
    returns <i>string</i>; throws <i>Mail::SPF::EInvalidOptionValue</i></a></dt>
  <dd>Returns the given <i>NetAddr::IP</i> IPv4 or IPv6 address compactly
      formatted as a <i>string</i>. For IPv4 addresses, this is equivalent to
      calling NetAddr::IP's <span class="Li">&quot;addr&quot;</span> method. For
      IPv6 addresses, this is equivalent to calling NetAddr::IP's
      <span class="Li">&quot;short&quot;</span> method. Throws a
      <i>Mail::SPF::EInvalidOptionValue</i> exception if the specified object is
      not a <i>NetAddr::IP</i> IPv4 or IPv6 address object.</dd>
  <dt id="ip_address_reverse($ip_address)"><a class="permalink" href="#ip_address_reverse($ip_address)"><b>ip_address_reverse($ip_address)</b>:
    returns <i>string</i>; throws <i>Mail::SPF::EInvalidOptionValue</i></a></dt>
  <dd>Returns the
      <span class="Li">&quot;in-addr.arpa.&quot;</span>/<span class="Li">&quot;ip6.arpa.&quot;</span>
      reverse notation of the given <i>NetAddr::IP</i> IPv4 or IPv6 address.
      Throws a <i>Mail::SPF::EInvalidOptionValue</i> exception if the specified
      object is not a <i>NetAddr::IP</i> IPv4 or IPv6 address object.</dd>
  <dt id="valid_domain_for_ip_address($server,"><a class="permalink" href="#valid_domain_for_ip_address($server,"><b>valid_domain_for_ip_address($server,
    </b><b>$request</b><b>, </b><b>$ip_address</b><b>, </b><b>$domain</b><b>,
    </b><b>$find_best_match</b><b> = false, </b><b>$accept_any_domain</b><b> =
    false)</b>: returns <i>string</i> or <b>undef</b></a></dt>
  <dd>Finds a valid domain name for the given <i>NetAddr::IP</i> IP address that
      matches the given domain or a sub-domain thereof. A domain name is valid
      for the given IP address if the IP address reverse-maps to that domain
      name in DNS, and the domain name in turn forward-maps to the IP address.
      Uses the given <i>Mail::SPF::Server</i> and <i>Mail::SPF::Request</i>
      objects to perform DNS look-ups. Returns the validated domain name.
    <p class="Pp">If <span class="Li">$find_best_match</span> is <b>true</b>,
        the one domain name is selected that best matches the given domain name,
        preferring direct matches over sub-domain matches. Defaults to
        <b>false</b>.</p>
    <p class="Pp">If <span class="Li">$accept_any_domain</span> is <b>true</b>,
        <i>any</i> domain names are considered acceptable, even if they differ
        completely from the given domain name (which is then effectively unused
        unless a best match is requested). Defaults to <b>false</b>.</p>
  </dd>
  <dt id="sanitize_string($string)"><a class="permalink" href="#sanitize_string($string)"><b>sanitize_string($string)</b>:
    returns <i>string</i> or <b>undef</b></a></dt>
  <dd>Replaces all non-printable or non-ascii characters in a string with their
      hex-escaped representation (e.g.,
      <span class="Li">&quot;\x00&quot;</span>).</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">Mail::SPF</p>
<p class="Pp">For availability, support, and license information, see the README
    file included with Mail::SPF.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<p class="Pp">Julian Mehnle &lt;julian@mehnle.net&gt;, Shevek
    &lt;cpan@anarres.org&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="POD_ERRORS"><a class="permalink" href="#POD_ERRORS">POD
  ERRORS</a></h1>
<p class="Pp">Hey! <b>The above document had some coding errors, which are
    explained below:</b></p>
<dl class="Bl-tag">
  <dt id="Around"><a class="permalink" href="#Around">Around line 157:</a></dt>
  <dd>L&lt;&gt; starts or ends with whitespace
    <p class="Pp">L&lt;&gt; starts or ends with whitespace</p>
  </dd>
</dl>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2022-02-12</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
