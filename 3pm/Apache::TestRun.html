<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Apache::TestRun(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Apache::TestRun(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Apache::TestRun(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Apache::TestRun - Run the test suite</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The <span class="Li">&quot;Apache::TestRun&quot;</span> package
    controls the configuration and running of the test suite.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<p class="Pp">Several methods are sub-classable, if the default behavior should
    be changed.</p>
<section class="Ss">
<h2 class="Ss" id="_bug_report_"><a class="permalink" href="#_bug_report_">&quot;bug_report&quot;</a></h2>
<p class="Pp">The <span class="Li">&quot;bug_report()&quot;</span> method is
    executed when <span class="Li">&quot;t/TEST&quot;</span> was executed with
    the <span class="Li">&quot;-bugreport&quot;</span> option, and
    <span class="Li">&quot;make test&quot;</span> (or
    <span class="Li">&quot;t/TEST&quot;</span>) fail. Normally this is callback
    which you can use to tell the user how to deal with the problem, e.g.
    suggesting to read some document or email some details to someone who can
    take care of it. By default nothing is executed.</p>
<p class="Pp">The <span class="Li">&quot;-bugreport&quot;</span> option is
    needed so this feature won't become annoying to developers themselves. It's
    automatically added to the <span class="Li">&quot;run_tests&quot;</span>
    target in <i>Makefile</i>. So if you repeateadly have to test your code,
    just don't use <span class="Li">&quot;make test&quot;</span> but run
    <span class="Li">&quot;t/TEST&quot;</span> directly. Here is an example of a
    custom <span class="Li">&quot;t/TEST&quot;</span></p>
<p class="Pp"></p>
<pre>  My::TestRun-&gt;new-&gt;run(@ARGV);
  package My::TestRun;
  use base 'Apache::TestRun';
  sub bug_report {
      my $self = shift;
      print &lt;&lt;EOI;
  +--------------------------------------------------------+
  | Please file a bug report: http://perl.apache.org/bugs/ |
  +--------------------------------------------------------+
  EOI
  }
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="_pre_configure_"><a class="permalink" href="#_pre_configure_">&quot;pre_configure&quot;</a></h2>
<p class="Pp">The <span class="Li">&quot;pre_configure()&quot;</span> method is
    executed before the configuration for
    <span class="Li">&quot;Apache::Test&quot;</span> is generated. So if you
    need to adjust the setup before <i>httpd.conf</i> and other files are
    autogenerated, this is the right place to do so.</p>
<p class="Pp">For example if you don't want to inherit a LoadModule directive
    for <i>mod_apreq.so</i> but to make sure that the local version is used, you
    can sub-class <span class="Li">&quot;Apache::TestRun&quot;</span> and
    override this method in <i>t/TEST.PL</i>:</p>
<p class="Pp"></p>
<pre>  package My::TestRun;
  use base 'Apache::TestRun';
  use Apache::TestConfig;
  __PACKAGE__-&gt;new-&gt;run(@ARGV);
  sub pre_configure {
      my $self = shift;
      # Don't load an installed mod_apreq
      Apache::TestConfig::autoconfig_skip_module_add('mod_apreq.c');
      $self-&gt;SUPER::pre_configure();
  }
</pre>
<p class="Pp">Notice that the extension is <i>.c</i>, and not <i>.so</i>.</p>
<p class="Pp">Don't forget to run the super class'
    c&lt;<b>pre_configure()</b>&gt; method.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_new_test_config_"><a class="permalink" href="#_new_test_config_">&quot;new_test_config&quot;</a></h2>
<p class="Pp">META: to be completed</p>
</section>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2022-01-30</td>
    <td class="foot-os">perl v5.34.0</td>
  </tr>
</table>
</body>
</html>
