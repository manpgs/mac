<!DOCTYPE html>
<html lang="en">
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Digest::MD5(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Digest::MD5(3pm)</td>
    <td class="head-vol"><a href=".">Perl Programmers Reference Guide</a></td>
    <td class="head-rtitle">Digest::MD5(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Digest::MD5 - Perl interface to the MD5 Algorithm</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre> # Functional style
 use Digest::MD5 qw(md5 md5_hex md5_base64);
 $digest = md5($data);
 $digest = md5_hex($data);
 $digest = md5_base64($data);
 # OO style
 use Digest::MD5;
 $ctx = Digest::MD5-&gt;new;
 $ctx-&gt;add($data);
 $ctx-&gt;addfile($file_handle);
 $digest = $ctx-&gt;digest;
 $digest = $ctx-&gt;hexdigest;
 $digest = $ctx-&gt;b64digest;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The <span class="Li">&quot;Digest::MD5&quot;</span> module allows
    you to use the RSA Data Security Inc. MD5 Message Digest algorithm from
    within Perl programs. The algorithm takes as input a message of arbitrary
    length and produces as output a 128-bit &quot;fingerprint&quot; or
    &quot;message digest&quot; of the input.</p>
<p class="Pp">Note that the MD5 algorithm is not as strong as it used to be. It
    has since 2005 been easy to generate different messages that produce the
    same MD5 digest. It still seems hard to generate messages that produce a
    given digest, but it is probably wise to move to stronger algorithms for
    applications that depend on the digest to uniquely identify a message.</p>
<p class="Pp">The <span class="Li">&quot;Digest::MD5&quot;</span> module provide
    a procedural interface for simple use, as well as an object oriented
    interface that can handle messages of arbitrary length and which can read
    files directly.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="FUNCTIONS"><a class="permalink" href="#FUNCTIONS">FUNCTIONS</a></h1>
<p class="Pp">The following functions are provided by the
    <span class="Li">&quot;Digest::MD5&quot;</span> module. None of these
    functions are exported by default.</p>
<dl class="Bl-tag">
  <dt id="md5($data,...)"><a class="permalink" href="#md5($data,...)">md5($data,...)</a></dt>
  <dd>This function will concatenate all arguments, calculate the MD5 digest of
      this &quot;message&quot;, and return it in binary form. The returned
      string will be 16 bytes long.
    <p class="Pp">The result of md5(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)
        will be exactly the same as the result of md5(&quot;abc&quot;).</p>
  </dd>
  <dt id="md5_hex($data,...)"><a class="permalink" href="#md5_hex($data,...)">md5_hex($data,...)</a></dt>
  <dd>Same as <b>md5()</b>, but will return the digest in hexadecimal form. The
      length of the returned string will be 32 and it will only contain
      characters from this set: '0'..'9' and 'a'..'f'.</dd>
  <dt id="md5_base64($data,...)"><a class="permalink" href="#md5_base64($data,...)">md5_base64($data,...)</a></dt>
  <dd>Same as <b>md5()</b>, but will return the digest as a base64 encoded
      string. The length of the returned string will be 22 and it will only
      contain characters from this set: 'A'..'Z', 'a'..'z', '0'..'9', '+' and
      '/'.
    <p class="Pp">Note that the base64 encoded string returned is not padded to
        be a multiple of 4 bytes long. If you want interoperability with other
        base64 encoded md5 digests you might want to append the redundant string
        &quot;==&quot; to the result.</p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<p class="Pp">The object oriented interface to
    <span class="Li">&quot;Digest::MD5&quot;</span> is described in this
    section. After a <span class="Li">&quot;Digest::MD5&quot;</span> object has
    been created, you will add data to it and finally ask for the digest in a
    suitable format. A single object can be used to calculate multiple
  digests.</p>
<p class="Pp">The following methods are provided:</p>
<dl class="Bl-tag">
  <dt>$md5 = Digest::MD5-&gt;new</dt>
  <dd>The constructor returns a new
      <span class="Li">&quot;Digest::MD5&quot;</span> object which encapsulate
      the state of the MD5 message-digest algorithm.
    <p class="Pp">If called as an instance method (i.e.
        <span class="Li">$md5</span>-&gt;new) it will just reset the state the
        object to the state of a newly created object. No new object is created
        in this case.</p>
  </dd>
  <dt>$md5-&gt;reset</dt>
  <dd>This is just an alias for <span class="Li">$md5</span>-&gt;new.</dd>
  <dt>$md5-&gt;clone</dt>
  <dd>This a copy of the <span class="Li">$md5</span> object. It is useful when
      you do not want to destroy the digests state, but need an intermediate
      value of the digest, e.g. when calculating digests iteratively on a
      continuous data stream. Example:
    <p class="Pp"></p>
    <pre>    my $md5 = Digest::MD5-&gt;new;
    while (&lt;&gt;) {
        $md5-&gt;add($_);
        print &quot;Line $.: &quot;, $md5-&gt;clone-&gt;hexdigest, &quot;\n&quot;;
    }
    </pre>
  </dd>
  <dt>$md5-&gt;add($data,...)</dt>
  <dd>The <span class="Li">$data</span> provided as argument are appended to the
      message we calculate the digest for. The return value is the
      <span class="Li">$md5</span> object itself.
    <p class="Pp">All these lines will have the same effect on the state of the
        <span class="Li">$md5</span> object:</p>
    <p class="Pp"></p>
    <pre>    $md5-&gt;add(&quot;a&quot;); $md5-&gt;add(&quot;b&quot;); $md5-&gt;add(&quot;c&quot;);
    $md5-&gt;add(&quot;a&quot;)-&gt;add(&quot;b&quot;)-&gt;add(&quot;c&quot;);
    $md5-&gt;add(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);
    $md5-&gt;add(&quot;abc&quot;);
    </pre>
  </dd>
  <dt>$md5-&gt;addfile($io_handle)</dt>
  <dd>The <span class="Li">$io_handle</span> will be read until EOF and its
      content appended to the message we calculate the digest for. The return
      value is the <span class="Li">$md5</span> object itself.
    <p class="Pp">The <b>addfile()</b> method will <b>croak()</b> if it fails
        reading data for some reason. If it croaks it is unpredictable what the
        state of the <span class="Li">$md5</span> object will be in. The
        <b>addfile()</b> method might have been able to read the file partially
        before it failed. It is probably wise to discard or reset the
        <span class="Li">$md5</span> object if this occurs.</p>
    <p class="Pp">In most cases you want to make sure that the
        <span class="Li">$io_handle</span> is in
        <span class="Li">&quot;binmode&quot;</span> before you pass it as
        argument to the <b>addfile()</b> method.</p>
  </dd>
  <dt>$md5-&gt;add_bits($data, $nbits)</dt>
  <dd></dd>
  <dt>$md5-&gt;add_bits($bitstring)</dt>
  <dd>Since the MD5 algorithm is byte oriented you might only add bits as
      multiples of 8, so you probably want to just use <b>add()</b> instead. The
      <b>add_bits()</b> method is provided for compatibility with other digest
      implementations. See Digest for description of the arguments that
      <b>add_bits()</b> take.</dd>
  <dt>$md5-&gt;digest</dt>
  <dd>Return the binary digest for the message. The returned string will be 16
      bytes long.
    <p class="Pp">Note that the <span class="Li">&quot;digest&quot;</span>
        operation is effectively a destructive, read-once operation. Once it has
        been performed, the <span class="Li">&quot;Digest::MD5&quot;</span>
        object is automatically <span class="Li">&quot;reset&quot;</span> and
        can be used to calculate another digest value. Call
        <span class="Li">$md5</span>-&gt;clone-&gt;digest if you want to
        calculate the digest without resetting the digest state.</p>
  </dd>
  <dt>$md5-&gt;hexdigest</dt>
  <dd>Same as <span class="Li">$md5</span>-&gt;digest, but will return the
      digest in hexadecimal form. The length of the returned string will be 32
      and it will only contain characters from this set: '0'..'9' and
    'a'..'f'.</dd>
  <dt>$md5-&gt;b64digest</dt>
  <dd>Same as <span class="Li">$md5</span>-&gt;digest, but will return the
      digest as a base64 encoded string. The length of the returned string will
      be 22 and it will only contain characters from this set: 'A'..'Z',
      'a'..'z', '0'..'9', '+' and '/'.
    <p class="Pp">The base64 encoded string returned is not padded to be a
        multiple of 4 bytes long. If you want interoperability with other base64
        encoded md5 digests you might want to append the string &quot;==&quot;
        to the result.</p>
  </dd>
  <dt>@ctx = $md5-&gt;context</dt>
  <dd></dd>
  <dt>$md5-&gt;context(@ctx)</dt>
  <dd>Saves or restores the internal state. When called with no arguments,
      returns a list: number of blocks processed, a 16-byte internal state
      buffer, then optionally up to 63 bytes of unprocessed data if there are
      any. When passed those same arguments, restores the state. This is only
      useful for specialised operations.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">The simplest way to use this library is to import the
    <b>md5_hex()</b> function (or one of its cousins):</p>
<p class="Pp"></p>
<pre>    use Digest::MD5 qw(md5_hex);
    print &quot;Digest is &quot;, md5_hex(&quot;foobarbaz&quot;), &quot;\n&quot;;
</pre>
<p class="Pp">The above example would print out the message:</p>
<p class="Pp"></p>
<pre>    Digest is 6df23dc03f9b54cc38a0fc1483df6e21
</pre>
<p class="Pp">The same checksum can also be calculated in OO style:</p>
<p class="Pp"></p>
<pre>    use Digest::MD5;
    
    $md5 = Digest::MD5-&gt;new;
    $md5-&gt;add('foo', 'bar');
    $md5-&gt;add('baz');
    $digest = $md5-&gt;hexdigest;
    
    print &quot;Digest is $digest\n&quot;;
</pre>
<p class="Pp">With OO style, you can break the message arbitrarily. This means
    that we are no longer limited to have space for the whole message in memory,
    i.e. we can handle messages of any size.</p>
<p class="Pp">This is useful when calculating checksum for files:</p>
<p class="Pp"></p>
<pre>    use Digest::MD5;
    my $filename = shift || &quot;/etc/passwd&quot;;
    open (my $fh, '&lt;', $filename) or die &quot;Can't open '$filename': $!&quot;;
    binmode($fh);
    $md5 = Digest::MD5-&gt;new;
    while (&lt;$fh&gt;) {
        $md5-&gt;add($_);
    }
    close($fh);
    print $md5-&gt;b64digest, &quot; $filename\n&quot;;
</pre>
<p class="Pp">Or we can use the addfile method for more efficient reading of the
    file:</p>
<p class="Pp"></p>
<pre>    use Digest::MD5;
    my $filename = shift || &quot;/etc/passwd&quot;;
    open (my $fh, '&lt;', $filename) or die &quot;Can't open '$filename': $!&quot;;
    binmode ($fh);
    print Digest::MD5-&gt;new-&gt;addfile($fh)-&gt;hexdigest, &quot; $filename\n&quot;;
</pre>
<p class="Pp">Since the MD5 algorithm is only defined for strings of bytes, it
    can not be used on strings that contains chars with ordinal number above 255
    (Unicode strings). The MD5 functions and methods will croak if you try to
    feed them such input data:</p>
<p class="Pp"></p>
<pre>    use Digest::MD5 qw(md5_hex);
    my $str = &quot;abc\x{300}&quot;;
    print md5_hex($str), &quot;\n&quot;;  # croaks
    # Wide character in subroutine entry
</pre>
<p class="Pp">What you can do is calculate the MD5 checksum of the UTF-8
    representation of such strings. This is achieved by filtering the string
    through <b>encode_utf8()</b> function:</p>
<p class="Pp"></p>
<pre>    use Digest::MD5 qw(md5_hex);
    use Encode qw(encode_utf8);
    my $str = &quot;abc\x{300}&quot;;
    print md5_hex(encode_utf8($str)), &quot;\n&quot;;
    # 8c2d46911f3f5a326455f0ed7a8ed3b3
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">Digest, Digest::MD2, Digest::SHA, Digest::HMAC</p>
<p class="Pp"><b>md5sum</b>(1)</p>
<p class="Pp">RFC 1321</p>
<p class="Pp">http://en.wikipedia.org/wiki/MD5</p>
<p class="Pp">The paper &quot;How to Break MD5 and Other Hash Functions&quot; by
    Xiaoyun Wang and Hongbo Yu.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">This library is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself.</p>
<p class="Pp"></p>
<pre> Copyright 1998-2003 Gisle Aas.
 Copyright 1995-1996 Neil Winton.
 Copyright 1991-1992 RSA Data Security, Inc.
</pre>
<p class="Pp">The MD5 algorithm is defined in RFC 1321. This implementation is
    derived from the reference C code in RFC 1321 which is covered by the
    following copyright statement:</p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Copyright (C) 1991-2, RSA Data Security, Inc. Created 1991. All rights
      reserved.
    <p class="Pp">License to copy and use this software is granted provided that
        it is identified as the &quot;RSA Data Security, Inc. MD5 Message-Digest
        Algorithm&quot; in all material mentioning or referencing this software
        or this function.</p>
    <p class="Pp">License is also granted to make and use derivative works
        provided that such works are identified as &quot;derived from the RSA
        Data Security, Inc. MD5 Message-Digest Algorithm&quot; in all material
        mentioning or referencing the derived work.</p>
    <p class="Pp">RSA Data Security, Inc. makes no representations concerning
        either the merchantability of this software or the suitability of this
        software for any particular purpose. It is provided &quot;as is&quot;
        without express or implied warranty of any kind.</p>
    <p class="Pp">These notices must be retained in any copies of any part of
        this documentation and/or software.</p>
  </dd>
</dl>
<p class="Pp">This copyright does not prohibit distribution of any version of
    Perl containing this extension under the terms of the GNU or Artistic
    licenses.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<p class="Pp">The original <span class="Li">&quot;MD5&quot;</span> interface was
    written by Neil Winton
    (<span class="Li">&quot;N.Winton@axion.bt.co.uk&quot;</span>).</p>
<p class="Pp">The <span class="Li">&quot;Digest::MD5&quot;</span> module is
    written by Gisle Aas &lt;gisle@ActiveState.com&gt;.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2022-02-19</td>
    <td class="foot-os"><a href="..">perl v5.34.1</a></td>
  </tr>
</table>
</body>
</html>
