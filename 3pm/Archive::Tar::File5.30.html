<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Archive::Tar::File(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Archive::Tar::File(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">Archive::Tar::File(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Archive::Tar::File - a subclass for in-memory extracted file from
    Archive::Tar</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>    my @items = $tar-&gt;get_files;
    print $_-&gt;name, ' ', $_-&gt;size, &quot;\n&quot; for @items;
    print $object-&gt;get_content;
    $object-&gt;replace_content('new content');
    $object-&gt;rename( 'new/full/path/to/file.c' );
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">Archive::Tar::Files provides a neat little object layer for
    in-memory extracted files. It's mostly used internally in Archive::Tar to
    tidy up the code, but there's no reason users shouldn't use this API as
    well.</p>
<section class="Ss">
<h2 class="Ss" id="Accessors"><a class="permalink" href="#Accessors">Accessors</a></h2>
<p class="Pp">A lot of the methods in this package are accessors to the various
    fields in the tar header:</p>
<dl class="Bl-tag">
  <dt id="name"><a class="permalink" href="#name">name</a></dt>
  <dd>The file's name</dd>
  <dt id="mode"><a class="permalink" href="#mode">mode</a></dt>
  <dd>The file's mode</dd>
  <dt id="uid"><a class="permalink" href="#uid">uid</a></dt>
  <dd>The user id owning the file</dd>
  <dt id="gid"><a class="permalink" href="#gid">gid</a></dt>
  <dd>The group id owning the file</dd>
  <dt id="size"><a class="permalink" href="#size">size</a></dt>
  <dd>File size in bytes</dd>
  <dt id="mtime"><a class="permalink" href="#mtime">mtime</a></dt>
  <dd>Modification time. Adjusted to mac-time on MacOS if required</dd>
  <dt id="chksum"><a class="permalink" href="#chksum">chksum</a></dt>
  <dd>Checksum field for the tar header</dd>
  <dt id="type"><a class="permalink" href="#type">type</a></dt>
  <dd>File type -- numeric, but comparable to exported constants -- see
      Archive::Tar's documentation</dd>
  <dt id="linkname"><a class="permalink" href="#linkname">linkname</a></dt>
  <dd>If the file is a symlink, the file it's pointing to</dd>
  <dt id="magic"><a class="permalink" href="#magic">magic</a></dt>
  <dd>Tar magic string -- not useful for most users</dd>
  <dt id="version"><a class="permalink" href="#version">version</a></dt>
  <dd>Tar version string -- not useful for most users</dd>
  <dt id="uname"><a class="permalink" href="#uname">uname</a></dt>
  <dd>The user name that owns the file</dd>
  <dt id="gname"><a class="permalink" href="#gname">gname</a></dt>
  <dd>The group name that owns the file</dd>
  <dt id="devmajor"><a class="permalink" href="#devmajor">devmajor</a></dt>
  <dd>Device major number in case of a special file</dd>
  <dt id="devminor"><a class="permalink" href="#devminor">devminor</a></dt>
  <dd>Device minor number in case of a special file</dd>
  <dt id="prefix"><a class="permalink" href="#prefix">prefix</a></dt>
  <dd>Any directory to prefix to the extraction path, if any</dd>
  <dt id="raw"><a class="permalink" href="#raw">raw</a></dt>
  <dd>Raw tar header -- not useful for most users</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Methods"><a class="permalink" href="#Methods">Methods</a></h1>
<section class="Ss">
<h2 class="Ss">Archive::Tar::File-&gt;new( file =&gt; $path )</h2>
<p class="Pp">Returns a new Archive::Tar::File object from an existing file.</p>
<p class="Pp">Returns undef on failure.</p>
</section>
<section class="Ss">
<h2 class="Ss">Archive::Tar::File-&gt;new( data =&gt; $path, $data, $opt )</h2>
<p class="Pp">Returns a new Archive::Tar::File object from data.</p>
<p class="Pp"><span class="Li">$path</span> defines the file name (which need
    not exist), <span class="Li">$data</span> the file contents, and
    <span class="Li">$opt</span> is a reference to a hash of attributes which
    may be used to override the default attributes (fields in the tar header),
    which are described above in the Accessors section.</p>
<p class="Pp">Returns undef on failure.</p>
</section>
<section class="Ss">
<h2 class="Ss">Archive::Tar::File-&gt;new( chunk =&gt; $chunk )</h2>
<p class="Pp">Returns a new Archive::Tar::File object from a raw 512-byte tar
    archive chunk.</p>
<p class="Pp">Returns undef on failure.</p>
</section>
<section class="Ss">
<h2 class="Ss">$bool = $file-&gt;extract( [ $alternative_name ] )</h2>
<p class="Pp">Extract this object, optionally to an alternative name.</p>
<p class="Pp">See
    <span class="Li">&quot;Archive::Tar-&gt;extract_file&quot;</span> for
    details.</p>
<p class="Pp">Returns true on success and false on failure.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$path_=_$file"><a class="permalink" href="#$path_=_$file">$path
  = $file-&gt;full_path</a></h2>
<p class="Pp">Returns the full path from the tar header; this is basically a
    concatenation of the <span class="Li">&quot;prefix&quot;</span> and
    <span class="Li">&quot;name&quot;</span> fields.</p>
</section>
<section class="Ss">
<h2 class="Ss">$bool = $file-&gt;validate</h2>
<p class="Pp">Done by Archive::Tar internally when reading the tar file:
    validate the header against the checksum to ensure integer tar file.</p>
<p class="Pp">Returns true on success, false on failure</p>
</section>
<section class="Ss">
<h2 class="Ss">$bool = $file-&gt;has_content</h2>
<p class="Pp">Returns a boolean to indicate whether the current object has
    content. Some special files like directories and so on never will have any
    content. This method is mainly to make sure you don't get warnings for using
    uninitialized values when looking at an object's content.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$content_=_$file"><a class="permalink" href="#$content_=_$file">$content
  = $file-&gt;get_content</a></h2>
<p class="Pp">Returns the current content for the in-memory file</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$cref_=_$file"><a class="permalink" href="#$cref_=_$file">$cref
  = $file-&gt;get_content_by_ref</a></h2>
<p class="Pp">Returns the current content for the in-memory file as a scalar
    reference. Normal users won't need this, but it will save memory if you are
    dealing with very large data files in your tar archive, since it will pass
    the contents by reference, rather than make a copy of it first.</p>
</section>
<section class="Ss">
<h2 class="Ss">$bool = $file-&gt;replace_content( $content )</h2>
<p class="Pp">Replace the current content of the file with the new content. This
    only affects the in-memory archive, not the on-disk version until you write
    it.</p>
<p class="Pp">Returns true on success, false on failure.</p>
</section>
<section class="Ss">
<h2 class="Ss">$bool = $file-&gt;rename( $new_name )</h2>
<p class="Pp">Rename the current file to <span class="Li">$new_name</span>.</p>
<p class="Pp">Note that you must specify a Unix path for
    <span class="Li">$new_name</span>, since per tar standard, all files in the
    archive must be Unix paths.</p>
<p class="Pp">Returns true on success and false on failure.</p>
</section>
<section class="Ss">
<h2 class="Ss">$bool = $file-&gt;chmod $mode)</h2>
<p class="Pp">Change mode of <span class="Li">$file</span> to
    <span class="Li">$mode</span>. The mode can be a string or a number which is
    interpreted as octal whether or not a leading 0 is given.</p>
<p class="Pp">Returns true on success and false on failure.</p>
</section>
<section class="Ss">
<h2 class="Ss">$bool = $file-&gt;chown( $user [, $group])</h2>
<p class="Pp">Change owner of <span class="Li">$file</span> to
    <span class="Li">$user</span>. If a <span class="Li">$group</span> is given
    that is changed as well. You can also pass a single parameter with a colon
    separating the use and group as in 'root:wheel'.</p>
<p class="Pp">Returns true on success and false on failure.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Convenience_methods"><a class="permalink" href="#Convenience_methods">Convenience
  methods</a></h1>
<p class="Pp">To quickly check the type of a
    <span class="Li">&quot;Archive::Tar::File&quot;</span> object, you can use
    the following methods:</p>
<dl class="Bl-tag">
  <dt>$file-&gt;is_file</dt>
  <dd>Returns true if the file is of type
      <span class="Li">&quot;file&quot;</span></dd>
  <dt>$file-&gt;is_dir</dt>
  <dd>Returns true if the file is of type
      <span class="Li">&quot;dir&quot;</span></dd>
  <dt>$file-&gt;is_hardlink</dt>
  <dd>Returns true if the file is of type
      <span class="Li">&quot;hardlink&quot;</span></dd>
  <dt>$file-&gt;is_symlink</dt>
  <dd>Returns true if the file is of type
      <span class="Li">&quot;symlink&quot;</span></dd>
  <dt>$file-&gt;is_chardev</dt>
  <dd>Returns true if the file is of type
      <span class="Li">&quot;chardev&quot;</span></dd>
  <dt>$file-&gt;is_blockdev</dt>
  <dd>Returns true if the file is of type
      <span class="Li">&quot;blockdev&quot;</span></dd>
  <dt>$file-&gt;is_fifo</dt>
  <dd>Returns true if the file is of type
      <span class="Li">&quot;fifo&quot;</span></dd>
  <dt>$file-&gt;is_socket</dt>
  <dd>Returns true if the file is of type
      <span class="Li">&quot;socket&quot;</span></dd>
  <dt>$file-&gt;is_longlink</dt>
  <dd>Returns true if the file is of type
      <span class="Li">&quot;LongLink&quot;</span>. Should not happen after a
      successful <span class="Li">&quot;read&quot;</span>.</dd>
  <dt>$file-&gt;is_label</dt>
  <dd>Returns true if the file is of type
      <span class="Li">&quot;Label&quot;</span>. Should not happen after a
      successful <span class="Li">&quot;read&quot;</span>.</dd>
  <dt>$file-&gt;is_unknown</dt>
  <dd>Returns true if the file type is
      <span class="Li">&quot;unknown&quot;</span></dd>
</dl>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-10-21</td>
    <td class="foot-os">perl v5.30.3</td>
  </tr>
</table>
</body>
</html>
