<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>HTTP::Config(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">HTTP::Config(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">HTTP::Config(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">HTTP::Config - Configuration for request and response objects</p>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
<p class="Pp">version 6.22</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
 use HTTP::Config;
 my $c = HTTP::Config-&gt;new;
 $c-&gt;add(m_domain =&gt; &quot;.example.com&quot;, m_scheme =&gt; &quot;http&quot;, verbose =&gt; 1);
 
 use HTTP::Request;
 my $request = HTTP::Request-&gt;new(GET =&gt; &quot;http://www.example.com&quot;);
 
 if (my @m = $c-&gt;matching($request)) {
    print &quot;Yadayada\n&quot; if $m[0]-&gt;{verbose};
 }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">An <span class="Li">&quot;HTTP::Config&quot;</span> object is a
    list of entries that can be matched against request or request/response
    pairs. Its purpose is to hold configuration data that can be looked up given
    a request or response object.</p>
<p class="Pp">Each configuration entry is a hash. Some keys specify matching to
    occur against attributes of request/response objects. Other keys can be used
    to hold user data.</p>
<p class="Pp">The following methods are provided:</p>
<dl class="Bl-tag">
  <dt>$conf = HTTP::Config-&gt;new</dt>
  <dd>Constructs a new empty <span class="Li">&quot;HTTP::Config&quot;</span>
      object and returns it.</dd>
  <dt>$conf-&gt;entries</dt>
  <dd>Returns the list of entries in the configuration object. In scalar context
      returns the number of entries.</dd>
  <dt>$conf-&gt;empty</dt>
  <dd>Return true if there are no entries in the configuration object. This is
      just a shorthand for <span class="Li">&quot;not
      $conf-&gt;entries&quot;</span>.</dd>
  <dt>$conf-&gt;add( %matchspec, %other )</dt>
  <dd></dd>
  <dt>$conf-&gt;add( \%entry )</dt>
  <dd>Adds a new entry to the configuration. You can either pass separate
      key/value pairs or a hash reference.</dd>
  <dt>$conf-&gt;remove( %spec )</dt>
  <dd>Removes (and returns) the entries that have matches for all the key/value
      pairs in <span class="Li">%spec</span>. If <span class="Li">%spec</span>
      is empty this will match all entries; so it will empty the configuration
      object.</dd>
  <dt>$conf-&gt;matching( $uri, $request, $response )</dt>
  <dd></dd>
  <dt>$conf-&gt;matching( $uri )</dt>
  <dd></dd>
  <dt>$conf-&gt;matching( $request )</dt>
  <dd></dd>
  <dt>$conf-&gt;matching( $response )</dt>
  <dd>Returns the entries that match the given <span class="Li">$uri</span>,
      <span class="Li">$request</span> and <span class="Li">$response</span>
      triplet.
    <p class="Pp">If called with a single <span class="Li">$request</span>
        object then the <span class="Li">$uri</span> is obtained by calling its
        'uri_canonical' method. If called with a single
        <span class="Li">$response</span> object, then the request object is
        obtained by calling its 'request' method; and then the
        <span class="Li">$uri</span> is obtained as if a single
        <span class="Li">$request</span> was provided.</p>
    <p class="Pp">The entries are returned with the most specific matches first.
        In scalar context returns the most specific match or
        <span class="Li">&quot;undef&quot;</span> in none match.</p>
  </dd>
  <dt>$conf-&gt;add_item( $item, %matchspec )</dt>
  <dd></dd>
  <dt>$conf-&gt;remove_items( %spec )</dt>
  <dd></dd>
  <dt>$conf-&gt;matching_items( $uri, $request, $response )</dt>
  <dd>Wrappers that hides the entries themselves.</dd>
</dl>
<section class="Ss">
<h2 class="Ss" id="Matching"><a class="permalink" href="#Matching">Matching</a></h2>
<p class="Pp">The following keys on a configuration entry specify matching. For
    all of these you can provide an array of values instead of a single value.
    The entry matches if at least one of the values in the array matches.</p>
<p class="Pp">Entries that require match against a response object attribute
    will never match unless a response object was provided.</p>
<dl class="Bl-tag">
  <dt id="m_scheme"><a class="permalink" href="#m_scheme">m_scheme =&gt;
    $scheme</a></dt>
  <dd>Matches if the URI uses the specified scheme; e.g. &quot;http&quot;.</dd>
  <dt id="m_secure"><a class="permalink" href="#m_secure">m_secure =&gt;
    $bool</a></dt>
  <dd>If <span class="Li">$bool</span> is TRUE; matches if the URI uses a secure
      scheme. If <span class="Li">$bool</span> is FALSE; matches if the URI does
      not use a secure scheme. An example of a secure scheme is
      &quot;https&quot;.</dd>
  <dt id="m_host_port"><a class="permalink" href="#m_host_port">m_host_port
    =&gt; &quot;$hostname:$port&quot;</a></dt>
  <dd>Matches if the URI's host_port method return the specified value.</dd>
  <dt id="m_host"><a class="permalink" href="#m_host">m_host =&gt;
    $hostname</a></dt>
  <dd>Matches if the URI's host method returns the specified value.</dd>
  <dt id="m_port"><a class="permalink" href="#m_port">m_port =&gt;
    $port</a></dt>
  <dd>Matches if the URI's port method returns the specified value.</dd>
  <dt id="m_domain"><a class="permalink" href="#m_domain">m_domain =&gt;
    &quot;.$domain&quot;</a></dt>
  <dd>Matches if the URI's host method return a value that within the given
      domain. The hostname &quot;www.example.com&quot; will for instance match
      the domain &quot;.com&quot;.</dd>
  <dt id="m_path"><a class="permalink" href="#m_path">m_path =&gt;
    $path</a></dt>
  <dd>Matches if the URI's path method returns the specified value.</dd>
  <dt id="m_path_prefix"><a class="permalink" href="#m_path_prefix">m_path_prefix
    =&gt; $path</a></dt>
  <dd>Matches if the URI's path is the specified path or has the specified path
      as prefix.</dd>
  <dt id="m_path_match"><a class="permalink" href="#m_path_match">m_path_match
    =&gt; $Regexp</a></dt>
  <dd>Matches if the regular expression matches the URI's path. Eg.
    qr/\.html$/.</dd>
  <dt id="m_method"><a class="permalink" href="#m_method">m_method =&gt;
    $method</a></dt>
  <dd>Matches if the request method matches the specified value. Eg.
      &quot;GET&quot; or &quot;POST&quot;.</dd>
  <dt id="m_code"><a class="permalink" href="#m_code">m_code =&gt;
    $digit</a></dt>
  <dd></dd>
  <dt id="m_code~2"><a class="permalink" href="#m_code~2">m_code =&gt;
    $status_code</a></dt>
  <dd>Matches if the response status code matches. If a single digit is
      specified; matches for all response status codes beginning with that
      digit.</dd>
  <dt id="m_proxy"><a class="permalink" href="#m_proxy">m_proxy =&gt;
    $url</a></dt>
  <dd>Matches if the request is to be sent to the given Proxy server.</dd>
  <dt id="m_media_type"><a class="permalink" href="#m_media_type">m_media_type
    =&gt; &quot;*/*&quot;</a></dt>
  <dd></dd>
  <dt id="m_media_type~2"><a class="permalink" href="#m_media_type~2">m_media_type
    =&gt; &quot;text/*&quot;</a></dt>
  <dd></dd>
  <dt id="m_media_type~3"><a class="permalink" href="#m_media_type~3">m_media_type
    =&gt; &quot;html&quot;</a></dt>
  <dd></dd>
  <dt id="m_media_type~4"><a class="permalink" href="#m_media_type~4">m_media_type
    =&gt; &quot;xhtml&quot;</a></dt>
  <dd></dd>
  <dt id="m_media_type~5"><a class="permalink" href="#m_media_type~5">m_media_type
    =&gt; &quot;text/html&quot;</a></dt>
  <dd>Matches if the response media type matches.
    <p class="Pp">With a value of &quot;html&quot; matches if
        <span class="Li">$response</span>-&gt;content_is_html returns TRUE. With
        a value of &quot;xhtml&quot; matches if
        <span class="Li">$response</span>-&gt;content_is_xhtml returns TRUE.</p>
  </dd>
  <dt id="m_uri_"><a class="permalink" href="#m_uri_">m_uri__<i></i><i>$method</i><i></i>
    =&gt; undef</a></dt>
  <dd>Matches if the URI object provides the method.</dd>
  <dt id="m_uri_~2"><a class="permalink" href="#m_uri_~2">m_uri__<i></i><i>$method</i><i></i>
    =&gt; $string</a></dt>
  <dd>Matches if the URI's <span class="Li">$method</span> method returns the
      given value.</dd>
  <dt id="m_header_"><a class="permalink" href="#m_header_">m_header__<i></i><i>$field</i><i></i>
    =&gt; $string</a></dt>
  <dd>Matches if either the request or the response have a header
      <span class="Li">$field</span> with the given value.</dd>
  <dt id="m_response_attr_"><a class="permalink" href="#m_response_attr_">m_response_attr__<i></i><i>$key</i><i></i>
    =&gt; undef</a></dt>
  <dd></dd>
  <dt id="m_response_attr_~2"><a class="permalink" href="#m_response_attr_~2">m_response_attr__<i></i><i>$key</i><i></i>
    =&gt; $string</a></dt>
  <dd>Matches if the response object has that key, or the entry has the given
      value.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">URI, HTTP::Request, HTTP::Response</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Gisle Aas &lt;gisle@activestate.com&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
<p class="Pp">This software is copyright (c) 1994-2017 by Gisle Aas.</p>
<p class="Pp">This is free software; you can redistribute it and/or modify it
    under the same terms as the Perl 5 programming language system itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2020-02-24</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
