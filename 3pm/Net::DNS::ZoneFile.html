<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Net::DNS::ZoneFile(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Net::DNS::ZoneFile(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Net::DNS::ZoneFile(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Net::DNS::ZoneFile - DNS zone file</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>    use Net::DNS::ZoneFile;
    $zonefile = new Net::DNS::ZoneFile( 'named.example' );
    while ( $rr = $zonefile-&gt;read ) {
        $rr-&gt;print;
    }
    @zone = $zonefile-&gt;read;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">Each Net::DNS::ZoneFile object instance represents a zone file
    together with any subordinate files introduced by the
    <span class="Li">$INCLUDE</span> directive. Zone file syntax is defined by
    RFC1035.</p>
<p class="Pp">A program may have multiple zone file objects, each maintaining
    its own independent parser state information.</p>
<p class="Pp">The parser supports both the <span class="Li">$TTL</span>
    directive defined by RFC2308 and the BIND <span class="Li">$GENERATE</span>
    syntax extension.</p>
<p class="Pp">All RRs in a zone file must have the same class, which may be
    specified for the first RR encountered and is then propagated automatically
    to all subsequent records.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<section class="Ss">
<h2 class="Ss" id="new"><a class="permalink" href="#new">new</a></h2>
<pre>    $zonefile = new Net::DNS::ZoneFile( 'filename', ['example.com'] );
    $handle   = new FileHandle( 'filename', '&lt;:encoding(ISO8859-7)' );
    $zonefile = new Net::DNS::ZoneFile( $handle, ['example.com'] );
</pre>
<p class="Pp">The <b>new()</b> constructor returns a Net::DNS::ZoneFile object
    which represents the zone file specified in the argument list.</p>
<p class="Pp">The specified file or file handle is open for reading and closed
    when exhausted or all references to the ZoneFile object cease to exist.</p>
<p class="Pp">The optional second argument specifies
    <span class="Li">$ORIGIN</span> for the zone file.</p>
<p class="Pp">Character encoding is specified indirectly by creating a
    FileHandle with the desired encoding layer, which is then passed as an
    argument to <b>new()</b>. The specified encoding is propagated to files
    introduced by <span class="Li">$include</span> directives.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="read"><a class="permalink" href="#read">read</a></h2>
<pre>    $rr = $zonefile-&gt;read;
    @rr = $zonefile-&gt;read;
</pre>
<p class="Pp">When invoked in scalar context, <b>read()</b> returns a
    Net::DNS::RR object representing the next resource record encountered in the
    zone file, or undefined if end of data has been reached.</p>
<p class="Pp">When invoked in list context, <b>read()</b> returns the list of
    Net::DNS::RR objects in the order that they appear in the zone file.</p>
<p class="Pp">Comments and blank lines are silently disregarded.</p>
<p class="Pp"><span class="Li">$INCLUDE</span>, <span class="Li">$ORIGIN</span>,
    <span class="Li">$TTL</span> and <span class="Li">$GENERATE</span>
    directives are processed transparently.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="name"><a class="permalink" href="#name">name</a></h2>
<pre>    $filename = $zonefile-&gt;name;
</pre>
<p class="Pp">Returns the name of the zone file from which RRs will be read.
    <span class="Li">$INCLUDE</span> directives will cause this to differ from
    the filename argument supplied when the object was created.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="line"><a class="permalink" href="#line">line</a></h2>
<pre>    $line = $zonefile-&gt;line;
</pre>
<p class="Pp">Returns the number of the last line read from the current zone
    file.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="origin"><a class="permalink" href="#origin">origin</a></h2>
<pre>    $origin = $zonefile-&gt;origin;
</pre>
<p class="Pp">Returns the fully qualified name of the current origin within the
    zone file.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="ttl"><a class="permalink" href="#ttl">ttl</a></h2>
<pre>    $ttl = $zonefile-&gt;ttl;
</pre>
<p class="Pp">Returns the default TTL as specified by the
    <span class="Li">$TTL</span> directive.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="COMPATIBILITY_WITH_Net::DNS::ZoneFile_1.04"><a class="permalink" href="#COMPATIBILITY_WITH_Net::DNS::ZoneFile_1.04">COMPATIBILITY
  WITH Net::DNS::ZoneFile 1.04</a></h1>
<p class="Pp">Applications which depended on the defunct Net::DNS::ZoneFile 1.04
    CPAN distribution will continue to operate with minimal change using the
    compatibility interface described below.</p>
<p class="Pp"></p>
<pre>    use Net::DNS::ZoneFile;
    $listref = Net::DNS::ZoneFile-&gt;read( $filename, $include_dir );
    $listref = Net::DNS::ZoneFile-&gt;readfh( $handle, $include_dir );
    $listref = Net::DNS::ZoneFile-&gt;parse(  $string, $include_dir );
    $listref = Net::DNS::ZoneFile-&gt;parse( \$string, $include_dir );
    $_-&gt;print for @$listref;
</pre>
<p class="Pp">The optional second argument specifies the default path for
    filenames. The current working directory is used by default.</p>
<p class="Pp">Although not available in the original implementation, the RR list
    can be obtained directly by calling any of these methods in list
  context.</p>
<p class="Pp"></p>
<pre>    @rr = Net::DNS::ZoneFile-&gt;read( $filename, $include_dir );
</pre>
<section class="Ss">
<h2 class="Ss" id="read~2"><a class="permalink" href="#read~2">read</a></h2>
<pre>    $listref = Net::DNS::ZoneFile-&gt;read( $filename, $include_dir );
    @rr = Net::DNS::ZoneFile-&gt;read( $filename, $include_dir );
</pre>
<p class="Pp"><b>read()</b> parses the specified zone file and returns a
    reference to the list of Net::DNS::RR objects representing the RRs in the
    file. The return value is undefined if the zone data can not be parsed.</p>
<p class="Pp">When called in list context, the partial result is returned if an
    error is encountered by the parser.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="readfh"><a class="permalink" href="#readfh">readfh</a></h2>
<pre>    $listref = Net::DNS::ZoneFile-&gt;readfh( $handle, $include_dir );
</pre>
<p class="Pp"><b>readfh()</b> parses data from the specified file handle and
    returns a reference to the list of Net::DNS::RR objects representing the RRs
    in the file.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="parse"><a class="permalink" href="#parse">parse</a></h2>
<pre>    $listref = Net::DNS::ZoneFile-&gt;parse(  $string, $include_dir );
    $listref = Net::DNS::ZoneFile-&gt;parse( \$string, $include_dir );
</pre>
<p class="Pp"><b>parse()</b> interprets the zone file text in the argument
    string and returns a reference to the list of Net::DNS::RR objects
    representing the RRs.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="ACKNOWLEDGEMENTS"><a class="permalink" href="#ACKNOWLEDGEMENTS">ACKNOWLEDGEMENTS</a></h1>
<p class="Pp">This package is designed as an improved and compatible replacement
    for Net::DNS::ZoneFile 1.04 which was created by Luis Munoz in 2002 as a
    separate CPAN module.</p>
<p class="Pp">The present implementation is the result of an agreement to merge
    our two different approaches into one package integrated into Net::DNS. The
    contribution of Luis Munoz is gratefully acknowledged.</p>
<p class="Pp">Thanks are also due to Willem Toorop for his constructive
    criticism of the initial version and invaluable assistance during
  testing.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">Copyright (c)2011-2012 Dick Franks</p>
<p class="Pp">All rights reserved.</p>
<p class="Pp">This program is free software; you may redistribute it and/or
    modify it under the same terms as Perl itself.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">perl, Net::DNS, Net::DNS::RR, RFC1035 Section 5.1, RFC2308, BIND 9
    Administrator Reference Manual</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-01-16</td>
    <td class="foot-os">perl v5.34.0</td>
  </tr>
</table>
</body>
</html>
