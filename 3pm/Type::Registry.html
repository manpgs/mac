<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Type::Registry(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Type::Registry(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Type::Registry(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Type::Registry - a glorified hashref for looking up type
    constraints</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>   package Foo::Bar;
   
   use Type::Registry;
   
   my $reg = &quot;Type::Registry&quot;-&gt;for_me;  # a registry for Foo::Bar
   
   # Register all types from Types::Standard
   $reg-&gt;add_types(-Standard);
   
   # Register just one type from Types::XSD
   $reg-&gt;add_types(-XSD =&gt; [&quot;NonNegativeInteger&quot;]);
   
   # Register all types from MyApp::Types
   $reg-&gt;add_types(&quot;MyApp::Types&quot;);
   
   # Create a type alias
   $reg-&gt;alias_type(&quot;NonNegativeInteger&quot; =&gt; &quot;Count&quot;);
   
   # Look up a type constraint
   my $type = $reg-&gt;lookup(&quot;ArrayRef[Count]&quot;);
   
   $type-&gt;check([1, 2, 3.14159]);  # croaks
</pre>
<p class="Pp">Alternatively:</p>
<p class="Pp"></p>
<pre>   package Foo::Bar;
   
   use Type::Registry qw( t );
   
   # Register all types from Types::Standard
   t-&gt;add_types(-Standard);
   
   # Register just one type from Types::XSD
   t-&gt;add_types(-XSD =&gt; [&quot;NonNegativeInteger&quot;]);
   
   # Register all types from MyApp::Types
   t-&gt;add_types(&quot;MyApp::Types&quot;);
   
   # Create a type alias
   t-&gt;alias_type(&quot;NonNegativeInteger&quot; =&gt; &quot;Count&quot;);
   
   # Look up a type constraint
   my $type = t(&quot;ArrayRef[Count]&quot;);
   
   $type-&gt;check([1, 2, 3.14159]);  # croaks
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="STATUS"><a class="permalink" href="#STATUS">STATUS</a></h1>
<p class="Pp">This module is covered by the Type-Tiny stability policy.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">A type registry is basically just a hashref mapping type names to
    type constraint objects.</p>
<section class="Ss">
<h2 class="Ss" id="Constructors"><a class="permalink" href="#Constructors">Constructors</a></h2>
<dl class="Bl-tag">
  <dt>&quot;new&quot;</dt>
  <dd>Create a new glorified hashref.</dd>
  <dt>&quot;for_class($class)&quot;</dt>
  <dd>Create or return the existing glorified hashref associated with the given
      class.
    <p class="Pp">Note that any type constraint you have imported from
        Type::Library-based type libraries will be automatically available in
        your class' registry.</p>
  </dd>
  <dt>&quot;for_me&quot;</dt>
  <dd>Create or return the existing glorified hashref associated with the
      caller.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Methods"><a class="permalink" href="#Methods">Methods</a></h2>
<dl class="Bl-tag">
  <dt>&quot;add_types(@libraries)&quot;</dt>
  <dd>The libraries list is treated as an &quot;optlist&quot; (a la
      Data::OptList).
    <p class="Pp">Strings are the names of type libraries; if the first
        character is a hyphen, it is expanded to the &quot;Types::&quot; prefix.
        If followed by an arrayref, this is the list of types to import from
        that library. Otherwise, imports all types from the library.</p>
    <p class="Pp"></p>
    <pre>   use Type::Registry qw(t);
   
   t-&gt;add_types(-Standard);  # OR: t-&gt;add_types(&quot;Types::Standard&quot;);
   
   t-&gt;add_types(
      -TypeTiny =&gt; ['HashLike'],
      -Standard =&gt; ['HashRef' =&gt; { -as =&gt; 'RealHash' }],
   );
    </pre>
    <p class="Pp">MooseX::Types (and experimentally, MouseX::Types) libraries
        can also be added this way, but <i>cannot be followed by an arrayref
        of</i> <i>types to import</i>.</p>
  </dd>
  <dt>&quot;add_type($type, $name)&quot;</dt>
  <dd>The long-awaited singular form of
      <span class="Li">&quot;add_types&quot;</span>. Given a type constraint
      object, adds it to the registry with a given name. The name may be
      omitted, in which case <span class="Li">&quot;$type-&gt;name&quot;</span>
      is called, and Type::Registry will throw an error if
      <span class="Li">$type</span> is anonymous. If a name is explicitly given,
      Type::Registry cares not one wit whether the type constraint is anonymous.
    <p class="Pp">This method can even add MooseX::Types and MouseX::Types type
        constraints; indeed anything that can be handled by Types::TypeTiny's
        <span class="Li">&quot;to_TypeTiny&quot;</span> function. (Bear in mind
        that to_TypeTiny <i>always</i> results in an anonymous type constraint,
        so <span class="Li">$name</span> will be required.)</p>
  </dd>
  <dt>&quot;alias_type($oldname, $newname)&quot;</dt>
  <dd>Create an alias for an existing type.</dd>
  <dt>&quot;simple_lookup($name)&quot;</dt>
  <dd>Look up a type in the registry by name.
    <p class="Pp">Returns undef if not found.</p>
  </dd>
  <dt>&quot;foreign_lookup($name)&quot;</dt>
  <dd>Like <span class="Li">&quot;simple_lookup&quot;</span>, but if the type
      name contains &quot;::&quot;, will attempt to load it from a type library.
      (And will attempt to load that module.)</dd>
  <dt>&quot;lookup($name)&quot;</dt>
  <dd>Look up by name, with a DSL.
    <p class="Pp"></p>
    <pre>   t-&gt;lookup(&quot;Int|ArrayRef[Int]&quot;)
    </pre>
    <p class="Pp">The DSL can be summed up as:</p>
    <p class="Pp"></p>
    <pre>   X               type from this registry
   My::Lib::X      type from a type library
   ~X              complementary type
   X | Y           union
   X &amp; Y           intersection
   X[...]          parameterized type
   slurpy X        slurpy type
   Foo::Bar::      class type
    </pre>
    <p class="Pp">Croaks if not found.</p>
  </dd>
  <dt>&quot;make_union(@constraints)&quot;,
    &quot;make_intersection(@constraints)&quot;,
    &quot;make_class_type($class)&quot;, &quot;make_role_type($role)&quot;</dt>
  <dd>Convenience methods for creating certain common type constraints.</dd>
  <dt>&quot;AUTOLOAD&quot;</dt>
  <dd>Overloaded to call <span class="Li">&quot;lookup&quot;</span>.
    <p class="Pp"></p>
    <pre>   $registry-&gt;Str;  # like $registry-&gt;lookup(&quot;Str&quot;)
    </pre>
  </dd>
  <dt>&quot;get_parent&quot;, &quot;set_parent($reg)&quot;,
    &quot;clear_parent&quot;, &quot;has_parent&quot;</dt>
  <dd>Advanced stuff. Allows a registry to have a &quot;parent&quot; registry
      which it inherits type constraints from.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Functions"><a class="permalink" href="#Functions">Functions</a></h2>
<dl class="Bl-tag">
  <dt>&quot;t&quot;</dt>
  <dd>This class can export a function <span class="Li">&quot;t&quot;</span>
      which acts like
      <span class="Li">&quot;&quot;Type::Registry&quot;-&gt;for_class($importing_class)&quot;</span>.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">Please report any bugs to
    &lt;http://rt.cpan.org/Dist/Display.html?Queue=Type-Tiny&gt;.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">Type::Library.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Toby Inkster &lt;tobyink@cpan.org&gt;.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENCE"><a class="permalink" href="#COPYRIGHT_AND_LICENCE">COPYRIGHT
  AND LICENCE</a></h1>
<p class="Pp">This software is copyright (c) 2013-2014, 2017-2020 by Toby
    Inkster.</p>
<p class="Pp">This is free software; you can redistribute it and/or modify it
    under the same terms as the Perl 5 programming language system itself.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DISCLAIMER_OF_WARRANTIES"><a class="permalink" href="#DISCLAIMER_OF_WARRANTIES">DISCLAIMER
  OF WARRANTIES</a></h1>
<p class="Pp">THIS PACKAGE IS PROVIDED &quot;AS IS&quot; AND WITHOUT ANY EXPRESS
    OR IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES
    OF MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2020-10-28</td>
    <td class="foot-os">perl v5.30.3</td>
  </tr>
</table>
</body>
</html>
