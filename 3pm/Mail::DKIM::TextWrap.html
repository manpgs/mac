<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Mail::DKIM::TextWrap(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Mail::DKIM::TextWrap(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Mail::DKIM::TextWrap(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Mail::DKIM::TextWrap - text wrapping module written for use with
    DKIM</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS_(FOR_MAIL::DKIM_USERS)"><a class="permalink" href="#SYNOPSIS_(FOR_MAIL::DKIM_USERS)">SYNOPSIS
  (FOR MAIL::DKIM USERS)</a></h1>
<pre>  use Mail::DKIM::TextWrap;
</pre>
<p class="Pp">Just add the above line to any program that uses
    Mail::DKIM::Signer and your signatures will automatically be wrapped to 72
    characters.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS_(FOR_OTHER_USERS)"><a class="permalink" href="#SYNOPSIS_(FOR_OTHER_USERS)">SYNOPSIS
  (FOR OTHER USERS)</a></h1>
<pre>  my $output = &quot;&quot;;
  my $tw = Mail::DKIM::TextWrap-&gt;new(
                  Margin =&gt; 10,
                  Output =&gt; \$output,
              );
  $tw-&gt;add(&quot;Mary had a little lamb, whose fleece was white as snow.\n&quot;);
  $tw-&gt;finish;
  print $output;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This is a general-purpose text-wrapping module that I wrote
    because I had some specific needs with Mail::DKIM that none of the
    contemporary text-wrapping modules offered.</p>
<p class="Pp">Specifically, it offers the ability to change wrapping options in
    the middle of a paragraph. For instance, with a DKIM signature:</p>
<p class="Pp"></p>
<pre>  DKIM-Signature: a=rsa; c=simple; h=first:second:third:fourth;
          b=Xr2mo2wmb1LZBwmEJElIPezal7wQQkRQ8WZtxpofkNmXTjXf8y2f0
</pre>
<p class="Pp">the line-breaks can be inserted next to any of the colons of the
    h= tag, or any character of the b= tag. The way I implemented this was to
    serialize the signature one element at a time, changing the text-wrapping
    options at the start and end of each tag.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="TEXT_WRAPPING_OPTIONS"><a class="permalink" href="#TEXT_WRAPPING_OPTIONS">TEXT
  WRAPPING OPTIONS</a></h1>
<p class="Pp">Text wrapping options can be specified when calling <b>new()</b>,
    or by simply changing the property as needed. For example, to change the
    number of characters allowed per line:</p>
<p class="Pp"></p>
<pre>  $tw-&gt;{Margin} = 20;
</pre>
<dl class="Bl-tag">
  <dt id="Break"><a class="permalink" href="#Break">Break</a></dt>
  <dd>a regular expression matching characters where a line break can be
      inserted. Line breaks are inserted AFTER a matching substring. The default
      is <span class="Li">&quot;/\s/&quot;</span>.</dd>
  <dt id="BreakBefore"><a class="permalink" href="#BreakBefore">BreakBefore</a></dt>
  <dd>a regular expression matching characters where a line break can be
      inserted. Line breaks are inserted BEFORE a matching substring. Usually,
      you want to use Break, rather than BreakBefore. The default is
      <span class="Li">&quot;undef&quot;</span>.</dd>
  <dt id="Margin"><a class="permalink" href="#Margin">Margin</a></dt>
  <dd>specifies how many characters to allow per line. The default is 72. If no
      place to line-break is found on a line, the line will extend beyond this
      margin.</dd>
  <dt id="Separator"><a class="permalink" href="#Separator">Separator</a></dt>
  <dd>the text to insert when a linebreak is needed. The default is
      &quot;\n&quot;. If you want to set a following-line indent (e.g. all lines
      but the first begin with four spaces), use something like &quot;\n
    &quot;.</dd>
  <dt id="Swallow"><a class="permalink" href="#Swallow">Swallow</a></dt>
  <dd>a regular expression matching characters that can be omitted when a line
      break occurs. For example, if you insert a line break between two words,
      then you are replacing a &quot;space&quot; with the line break, so you are
      omitting the space. On the other hand, if you insert a line break between
      two parts of a hyphenated word, then you are breaking at the hyphen, but
      you still want to display the hyphen. The default is
      <span class="Li">&quot;/\s/&quot;</span>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="CONSTRUCTOR"><a class="permalink" href="#CONSTRUCTOR">CONSTRUCTOR</a></h1>
<section class="Ss">
<h2 class="Ss"><b>new()</b> - create a new text-wrapping object</h2>
<pre>  my $tw = Mail::DKIM::TextWrap-&gt;new(
                      Output =&gt; \$output,
                      %wrapping_options,
                  );
</pre>
<p class="Pp">The text-wrapping object encapsulates the current options and the
    current state of the text stream. In addition to specifying text wrapping
    options as described in the section above, the following options are
    recognized:</p>
<dl class="Bl-tag">
  <dt id="Output"><a class="permalink" href="#Output">Output</a></dt>
  <dd>a scalar reference, or a glob reference, to specify where the
      &quot;wrapped&quot; text gets output to. If not specified, the default of
      STDOUT is used.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<section class="Ss">
<h2 class="Ss"><b>add()</b> - process some text that can be wrapped</h2>
<pre>  $tw-&gt;add(&quot;Mary had a little lamb.\n&quot;);
</pre>
<p class="Pp">You can <b>add()</b> all the text at once, or <b>add()</b> the
    text in parts by calling <b>add()</b> multiple times.</p>
</section>
<section class="Ss">
<h2 class="Ss"><b>finish()</b> - call when no more text is to be added</h2>
<pre>  $tw-&gt;finish;
</pre>
<p class="Pp">Call this when finished adding text, so that any remaining text in
    TextWrap's buffers will be output.</p>
</section>
<section class="Ss">
<h2 class="Ss"><b>flush()</b> - output the current partial word, if any</h2>
<pre>  $tw-&gt;flush;
</pre>
<p class="Pp">Call this whenever changing TextWrap's parameters in the middle of
    a string of words. It explicitly allows a line-break at the current position
    in the string, regardless of whether it matches the current break
  pattern.</p>
</section>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2018-10-13</td>
    <td class="foot-os">perl v5.30.3</td>
  </tr>
</table>
</body>
</html>
