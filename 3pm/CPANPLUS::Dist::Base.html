<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>CPANPLUS::Dist::Base(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CPANPLUS::Dist::Base(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">CPANPLUS::Dist::Base(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">CPANPLUS::Dist::Base - Base class for custom distribution
  classes</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
    package CPANPLUS::Dist::MY_IMPLEMENTATION

    use base 'CPANPLUS::Dist::Base';

    sub prepare {
        my $dist = shift;

        ### do the 'standard' things
        $dist-&gt;SUPER::prepare( @_ ) or return;

        ### do MY_IMPLEMENTATION specific things
        ...

        ### don't forget to set the status!
        return $dist-&gt;status-&gt;prepared( $SUCCESS ? 1 : 0 );
    }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">CPANPLUS::Dist::Base functions as a base class for all custom
    distribution implementations. It does all the mundane work CPANPLUS would
    have done without a custom distribution, so you can override just the parts
    you need to make your own implementation work.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="FLOW"><a class="permalink" href="#FLOW">FLOW</a></h1>
<p class="Pp">Below is a brief outline when and in which order methods in this
    class are called:</p>
<p class="Pp"></p>
<pre>
    $Class-&gt;format_available;   # can we use this class on this system?

    $dist-&gt;init;                # set up custom accessors, etc
    $dist-&gt;prepare;             # find/write meta information
    $dist-&gt;create;              # write the distribution file
    $dist-&gt;install;             # install the distribution file

    $dist-&gt;uninstall;           # remove the distribution (OPTIONAL)
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<section class="Ss">
<h2 class="Ss" id="@subs_=_$Class"><a class="permalink" href="#@subs_=_$Class">@subs
  = $Class-&gt;methods</a></h2>
<p class="Pp">Returns a list of methods that this class implements that you can
    override.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$bool_=_$Class"><a class="permalink" href="#$bool_=_$Class">$bool
  = $Class-&gt;format_available</a></h2>
<p class="Pp">This method is called when someone requests a module to be
    installed via the superclass. This gives you the opportunity to check if all
    the needed requirements to build and install this distribution have been
    met.</p>
<p class="Pp">For example, you might need a command line program, or a certain
    perl module installed to do your job. Now is the time to check.</p>
<p class="Pp">Simply return true if the request can proceed and false if it can
    not.</p>
<p class="Pp">The <span class="Li">&quot;CPANPLUS::Dist::Base&quot;</span>
    implementation always returns true.</p>
</section>
<section class="Ss">
<h2 class="Ss">$bool = $dist-&gt;init</h2>
<p class="Pp">This method is called just after the new dist object is set up and
    before the <span class="Li">&quot;prepare&quot;</span> method is called.
    This is the time to set up the object so it can be used with your class.</p>
<p class="Pp">For example, you might want to add extra accessors to the
    <span class="Li">&quot;status&quot;</span> object, which you might do as
    follows:</p>
<p class="Pp"></p>
<pre>
    $dist-&gt;status-&gt;mk_accessors( qw[my_implementation_accessor] );
</pre>
<p class="Pp">The <span class="Li">&quot;status&quot;</span> object is
    implemented as an instance of the
    <span class="Li">&quot;Object::Accessor&quot;</span> class. Please refer to
    its documentation for details.</p>
<p class="Pp">Return true if the initialization was successful, and false if it
    was not.</p>
<p class="Pp">The <span class="Li">&quot;CPANPLUS::Dist::Base&quot;</span>
    implementation does not alter your object and always returns true.</p>
</section>
<section class="Ss">
<h2 class="Ss">$bool = $dist-&gt;prepare</h2>
<p class="Pp">This runs the preparation step of your distribution. This step is
    meant to set up the environment so the
    <span class="Li">&quot;create&quot;</span> step can create the actual
    distribution(file). A <span class="Li">&quot;prepare&quot;</span> call in
    the standard <span class="Li">&quot;ExtUtils::MakeMaker&quot;</span>
    distribution would, for example, run <span class="Li">&quot;perl
    Makefile.PL&quot;</span> to find the dependencies for a distribution. For a
    <span class="Li">&quot;debian&quot;</span> distribution, this is where you
    would write all the metafiles required for the
    <span class="Li">&quot;dpkg-*&quot;</span> tools.</p>
<p class="Pp">The <span class="Li">&quot;CPANPLUS::Dist::Base&quot;</span>
    implementation simply calls the underlying distribution class (Typically
    <span class="Li">&quot;CPANPLUS::Dist::MM&quot;</span> or
    <span class="Li">&quot;CPANPLUS::Dist::Build&quot;</span>).</p>
<p class="Pp">Sets
    <span class="Li">&quot;$dist-&gt;status-&gt;prepared&quot;</span> to the
    return value of this function. If you override this method, you should make
    sure to set this value.</p>
</section>
<section class="Ss">
<h2 class="Ss">$bool = $dist-&gt;create</h2>
<p class="Pp">This runs the creation step of your distribution. This step is
    meant to follow up on the <span class="Li">&quot;prepare&quot;</span> call,
    that set up your environment so the
    <span class="Li">&quot;create&quot;</span> step can create the actual
    distribution(file). A <span class="Li">&quot;create&quot;</span> call in the
    standard <span class="Li">&quot;ExtUtils::MakeMaker&quot;</span>
    distribution would, for example, run
    <span class="Li">&quot;make&quot;</span> and <span class="Li">&quot;make
    test&quot;</span> to build and test a distribution. For a
    <span class="Li">&quot;debian&quot;</span> distribution, this is where you
    would create the actual <span class="Li">&quot;.deb&quot;</span> file using
    <span class="Li">&quot;dpkg&quot;</span>.</p>
<p class="Pp">The <span class="Li">&quot;CPANPLUS::Dist::Base&quot;</span>
    implementation simply calls the underlying distribution class (Typically
    <span class="Li">&quot;CPANPLUS::Dist::MM&quot;</span> or
    <span class="Li">&quot;CPANPLUS::Dist::Build&quot;</span>).</p>
<p class="Pp">Sets <span class="Li">&quot;$dist-&gt;status-&gt;dist&quot;</span>
    to the location of the created distribution. If you override this method,
    you should make sure to set this value.</p>
<p class="Pp">Sets
    <span class="Li">&quot;$dist-&gt;status-&gt;created&quot;</span> to the
    return value of this function. If you override this method, you should make
    sure to set this value.</p>
</section>
<section class="Ss">
<h2 class="Ss">$bool = $dist-&gt;install</h2>
<p class="Pp">This runs the install step of your distribution. This step is
    meant to follow up on the <span class="Li">&quot;create&quot;</span> call,
    which prepared a distribution(file) to install. A
    <span class="Li">&quot;create&quot;</span> call in the standard
    <span class="Li">&quot;ExtUtils::MakeMaker&quot;</span> distribution would,
    for example, run <span class="Li">&quot;make install&quot;</span> to copy
    the distribution files to their final destination. For a
    <span class="Li">&quot;debian&quot;</span> distribution, this is where you
    would run <span class="Li">&quot;dpkg --install&quot;</span> on the created
    <span class="Li">&quot;.deb&quot;</span> file.</p>
<p class="Pp">The <span class="Li">&quot;CPANPLUS::Dist::Base&quot;</span>
    implementation simply calls the underlying distribution class (Typically
    <span class="Li">&quot;CPANPLUS::Dist::MM&quot;</span> or
    <span class="Li">&quot;CPANPLUS::Dist::Build&quot;</span>).</p>
<p class="Pp">Sets
    <span class="Li">&quot;$dist-&gt;status-&gt;installed&quot;</span> to the
    return value of this function. If you override this method, you should make
    sure to set this value.</p>
</section>
<section class="Ss">
<h2 class="Ss">$bool = $dist-&gt;uninstall</h2>
<p class="Pp">This runs the uninstall step of your distribution. This step is
    meant to remove the distribution from the file system. A
    <span class="Li">&quot;uninstall&quot;</span> call in the standard
    <span class="Li">&quot;ExtUtils::MakeMaker&quot;</span> distribution would,
    for example, run <span class="Li">&quot;make uninstall&quot;</span> to
    remove the distribution files the file system. For a
    <span class="Li">&quot;debian&quot;</span> distribution, this is where you
    would run <span class="Li">&quot;dpkg --uninstall PACKAGE&quot;</span>.</p>
<p class="Pp">The <span class="Li">&quot;CPANPLUS::Dist::Base&quot;</span>
    implementation simply calls the underlying distribution class (Typically
    <span class="Li">&quot;CPANPLUS::Dist::MM&quot;</span> or
    <span class="Li">&quot;CPANPLUS::Dist::Build&quot;</span>).</p>
<p class="Pp">Sets
    <span class="Li">&quot;$dist-&gt;status-&gt;uninstalled&quot;</span> to the
    return value of this function. If you override this method, you should make
    sure to set this value.</p>
</section>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-09-30</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
