<!DOCTYPE html>
<html lang="en">
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>File::Listing(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">File::Listing(3)</td>
    <td class="head-vol"><a href=".">User Contributed Perl Documentation</a></td>
    <td class="head-rtitle">File::Listing(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">File::Listing - parse directory listing</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre> use File::Listing qw(parse_dir);
 $ENV{LANG} = &quot;C&quot;;  # dates in non-English locales not supported
 for (parse_dir(`ls -l`)) {
     ($name, $type, $size, $mtime, $mode) = @$_;
     next if $type ne 'f'; # plain file
     #...
 }
 # directory listing can also be read from a file
 open(LISTING, &quot;zcat ls-lR.gz|&quot;);
 $dir = parse_dir(\*LISTING, '+0000');
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This module exports a single function called <b>parse_dir()</b>,
    which can be used to parse directory listings.</p>
<p class="Pp">The first parameter to <b>parse_dir()</b> is the directory listing
    to parse. It can be a scalar, a reference to an array of directory lines or
    a glob representing a filehandle to read the directory listing from.</p>
<p class="Pp">The second parameter is the time zone to use when parsing time
    stamps in the listing. If this value is undefined, then the local time zone
    is assumed.</p>
<p class="Pp">The third parameter is the type of listing to assume. Currently
    supported formats are 'unix', 'apache' and 'dosftp'. The default value is
    'unix'. Ideally, the listing type should be determined automatically.</p>
<p class="Pp">The fourth parameter specifies how unparseable lines should be
    treated. Values can be 'ignore', 'warn' or a code reference. Warn means that
    the perl <b>warn()</b> function will be called. If a code reference is
    passed, then this routine will be called and the return value from it will
    be incorporated in the listing. The default is 'ignore'.</p>
<p class="Pp">Only the first parameter is mandatory.</p>
<p class="Pp">The return value from <b>parse_dir()</b> is a list of directory
    entries. In a scalar context the return value is a reference to the list.
    The directory entries are represented by an array consisting of [
    <span class="Li">$filename</span>, <span class="Li">$filetype</span>,
    <span class="Li">$filesize</span>, <span class="Li">$filetime</span>,
    <span class="Li">$filemode</span> ]. The <span class="Li">$filetype</span>
    value is one of the letters 'f', 'd', 'l' or '?'. The
    <span class="Li">$filetime</span> value is the seconds since Jan 1, 1970.
    The <span class="Li">$filemode</span> is a bitmask like the mode returned by
    <b>stat()</b>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">Copyright 1996-2010, Gisle Aas</p>
<p class="Pp">Based on lsparse.pl (from Lee McLoughlin's ftp mirror package) and
    Net::FTP's parse_dir (Graham Barr).</p>
<p class="Pp">This library is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2012-02-15</td>
    <td class="foot-os"><a href="..">perl v5.34.0</a></td>
  </tr>
</table>
</body>
</html>
