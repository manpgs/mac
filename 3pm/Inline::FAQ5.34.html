<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Inline::FAQ(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Inline::FAQ(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Inline::FAQ(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Inline-FAQ - The Inline FAQ</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">Welcome to the official Inline FAQ. In this case, <b>FAQ</b>
    means: <b>Formerly</b> <b>Answered Questions</b></p>
<p class="Pp">This is a collection of old, long-winded emails that myself and
    others have sent to the Inline mailing list. (inline@perl.org) They have
    been reviewed and edited for general Inline edification. Some of them may be
    related to a specific language. They are presented here in a traditional FAQ
    layout.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="GENERAL_INLINE"><a class="permalink" href="#GENERAL_INLINE">GENERAL
  INLINE</a></h1>
<p class="Pp">Since there is only a handful of content so far, all FAQs are
    currently under this heading.</p>
<section class="Ss">
<h2 class="Ss" id="How_disposable_is_a__.Inline__or___Inline__directory?"><a class="permalink" href="#How_disposable_is_a__.Inline__or___Inline__directory?">How
  disposable is a &quot;.Inline&quot; or &quot;_Inline&quot; directory?</a></h2>
<p class="Pp">I probably need to be more emphatic about the role of
    <span class="Li">&quot;_Inline/&quot;</span> cache directories. Since they
    are created automatically, they are completely disposable. I delete them all
    the time. And it is fine to have a different one for each project. In fact
    as long as you don't have <span class="Li">&quot;~/.Inline/&quot;</span>
    defined, Inline will create a new
    <span class="Li">&quot;./_Inline&quot;</span> directory (unless, you've done
    something to override this automatic process - such as using the DIRECTORY
    config option, or using the
    <span class="Li">&quot;PERL_INLINE_DIRECTORY&quot;</span> environment
    variable). You can move that to
    <span class="Li">&quot;./.Inline&quot;</span> and it will continue to work
    if you want togive it more longevity and hide it from view. There is a long
    complicated list of rules about how
    <span class="Li">&quot;[_.]Inline/&quot;</span> directories are
    used/created. But it was designed to give you the most
    flexibility/ease-of-use. Never be afraid to nuke 'em. They'll just pop right
    back next time they're needed. :)</p>
</section>
<section class="Ss">
<h2 class="Ss" id="What_is_the_best_way_to_package_Inline_code_for_"><a class="permalink" href="#What_is_the_best_way_to_package_Inline_code_for_">What
  is the best way to package Inline code for CPAN?</a></h2>
<p class="Pp">This distribution includes Inline::MakeMaker, described below,
    which takes special steps during the installation of your module to make
    sure the code gets compiled and installed, rather than compiled by users at
    runtime. But, users of your module need to install Inline and the language
    support module like Inline::CPP as prerequisites for your module.</p>
<p class="Pp">A better way to distribute your module is with Inline::Module,
    which takes special steps to remove dependencies on Inline::* and convert it
    to a plain XS module during the construction of your distribution before you
    upload it to CPAN. It also integrates easily with Dist::Zilla and other
    modern authoring tools for a more streamlined authoring experience.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Whatever_happened_to_the__SITE_INSTALL__option?"><a class="permalink" href="#Whatever_happened_to_the__SITE_INSTALL__option?">Whatever
  happened to the &quot;SITE_INSTALL&quot; option?</a></h2>
<p class="Pp"><span class="Li">&quot;SITE_INSTALL&quot;</span> is gone. I was
    going to leave it in and change the semantics, but thought it better to
    remove it, so people wouldn't try to use it the old way. There is now
    <span class="Li">&quot;_INSTALL_&quot;</span> (but you're not supposed to
    know that :). It works magically through the use of Inline::MakeMaker. I
    explained this earlier but it's worth going through again because it's the
    biggest change for 0.40. Here's how to 'permanently' install an Inline
    extension (Inline based module) with 0.40:</p>
<dl class="Bl-tag">
  <dt>1.</dt>
  <dd>Create a module with Inline.</dd>
  <dt>2.</dt>
  <dd>Test it using the normal / local
      <span class="Li">&quot;_Inline/&quot;</span> cache.</dd>
  <dt>3.</dt>
  <dd>Create a Makefile.PL (like the one produced by h2xs)</dd>
  <dt>4.</dt>
  <dd>Change 'use ExtUtils::MakeMaker' to 'use Inline::MakeMaker'</dd>
  <dt>5.</dt>
  <dd>In the Makefile.PL's <b>WriteMakefile()</b> insert:
    <p class="Pp"></p>
    <pre>    CONFIGURE_REQUIRES  =&gt;  {
        'Inline::MakeMaker'     =&gt; 0.45,
        'ExtUtils::MakeMaker'   =&gt; 6.52,
    },
    </pre>
    <p class="Pp">(See the &quot;Writing Modules with Inline&quot; section of
        Inline.pod for an explanation / elaboration.)</p>
  </dd>
  <dt>6.</dt>
  <dd>Change your 'use Inline C =&gt; DATA' to 'use Inline C =&gt; DATA =&gt;
      NAME =&gt; Foo</dd>
</dl>
<p class="Pp">=&gt; VERSION =&gt; 1.23' + Make sure NAME matches your package
    name ('Foo'), or =&gt; begins with 'Foo::'. + If you want to quiet a
    harmless warning that will =&gt; appear when the module is loaded via
    &quot;require&quot;, do &quot;Inline-&gt;<b>init()</b>;&quot;. See =&gt;
    &quot;Writing Modules with Inline&quot; in the Inline pod for details. +
    Make sure =&gt; VERSION matches <span class="Li">$Foo::VERSION</span>. This
    must be a string (not a number) =&gt; matching
    <span class="Li">&quot;/^\d\.\d\d$/&quot;</span> + Do the perl / make / test
    / install dance =&gt; (thanks binkley :)</p>
<p class="Pp">With Inline 0.41 (or thereabouts) you can skip steps 3 &amp; 4,
    and just say <span class="Li">&quot;perl -MInline=INSTALL
    ./Foo.pm&quot;</span>. This will work for non-Inline modules too. It will
    become the defacto standard (since there is no easy standard) way of
    installing a Perl module. It will allow Makefile.PL parameters
    <span class="Li">&quot;perl -</span> <span class="Li">MInline=INSTALL
    ./Foo.pm - PREFIX=/home/ingy/perl&quot;</span> and things like that. It will
    also make use of a MANIFEST if you provide one.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_create_a_binary_distribution_using_Inline?"><a class="permalink" href="#How_do_I_create_a_binary_distribution_using_Inline?">How
  do I create a binary distribution using Inline?</a></h2>
<p class="Pp">I've figured out how to create and install a PPM binary
    distribution; with or without distributing the C code! And I've decided to
    share it with all of you :)</p>
<p class="Pp">NOTE: Future versions of Inline will make this process a one line
    command. But
  <br/>
   for now just use this simple recipe.</p>
<p class="Pp">The Inline 0.40 distribution comes with a sample extension module
    called Math::Simple. Theoretically you could distribute this module on CPAN.
    It has all the necessary support for installation. You can find it in
    <span class="Li">&quot;Inline-</span>
    <span class="Li">0.40/modules/Math/Simple/&quot;</span>. Here are the steps
    for converting this into a binary distribution <b>without</b> C source
  code.</p>
<p class="Pp">NOTE: The recipient of this binary distribution will need to have
    the
  <br/>
   PPM.pm module installed. This module requires a lot of other CPAN
  <br/>
   modules. ActivePerl (available for Win32, Linux, and Solaris) has all
  <br/>
   of these bundled. While ActivePerl isn't required, it makes things (a
  <br/>
   lot) easier.</p>
<dl class="Bl-tag">
  <dt>1.</dt>
  <dd>cd <span class="Li">&quot;Inline-0.40/Math/Simple/&quot;</span></dd>
  <dt>2.</dt>
  <dd>Divide Simple.pm into two files:
    <p class="Pp"></p>
    <pre>    ---8&lt;--- (Simple.pm)
    package Math::Simple;
    use strict;
    require Exporter;
    @Math::Simple::ISA = qw(Exporter);
    @Math::Simple::EXPORT = qw(add subtract);
    $Math::Simple::VERSION = '1.23';
    use Inline (C =&gt; 'src/Simple.c' =&gt;
                NAME =&gt; 'Math::Simple',
                VERSION =&gt; '1.23',
               );
    1;
    ---8&lt;---
    ---8&lt;--- (src/Simple.c)
    int add (int x, int y) {
        return x + y;
    }
    int subtract (int x, int y) {
        return x - y;
    }
    ---8&lt;---
    </pre>
  </dd>
  <dt>3.</dt>
  <dd>now you have the Perl in one file and the C in the other. The C code must
      be</dd>
</dl>
<p class="Pp">in a subdirectory. + Note that I also changed the term 'DATA' to
    the name of the C file. This will work just as if the C were still inline. +
    Run 'perl Makefile.PL' + Run 'make test' + Get the MD5 key from
    <span class="Li">&quot;blib/arch/auto/Math/Simple/Simple.inl&quot;</span> +
    Edit <span class="Li">&quot;blib/lib/Math/Simple.pm&quot;</span>. Change
    <span class="Li">&quot;src/Simple.c&quot;</span> to
    <span class="Li">&quot;02c61710cab5b659efc343a9a830aa73&quot;</span> (the
    MD5 key)</p>
<dl class="Bl-tag">
  <dt>1.</dt>
  <dd>Run 'make ppd'</dd>
  <dt>2.</dt>
  <dd>Edit 'Math-Simple.ppd'. Fill in AUTHOR and ABSTRACT if you wish. Then</dd>
</dl>
<p class="Pp">change:</p>
<p class="Pp"></p>
<pre>      &lt;CODEBASE HREF=&quot;&quot; /&gt;
    to
      &lt;CODEBASE HREF=&quot;Math-Simple.tar.gz&quot; /&gt;
</pre>
<dl class="Bl-tag">
  <dt>1.</dt>
  <dd>Run:
    <p class="Pp"></p>
    <pre>    tar cvf Math-Simple.tar blib
    gzip --best Math-Simple.tar
    </pre>
  </dd>
  <dt>2.</dt>
  <dd>Run:
    <p class="Pp"></p>
    <pre>    tar cvf Math-Simple-1.23.tar Math-Simple.ppd Math-Simple.tar.gz
    gzip --best Math-Simple-1.23.tar
    </pre>
  </dd>
  <dt>3.</dt>
  <dd>Distribute Math-Simple-1.23.tar.gz with the following instructions:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>1.</dt>
  <dd>Run:
    <p class="Pp">gzip -d Math-Simple-1.23.tar.gz tar xvzf
      Math-Simple-1.23.tar</p>
  </dd>
  <dt>2.</dt>
  <dd>Run 'ppm install Math-Simple.ppd'</dd>
  <dt>3.</dt>
  <dd>Delete Math-Simple.tar and Math-Simple.ppd.</dd>
  <dt>4.</dt>
  <dd>Test with:
    <p class="Pp">perl -MMath::Simple -le 'print add(37, 42)'</p>
  </dd>
</dl>
</div>
<div class="Bd-indent"></div>
<p class="Pp">That's it. The process should also work with zip instead of tar,
    but I haven't tried it.</p>
<p class="Pp">The recipient of the binary must have Perl built with a matching
    architecture. Luckily, ppm will catch this.</p>
<p class="Pp">For a binary dist <b>with</b> C source code, simply omit steps 2,
    3, 6, and 7.</p>
<p class="Pp">If this seems too hard, then in a future version you should be
    able to just type:</p>
<p class="Pp"></p>
<pre>    make ppm
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Why_does__C/t/09parser.t__fail_on_Cygwin_?"><a class="permalink" href="#Why_does__C/t/09parser.t__fail_on_Cygwin_?">Why
  does &quot;C/t/09parser.t&quot; fail on Cygwin ?</a></h2>
<p class="Pp">It doesn't always fail on Cygwin, but if you find that it produces
    &quot;unable to remap .... to same address as parent&quot; errors during the
    build phase, then it's time for you to run rebaseall.</p>
<p class="Pp">See
    &lt;http://cygwin.com/faq/faq-nochunks.html#faq.using.fixing-fork-failures&gt;
    and, if needed, seek further help from the Cygwin mailing list.</p>
</section>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2020-01-09</td>
    <td class="foot-os">perl v5.34.0</td>
  </tr>
</table>
</body>
</html>
