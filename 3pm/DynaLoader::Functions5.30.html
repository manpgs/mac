<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>DynaLoader::Functions(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DynaLoader::Functions(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">DynaLoader::Functions(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">DynaLoader::Functions - deconstructed dynamic C library
  loading</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>    use DynaLoader::Functions qw(
        loadable_for_module
        linkable_for_loadable linkable_for_module);
    $loadable = loadable_for_module(&quot;Acme::Widget&quot;);
    @linkable = linkable_for_loadable($loadable);
    @linkable = linkable_for_module(&quot;Acme::Widget&quot;);
    use DynaLoader::Functions qw(dyna_load dyna_resolve dyna_unload);
    $libh = dyna_load($loadable, {
                require_symbols =&gt; [&quot;boot_Acme__Widget&quot;],
            });
    my $bootfunc = dyna_resolve($libh, &quot;boot_Acme__Widget&quot;);
    dyna_unload($libh);
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This module provides a function-based interface to dynamic loading
    as used by Perl. Some details of dynamic loading are very
    platform-dependent, so correct use of these functions requires the
    programmer to be mindful of the space of platform variations.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="FUNCTIONS"><a class="permalink" href="#FUNCTIONS">FUNCTIONS</a></h1>
<section class="Ss">
<h2 class="Ss" id="File_finding"><a class="permalink" href="#File_finding">File
  finding</a></h2>
<dl class="Bl-tag">
  <dt id="loadable_for_module("><a class="permalink" href="#loadable_for_module(">loadable_for_module(MODULE_NAME)</a></dt>
  <dd><i>MODULE_NAME</i> must be the name of a Perl module, in bareword syntax
      with <span class="Li">&quot;::&quot;</span> separators. The named module
      is presumed to be an XS extension following standard conventions, and its
      runtime-loadable C library file is searched for. If found, the name of the
      library file is returned. If it cannot be found, the function
      <span class="Li">&quot;die&quot;</span>s with an informative error
      message.
    <p class="Pp">If the named module is actually not an XS extension, or is not
        installed, or stores its C library in a non-standard place, there is a
        non-trivial danger that this function will find some other library file
        and believe it to be the right one. This function should therefore only
        be used when there is an expectation that the module is installed and
        would in normal operation load its corresponding C library.</p>
  </dd>
  <dt id="linkable_for_loadable("><a class="permalink" href="#linkable_for_loadable(">linkable_for_loadable(LOADABLE_FILENAME)</a></dt>
  <dd>If symbols in one runtime-loadable C library are to be made available to
      another runtime-loadable C library, depending on the platform it may be
      necessary to refer to the exporting library when linking the importing
      library. Generally this is not required on Unix, but it is required on
      Windows. Where it is required to refer to the exporting library at link
      time, the file used may be the loadable library file itself, or may be a
      separate file used only for this purpose. Given the loadable form of an
      exporting library, this function determines what is required at link time
      for an importing library.
    <p class="Pp"><i>LOADABLE_FILENAME</i> must be the name of a
        runtime-loadable C library file. The function checks what is required to
        link a library that will at runtime import symbols from this library. It
        returns a list (which will be empty on many platforms) of names of files
        that must be used as additional objects when linking the importing
        library.</p>
  </dd>
  <dt id="linkable_for_module("><a class="permalink" href="#linkable_for_module(">linkable_for_module(MODULE_NAME)</a></dt>
  <dd>Performs the job of &quot;linkable_for_loadable&quot; (which see for
      explanation), but based on a module name instead of a loadable library
      filename.
    <p class="Pp"><i>MODULE_NAME</i> must be the name of a Perl module, in
        bareword syntax with <span class="Li">&quot;::&quot;</span> separators.
        The function checks what is required to link a library that will at
        runtime import symbols from the loadable C library associated with the
        module. It returns a list (which will be empty on many platforms) of
        names of files that must be used as additional objects when linking the
        importing library.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Low-level_dynamic_loading"><a class="permalink" href="#Low-level_dynamic_loading">Low-level
  dynamic loading</a></h2>
<dl class="Bl-tag">
  <dt id="dyna_load(LOADABLE_FILENAME_,"><a class="permalink" href="#dyna_load(LOADABLE_FILENAME_,">dyna_load(LOADABLE_FILENAME[,
    OPTIONS])</a></dt>
  <dd>Dynamically load the runtime-loadable C library in the file named
      <i>LOADABLE_FILENAME</i>. The process is influenced by optional
      information supplied in the hash referenced by <i>OPTIONS</i>. On the
      platforms that make dynamic loading easiest it is not necessary to supply
      any options (in which case the parameter may be omitted), but if wide
      portability is required then some options are required. The permitted keys
      in the <i>OPTIONS</i> hash are:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="resolve_using"><a class="permalink" href="#resolve_using"><b>resolve_using</b></a></dt>
  <dd>Reference to an array, default empty, of names of additional library files
      required to supply symbols used by the library being loaded. On most
      platforms this is not used. On those platforms where it is required, the
      need for this will be known by whatever generated the library to be
      loaded, and it will normally be set by a bootstrap file (see
      <b>use_bootstrap_options</b> below).</dd>
  <dt id="require_symbols"><a class="permalink" href="#require_symbols"><b>require_symbols</b></a></dt>
  <dd>Reference to an array, default empty, of names of symbols expected to be
      found in the library being loaded. On most platforms this is not used, but
      on some a library cannot be loaded without naming at least one symbol for
      which a need can be satisfied by the library.</dd>
  <dt id="use_bootstrap_options"><a class="permalink" href="#use_bootstrap_options"><b>use_bootstrap_options</b></a></dt>
  <dd>Truth value, default false, controlling whether a &quot;bootstrap&quot;
      file will be consulted as an additional source of options to control
      loading. The &quot;bootstrap&quot; file, if it exists, is located in the
      same directory as the loadable library file, and has a similar name
      differing only in its <span class="Li">&quot;.bs&quot;</span> ending.</dd>
  <dt id="symbols_global"><a class="permalink" href="#symbols_global"><b>symbols_global</b></a></dt>
  <dd>Truth value, default false, indicating whether symbols found in the
      library being loaded must be made available to subsequently-loaded
      libraries. Depending on platform, symbols may be so available even if it
      is not requested. Some platforms, on the other hand, can't provide this
      facility.
    <p class="Pp">On platforms incapable of making loaded symbols globally
        available, currently loading is liable to claim success while leaving
        the symbols de facto unavailable. It is intended that in the future such
        platforms will instead generate an exception when this facility is
        requested.</p>
  </dd>
  <dt id="unresolved_action"><a class="permalink" href="#unresolved_action"><b>unresolved_action</b></a></dt>
  <dd>String keyword indicating what should be done if unresolved symbols are
      detected while loading the library. It may be &quot;<b>ERROR</b>&quot;
      (default) to treat it as an error, &quot;<b>WARN</b>&quot; to emit a
      warning, or &quot;<b>IGNORE</b>&quot; to ignore the situation. Some
      platforms can't detect this problem, so passing this check doesn't
      guarantee that there won't be any runtime problems due to unresolved
      symbols.</dd>
</dl>
</div>
<div class="Bd-indent">
<p class="Pp">On success, returns a handle that can be used to refer to the
    loaded library for subsequent calls to &quot;dyna_resolve&quot; and
    &quot;dyna_unload&quot;. On failure,
    <span class="Li">&quot;die&quot;</span>s.</p>
</div>
<dl class="Bl-tag">
  <dt id="dyna_resolve("><a class="permalink" href="#dyna_resolve(">dyna_resolve(LIBRARY_HANDLE,
    SYMBOL_NAME[, OPTIONS])</a></dt>
  <dd>Resolve the symbol <i>SYMBOL</i> in the previously-loaded library
      identified by the <i>LIBRARY_HANDLE</i>. The process is influenced by
      optional information supplied in the hash referenced by <i>OPTIONS</i>.
      The permitted keys in the <i>OPTIONS</i> hash are:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="unresolved_action~2"><a class="permalink" href="#unresolved_action~2"><b>unresolved_action</b></a></dt>
  <dd>String keyword indicating what should be done if the symbol cannot be
      resolved. It may be &quot;<b>ERROR</b>&quot; (default) to treat it as an
      error, &quot;<b>WARN</b>&quot; to emit a warning and return
      <span class="Li">&quot;undef&quot;</span>, or &quot;<b>IGNORE</b>&quot; to
      return <span class="Li">&quot;undef&quot;</span> without a warning.</dd>
</dl>
</div>
<div class="Bd-indent">
<p class="Pp">On success, returns the value of the specified symbol, in a
    platform-dependent format. Returns <span class="Li">&quot;undef&quot;</span>
    if the symbol could not be resolved and this is not being treated as an
    error.</p>
</div>
<dl class="Bl-tag">
  <dt id="dyna_unload(LIBRARY_HANDLE_,"><a class="permalink" href="#dyna_unload(LIBRARY_HANDLE_,">dyna_unload(LIBRARY_HANDLE[,
    OPTIONS])</a></dt>
  <dd>Unload the previously-loaded library identified by the
      <i>LIBRARY_HANDLE</i>. The process is influenced by optional information
      supplied in the hash referenced by <i>OPTIONS</i>. The permitted keys in
      the <i>OPTIONS</i> hash are:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="fail_action"><a class="permalink" href="#fail_action"><b>fail_action</b></a></dt>
  <dd>String keyword indicating what should be done if unloading detectably
      fails. It may be &quot;<b>ERROR</b>&quot; (default) to treat it as an
      error, &quot;<b>WARN</b>&quot; to emit a warning, or
      &quot;<b>IGNORE</b>&quot; to ignore the situation.</dd>
</dl>
</div>
<div class="Bd-indent">
<p class="Pp">On some platforms unloading is not possible. On any platform,
    unloading can be expected to cause mayhem if any code from the library is
    currently executing, if there are any live references to data in the
    library, or if any symbols provided by the library are referenced by any
    subsequently-loaded library.</p>
</div>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">DynaLoader, ExtUtils::CBuilder, XSLoader</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Andrew Main (Zefram) &lt;zefram@fysh.org&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">Copyright (C) 2011, 2012, 2013, 2017 Andrew Main (Zefram)
    &lt;zefram@fysh.org&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="LICENSE"><a class="permalink" href="#LICENSE">LICENSE</a></h1>
<p class="Pp">This module is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2024-04-13</td>
    <td class="foot-os">perl v5.30.3</td>
  </tr>
</table>
</body>
</html>
