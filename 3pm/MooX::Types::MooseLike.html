<!DOCTYPE html>
<html lang="en">
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>MooX::Types::MooseLike(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MooX::Types::MooseLike(3)</td>
    <td class="head-vol"><a href=".">User Contributed Perl Documentation</a></td>
    <td class="head-rtitle">MooX::Types::MooseLike(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">MooX::Types::MooseLike - some Moosish types and a type builder</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>  package MyApp::Types;
  use MooX::Types::MooseLike;
  use base qw(Exporter);
  our @EXPORT_OK = ();
  # Define some types
  my $defs = [{
    name =&gt; 'MyType',
    test =&gt; sub { predicate($_[0]) },
    message =&gt; sub { &quot;$_[0] is not the type we want!&quot; }
  },
  {
    name =&gt; 'VarChar',
    test =&gt; sub {
      my ($value, $param) = @_;
      length($value) &lt;= $param;
    },
    message =&gt; sub { &quot;$_[0] is too large! It should be less than or equal to $_[1].&quot; }
  }];
  # Make the types available - this adds them to @EXPORT_OK automatically.
  MooX::Types::MooseLike::register_types($defs, __PACKAGE__);
  ...
  # Somewhere in code that uses the type
  package MyApp::Foo;
  use Moo;
  use MyApp::Types qw(MyType VarChar);
  has attribute =&gt; (
    is  =&gt; 'ro',
    isa =&gt; MyType,
  );
  has string =&gt; (
    is  =&gt; 'ro',
    isa =&gt; VarChar[25]
  );
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This module provides a possibility to build your own set of
    Moose-like types. These custom types can then be used to describe fields in
    Moo-based classes.</p>
<p class="Pp">See MooX::Types::MooseLike::Base for a list of available base
    types. Its source also provides an example of how to build base types, along
    with both parameterizable and non-parameterizable.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="FUNCTIONS"><a class="permalink" href="#FUNCTIONS">FUNCTIONS</a></h1>
<section class="Ss">
<h2 class="Ss" id="register_types"><a class="permalink" href="#register_types">register_types</a></h2>
<p class="Pp"><b>register_types( types, package, moose_namespace )</b></p>
<p class="Pp">Install the given types within the package. This makes the types
    automatically exportable by adding them to
    <span class="Li">@EXPORT_OK</span> of the package. Types are expected to be
    an array ref where every type is of the following format:</p>
<p class="Pp"></p>
<pre>  {
    name            =&gt; 'MyType',
    test            =&gt; sub { check_the_value_somehow($_[0]) },
    message         =&gt; sub { &quot;$_[0] is not the type we want!&quot; },
    subtype_of      =&gt; 'SomeParentType',           # Optional
    from            =&gt; 'Some::Parent::CoolTypes',  # Optional
    parameterizable =&gt; sub { ... },                # Optional
    inflate         =&gt; sub { ... },                # Optional
  }
</pre>
<p class="Pp">A type can be declared with a reference (<i>subtype_of</i>) to
    some previously declared type. In this case the new type will inherit the
    behaviour of the referenced type.</p>
<p class="Pp">The referenced type can come either from the same package or from
    a third party package:</p>
<p class="Pp"></p>
<pre>  MooX::Types::MooseLike::register_types([{
    name       =&gt; 'GreaterThan10',
    subtype_of =&gt; 'Int',
    from       =&gt; 'MooX::Types::MooseLike::Base',
    test       =&gt; sub { $_[0] &gt; 10 },
    message    =&gt; sub { 'not greater than 10' },
  }], __PACKAGE__);
  MooX::Types::MooseLike::register_types([{
    name       =&gt; 'Between10And20',
    subtype_of =&gt; 'GreaterThan10',
    from       =&gt; __PACKAGE__,
    test       =&gt; sub { $_[0] &lt; 20 },
    message    =&gt; sub { 'not an integer between 10 and 20' },
  }], __PACKAGE__);
  MooX::Types::MooseLike::register_types([{
    name       =&gt; 'Between10And30',
    subtype_of =&gt; GreaterThan10(),
    test       =&gt; sub { $_[0] &lt; 30 },
    message    =&gt; sub { 'not an integer between 10 and 30' },
  }], __PACKAGE__);
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="exception_message"><a class="permalink" href="#exception_message">exception_message</a></h2>
<p class="Pp"><b>exception_message( value, part_of_the_exception_string
  )</b></p>
<p class="Pp">Helper function to be used in a type definition:</p>
<p class="Pp"></p>
<pre>  {
    ...
    message =&gt; sub { return exception_message($_[0], 'a HashRef' },
    ...
  }
</pre>
<p class="Pp">In the event of &lt;value&gt; mismatching the type constraints it
    produces the message:</p>
<p class="Pp"></p>
<pre>  &quot;&lt;value&gt; is not a HashRef!&quot;
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="inflate_type"><a class="permalink" href="#inflate_type">inflate_type</a></h2>
<p class="Pp"><b>inflate_type( coderef )</b></p>
<p class="Pp">Inflates the type to a Moose type. Requires Moose.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">MooX::Types::MooseLike::Numeric - an example of building
  subtypes.</p>
<p class="Pp">MooX::Types::SetObject - an example of building parameterized
    types.</p>
<p class="Pp">MooX::Types::MooseLike::Email,
  MooX::Types::MooseLike::DateTime</p>
<p class="Pp">Type::Tiny - another implementation of type constraints.
    Compatible with Moo, Moose and Mouse.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">mateu - Mateu X. Hunter (cpan:MATEU)
  &lt;hunter@missoula.org&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CONTRIBUTORS"><a class="permalink" href="#CONTRIBUTORS">CONTRIBUTORS</a></h1>
<p class="Pp">mst - Matt S. Trout (cpan:MSTROUT) &lt;mst@shadowcat.co.uk&gt;</p>
<p class="Pp">Mithaldu - Christian Walde (cpan:MITHALDU)
    &lt;walde.christian@googlemail.com&gt;</p>
<p class="Pp">Matt Phillips (cpan:MATTP) &lt;mattp@cpan.org&gt;</p>
<p class="Pp">Arthur Axel fREW Schmidt (cpan:FREW) &lt;frioux@gmail.com&gt;</p>
<p class="Pp">Toby Inkster (cpan:TOBYINK) &lt;tobyink@cpan.org&gt;</p>
<p class="Pp">Graham Knop (cpan:HAARG) &lt;haarg@cpan.org&gt;</p>
<p class="Pp">Dmitry Matrosov (cpan:AMIDOS) &lt;amidos@amidos.ru&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">Copyright (c) 2011-2015 the MooX::Types::MooseLike
    &quot;AUTHOR&quot; and
  <br/>
   &quot;CONTRIBUTORS&quot; as listed above.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="LICENSE"><a class="permalink" href="#LICENSE">LICENSE</a></h1>
<p class="Pp">This library is free software and may be distributed under the
    same terms as perl itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2015-06-26</td>
    <td class="foot-os"><a href="..">perl v5.34.0</a></td>
  </tr>
</table>
</body>
</html>
