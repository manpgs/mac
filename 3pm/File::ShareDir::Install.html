<!DOCTYPE html>
<html lang="en">
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>File::ShareDir::Install(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">File::ShareDir::Install(3)</td>
    <td class="head-vol"><a href=".">User Contributed Perl Documentation</a></td>
    <td class="head-rtitle">File::ShareDir::Install(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">File::ShareDir::Install - Install shared files</p>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
<p class="Pp">version 0.13</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>    use ExtUtils::MakeMaker;
    use File::ShareDir::Install;
    install_share 'share';
    install_share dist =&gt; 'dist-share';
    install_share module =&gt; 'My::Module' =&gt; 'other-share';
    WriteMakefile( ... );       # As you normally would
    package MY;
    use File::ShareDir::Install qw(postamble);
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">File::ShareDir::Install allows you to install read-only data files
    from a distribution. It is a companion module to File::ShareDir, which
    allows you to locate these files after installation.</p>
<p class="Pp">It is a port of Module::Install::Share to ExtUtils::MakeMaker with
    the improvement of only installing the files you want;
    <span class="Li">&quot;.svn&quot;</span>,
    <span class="Li">&quot;.git&quot;</span> and other source-control junk will
    be ignored.</p>
<p class="Pp">Please note that this module installs read-only data files; empty
    directories will be ignored.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXPORT"><a class="permalink" href="#EXPORT">EXPORT</a></h1>
<section class="Ss">
<h2 class="Ss" id="install_share"><a class="permalink" href="#install_share">install_share</a></h2>
<pre>    install_share $dir;
    install_share dist =&gt; $dir;
    install_share module =&gt; $module, $dir;
</pre>
<p class="Pp">Causes all the files in <span class="Li">$dir</span> and its
    sub-directories to be installed into a per-dist or per-module share
    directory. Must be called before WriteMakefile.</p>
<p class="Pp">The first 2 forms are equivalent; the files are installed in a
    per-distribution directory. For example
    <span class="Li">&quot;/usr/lib/perl5/site_perl/auto/share/dist/My-Dist&quot;</span>.
    The name of that directory can be recovered with &quot;dist_dir&quot; in
    File::ShareDir.</p>
<p class="Pp">The last form installs files in a per-module directory. For
    example
    <span class="Li">&quot;/usr/lib/perl5/site_perl/auto/share/module/My-Dist-Package&quot;</span>.
    The name of that directory can be recovered with &quot;module_dir&quot; in
    File::ShareDir.</p>
<p class="Pp">The parameter <span class="Li">$dir</span> may be an array of
    directories.</p>
<p class="Pp">The files will be installed when you run
    <span class="Li">&quot;make install&quot;</span>. However, the list of files
    to install is generated when Makefile.PL is run.</p>
<p class="Pp">Note that if you make multiple calls to
    <span class="Li">&quot;install_share&quot;</span> on different directories
    that contain the same filenames, the last of these calls takes precedence.
    In other words, if you do:</p>
<p class="Pp"></p>
<pre>    install_share 'share1';
    install_share 'share2';
</pre>
<p class="Pp">And both <span class="Li">&quot;share1&quot;</span> and
    <span class="Li">&quot;share2&quot;</span> contain a file called
    <span class="Li">&quot;info.txt&quot;</span>, the file
    <span class="Li">&quot;share2/info.txt&quot;</span> will be installed into
    your <span class="Li">&quot;dist_dir()&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="delete_share"><a class="permalink" href="#delete_share">delete_share</a></h2>
<pre>    delete_share $list;
    delete_share dist =&gt; $list;
    delete_share module =&gt; $module, $list;
</pre>
<p class="Pp">Remove previously installed files or directories.</p>
<p class="Pp">Unlike &quot;install_share&quot;, the last parameter is a list of
    files or directories that were previously installed. These files and
    directories will be deleted when you run <span class="Li">&quot;make
    install&quot;</span>.</p>
<p class="Pp">The parameter <span class="Li">$list</span> may be an array of
    files or directories.</p>
<p class="Pp">Deletion happens in-order along with installation. This means that
    you may delete all previously installed files by putting the following at
    the top of your Makefile.PL.</p>
<p class="Pp"></p>
<pre>    delete_share '.';
</pre>
<p class="Pp">You can also selectively remove some files from installation.</p>
<p class="Pp"></p>
<pre>    install_share 'some-dir';
    if( ... ) {
        delete_share 'not-this-file.rc';
    }
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="postamble"><a class="permalink" href="#postamble">postamble</a></h2>
<p class="Pp">This function must be exported into the MY package. You will
    normally do this with the following.</p>
<p class="Pp"></p>
<pre>    package MY;
    use File::ShareDir::Install qw( postamble );
</pre>
<p class="Pp">If you need to overload postamble, use the following.</p>
<p class="Pp"></p>
<pre>    package MY;
    use File::ShareDir::Install;
    sub postamble {
        my $self = shift;
        my @ret = File::ShareDir::Install::postamble( $self );
        # ... add more things to @ret;
        return join &quot;\n&quot;, @ret;
    }
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="CONFIGURATION"><a class="permalink" href="#CONFIGURATION">CONFIGURATION</a></h1>
<p class="Pp">Two variables control the handling of dot-files and
    dot-directories.</p>
<p class="Pp">A dot-file has a filename that starts with a period (.). For
    example <span class="Li">&quot;.htaccess&quot;</span>. A dot-directory is a
    directory that starts with a period (.). For example
    <span class="Li">&quot;.config/&quot;</span>. Not all filesystems support
    the use of dot-files.</p>
<section class="Ss">
<h2 class="Ss" id="$INCLUDE_DOTFILES"><a class="permalink" href="#$INCLUDE_DOTFILES">$INCLUDE_DOTFILES</a></h2>
<p class="Pp">If set to a true value, dot-files will be copied. Default is
    false.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$INCLUDE_DOTDIRS"><a class="permalink" href="#$INCLUDE_DOTDIRS">$INCLUDE_DOTDIRS</a></h2>
<p class="Pp">If set to a true value, the files inside dot-directories will be
    copied. Known version control directories are still ignored. Default is
    false.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Note"><a class="permalink" href="#Note">Note</a></h2>
<p class="Pp">These variables only influence subsequent calls to
    <span class="Li">&quot;install_share()&quot;</span>. This allows you to
    control the behaviour for each directory.</p>
<p class="Pp">For example:</p>
<p class="Pp"></p>
<pre>    $INCLUDE_DOTDIRS = 1;
    install_share 'share1';
    $INCLUDE_DOTFILES = 1;
    $INCLUDE_DOTDIRS = 0;
    install_share 'share2';
</pre>
<p class="Pp">The directory <span class="Li">&quot;share1&quot;</span> will have
    files in its dot-directories installed, but not dot-files. The directory
    <span class="Li">&quot;share2&quot;</span> will have files in its dot-files
    installed, but dot-directories will be ignored.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">File::ShareDir, Module::Install.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SUPPORT"><a class="permalink" href="#SUPPORT">SUPPORT</a></h1>
<p class="Pp">Bugs may be submitted through the RT bug tracker
    &lt;https://rt.cpan.org/Public/Dist/Display.html?Name=File-ShareDir-Install&gt;
    (or bug-File-ShareDir-Install@rt.cpan.org
    &lt;mailto:bug-File-ShareDir-Install@rt.cpan.org&gt;).</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Philip Gwyn &lt;gwyn@cpan.org&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CONTRIBUTORS"><a class="permalink" href="#CONTRIBUTORS">CONTRIBUTORS</a></h1>
<ul class="Bl-bullet">
  <li>Karen Etheridge &lt;ether@cpan.org&gt;</li>
  <li>Shoichi Kaji &lt;skaji@cpan.org&gt;</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
<p class="Pp">This software is copyright (c) 2009 by Philip Gwyn.</p>
<p class="Pp">This is free software; you can redistribute it and/or modify it
    under the same terms as the Perl 5 programming language system itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2018-04-22</td>
    <td class="foot-os"><a href="..">perl v5.34.0</a></td>
  </tr>
</table>
</body>
</html>
