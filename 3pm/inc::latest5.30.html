<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>inc::latest(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">inc::latest(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">inc::latest(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">inc::latest - use modules bundled in inc/ if they are newer than
    installed ones</p>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
<p class="Pp">version 0.500</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>  # in Makefile.PL or Build.PL
  use inc::latest 'Some::Configure::Prereq';
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><b>WARNING -- THIS IS AN EXPERIMENTAL MODULE</b>. It was
    originally bundled (as an experiment) with Module::Build and has been split
    out for more general use.</p>
<p class="Pp">The <span class="Li">&quot;inc::latest&quot;</span> module helps
    bootstrap configure-time dependencies for CPAN distributions. These
    dependencies get bundled into the <span class="Li">&quot;inc&quot;</span>
    directory within a distribution and are used by <i>Makefile.PL</i> or
    <i>Build.PL</i>.</p>
<p class="Pp">Arguments to <span class="Li">&quot;inc::latest&quot;</span> are
    module names that are checked against both the current
    <span class="Li">@INC</span> array and against specially-named directories
    in <span class="Li">&quot;inc&quot;</span>. If the bundled version is newer
    than the installed one (or the module isn't installed, then, the bundled
    directory is added to the start of <span class="Li">@INC</span> and the
    module is loaded from there.</p>
<p class="Pp">There are actually two variations of
    <span class="Li">&quot;inc::latest&quot;</span> -- one for authors and one
    for the <span class="Li">&quot;inc&quot;</span> directory. For distribution
    authors, the <span class="Li">&quot;inc::latest&quot;</span> installed in
    the system will record modules loaded via
    <span class="Li">&quot;inc::latest&quot;</span> and can be used to create
    the bundled files in <span class="Li">&quot;inc&quot;</span>, including
    writing the second variation as
    <span class="Li">&quot;inc/latest.pm&quot;</span>.</p>
<p class="Pp">This second <span class="Li">&quot;inc::latest&quot;</span> is the
    one that is loaded in a distribution being installed (e.g. from
    <i>Makefile.PL</i> or <i>Build.PL</i>). This bundled
    <span class="Li">&quot;inc::latest&quot;</span> is the one that determines
    which module to load.</p>
<section class="Ss">
<h2 class="Ss" id="Special_notes_on_bundling"><a class="permalink" href="#Special_notes_on_bundling">Special
  notes on bundling</a></h2>
<p class="Pp">The <span class="Li">&quot;inc::latest&quot;</span> module creates
    bundled directories based on the packlist file of an installed distribution.
    Even though <span class="Li">&quot;inc::latest&quot;</span> takes module
    name arguments, it is better to think of it as bundling and making available
    entire <i>distributions</i>. When a module is loaded through
    <span class="Li">&quot;inc::latest&quot;</span>, it looks in all bundled
    distributions in <span class="Li">&quot;inc/&quot;</span> for a newer module
    than can be found in the existing <span class="Li">@INC</span> array.</p>
<p class="Pp">Thus, the module-name provided should usually be the
    &quot;top-level&quot; module name of a distribution, though this is not
    strictly required. <span class="Li">&quot;inc::latest&quot;</span> has a
    number of heuristics to discover module names, allowing users to do things
    like this:</p>
<p class="Pp"></p>
<pre>  use inc::latest 'Devel::AssertOS::Unix';
</pre>
<p class="Pp">even though Devel::AssertOS::Unix is contained within the
    Devel-CheckOS distribution.</p>
<p class="Pp">At the current time, packlists are required. Thus, bundling
    dual-core modules may require a 'forced install' over versions in the latest
    version of perl in order to create the necessary packlist for bundling.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Managing_dependency_chains"><a class="permalink" href="#Managing_dependency_chains">Managing
  dependency chains</a></h2>
<p class="Pp">Before bundling a distribution you must ensure that all
    prerequisites are also bundled and load in the correct order.</p>
<p class="Pp">For example, if you need
    <span class="Li">&quot;Wibble&quot;</span>, but
    <span class="Li">&quot;Wibble&quot;</span> depends on
    <span class="Li">&quot;Wobble&quot;</span>, and you have bundled
    <span class="Li">&quot;Module::Build&quot;</span>, your <i>Build.PL</i>
    might look like this:</p>
<p class="Pp"></p>
<pre>  use inc::latest 'Wobble';
  use inc::latest 'Wibble';
  use inc::latest 'Module::Build';
  Module::Build-&gt;new(
    module_name =&gt; 'Foo::Bar',
    license =&gt; 'perl',
  )-&gt;create_build_script;
</pre>
<p class="Pp">Authors are strongly suggested to limit the bundling of additional
    dependencies if at all possible and to carefully test their distribution
    tarballs before uploading to CPAN.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="USAGE"><a class="permalink" href="#USAGE">USAGE</a></h1>
<section class="Ss">
<h2 class="Ss" id="As_bundled_in_inc/"><a class="permalink" href="#As_bundled_in_inc/">As
  bundled in inc/</a></h2>
<p class="Pp">Using &quot;Author-mode&quot;, a special stub module will be
    created in your distribute directory as <i>inc/latest.pm</i>. In your
    <i>Makefile.PL</i> or <i>Build.PL</i>, you can then load
    <span class="Li">&quot;inc::latest&quot;</span> to load bundled modules.</p>
<p class="Pp">When calling <span class="Li">&quot;use&quot;</span>, the bundled
    <span class="Li">&quot;inc::latest&quot;</span> takes a single module name
    and optional arguments to pass to that module's own import method.</p>
<p class="Pp"></p>
<pre>  use inc::latest 'Foo::Bar' qw/foo bar baz/;
</pre>
<p class="Pp">The implementation is private. Only the
    <span class="Li">&quot;import&quot;</span> method is public.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Author-mode"><a class="permalink" href="#Author-mode">Author-mode</a></h2>
<p class="Pp">When you have inc::latest installed from CPAN, then you are in
    author-mode if any of the Author-mode methods are available. For
  example:</p>
<p class="Pp"></p>
<pre>  if ( inc::latest-&gt;can('write') ) {
    inc::latest-&gt;write('inc');
  }
</pre>
<p class="Pp">Using author-mode, you can create the stub <i>inc/latest.pm</i>
    and bundle modules into <i>inc</i>.</p>
<dl class="Bl-tag">
  <dt id="loaded_modules()"><a class="permalink" href="#loaded_modules()"><b>loaded_modules()</b></a></dt>
  <dd>
    <pre>  my @list = inc::latest-&gt;loaded_modules;
    </pre>
    <p class="Pp">This takes no arguments and always returns a list of module
        names requested for loading via &quot;use inc::latest 'MODULE'&quot;,
        regardless of whether the load was successful or not.</p>
  </dd>
  <dt id="write()"><a class="permalink" href="#write()"><b>write()</b></a></dt>
  <dd>
    <pre>  inc::latest-&gt;write( 'inc' );
    </pre>
    <p class="Pp">This writes the bundled version of inc::latest to the
        directory name given as an argument. It almost all cases, it should be
        '<span class="Li">&quot;inc&quot;</span>'.</p>
  </dd>
  <dt id="bundle_module()"><a class="permalink" href="#bundle_module()"><b>bundle_module()</b></a></dt>
  <dd>
    <pre>  for my $mod ( inc::latest-&gt;loaded_modules ) {
    inc::latest-&gt;bundle_module($mod, $dir);
  }
    </pre>
    <p class="Pp">If <span class="Li">$mod</span> corresponds to a packlist,
        then this function creates a specially-named directory in
        <span class="Li">$dir</span> and copies all .pm files from the modlist
        to the new directory (which almost always should just be 'inc'). For
        example, if Foo::Bar is the name of the module, and
        <span class="Li">$dir</span> is 'inc', then the directory would be
        'inc/inc_Foo-Bar' and contain files like this:</p>
    <p class="Pp"></p>
    <pre>  inc/inc_Foo-Bar/Foo/Bar.pm
    </pre>
    <p class="Pp">Currently, <span class="Li">$mod</span> <b>must</b> have a
        packlist. If this is not the case (e.g. for a dual-core module), then
        the bundling will fail. You may be able to create a packlist by forced
        installing the module on top of the version that came with core
      Perl.</p>
  </dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SUPPORT"><a class="permalink" href="#SUPPORT">SUPPORT</a></h1>
<section class="Ss">
<h2 class="Ss" id="Bugs_/_Feature_Requests"><a class="permalink" href="#Bugs_/_Feature_Requests">Bugs
  / Feature Requests</a></h2>
<p class="Pp">Please report any bugs or feature requests through the issue
    tracker at &lt;https://github.com/dagolden/inc-latest/issues&gt;. You will
    be notified automatically of any progress on your issue.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Source_Code"><a class="permalink" href="#Source_Code">Source
  Code</a></h2>
<p class="Pp">This is open source software. The code repository is available for
    public review and contribution under the terms of the license.</p>
<p class="Pp">&lt;https://github.com/dagolden/inc-latest&gt;</p>
<p class="Pp"></p>
<pre>  git clone https://github.com/dagolden/inc-latest.git
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<ul class="Bl-bullet">
  <li>David Golden &lt;dagolden@cpan.org&gt;</li>
  <li>Eric Wilhelm &lt;ewilhelm@cpan.org&gt;</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
<p class="Pp">This software is Copyright (c) 2009 by David Golden.</p>
<p class="Pp">This is free software, licensed under:</p>
<p class="Pp"></p>
<pre>  The Apache License, Version 2.0, January 2004
</pre>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-12-06</td>
    <td class="foot-os">perl v5.30.3</td>
  </tr>
</table>
</body>
</html>
