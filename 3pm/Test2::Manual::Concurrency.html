<!DOCTYPE html>
<html lang="en">
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Test2::Manual::Concurrency(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Test2::Manual::Concurrency(3)</td>
    <td class="head-vol"><a href=".">User Contributed Perl Documentation</a></td>
    <td class="head-rtitle">Test2::Manual::Concurrency(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Test2::Manual::Concurrency - Documentation for Concurrency
    support.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="FORKING"><a class="permalink" href="#FORKING">FORKING</a></h1>
<section class="Ss">
<h2 class="Ss" id="Test2"><a class="permalink" href="#Test2">Test2</a></h2>
<p class="Pp">Test2 supports forking. For forking to work you need to load
    Test2::IPC.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Test::Builder"><a class="permalink" href="#Test::Builder">Test::Builder</a></h2>
<p class="Pp">Test::Builder Did not used to support forking, but now that it is
    based on Test2 it does. Test2::IPC must be loaded just as with Test2.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Test2::Suite"><a class="permalink" href="#Test2::Suite">Test2::Suite</a></h2>
<p class="Pp">Test2::Suite tools should all work fine with <i>true</i> forking
    unless otherwise noted. Pseudo-fork via threads (Windows and a few others)
    is not supported, but may work.</p>
<p class="Pp">Patches will be accepted to repair any pseudo-fork issues, but for
    these to be used or tested they must be requested. Fork tests should not run
    on pseudo-fork systems unless they are requested with an environment var, or
    the AUTHOR_TESTING var. Pseudo-fork is fragile, and we do not want to block
    install due to a pseudo-fork flaw.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Test::SharedFork"><a class="permalink" href="#Test::SharedFork">Test::SharedFork</a></h2>
<p class="Pp">Test::SharedFork is currently support and maintained, though it is
    no longer necessary thanks to Test2::IPC. If usage ever drops off then the
    module may be deprecated, but for now the policy is to not let it break.
    Currently it simply loads Test2::IPC if it can, and falls back to the old
    methods on legacy installs.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Others"><a class="permalink" href="#Others">Others</a></h2>
<p class="Pp">Individual authors are free to support or not support forking as
    they see fit.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="THREADING"><a class="permalink" href="#THREADING">THREADING</a></h1>
<p class="Pp"><b>Note</b> This only applies to ithreads.</p>
<section class="Ss">
<h2 class="Ss" id="Test2~2"><a class="permalink" href="#Test2~2">Test2</a></h2>
<p class="Pp">The core of Test2 supports threading so long as Test2::IPC is
    loaded. Basic threading support (making sure events make it to the parent
    thread) is fully supported, and must not be broken.</p>
<p class="Pp">Some times perl installs have broken threads (Some 5.10 versions
    compiled on newer gcc's will segv by simply starting a thread). This is
    beyond Test2's control, and not solvable in Test2. That said we strive for
    basic threading support on perl 5.8.1+.</p>
<p class="Pp">If Test2 fails for threads on any perl 5.8 or above, and it is
    reasonably possible for Test2 to work around the issue, it should. (Patches
    and bug reports welcome).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Test::Builder~2"><a class="permalink" href="#Test::Builder~2">Test::Builder</a></h2>
<p class="Pp">Test::Builder has had thread support for a long time. With Test2
    the mechanism for thread support was switched to Test2::IPC. Test::Builder
    should still support threads as much as it did before the switch to Test2.
    Support includes auto-enabling thread support if threads is loaded before
    Test::Builder.</p>
<p class="Pp">If there is a deviation between the new and old threading behavior
    then it is a bug (unless the old behavior itself can be classified as a
    bug.) Please report (or patch!) any such threading issues.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Test2::Suite~2"><a class="permalink" href="#Test2::Suite~2">Test2::Suite</a></h2>
<p class="Pp">Tools in Test2::Suite have minimal threading support. Most of
    these tools do not care/notice threading and simply work because Test2::IPC
    handles it. Feel free to report any thread related bugs in Test2::Suite. Be
    aware though that these tools are not legacy, and have no pre-existing
    thread support, we reserve the right to refuse adding thread support to
    them.</p>
<p class="Pp"><i>Test2::Workflow</i></p>
<p class="Pp">Test2::Workflow has been merged into Test2::Suite, so it gets
    addressed by this policy.</p>
<p class="Pp">Test2::Workflow has thread support, but you must ask for it.
    Thread tests for Test2::Workflow do not event run without setting either the
    AUTHOR_TESTING env var, or the T2_DO_THREAD_TESTS env var.</p>
<p class="Pp">To use threads with Test2::Workflow you must set the
    T2_WORKFLOW_USE_THREADS env var.</p>
<p class="Pp">If you do rely on threads with Test2::Workflow and find a bug
    please report it, but it will be given an ultra-low priority. Merging
    patches that fix threading issues will be given normal priority.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">Test2 - Test2 itself.</p>
<p class="Pp">Test2::Suite - Initial tools built using Test2.</p>
<p class="Pp">Test2::Manual - Primary index of the manual.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SOURCE"><a class="permalink" href="#SOURCE">SOURCE</a></h1>
<p class="Pp">The source code repository for Test2-Manual can be found at
    <i>https://github.com/Test-More/Test2-Suite/</i>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="MAINTAINERS"><a class="permalink" href="#MAINTAINERS">MAINTAINERS</a></h1>
<dl class="Bl-tag">
  <dt id="Chad"><a class="permalink" href="#Chad">Chad Granum
    &lt;exodist@cpan.org&gt;</a></dt>
  <dd></dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<dl class="Bl-tag">
  <dt id="Chad~2"><a class="permalink" href="#Chad~2">Chad Granum
    &lt;exodist@cpan.org&gt;</a></dt>
  <dd></dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">Copyright 2018 Chad Granum &lt;exodist@cpan.org&gt;.</p>
<p class="Pp">This program is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself.</p>
<p class="Pp">See <i>http://dev.perl.org/licenses/</i></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2020-10-22</td>
    <td class="foot-os"><a href="..">perl v5.34.0</a></td>
  </tr>
</table>
</body>
</html>
