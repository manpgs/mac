<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Package::DeprecationManager(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Package::DeprecationManager(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Package::DeprecationManager(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Package::DeprecationManager - Manage deprecation warnings for your
    distribution</p>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
<p class="Pp">version 0.17</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>  package My::Class;
  use Package::DeprecationManager -deprecations =&gt; {
      'My::Class::foo' =&gt; '0.02',
      'My::Class::bar' =&gt; '0.05',
      'feature-X'      =&gt; '0.07',
  };
  sub foo {
      deprecated( 'Do not call foo!' );
      ...
  }
  sub bar {
      deprecated();
      ...
  }
  sub baz {
      my %args = @_;
      if ( $args{foo} ) {
          deprecated(
              message =&gt; ...,
              feature =&gt; 'feature-X',
          );
      }
  }
  package Other::Class;
  use My::Class -api_version =&gt; '0.04';
  My::Class-&gt;new()-&gt;foo(); # warns
  My::Class-&gt;new()-&gt;bar(); # does not warn
  My::Class-&gt;new()-&gt;bar(); # does not warn again
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This module allows you to manage a set of deprecations for one or
    more modules.</p>
<p class="Pp">When you import
    <span class="Li">&quot;Package::DeprecationManager&quot;</span>, you must
    provide a set of <span class="Li">&quot;-deprecations&quot;</span> as a hash
    ref. The keys are &quot;feature&quot; names, and the values are the version
    when that feature was deprecated.</p>
<p class="Pp">In many cases, you can simply use the fully qualified name of a
    subroutine or method as the feature name. This works for cases where the
    whole subroutine is deprecated. However, the feature names can be any
    string. This is useful if you don't want to deprecate an entire subroutine,
    just a certain usage.</p>
<p class="Pp">You can also provide an optional array reference in the
    <span class="Li">&quot;-ignore&quot;</span> parameter.</p>
<p class="Pp">The values to be ignored can be package names or regular
    expressions (made with <span class="Li">&quot;qr//&quot;</span>). Use this
    to ignore packages in your distribution that can appear on the call stack
    when a deprecated feature is used.</p>
<p class="Pp">As part of the import process,
    <span class="Li">&quot;Package::DeprecationManager&quot;</span> will export
    two subroutines into its caller. It provides an
    <span class="Li">&quot;import()&quot;</span> sub for the caller and a
    <span class="Li">&quot;deprecated()&quot;</span> sub.</p>
<p class="Pp">The <span class="Li">&quot;import()&quot;</span> sub allows
    callers of <i>your</i> class to specify an
    <span class="Li">&quot;-api_version&quot;</span> parameter. If this is
    supplied, then deprecation warnings are only issued for deprecations with
    API versions earlier than the one specified.</p>
<p class="Pp">You must call the <span class="Li">&quot;deprecated()&quot;</span>
    sub in each deprecated subroutine. When called, it will issue a warning
    using <span class="Li">&quot;Carp::cluck()&quot;</span>.</p>
<p class="Pp">The <span class="Li">&quot;deprecated()&quot;</span> sub can be
    called in several ways. If you do not pass any arguments, it will generate
    an appropriate warning message. If you pass a single argument, this is used
    as the warning message.</p>
<p class="Pp">Finally, you can call it with named arguments. Currently, the only
    allowed names are <span class="Li">&quot;message&quot;</span> and
    <span class="Li">&quot;feature&quot;</span>. The
    <span class="Li">&quot;feature&quot;</span> argument should correspond to
    the feature name passed in the
    <span class="Li">&quot;-deprecations&quot;</span> hash.</p>
<p class="Pp">If you don't explicitly specify a feature, the
    <span class="Li">&quot;deprecated()&quot;</span> sub uses
    <span class="Li">&quot;caller()&quot;</span> to identify its caller, using
    its fully qualified subroutine name.</p>
<p class="Pp">A given deprecation warning is only issued once for a given
    package. This module tracks this based on both the feature name <i>and</i>
    the error message itself. This means that if you provide several different
    error messages for the same feature, all of those errors will appear.</p>
<section class="Ss">
<h2 class="Ss" id="Other_"><a class="permalink" href="#Other_">Other
  <b>import()</b> subs</a></h2>
<p class="Pp">This module works by installing an
    <span class="Li">&quot;import&quot;</span> sub in any package that uses it.
    If that package <i>already</i> has an
    <span class="Li">&quot;import&quot;</span> sub, then that
    <span class="Li">&quot;import&quot;</span> will be called after any
    arguments passed for
    <span class="Li">&quot;Package::DeprecationManager&quot;</span> are stripped
    out. You need to define your <span class="Li">&quot;import&quot;</span> sub
    before you <span class="Li">&quot;use</span>
    <span class="Li">Package::DeprecationManager&quot;</span> to make this
  work:</p>
<p class="Pp"></p>
<pre>  package HasExporter;
  use Exporter qw( import );
  use Package::DeprecationManager -deprecations =&gt; {
      'HasExporter::foo' =&gt; '0.02',
  };
  our @EXPORT_OK = qw( some_sub another_sub );
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="DONATIONS"><a class="permalink" href="#DONATIONS">DONATIONS</a></h1>
<p class="Pp">If you'd like to thank me for the work I've done on this module,
    please consider making a &quot;donation&quot; to me via PayPal. I spend a
    lot of free time creating free software, and would appreciate any support
    you'd care to offer.</p>
<p class="Pp">Please note that <b>I am not suggesting that you must do this</b>
    in order for me to continue working on this particular software. I will
    continue to do so, inasmuch as I have in the past, for as long as it
    interests me.</p>
<p class="Pp">Similarly, a donation made in this way will probably not make me
    work on this software much more, unless I get so many donations that I can
    consider working on free software full time, which seems unlikely at
  best.</p>
<p class="Pp">To donate, log into PayPal and send money to autarch@urth.org or
    use the button on this page:
    &lt;http://www.urth.org/~autarch/fs-donation.html&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CREDITS"><a class="permalink" href="#CREDITS">CREDITS</a></h1>
<p class="Pp">The idea for this functionality and some of its implementation was
    originally created as Class::MOP::Deprecated by Goro Fuji.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">Please report any bugs or feature requests to
    <span class="Li">&quot;bug-package-deprecationmanager@rt.cpan.org&quot;</span>,
    or through the web interface at &lt;http://rt.cpan.org&gt;. I will be
    notified, and then you'll automatically be notified of progress on your bug
    as I make changes.</p>
<p class="Pp">Bugs may be submitted through the RT bug tracker
    &lt;http://rt.cpan.org/Public/Dist/Display.html?Name=Package-DeprecationManager&gt;
    (or bug-package-deprecationmanager@rt.cpan.org
    &lt;mailto:bug-package-deprecationmanager@rt.cpan.org&gt;).</p>
<p class="Pp">I am also usually active on IRC as 'drolsky' on
    <span class="Li">&quot;irc://irc.perl.org&quot;</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DONATIONS~2"><a class="permalink" href="#DONATIONS~2">DONATIONS</a></h1>
<p class="Pp">If you'd like to thank me for the work I've done on this module,
    please consider making a &quot;donation&quot; to me via PayPal. I spend a
    lot of free time creating free software, and would appreciate any support
    you'd care to offer.</p>
<p class="Pp">Please note that <b>I am not suggesting that you must do this</b>
    in order for me to continue working on this particular software. I will
    continue to do so, inasmuch as I have in the past, for as long as it
    interests me.</p>
<p class="Pp">Similarly, a donation made in this way will probably not make me
    work on this software much more, unless I get so many donations that I can
    consider working on free software full time (let's all have a chuckle at
    that together).</p>
<p class="Pp">To donate, log into PayPal and send money to autarch@urth.org, or
    use the button at &lt;http://www.urth.org/~autarch/fs-donation.html&gt;.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Dave Rolsky &lt;autarch@urth.org&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CONTRIBUTORS"><a class="permalink" href="#CONTRIBUTORS">CONTRIBUTORS</a></h1>
<ul class="Bl-bullet">
  <li>Jesse Luehrs &lt;doy@tozt.net&gt;</li>
  <li>Karen Etheridge &lt;ether@cpan.org&gt;</li>
  <li>Tomas Doran &lt;bobtfish@bobtfish.net&gt;</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENCE"><a class="permalink" href="#COPYRIGHT_AND_LICENCE">COPYRIGHT
  AND LICENCE</a></h1>
<p class="Pp">This software is Copyright (c) 2016 by Dave Rolsky.</p>
<p class="Pp">This is free software, licensed under:</p>
<p class="Pp"></p>
<pre>  The Artistic License 2.0 (GPL Compatible)
</pre>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2016-06-17</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
