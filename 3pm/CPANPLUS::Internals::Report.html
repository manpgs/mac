<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>CPANPLUS::Internals::Report(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CPANPLUS::Internals::Report(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">CPANPLUS::Internals::Report(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">CPANPLUS::Internals::Report - internals for sending test
  reports</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
  ### enable test reporting
  $cb-&gt;configure_object-&gt;set_conf( cpantest =&gt; 1 );

  ### set custom mx host, shouldn't normally be needed
  $cb-&gt;configure_object-&gt;set_conf( cpantest_mx =&gt; 'smtp.example.com' );
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This module provides all the functionality to send test reports to
    <span class="Li">&quot;http://testers.cpan.org&quot;</span> using the
    <span class="Li">&quot;Test::Reporter&quot;</span> module.</p>
<p class="Pp">All methods will be called automatically if you have
    <span class="Li">&quot;CPANPLUS&quot;</span> configured to enable test
    reporting (see the <span class="Li">&quot;SYNOPSIS&quot;</span>).</p>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<section class="Ss">
<h2 class="Ss">$bool = $cb-&gt;_have_query_report_modules</h2>
<p class="Pp">This function checks if all the required modules are here for
    querying reports. It returns true and loads them if they are, or returns
    false otherwise.</p>
</section>
<section class="Ss">
<h2 class="Ss">$bool = $cb-&gt;_have_send_report_modules</h2>
<p class="Pp">This function checks if all the required modules are here for
    sending reports. It returns true and loads them if they are, or returns
    false otherwise.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="@list_=_$cb"><a class="permalink" href="#@list_=_$cb">@list =
  $cb-&gt;_query_report( module =&gt; $modobj, [all_versions =&gt; BOOL, verbose
  =&gt; BOOL] )</a></h2>
<p class="Pp">This function queries the CPAN testers database at
    <i>http://testers.cpan.org/</i> for test results of specified module
    objects, module names or distributions.</p>
<p class="Pp">The optional argument
    <span class="Li">&quot;all_versions&quot;</span> controls whether all
    versions of a given distribution should be grabbed. It defaults to false
    (fetching only reports for the current version).</p>
<p class="Pp">Returns the a list with the following data structures (for
    CPANPLUS version 0.042) on success, or false on failure. The contents of the
    data structure depends on what <i>http://testers.cpan.org</i> returns, but
    generally looks like this:</p>
<p class="Pp"></p>
<pre>
          {
            'grade' =&gt; 'PASS',
            'dist' =&gt; 'CPANPLUS-0.042',
            'platform' =&gt; 'i686-pld-linux-thread-multi'
            'details' =&gt; 'http://nntp.x.perl.org/group/perl.cpan.testers/98316'
            ...
          },
          {
            'grade' =&gt; 'PASS',
            'dist' =&gt; 'CPANPLUS-0.042',
            'platform' =&gt; 'i686-linux-thread-multi'
            'details' =&gt; 'http://nntp.x.perl.org/group/perl.cpan.testers/99416'
            ...
          },
          {
            'grade' =&gt; 'FAIL',
            'dist' =&gt; 'CPANPLUS-0.042',
            'platform' =&gt; 'cygwin-multi-64int',
            'details' =&gt; 'http://nntp.x.perl.org/group/perl.cpan.testers/99371'
            ...
          },
          {
            'grade' =&gt; 'FAIL',
            'dist' =&gt; 'CPANPLUS-0.042',
            'platform' =&gt; 'i586-linux',
            'details' =&gt; 'http://nntp.x.perl.org/group/perl.cpan.testers/99396'
            ...
          },
</pre>
<p class="Pp">The status of the test can be one of the following: UNKNOWN, PASS,
    FAIL or NA (not applicable).</p>
</section>
<section class="Ss">
<h2 class="Ss">$bool = $cb-&gt;_send_report( module =&gt; $modobj, buffer =&gt;
  $make_output, failed =&gt; BOOL, [save =&gt; BOOL, address =&gt; $email_to,
  verbose =&gt; BOOL, force =&gt; BOOL]);</h2>
<p class="Pp">This function sends a testers report to
    <span class="Li">&quot;cpan-testers@perl.org&quot;</span> for a particular
    distribution. It returns true on success, and false on failure.</p>
<p class="Pp">It takes the following options:</p>
<dl class="Bl-tag">
  <dt id="module"><a class="permalink" href="#module">module</a></dt>
  <dd>The module object of this particular distribution</dd>
  <dt id="buffer"><a class="permalink" href="#buffer">buffer</a></dt>
  <dd>The output buffer from the 'make/make test' process</dd>
  <dt id="failed"><a class="permalink" href="#failed">failed</a></dt>
  <dd>Boolean indicating if the 'make/make test' went wrong</dd>
  <dt id="save"><a class="permalink" href="#save">save</a></dt>
  <dd>Boolean indicating if the report should be saved locally instead of mailed
      out. If provided, this function will return the location the report was
      saved to, rather than a simple boolean 'TRUE'.
    <p class="Pp">Defaults to false.</p>
  </dd>
  <dt id="address"><a class="permalink" href="#address">address</a></dt>
  <dd>The email address to mail the report for. You should never need to
      override this, but it might be useful for debugging purposes.
    <p class="Pp">Defaults to
        <span class="Li">&quot;cpan-testers@perl.org&quot;</span>.</p>
  </dd>
  <dt id="verbose"><a class="permalink" href="#verbose">verbose</a></dt>
  <dd>Boolean indicating on whether or not to be verbose.
    <p class="Pp">Defaults to your configuration settings</p>
  </dd>
  <dt id="force"><a class="permalink" href="#force">force</a></dt>
  <dd>Boolean indicating whether to force the sending, even if the max amount of
      reports for fails have already been reached, or if you may already have
      sent it before.
    <p class="Pp">Defaults to your configuration settings</p>
  </dd>
</dl>
</section>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-09-30</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
