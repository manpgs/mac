<!DOCTYPE html>
<html lang="en">
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Net::Server::Daemonize(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Net::Server::Daemonize(3)</td>
    <td class="head-vol"><a href=".">User Contributed Perl Documentation</a></td>
    <td class="head-rtitle">Net::Server::Daemonize(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Net::Server::Daemonize - Safe fork and daemonization utilities</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>    use Net::Server::Daemonize qw(daemonize);
    daemonize(
      'nobody',                 # User
      'nobody',                 # Group
      '/var/state/mydaemon.pid' # Path to PID file - optional
    );
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This module is intended to let you simply and safely daemonize
    your server on systems supporting the POSIX module. This means that your
    Perl script runs in the background, and it's process ID is stored in a file
    so you can easily stop it later.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXPORTED_FUNCTIONS"><a class="permalink" href="#EXPORTED_FUNCTIONS">EXPORTED
  FUNCTIONS</a></h1>
<dl class="Bl-tag">
  <dt id="daemonize"><a class="permalink" href="#daemonize">daemonize</a></dt>
  <dd>Main routine. Arguments are user (or userid), group (or group id or space
      delimited list of groups), and pid_file (path to file). This routine will
      check on the pid file, safely fork, create the pid file (storing the pid
      in the file), become another user and group, close STDIN, STDOUT and
      STDERR, separate from the process group (become session leader), and
      install <span class="Li">$SIG</span>{INT} to remove the pid file. In
      otherwords - daemonize. All errors result in a die. As of version 0.89 the
      pid_file is optional.</dd>
  <dt id="safe_fork"><a class="permalink" href="#safe_fork">safe_fork</a></dt>
  <dd>Block SIGINT during fork. No arguments. Returns pid of forked child. All
      errors result in a die.</dd>
  <dt id="set_user"><a class="permalink" href="#set_user">set_user</a></dt>
  <dd>Become another user and group. Arguments are user (or userid) and group
      (or group id or space delimited list of groups).</dd>
  <dt id="set_uid"><a class="permalink" href="#set_uid">set_uid</a></dt>
  <dd>Become another user. Argument is user (or userid). All errors die.</dd>
  <dt id="set_gid"><a class="permalink" href="#set_gid">set_gid</a></dt>
  <dd>Become another group. Arguments are groups (or group ids or space
      delimited list of groups or group ids). All errors die.</dd>
  <dt id="get_uid"><a class="permalink" href="#get_uid">get_uid</a></dt>
  <dd>Find the uid. Argument is user (userid returns userid). Returns userid.
      All errors die.</dd>
  <dt id="get_gid"><a class="permalink" href="#get_gid">get_gid</a></dt>
  <dd>Find the gids. Arguments are groups or space delimited list of groups. All
      errors die.</dd>
  <dt id="is_root_user"><a class="permalink" href="#is_root_user">is_root_user</a></dt>
  <dd>Determine if the process is running as root. Returns 1 or undef.</dd>
  <dt id="check_pid_file"><a class="permalink" href="#check_pid_file">check_pid_file</a></dt>
  <dd>Arguments are pid_file (full path to pid_file). Checks for existance of
      pid_file. If file exists, open it and determine if the process that
      created it is still running. This is done first by checking for a /proc
      file system and second using a &quot;ps&quot; command (BSD syntax). (If
      neither of these options exist it assumed that the process has ended) If
      the process is still running, it aborts. Otherwise, returns true. All
      errors die.</dd>
  <dt id="create_pid_file."><a class="permalink" href="#create_pid_file.">create_pid_file.</a></dt>
  <dd>Arguments are pid_file (full path to pid_file). Calls check_pid_file. If
      it is successful (no pid_file exists), creates a pid file and stores $$ in
      the file.</dd>
  <dt id="unlink_pid_file"><a class="permalink" href="#unlink_pid_file">unlink_pid_file</a></dt>
  <dd>Does just that.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">Net::Server. Net::Daemon, The Perl Cookbook Recipe 17.15.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<p class="Pp">Jeremy Howard &lt;j+daemonize@howard.fm&gt;</p>
<p class="Pp">Program flow, concepts and initial work.</p>
<p class="Pp">Paul Seamons &lt;paul@seamons.com&gt;</p>
<p class="Pp">Code rework and componentization. Ongoing maintainer.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="LICENSE"><a class="permalink" href="#LICENSE">LICENSE</a></h1>
<pre>  This package may be distributed under the terms of either the
  GNU General Public License
    or the
  Perl Artistic License
  All rights reserved.
</pre>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2017-08-10</td>
    <td class="foot-os"><a href="..">perl v5.34.0</a></td>
  </tr>
</table>
</body>
</html>
