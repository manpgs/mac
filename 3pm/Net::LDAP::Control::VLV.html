<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Net::LDAP::Control::VLV(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Net::LDAP::Control::VLV(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Net::LDAP::Control::VLV(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Net::LDAP::Control::VLV - LDAPv3 Virtual List View control
  object</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
 use Net::LDAP;
 use Net::LDAP::Control::VLV;
 use Net::LDAP::Constant qw( LDAP_CONTROL_VLVRESPONSE );

 $ldap = Net::LDAP-&gt;new( &quot;ldap.mydomain.eg&quot; );

 # Get the first 20 entries
 $vlv  = Net::LDAP::Control::VLV-&gt;new(
           before  =&gt; 0,        # No entries from before target entry
           after   =&gt; 19,       # 19 entries after target entry
           content =&gt; 0,        # List size unknown
           offset  =&gt; 1,        # Target entry is the first
         );
 $sort = Net::LDAP::Control::Sort-&gt;new( order =&gt; 'cn' );

 @args = ( base     =&gt; &quot;o=Ace Industry, c=us&quot;,
           scope    =&gt; &quot;subtree&quot;,
           filter   =&gt; &quot;(objectClass=inetOrgPerson)&quot;,
           callback =&gt; \&amp;process_entry, # Call this sub for each entry
           control  =&gt; [ $vlv, $sort ],
 );

 $mesg = $ldap-&gt;search( @args );

 # Get VLV response control
 ($resp)  = $mesg-&gt;control( LDAP_CONTROL_VLVRESPONSE )  or die;
 $vlv-&gt;response( $resp );

 # Set the control to get the last 20 entries
 $vlv-&gt;end;

 $mesg = $ldap-&gt;search( @args );

 # Get VLV response control
 ($resp)  = $mesg-&gt;control( LDAP_CONTROL_VLVRESPONSE )  or die;
 $vlv-&gt;response( $resp );

 # Now get the previous page
 $vlv-&gt;scroll_page( -1 );

 $mesg = $ldap-&gt;search( @args );

 # Get VLV response control
 ($resp)  = $mesg-&gt;control( LDAP_CONTROL_VLVRESPONSE )  or die;
 $vlv-&gt;response( $resp );

 # Now page with first entry starting with &quot;B&quot; in the middle
 $vlv-&gt;before(9);       # Change page to show 9 before
 $vlv-&gt;after(10);       # Change page to show 10 after
 $vlv-&gt;assert(&quot;B&quot;);     # assert &quot;B&quot;

 $mesg = $ldap-&gt;search( @args );
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><span class="Li">&quot;Net::LDAP::Control::VLV&quot;</span>
    provides an interface for the creation and manipulation of objects that
    represent the Virtual List View as described by
    draft-ietf-ldapext-ldapv3-vlv-09.txt.</p>
<p class="Pp">When using a Virtual List View control in a search, it must be
    accompanied by a sort control. See Net::LDAP::Control::Sort</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CONSTRUCTOR_ARGUMENTS"><a class="permalink" href="#CONSTRUCTOR_ARGUMENTS">CONSTRUCTOR
  ARGUMENTS</a></h1>
<p class="Pp">In addition to the constructor arguments described in
    Net::LDAP::Control the following are provided.</p>
<dl class="Bl-tag">
  <dt id="after"><a class="permalink" href="#after">after</a></dt>
  <dd>Set the number of entries the server should return from the list after the
      target entry.</dd>
  <dt id="assert"><a class="permalink" href="#assert">assert</a></dt>
  <dd>Set the assertion value user to locate the target entry. This value should
      be a legal value to compare with the first attribute in the sort control
      that is passed with the VLV control. The target entry is the first entry
      in the list which is greater than or equal the assert value.</dd>
  <dt id="before"><a class="permalink" href="#before">before</a></dt>
  <dd>Set the number of entries the server should return from the list before
      the target entry.</dd>
  <dt id="content"><a class="permalink" href="#content">content</a></dt>
  <dd>Set the number of entries in the list. On the first search this value
      should be set to zero. On subsequent searches it should be set to the
      length of the list, as returned by the server in the VLVResponse
    control.</dd>
  <dt id="context"><a class="permalink" href="#context">context</a></dt>
  <dd>Set the context identifier. On the first search this value should be set
      to zero. On subsequent searches it should be set to the context value
      returned by the server in the VLVResponse control.</dd>
  <dt id="offset"><a class="permalink" href="#offset">offset</a></dt>
  <dd>Set the offset of the target entry.</dd>
</dl>
<section class="Ss">
<h2 class="Ss">METHODS</h2>
<p class="Pp">As with Net::LDAP::Control each constructor argument described
    above is also available as a method on the object which will return the
    current value for the attribute if called without an argument, and set a new
    value for the attribute if called with an argument.</p>
<p class="Pp">The <span class="Li">&quot;offset&quot;</span> and
    <span class="Li">&quot;assert&quot;</span> attributes are mutually
    exclusive. Setting one or the other will cause previous values set by the
    other to be forgotten. The <span class="Li">&quot;content&quot;</span>
    attribute is also associated with the
    <span class="Li">&quot;offset&quot;</span> attribute, so setting
    <span class="Li">&quot;assert&quot;</span> will cause any
    <span class="Li">&quot;content&quot;</span> value to be forgotten.</p>
<dl class="Bl-tag">
  <dt id="end"><a class="permalink" href="#end">end</a></dt>
  <dd>Set the target entry to the end of the list. This method will change the
      <span class="Li">&quot;before&quot;</span> and
      <span class="Li">&quot;after&quot;</span> attributes so that the target
      entry is the last in the page.</dd>
  <dt id="response"><a class="permalink" href="#response">response
    VLV_RESPONSE</a></dt>
  <dd>Set the attributes in the control as per VLV_RESPONSE. VLV_RESPONSE should
      be a control of type Net::LDAP::Control::VLVResponse returned from the
      server. <span class="Li">&quot;response&quot;</span> will populate the
      <span class="Li">&quot;context&quot;</span>,
      <span class="Li">&quot;offset&quot;</span> and
      <span class="Li">&quot;content&quot;</span> attributes of the control with
      the values from VLV_RESPONSE. Because this sets the
      <span class="Li">&quot;offset&quot;</span> attribute, any previous setting
      of the <span class="Li">&quot;assert&quot;</span> attribute will be
      forgotten.</dd>
  <dt id="scroll"><a class="permalink" href="#scroll">scroll NUM</a></dt>
  <dd>Move the target entry by NUM entries. A positive NUM will move the target
      entry towards the end of the list and a negative NUM will move the target
      entry towards the start of the list. Returns the index of the new target
      entry, or <span class="Li">&quot;undef&quot;</span> if the current target
      is identified by an assertion.
    <p class="Pp"><span class="Li">&quot;scroll&quot;</span> may change the
        <span class="Li">&quot;before&quot;</span> and
        <span class="Li">&quot;after&quot;</span> attributes if the scroll value
        would cause the page to go off either end of the list. But the page size
        will be maintained.</p>
  </dd>
  <dt id="scroll_page"><a class="permalink" href="#scroll_page">scroll_page
    NUM</a></dt>
  <dd>Scroll by NUM pages. This method simple calculates the current page size
      and calls <span class="Li">&quot;scroll&quot;</span> with
      <span class="Li">&quot;NUM * $page_size&quot;</span></dd>
  <dt id="start"><a class="permalink" href="#start">start</a></dt>
  <dd>Set the target entry to the start of the list. This method will change the
      <span class="Li">&quot;before&quot;</span> and
      <span class="Li">&quot;after&quot;</span> attributes to the target entry
      is the first entry in the page.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">Net::LDAP, Net::LDAP::Control, Net::LDAP::Control::Sort,
    Net::LDAP::Control::VLVResponse</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Graham Barr &lt;gbarr@pobox.com&gt;</p>
<p class="Pp">Please report any bugs, or post any suggestions, to the perl-ldap
    mailing list &lt;perl-ldap@perl.org&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">Copyright (c) 2000-2004 Graham Barr. All rights reserved. This
    program is free software; you can redistribute it and/or modify it under the
    same terms as Perl itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-04-16</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
