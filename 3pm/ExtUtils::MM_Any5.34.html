<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>ExtUtils::MM_Any(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ExtUtils::MM_Any(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">ExtUtils::MM_Any(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">ExtUtils::MM_Any - Platform-agnostic MM methods</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>  FOR INTERNAL USE ONLY!
  package ExtUtils::MM_SomeOS;
  # Temporarily, you have to subclass both.  Put MM_Any first.
  require ExtUtils::MM_Any;
  require ExtUtils::MM_Unix;
  @ISA = qw(ExtUtils::MM_Any ExtUtils::Unix);
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><b>FOR INTERNAL USE ONLY!</b></p>
<p class="Pp">ExtUtils::MM_Any is a superclass for the ExtUtils::MM_* set of
    modules. It contains methods which are either inherently cross-platform or
    are written in a cross-platform manner.</p>
<p class="Pp">Subclass off of ExtUtils::MM_Any <i>and</i> ExtUtils::MM_Unix.
    This is a temporary solution.</p>
<p class="Pp"><b>THIS MAY BE TEMPORARY!</b></p>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<p class="Pp">Any methods marked <i>Abstract</i> must be implemented by
    subclasses.</p>
<section class="Ss">
<h2 class="Ss" id="Cross-platform_helper_methods"><a class="permalink" href="#Cross-platform_helper_methods">Cross-platform
  helper methods</a></h2>
<p class="Pp">These are methods which help writing cross-platform code.</p>
<p class="Pp"><i>os_flavor </i><i>Abstract</i><i></i></p>
<p class="Pp"></p>
<pre>    my @os_flavor = $mm-&gt;os_flavor;
</pre>
<p class="Pp"><span class="Li">@os_flavor</span> is the style of operating
    system this is, usually corresponding to the MM_*.pm file we're using.</p>
<p class="Pp">The first element of <span class="Li">@os_flavor</span> is the
    major family (ie. Unix, Windows, VMS, OS/2, etc...) and the rest are sub
    families.</p>
<p class="Pp">Some examples:</p>
<p class="Pp"></p>
<pre>    Cygwin98       ('Unix',  'Cygwin', 'Cygwin9x')
    Windows        ('Win32')
    Win98          ('Win32', 'Win9x')
    Linux          ('Unix',  'Linux')
    MacOS X        ('Unix',  'Darwin', 'MacOS', 'MacOS X')
    OS/2           ('OS/2')
</pre>
<p class="Pp">This is used to write code for styles of operating system. See
    <b>os_flavor_is()</b> for use.</p>
<p class="Pp"><i>os_flavor_is</i></p>
<p class="Pp"></p>
<pre>    my $is_this_flavor = $mm-&gt;os_flavor_is($this_flavor);
    my $is_this_flavor = $mm-&gt;os_flavor_is(@one_of_these_flavors);
</pre>
<p class="Pp">Checks to see if the current operating system is one of the given
    flavors.</p>
<p class="Pp">This is useful for code like:</p>
<p class="Pp"></p>
<pre>    if( $mm-&gt;os_flavor_is('Unix') ) {
        $out = `foo 2&gt;&amp;1`;
    }
    else {
        $out = `foo`;
    }
</pre>
<p class="Pp"><i>can_load_xs</i></p>
<p class="Pp"></p>
<pre>    my $can_load_xs = $self-&gt;can_load_xs;
</pre>
<p class="Pp">Returns true if we have the ability to load XS.</p>
<p class="Pp">This is important because miniperl, used to build XS modules in
    the core, can not load XS.</p>
<p class="Pp"><i>can_run</i></p>
<p class="Pp"></p>
<pre>  use ExtUtils::MM;
  my $runnable = MM-&gt;can_run($Config{make});
</pre>
<p class="Pp">If called in a scalar context it will return the full path to the
    binary you asked for if it was found, or
    <span class="Li">&quot;undef&quot;</span> if it was not.</p>
<p class="Pp">If called in a list context, it will return a list of the full
    paths to instances of the binary where found in
    <span class="Li">&quot;PATH&quot;</span>, or an empty list if it was not
    found.</p>
<p class="Pp">Copied from IPC::Cmd, but modified into a method (and removed
    <span class="Li">$INSTANCES</span> capability).</p>
<p class="Pp"><i>can_redirect_error</i></p>
<p class="Pp"></p>
<pre>  $useredirect = MM-&gt;can_redirect_error;
</pre>
<p class="Pp">True if on an OS where qx operator (or backticks) can redirect
    <span class="Li">&quot;STDERR&quot;</span> onto
    <span class="Li">&quot;STDOUT&quot;</span>.</p>
<p class="Pp"><i>is_make_type</i></p>
<p class="Pp"></p>
<pre>    my $is_dmake = $self-&gt;is_make_type('dmake');
</pre>
<p class="Pp">Returns true if <span class="Li">&quot;$self-&gt;make&quot;</span>
    is the given type; possibilities are:</p>
<p class="Pp"></p>
<pre>  gmake    GNU make
  dmake
  nmake
  bsdmake  BSD pmake-derived
</pre>
<p class="Pp"><i>can_dep_space</i></p>
<p class="Pp"></p>
<pre>    my $can_dep_space = $self-&gt;can_dep_space;
</pre>
<p class="Pp">Returns true if <span class="Li">&quot;make&quot;</span> can
    handle (probably by quoting) dependencies that contain a space. Currently
    known true for GNU make, false for BSD pmake derivative.</p>
<p class="Pp"><i>quote_dep</i></p>
<p class="Pp"></p>
<pre>  $text = $mm-&gt;quote_dep($text);
</pre>
<p class="Pp">Method that protects Makefile single-value constants (mainly
    filenames), so that make will still treat them as single values even if they
    inconveniently have spaces in. If the make program being used cannot achieve
    such protection and the given text would need it, throws an exception.</p>
<p class="Pp"><i>split_command</i></p>
<p class="Pp"></p>
<pre>    my @cmds = $MM-&gt;split_command($cmd, @args);
</pre>
<p class="Pp">Most OS have a maximum command length they can execute at once.
    Large modules can easily generate commands well past that limit. Its
    necessary to split long commands up into a series of shorter commands.</p>
<p class="Pp"><span class="Li">&quot;split_command&quot;</span> will return a
    series of <span class="Li">@cmds</span> each processing part of the args.
    Collectively they will process all the arguments. Each individual line in
    <span class="Li">@cmds</span> will not be longer than the
    <span class="Li">$self</span>-&gt;max_exec_len being careful to take into
    account macro expansion.</p>
<p class="Pp"><span class="Li">$cmd</span> should include any switches and
    repeated initial arguments.</p>
<p class="Pp">If no <span class="Li">@args</span> are given, no
    <span class="Li">@cmds</span> will be returned.</p>
<p class="Pp">Pairs of arguments will always be preserved in a single command,
    this is a heuristic for things like pm_to_blib and pod2man which work on
    pairs of arguments. This makes things like this safe:</p>
<p class="Pp"></p>
<pre>    $self-&gt;split_command($cmd, %pod2man);
</pre>
<p class="Pp"><i>make_type</i></p>
<p class="Pp">Returns a suitable string describing the type of makefile being
    written.</p>
<p class="Pp"><i>stashmeta</i></p>
<p class="Pp"></p>
<pre>    my @recipelines = $MM-&gt;stashmeta($text, $file);
</pre>
<p class="Pp">Generates a set of <span class="Li">@recipelines</span> which will
    result in the literal <span class="Li">$text</span> ending up in literal
    <span class="Li">$file</span> when the recipe is executed. Call it once,
    with all the text you want in <span class="Li">$file</span>. Make macros
    will not be expanded, so the locations will be fixed at configure-time, not
    at build-time.</p>
<p class="Pp"><i>echo</i></p>
<p class="Pp"></p>
<pre>    my @commands = $MM-&gt;echo($text);
    my @commands = $MM-&gt;echo($text, $file);
    my @commands = $MM-&gt;echo($text, $file, \%opts);
</pre>
<p class="Pp">Generates a set of <span class="Li">@commands</span> which print
    the <span class="Li">$text</span> to a <span class="Li">$file</span>.</p>
<p class="Pp">If <span class="Li">$file</span> is not given, output goes to
    STDOUT.</p>
<p class="Pp">If <span class="Li">$opts</span>{append} is true the
    <span class="Li">$file</span> will be appended to rather than overwritten.
    Default is to overwrite.</p>
<p class="Pp">If <span class="Li">$opts</span>{allow_variables} is true, make
    variables of the form <span class="Li">&quot;$(...)&quot;</span> will not be
    escaped. Other <span class="Li">&quot;$&quot;</span> will. Default is to
    escape all <span class="Li">&quot;$&quot;</span>.</p>
<p class="Pp">Example of use:</p>
<p class="Pp"></p>
<pre>    my $make = join '', map &quot;\t$_\n&quot;, $MM-&gt;echo($text, $file);
</pre>
<p class="Pp"><i>wraplist</i></p>
<p class="Pp"></p>
<pre>  my $args = $mm-&gt;wraplist(@list);
</pre>
<p class="Pp">Takes an array of items and turns them into a well-formatted list
    of arguments. In most cases this is simply something like:</p>
<p class="Pp"></p>
<pre>    FOO \
    BAR \
    BAZ
</pre>
<p class="Pp"><i>maketext_filter</i></p>
<p class="Pp"></p>
<pre>    my $filter_make_text = $mm-&gt;maketext_filter($make_text);
</pre>
<p class="Pp">The text of the Makefile is run through this method before writing
    to disk. It allows systems a chance to make portability fixes to the
    Makefile.</p>
<p class="Pp">By default it does nothing.</p>
<p class="Pp">This method is protected and not intended to be called outside of
    MakeMaker.</p>
<p class="Pp"><i>cd </i><i>Abstract</i><i></i></p>
<p class="Pp"></p>
<pre>  my $subdir_cmd = $MM-&gt;cd($subdir, @cmds);
</pre>
<p class="Pp">This will generate a make fragment which runs the
    <span class="Li">@cmds</span> in the given <span class="Li">$dir</span>. The
    rough equivalent to this, except cross platform.</p>
<p class="Pp"></p>
<pre>  cd $subdir &amp;&amp; $cmd
</pre>
<p class="Pp">Currently <span class="Li">$dir</span> can only go down one level.
    &quot;foo&quot; is fine. &quot;foo/bar&quot; is not. &quot;../foo&quot; is
    right out.</p>
<p class="Pp">The resulting <span class="Li">$subdir_cmd</span> has no leading
    tab nor trailing newline. This makes it easier to embed in a make string.
    For example.</p>
<p class="Pp"></p>
<pre>      my $make = sprintf &lt;&lt;'CODE', $subdir_cmd;
  foo :
      $(ECHO) what
      %s
      $(ECHO) mouche
  CODE
</pre>
<p class="Pp"><i>oneliner </i><i>Abstract</i><i></i></p>
<p class="Pp"></p>
<pre>  my $oneliner = $MM-&gt;oneliner($perl_code);
  my $oneliner = $MM-&gt;oneliner($perl_code, \@switches);
</pre>
<p class="Pp">This will generate a perl one-liner safe for the particular
    platform you're on based on the given <span class="Li">$perl_code</span> and
    <span class="Li">@switches</span> (a -e is assumed) suitable for using in a
    make target. It will use the proper shell quoting and escapes.</p>
<p class="Pp">$(PERLRUN) will be used as perl.</p>
<p class="Pp">Any newlines in <span class="Li">$perl_code</span> will be
    escaped. Leading and trailing newlines will be stripped. Makes this idiom
    much easier:</p>
<p class="Pp"></p>
<pre>    my $code = $MM-&gt;oneliner(&lt;&lt;'CODE', [...switches...]);
some code here
another line here
CODE
</pre>
<p class="Pp">Usage might be something like:</p>
<p class="Pp"></p>
<pre>    # an echo emulation
    $oneliner = $MM-&gt;oneliner('print &quot;Foo\n&quot;');
    $make = '$oneliner &gt; somefile';
</pre>
<p class="Pp">Dollar signs in the <span class="Li">$perl_code</span> will be
    protected from make using the
    <span class="Li">&quot;quote_literal&quot;</span> method, unless they are
    recognised as being a make variable,
    <span class="Li">&quot;$(varname)&quot;</span>, in which case they will be
    left for make to expand. Remember to quote make macros else it might be used
    as a bareword. For example:</p>
<p class="Pp"></p>
<pre>    # Assign the value of the $(VERSION_FROM) make macro to $vf.
    $oneliner = $MM-&gt;oneliner('$vf = &quot;$(VERSION_FROM)&quot;');
</pre>
<p class="Pp">Its currently very simple and may be expanded sometime in the
    figure to include more flexible code and switches.</p>
<p class="Pp"><i>quote_literal </i><i>Abstract</i><i></i></p>
<p class="Pp"></p>
<pre>    my $safe_text = $MM-&gt;quote_literal($text);
    my $safe_text = $MM-&gt;quote_literal($text, \%options);
</pre>
<p class="Pp">This will quote <span class="Li">$text</span> so it is interpreted
    literally in the shell.</p>
<p class="Pp">For example, on Unix this would escape any single-quotes in
    <span class="Li">$text</span> and put single-quotes around the whole
  thing.</p>
<p class="Pp">If <span class="Li">$options</span>{allow_variables} is true it
    will leave <span class="Li">'$(FOO)'</span> make variables untouched. If
    false they will be escaped like any other
    <span class="Li">&quot;$&quot;</span>. Defaults to true.</p>
<p class="Pp"><i>escape_dollarsigns</i></p>
<p class="Pp"></p>
<pre>    my $escaped_text = $MM-&gt;escape_dollarsigns($text);
</pre>
<p class="Pp">Escapes stray <span class="Li">&quot;$&quot;</span> so they are
    not interpreted as make variables.</p>
<p class="Pp">It lets by <span class="Li">&quot;$(...)&quot;</span>.</p>
<p class="Pp"><i>escape_all_dollarsigns</i></p>
<p class="Pp"></p>
<pre>    my $escaped_text = $MM-&gt;escape_all_dollarsigns($text);
</pre>
<p class="Pp">Escapes all <span class="Li">&quot;$&quot;</span> so they are not
    interpreted as make variables.</p>
<p class="Pp"><i>escape_newlines </i><i>Abstract</i><i></i></p>
<p class="Pp"></p>
<pre>    my $escaped_text = $MM-&gt;escape_newlines($text);
</pre>
<p class="Pp">Shell escapes newlines in <span class="Li">$text</span>.</p>
<p class="Pp"><i>max_exec_len </i><i>Abstract</i><i></i></p>
<p class="Pp"></p>
<pre>    my $max_exec_len = $MM-&gt;max_exec_len;
</pre>
<p class="Pp">Calculates the maximum command size the OS can exec. Effectively,
    this is the max size of a shell command line.</p>
<p class="Pp"><i>make</i></p>
<p class="Pp"></p>
<pre>    my $make = $MM-&gt;make;
</pre>
<p class="Pp">Returns the make variant we're generating the Makefile for. This
    attempts to do some normalization on the information from
    <span class="Li">%Config</span> or the user.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Targets"><a class="permalink" href="#Targets">Targets</a></h2>
<p class="Pp">These are methods which produce make targets.</p>
<p class="Pp"><i>all_target</i></p>
<p class="Pp">Generate the default target 'all'.</p>
<p class="Pp"><i>blibdirs_target</i></p>
<p class="Pp"></p>
<pre>    my $make_frag = $mm-&gt;blibdirs_target;
</pre>
<p class="Pp">Creates the blibdirs target which creates all the directories we
    use in blib/.</p>
<p class="Pp">The blibdirs.ts target is deprecated. Depend on blibdirs
  instead.</p>
<p class="Pp"><i>clean (o)</i></p>
<p class="Pp">Defines the clean target.</p>
<p class="Pp"><i>clean_subdirs_target</i></p>
<p class="Pp"></p>
<pre>  my $make_frag = $MM-&gt;clean_subdirs_target;
</pre>
<p class="Pp">Returns the clean_subdirs target. This is used by the clean target
    to call clean on any subdirectories which contain Makefiles.</p>
<p class="Pp"><i>dir_target</i></p>
<p class="Pp"></p>
<pre>    my $make_frag = $mm-&gt;dir_target(@directories);
</pre>
<p class="Pp">Generates targets to create the specified directories and set its
    permission to PERM_DIR.</p>
<p class="Pp">Because depending on a directory to just ensure it exists doesn't
    work too well (the modified time changes too often) <b>dir_target()</b>
    creates a .exists file in the created directory. It is this you should
    depend on. For portability purposes you should use the $(DIRFILESEP) macro
    rather than a '/' to separate the directory from the file.</p>
<p class="Pp"></p>
<pre>    yourdirectory$(DIRFILESEP).exists
</pre>
<p class="Pp"><i>distdir</i></p>
<p class="Pp">Defines the scratch directory target that will hold the
    distribution before tar-ing (or shar-ing).</p>
<p class="Pp"><i>dist_test</i></p>
<p class="Pp">Defines a target that produces the distribution in the scratch
    directory, and runs 'perl Makefile.PL; make ;make test' in that
    subdirectory.</p>
<p class="Pp"><i>xs_dlsyms_arg</i></p>
<p class="Pp">Returns command-line arg(s) to linker for file listing dlsyms to
    export. Defaults to returning empty string, can be overridden by e.g.
  AIX.</p>
<p class="Pp"><i>xs_dlsyms_ext</i></p>
<p class="Pp">Returns file-extension for
    <span class="Li">&quot;xs_make_dlsyms&quot;</span> method's output file,
    including any &quot;.&quot; character.</p>
<p class="Pp"><i>xs_dlsyms_extra</i></p>
<p class="Pp">Returns any extra text to be prepended to the
    <span class="Li">$extra</span> argument of
    <span class="Li">&quot;xs_make_dlsyms&quot;</span>.</p>
<p class="Pp"><i>xs_dlsyms_iterator</i></p>
<p class="Pp">Iterates over necessary shared objects, calling
    <span class="Li">&quot;xs_make_dlsyms&quot;</span> method for each with
    appropriate arguments.</p>
<p class="Pp"><i>xs_make_dlsyms</i></p>
<p class="Pp"></p>
<pre>    $self-&gt;xs_make_dlsyms(
        \%attribs, # hashref from %attribs in caller
        &quot;$self-&gt;{BASEEXT}.def&quot;, # output file for Makefile target
        'Makefile.PL', # dependency
        $self-&gt;{NAME}, # shared object's &quot;name&quot;
        $self-&gt;{DLBASE}, # last ::-separated part of name
        $attribs{DL_FUNCS} || $self-&gt;{DL_FUNCS} || {}, # various params
        $attribs{FUNCLIST} || $self-&gt;{FUNCLIST} || [],
        $attribs{IMPORTS} || $self-&gt;{IMPORTS} || {},
        $attribs{DL_VARS} || $self-&gt;{DL_VARS} || [],
        # optional extra param that will be added as param to Mksymlists
    );
</pre>
<p class="Pp">Utility method that returns Makefile snippet to call
    <span class="Li">&quot;Mksymlists&quot;</span>.</p>
<p class="Pp"><i>dynamic (o)</i></p>
<p class="Pp">Defines the dynamic target.</p>
<p class="Pp"><i>makemakerdflt_target</i></p>
<p class="Pp"></p>
<pre>  my $make_frag = $mm-&gt;makemakerdflt_target
</pre>
<p class="Pp">Returns a make fragment with the makemakerdeflt_target specified.
    This target is the first target in the Makefile, is the default target and
    simply points off to 'all' just in case any make variant gets confused or
    something gets snuck in before the real 'all' target.</p>
<p class="Pp"><i>manifypods_target</i></p>
<p class="Pp"></p>
<pre>  my $manifypods_target = $self-&gt;manifypods_target;
</pre>
<p class="Pp">Generates the manifypods target. This target generates man pages
    from all POD files in MAN1PODS and MAN3PODS.</p>
<p class="Pp"><i>metafile_target</i></p>
<p class="Pp"></p>
<pre>    my $target = $mm-&gt;metafile_target;
</pre>
<p class="Pp">Generate the metafile target.</p>
<p class="Pp">Writes the file META.yml (YAML encoded meta-data) and META.json
    (JSON encoded meta-data) about the module in the distdir. The format follows
    Module::Build's as closely as possible.</p>
<p class="Pp"><i>metafile_data</i></p>
<p class="Pp"></p>
<pre>    my $metadata_hashref = $mm-&gt;metafile_data(\%meta_add, \%meta_merge);
</pre>
<p class="Pp">Returns the data which MakeMaker turns into the META.yml file and
    the META.json file. It is always in version 2.0 of the format.</p>
<p class="Pp">Values of <span class="Li">%meta_add</span> will overwrite any
    existing metadata in those keys. <span class="Li">%meta_merge</span> will be
    merged with them.</p>
<p class="Pp"><i>metafile_file</i></p>
<p class="Pp"></p>
<pre>    my $meta_yml = $mm-&gt;metafile_file(@metadata_pairs);
</pre>
<p class="Pp">Turns the <span class="Li">@metadata_pairs</span> into YAML.</p>
<p class="Pp">This method does not implement a complete YAML dumper, being
    limited to dump a hash with values which are strings, undef's or nested
    hashes and arrays of strings. No quoting/escaping is done.</p>
<p class="Pp"><i>distmeta_target</i></p>
<p class="Pp"></p>
<pre>    my $make_frag = $mm-&gt;distmeta_target;
</pre>
<p class="Pp">Generates the distmeta target to add META.yml and META.json to the
    MANIFEST in the distdir.</p>
<p class="Pp"><i>mymeta</i></p>
<p class="Pp"></p>
<pre>    my $mymeta = $mm-&gt;mymeta;
</pre>
<p class="Pp">Generate MYMETA information as a hash either from an existing CPAN
    Meta file (META.json or META.yml) or from internal data.</p>
<p class="Pp"><i>write_mymeta</i></p>
<p class="Pp"></p>
<pre>    $self-&gt;write_mymeta( $mymeta );
</pre>
<p class="Pp">Write MYMETA information to MYMETA.json and MYMETA.yml.</p>
<p class="Pp"><i>realclean (o)</i></p>
<p class="Pp">Defines the realclean target.</p>
<p class="Pp"><i>realclean_subdirs_target</i></p>
<p class="Pp"></p>
<pre>  my $make_frag = $MM-&gt;realclean_subdirs_target;
</pre>
<p class="Pp">Returns the realclean_subdirs target. This is used by the
    realclean target to call realclean on any subdirectories which contain
    Makefiles.</p>
<p class="Pp"><i>signature_target</i></p>
<p class="Pp"></p>
<pre>    my $target = $mm-&gt;signature_target;
</pre>
<p class="Pp">Generate the signature target.</p>
<p class="Pp">Writes the file SIGNATURE with &quot;cpansign -s&quot;.</p>
<p class="Pp"><i>distsignature_target</i></p>
<p class="Pp"></p>
<pre>    my $make_frag = $mm-&gt;distsignature_target;
</pre>
<p class="Pp">Generates the distsignature target to add SIGNATURE to the
    MANIFEST in the distdir.</p>
<p class="Pp"><i>special_targets</i></p>
<p class="Pp"></p>
<pre>  my $make_frag = $mm-&gt;special_targets
</pre>
<p class="Pp">Returns a make fragment containing any targets which have special
    meaning to make. For example, .SUFFIXES and .PHONY.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Init_methods"><a class="permalink" href="#Init_methods">Init
  methods</a></h2>
<p class="Pp">Methods which help initialize the MakeMaker object and macros.</p>
<p class="Pp"><i>init_ABSTRACT</i></p>
<p class="Pp"></p>
<pre>    $mm-&gt;init_ABSTRACT
</pre>
<p class="Pp"><i>init_INST</i></p>
<p class="Pp"></p>
<pre>    $mm-&gt;init_INST;
</pre>
<p class="Pp">Called by init_main. Sets up all INST_* variables except those
    related to XS code. Those are handled in init_xs.</p>
<p class="Pp"><i>init_INSTALL</i></p>
<p class="Pp"></p>
<pre>    $mm-&gt;init_INSTALL;
</pre>
<p class="Pp">Called by init_main. Sets up all INSTALL_* variables (except
    INSTALLDIRS) and *PREFIX.</p>
<p class="Pp"><i>init_INSTALL_from_PREFIX</i></p>
<p class="Pp"></p>
<pre>  $mm-&gt;init_INSTALL_from_PREFIX;
</pre>
<p class="Pp"><i>init_from_INSTALL_BASE</i></p>
<p class="Pp"></p>
<pre>    $mm-&gt;init_from_INSTALL_BASE
</pre>
<p class="Pp"><i>init_VERSION </i><i>Abstract</i><i></i></p>
<p class="Pp"></p>
<pre>    $mm-&gt;init_VERSION
</pre>
<p class="Pp">Initialize macros representing versions of MakeMaker and other
    tools</p>
<p class="Pp">MAKEMAKER: path to the MakeMaker module.</p>
<p class="Pp">MM_VERSION: ExtUtils::MakeMaker Version</p>
<p class="Pp">MM_REVISION: ExtUtils::MakeMaker version control revision (for
    backwards
  <br/>
   compat)</p>
<p class="Pp">VERSION: version of your module</p>
<p class="Pp">VERSION_MACRO: which macro represents the version (usually
    'VERSION')</p>
<p class="Pp">VERSION_SYM: like version but safe for use as an RCS revision
    number</p>
<p class="Pp">DEFINE_VERSION: -D line to set the module version when
  compiling</p>
<p class="Pp">XS_VERSION: version in your .xs file. Defaults to $(VERSION)</p>
<p class="Pp">XS_VERSION_MACRO: which macro represents the XS version.</p>
<p class="Pp">XS_DEFINE_VERSION: -D line to set the xs version when
  compiling.</p>
<p class="Pp">Called by init_main.</p>
<p class="Pp"><i>init_tools</i></p>
<p class="Pp"></p>
<pre>    $MM-&gt;init_tools();
</pre>
<p class="Pp">Initializes the simple macro definitions used by
    <b>tools_other()</b> and places them in the <span class="Li">$MM</span>
    object. These use conservative cross platform versions and should be
    overridden with platform specific versions for performance.</p>
<p class="Pp">Defines at least these macros.</p>
<p class="Pp"></p>
<pre>  Macro             Description
  NOOP              Do nothing
  NOECHO            Tell make not to display the command itself
  SHELL             Program used to run shell commands
  ECHO              Print text adding a newline on the end
  RM_F              Remove a file
  RM_RF             Remove a directory
  TOUCH             Update a file's timestamp
  TEST_F            Test for a file's existence
  TEST_S            Test the size of a file
  CP                Copy a file
  CP_NONEMPTY       Copy a file if it is not empty
  MV                Move a file
  CHMOD             Change permissions on a file
  FALSE             Exit with non-zero
  TRUE              Exit with zero
  UMASK_NULL        Nullify umask
  DEV_NULL          Suppress all command output
</pre>
<p class="Pp"><i>init_others</i></p>
<p class="Pp"></p>
<pre>    $MM-&gt;init_others();
</pre>
<p class="Pp">Initializes the macro definitions having to do with compiling and
    linking used by <b>tools_other()</b> and places them in the
    <span class="Li">$MM</span> object.</p>
<p class="Pp">If there is no description, its the same as the parameter to
    <b>WriteMakefile()</b> documented in ExtUtils::MakeMaker.</p>
<p class="Pp"><i>tools_other</i></p>
<p class="Pp"></p>
<pre>    my $make_frag = $MM-&gt;tools_other;
</pre>
<p class="Pp">Returns a make fragment containing definitions for the macros
    <b>init_others()</b> initializes.</p>
<p class="Pp"><i>init_DIRFILESEP </i><i>Abstract</i><i></i></p>
<p class="Pp"></p>
<pre>  $MM-&gt;init_DIRFILESEP;
  my $dirfilesep = $MM-&gt;{DIRFILESEP};
</pre>
<p class="Pp">Initializes the DIRFILESEP macro which is the separator between
    the directory and filename in a filepath. ie. / on Unix, \ on Win32 and
    nothing on VMS.</p>
<p class="Pp">For example:</p>
<p class="Pp"></p>
<pre>    # instead of $(INST_ARCHAUTODIR)/extralibs.ld
    $(INST_ARCHAUTODIR)$(DIRFILESEP)extralibs.ld
</pre>
<p class="Pp">Something of a hack but it prevents a lot of code duplication
    between MM_* variants.</p>
<p class="Pp">Do not use this as a separator between directories. Some operating
    systems use different separators between subdirectories as between
    directories and filenames (for example: VOLUME:[dir1.dir2]file on VMS).</p>
<p class="Pp"><i>init_linker </i><i>Abstract</i><i></i></p>
<p class="Pp"></p>
<pre>    $mm-&gt;init_linker;
</pre>
<p class="Pp">Initialize macros which have to do with linking.</p>
<p class="Pp">PERL_ARCHIVE: path to libperl.a equivalent to be linked to dynamic
    extensions.</p>
<p class="Pp">PERL_ARCHIVE_AFTER: path to a library which should be put on the
    linker command line <i>after</i> the external libraries to be linked to
    dynamic extensions. This may be needed if the linker is one-pass, and Perl
    includes some overrides for C RTL functions, such as <b>malloc()</b>.</p>
<p class="Pp">EXPORT_LIST: name of a file that is passed to linker to define
    symbols to be exported.</p>
<p class="Pp">Some OSes do not need these in which case leave it blank.</p>
<p class="Pp"><i>init_platform</i></p>
<p class="Pp"></p>
<pre>    $mm-&gt;init_platform
</pre>
<p class="Pp">Initialize any macros which are for platform specific use
  only.</p>
<p class="Pp">A typical one is the version number of your OS specific module.
    (ie. MM_Unix_VERSION or MM_VMS_VERSION).</p>
<p class="Pp"><i>init_MAKE</i></p>
<p class="Pp"></p>
<pre>    $mm-&gt;init_MAKE
</pre>
<p class="Pp">Initialize MAKE from either a MAKE environment variable or
    <span class="Li">$Config</span>{make}.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Tools"><a class="permalink" href="#Tools">Tools</a></h2>
<p class="Pp">A grab bag of methods to generate specific macros and
  commands.</p>
<p class="Pp"><i>manifypods</i></p>
<p class="Pp">Defines targets and routines to translate the pods into manpages
    and put them into the INST_* directories.</p>
<p class="Pp"><i>POD2MAN_macro</i></p>
<p class="Pp"></p>
<pre>  my $pod2man_macro = $self-&gt;POD2MAN_macro
</pre>
<p class="Pp">Returns a definition for the POD2MAN macro. This is a program
    which emulates the pod2man utility. You can add more switches to the command
    by simply appending them on the macro.</p>
<p class="Pp">Typical usage:</p>
<p class="Pp"></p>
<pre>    $(POD2MAN) --section=3 --perm_rw=$(PERM_RW) podfile1 man_page1 ...
</pre>
<p class="Pp"><i>test_via_harness</i></p>
<p class="Pp"></p>
<pre>  my $command = $mm-&gt;test_via_harness($perl, $tests);
</pre>
<p class="Pp">Returns a <span class="Li">$command</span> line which runs the
    given set of <span class="Li">$tests</span> with Test::Harness and the given
    <span class="Li">$perl</span>.</p>
<p class="Pp">Used on the t/*.t files.</p>
<p class="Pp"><i>test_via_script</i></p>
<p class="Pp"></p>
<pre>  my $command = $mm-&gt;test_via_script($perl, $script);
</pre>
<p class="Pp">Returns a <span class="Li">$command</span> line which just runs a
    single test without Test::Harness. No checks are done on the results,
    they're just printed.</p>
<p class="Pp">Used for test.pl, since they don't always follow Test::Harness
    formatting.</p>
<p class="Pp"><i>tool_autosplit</i></p>
<p class="Pp">Defines a simple perl call that runs autosplit. May be deprecated
    by pm_to_blib soon.</p>
<p class="Pp"><i>arch_check</i></p>
<p class="Pp"></p>
<pre>    my $arch_ok = $mm-&gt;arch_check(
        $INC{&quot;Config.pm&quot;},
        File::Spec-&gt;catfile($Config{archlibexp}, &quot;Config.pm&quot;)
    );
</pre>
<p class="Pp">A sanity check that what Perl thinks the architecture is and what
    Config thinks the architecture is are the same. If they're not it will
    return false and show a diagnostic message.</p>
<p class="Pp">When building Perl it will always return true, as nothing is
    installed yet.</p>
<p class="Pp">The interface is a bit odd because this is the result of a quick
    refactoring. Don't rely on it.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="File::Spec_wrappers"><a class="permalink" href="#File::Spec_wrappers">File::Spec
  wrappers</a></h2>
<p class="Pp">ExtUtils::MM_Any is a subclass of File::Spec. The methods noted
    here override File::Spec.</p>
<p class="Pp"><i>catfile</i></p>
<p class="Pp">File::Spec &lt;= 0.83 has a bug where the file part of catfile is
    not canonicalized. This override fixes that bug.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Misc"><a class="permalink" href="#Misc">Misc</a></h2>
<p class="Pp">Methods I can't really figure out where they should go yet.</p>
<p class="Pp"><i>find_tests</i></p>
<p class="Pp"></p>
<pre>  my $test = $mm-&gt;find_tests;
</pre>
<p class="Pp">Returns a string suitable for feeding to the shell to return all
    tests in t/*.t.</p>
<p class="Pp"><i>find_tests_recursive</i></p>
<p class="Pp"></p>
<pre>  my $tests = $mm-&gt;find_tests_recursive;
</pre>
<p class="Pp">Returns a string suitable for feeding to the shell to return all
    tests in t/ but recursively. Equivalent to</p>
<p class="Pp"></p>
<pre>  my $tests = $mm-&gt;find_tests_recursive_in('t');
</pre>
<p class="Pp"><i>find_tests_recursive_in</i></p>
<p class="Pp"></p>
<pre>  my $tests = $mm-&gt;find_tests_recursive_in($dir);
</pre>
<p class="Pp">Returns a string suitable for feeding to the shell to return all
    tests in <span class="Li">$dir</span> recursively.</p>
<p class="Pp"><i>extra_clean_files</i></p>
<p class="Pp"></p>
<pre>    my @files_to_clean = $MM-&gt;extra_clean_files;
</pre>
<p class="Pp">Returns a list of OS specific files to be removed in the clean
    target in addition to the usual set.</p>
<p class="Pp"><i>installvars</i></p>
<p class="Pp"></p>
<pre>    my @installvars = $mm-&gt;installvars;
</pre>
<p class="Pp">A list of all the INSTALL* variables without the INSTALL prefix.
    Useful for iteration or building related variable sets.</p>
<p class="Pp"><i>libscan</i></p>
<p class="Pp"></p>
<pre>  my $wanted = $self-&gt;libscan($path);
</pre>
<p class="Pp">Takes a path to a file or dir and returns an empty string if we
    don't want to include this file in the library. Otherwise it returns the the
    <span class="Li">$path</span> unchanged.</p>
<p class="Pp">Mainly used to exclude version control administrative directories
    and base-level <i>README.pod</i> from installation.</p>
<p class="Pp"><i>platform_constants</i></p>
<p class="Pp"></p>
<pre>    my $make_frag = $mm-&gt;platform_constants
</pre>
<p class="Pp">Returns a make fragment defining all the macros initialized in
    <b>init_platform()</b> rather than put them in <b>constants()</b>.</p>
<p class="Pp"><i>post_constants (o)</i></p>
<p class="Pp">Returns an empty string per default. Dedicated to overrides from
    within Makefile.PL after all constants have been defined.</p>
<p class="Pp"><i>post_initialize (o)</i></p>
<p class="Pp">Returns an empty string per default. Used in Makefile.PLs to add
    some chunk of text to the Makefile after the object is initialized.</p>
<p class="Pp"><i>postamble (o)</i></p>
<p class="Pp">Returns an empty string. Can be used in Makefile.PLs to write some
    text to the Makefile at the end.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Michael G Schwern &lt;schwern@pobox.com&gt; and the denizens of
    makemaker@perl.org with code from ExtUtils::MM_Unix and
  ExtUtils::MM_Win32.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2022-02-19</td>
    <td class="foot-os">perl v5.34.1</td>
  </tr>
</table>
</body>
</html>
