<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Test2::Manual::Testing::Introduction(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Test2::Manual::Testing::Introduction(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Test2::Manual::Testing::Introduction(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Test2::Manual::Testing::Introduction - Introduction to testing
    with Test2.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This tutorial is a beginners introduction to testing. This will
    take you through writing a test file, making assertions, and running your
    test.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BOILERPLATE"><a class="permalink" href="#BOILERPLATE">BOILERPLATE</a></h1>
<section class="Ss">
<h2 class="Ss">THE TEST FILE</h2>
<p class="Pp">Test files typically are placed inside the
    <span class="Li">&quot;t/&quot;</span> directory, and end with the
    <span class="Li">&quot;.t&quot;</span> file extension.</p>
<p class="Pp"><span class="Li">&quot;t/example.t&quot;</span>:</p>
<p class="Pp"></p>
<pre>    use Test2::V0;
    # Assertions will go here
    done_testing;
</pre>
<p class="Pp">This is all the boilerplate you need.</p>
<dl class="Bl-tag">
  <dt id="use"><a class="permalink" href="#use">use Test2::V0;</a></dt>
  <dd>This loads a collection of testing tools that will be described later in
      the tutorial. This will also turn on
      <span class="Li">&quot;strict&quot;</span> and
      <span class="Li">&quot;warnings&quot;</span> for you.</dd>
  <dt id="done_testing;"><a class="permalink" href="#done_testing;">done_testing;</a></dt>
  <dd>This should always be at the end of your test files. This tells Test2 that
      you are done making assertions. This is important as
      <span class="Li">&quot;test2&quot;</span> will assume the test did not
      complete successfully without this, or some other form of test
      &quot;plan&quot;.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss">DIST CONFIG</h2>
<p class="Pp">You should always list bundles and tools directly. You should not
    simply list Test2::Suite and call it done, bundles and tools may be moved
    out of Test2::Suite to their own dists at any time.</p>
<p class="Pp"><i>Dist::Zilla</i></p>
<p class="Pp"></p>
<pre>    [Prereqs / TestRequires]
    Test2::V0 = 0.000060
</pre>
<p class="Pp"><i>ExtUtils::MakeMaker</i></p>
<p class="Pp"></p>
<pre>    my %WriteMakefileArgs = (
      ...,
      &quot;TEST_REQUIRES&quot; =&gt; {
        &quot;Test2::V0&quot; =&gt; &quot;0.000060&quot;
      },
      ...
    );
</pre>
<p class="Pp"><i>Module::Install</i></p>
<p class="Pp"></p>
<pre>    test_requires 'Test2::V0' =&gt; '0.000060';
</pre>
<p class="Pp"><i>Module::Build</i></p>
<p class="Pp"></p>
<pre>    my $build = Module::Build-&gt;new(
        ...,
        test_requires =&gt; {
            &quot;Test2::V0&quot; =&gt; &quot;0.000060&quot;,
        },
        ...
    );
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="MAKING_ASSERTIONS"><a class="permalink" href="#MAKING_ASSERTIONS">MAKING
  ASSERTIONS</a></h1>
<p class="Pp">The most simple tool for making assertions is
    <span class="Li">&quot;ok()&quot;</span>.
    <span class="Li">&quot;ok()&quot;</span> lets you assert that a condition is
    true.</p>
<p class="Pp"></p>
<pre>    ok($CONDITION, &quot;Description of the condition&quot;);
</pre>
<p class="Pp">Here is a complete
    <span class="Li">&quot;t/example.t&quot;</span>:</p>
<p class="Pp"></p>
<pre>    use Test2::V0;
    ok(1, &quot;1 is true, so this will pass&quot;);
    done_testing;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="RUNNING_THE_TEST"><a class="permalink" href="#RUNNING_THE_TEST">RUNNING
  THE TEST</a></h1>
<p class="Pp">Test files are simply scripts. Just like any other script you can
    run the test directly with perl. Another option is to use a test
    &quot;harness&quot; which runs the test for you, and provides extra
    information and checks the scripts exit value for you.</p>
<section class="Ss">
<h2 class="Ss">RUN DIRECTLY</h2>
<pre>    $ perl -Ilib t/example.t
</pre>
<p class="Pp">Which should produce output like this:</p>
<p class="Pp"></p>
<pre>    # Seeded srand with seed '20161028' from local date.
    ok 1 - 1 is true, so this will pass
    1..1
</pre>
<p class="Pp">If the test had failed (<span class="Li">&quot;ok(0,
    ...)&quot;</span>) it would look like this:</p>
<p class="Pp"></p>
<pre>    # Seeded srand with seed '20161028' from local date.
    not ok 1 - 0 is false, so this will fail
    1..1
</pre>
<p class="Pp">Test2 will also set the exit value of the script, a successful run
    will have an exit value of 0, a failed run will have a non-zero exit
  value.</p>
</section>
<section class="Ss">
<h2 class="Ss">USING YATH</h2>
<p class="Pp">The <span class="Li">&quot;yath&quot;</span> command line tool is
    provided by Test2::Harness which you may need to install yourself from cpan.
    <span class="Li">&quot;yath&quot;</span> is the harness written specifically
    for Test2.</p>
<p class="Pp"></p>
<pre>    $ yath -Ilib t/example.t
</pre>
<p class="Pp">This will produce output similar to this:</p>
<p class="Pp"></p>
<pre>    ( PASSED )  job  1    t/example.t
    ================================================================================
    Run ID: 1508027909
    All tests were successful!
</pre>
<p class="Pp">You can also request verbose output with the
    <span class="Li">&quot;-v&quot;</span> flag:</p>
<p class="Pp"></p>
<pre>    $ yath -Ilib -v t/example.t
</pre>
<p class="Pp">Which produces:</p>
<p class="Pp"></p>
<pre>    ( LAUNCH )  job  1    example.t
    (  NOTE  )  job  1    Seeded srand with seed '20171014' from local date.
    [  PASS  ]  job  1  + 1 is true, so this will pass
    [  PLAN  ]  job  1    Expected asserions: 1
    ( PASSED )  job  1    example.t
    ================================================================================
    Run ID: 1508028002
    All tests were successful!
</pre>
</section>
<section class="Ss">
<h2 class="Ss">USING PROVE</h2>
<p class="Pp">The <span class="Li">&quot;prove&quot;</span> command line tool is
    provided by the Test::Harness module which comes with most versions of perl.
    Test::Harness is dual-life, which means you can also install the latest
    version from cpan.</p>
<p class="Pp"></p>
<pre>    $ prove -Ilib t/example.t
</pre>
<p class="Pp">This will produce output like this:</p>
<p class="Pp"></p>
<pre>    example.t .. ok
    All tests successful.
    Files=1, Tests=1,  0 wallclock secs ( 0.01 usr  0.00 sys +  0.05 cusr  0.00 csys =  0.06 CPU)
    Result: PASS
</pre>
<p class="Pp">You can also request verbose output with the
    <span class="Li">&quot;-v&quot;</span> flag:</p>
<p class="Pp"></p>
<pre>    $ prove -Ilib -v t/example.t
</pre>
<p class="Pp">The verbose output looks like this:</p>
<p class="Pp"></p>
<pre>    example.t ..
    # Seeded srand with seed '20161028' from local date.
    ok 1 - 1 is true, so this will pass
    1..1
    ok
    All tests successful.
    Files=1, Tests=1,  0 wallclock secs ( 0.02 usr  0.00 sys +  0.06 cusr  0.00 csys =  0.08 CPU)
    Result: PASS
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="THE__PLAN_"><a class="permalink" href="#THE__PLAN_">THE
  &quot;PLAN&quot;</a></h1>
<p class="Pp">All tests need a &quot;plan&quot;. The job of a plan is to make
    sure you ran all the tests you expected. The plan prevents a passing result
    from a test that exits before all the tests are run.</p>
<p class="Pp">There are 2 primary ways to set the plan:</p>
<dl class="Bl-tag">
  <dt id="done_testing()"><a class="permalink" href="#done_testing()"><b>done_testing()</b></a></dt>
  <dd>The most common, and recommended way to set a plan is to add
      <span class="Li">&quot;done_testing&quot;</span> at the end of your test
      file. This will automatically calculate the plan for you at the end of the
      test. If the test were to exit early then
      <span class="Li">&quot;done_testing&quot;</span> would not run and no plan
      would be found, forcing a failure.</dd>
  <dt id="plan($COUNT)"><a class="permalink" href="#plan($COUNT)">plan($COUNT)</a></dt>
  <dd>The <span class="Li">&quot;plan()&quot;</span> function allows you to
      specify an exact number of assertions you want to run. If you run too many
      or too few assertions then the plan will not match and it will be counted
      as a failure. The primary problem with this way of planning is that you
      need to add up the number of assertions, and adjust the count whenever you
      update the test file.
    <p class="Pp"><span class="Li">&quot;plan()&quot;</span> must be used before
        all assertions, or after all assertions, it cannot be done in the middle
        of making assertions.</p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="ADDITIONAL_ASSERTION_TOOLS"><a class="permalink" href="#ADDITIONAL_ASSERTION_TOOLS">ADDITIONAL
  ASSERTION TOOLS</a></h1>
<p class="Pp">The Test2::V0 bundle provides a lot more than
    <span class="Li">&quot;ok()&quot;</span>,
    <span class="Li">&quot;plan()&quot;</span>, and
    <span class="Li">&quot;done_testing()&quot;</span>. The biggest tools to
    note are:</p>
<dl class="Bl-tag">
  <dt id="is($a,"><a class="permalink" href="#is($a,">is($a, $b,
    $description)</a></dt>
  <dd><span class="Li">&quot;is()&quot;</span> allows you to compare 2
      structures and insure they are identical. You can use it for simple string
      comparisons, or even deep data structure comparisons.
    <p class="Pp"></p>
    <pre>    is(&quot;foo&quot;, &quot;foo&quot;, &quot;Both strings are identical&quot;);
    is([&quot;foo&quot;, 1], [&quot;foo&quot;, 1], &quot;Both arrays contain the same elements&quot;);
    </pre>
  </dd>
  <dt id="like($a,"><a class="permalink" href="#like($a,">like($a, $b,
    $description)</a></dt>
  <dd><span class="Li">&quot;like()&quot;</span> is similar to
      <span class="Li">&quot;is()&quot;</span> except that it only checks items
      listed on the right, it ignores any extra values found on the left.
    <p class="Pp"></p>
    <pre>    like([1, 2, 3, 4], [1, 2, 3], &quot;Passes, the extra element on the left is ignored&quot;);
    </pre>
    <p class="Pp">You can also used regular expressions on the right hand
      side:</p>
    <p class="Pp"></p>
    <pre>    like(&quot;foo bar baz&quot;, qr/bar/, &quot;The string matches the regex, this passes&quot;);
    </pre>
    <p class="Pp">You can also nest the regexes:</p>
    <p class="Pp"></p>
    <pre>    like([1, 2, 'foo bar baz', 3], [1, 2, qr/bar/], &quot;This passes&quot;);
    </pre>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">Test2::Manual - Primary index of the manual.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SOURCE"><a class="permalink" href="#SOURCE">SOURCE</a></h1>
<p class="Pp">The source code repository for Test2-Manual can be found at
    <i>https://github.com/Test-More/Test2-Suite/</i>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="MAINTAINERS"><a class="permalink" href="#MAINTAINERS">MAINTAINERS</a></h1>
<dl class="Bl-tag">
  <dt id="Chad"><a class="permalink" href="#Chad">Chad Granum
    &lt;exodist@cpan.org&gt;</a></dt>
  <dd></dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<dl class="Bl-tag">
  <dt id="Chad~2"><a class="permalink" href="#Chad~2">Chad Granum
    &lt;exodist@cpan.org&gt;</a></dt>
  <dd></dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">Copyright 2018 Chad Granum &lt;exodist@cpan.org&gt;.</p>
<p class="Pp">This program is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself.</p>
<p class="Pp">See <i>http://dev.perl.org/licenses/</i></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2020-10-22</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
