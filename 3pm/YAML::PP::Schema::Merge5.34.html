<!DOCTYPE html>
<html lang="en">
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>YAML::PP::Schema::Merge(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">YAML::PP::Schema::Merge(3)</td>
    <td class="head-vol"><a href=".">User Contributed Perl Documentation</a></td>
    <td class="head-rtitle">YAML::PP::Schema::Merge(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">YAML::PP::Schema::Merge - Enabling YAML merge keys for
  mappings</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>    use YAML::PP;
    my $yp = YAML::PP-&gt;new( schema =&gt; [qw/ + Merge /] );
    my $yaml = &lt;&lt;'EOM';
    ---
    - &amp;CENTER { x: 1, y: 2 }
    - &amp;LEFT { x: 0, y: 2 }
    - &amp;BIG { r: 10 }
    - &amp;SMALL { r: 1 }
    # All the following maps are equal:
    - # Explicit keys
      x: 1
      y: 2
      r: 10
      label: center/big
    - # Merge one map
      &lt;&lt; : *CENTER
      r: 10
      label: center/big
    - # Merge multiple maps
      &lt;&lt; : [ *CENTER, *BIG ]
      label: center/big
    - # Override
      &lt;&lt; : [ *BIG, *LEFT, *SMALL ]
      x: 1
      label: center/big
    EOM
    my $data = $yp-&gt;load_string($yaml);
    # $data-&gt;[4] == $data-&gt;[5] == $data-&gt;[6] == $data-&gt;[7]
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">See &lt;https://yaml.org/type/merge.html&gt; for the
    specification.</p>
<p class="Pp">Quote:</p>
<p class="Pp">&quot;Specify one or more mappings to be merged with the current
    one.</p>
<p class="Pp">The <span class="Li">&quot;&lt;&lt;&quot;</span> merge key is used
    to indicate that all the keys of one or more specified maps should be
    inserted into the current map. If the value associated with the key is a
    single mapping node, each of its key/value pairs is inserted into the
    current mapping, unless the key already exists in it. If the value
    associated with the merge key is a sequence, then this sequence is expected
    to contain mapping nodes and each of these nodes is merged in turn according
    to its order in the sequence. Keys in mapping nodes earlier in the sequence
    override keys specified in later mapping nodes.&quot;</p>
<p class="Pp">The implementation of this in a generic way is not trivial,
    because we also have to handle duplicate keys, and YAML::PP allows you to
    write your own handler for processing mappings.</p>
<p class="Pp">So the inner API of that is not stable at this point.</p>
<p class="Pp">Note that if you enable this schema, a plain scalar `&lt;&lt;`
    will be seen as special anywhere in your document, so if you want a literal
    `&lt;&lt;`, you have to put it in quotes.</p>
<p class="Pp">Note that the performed merge is not a &quot;deep merge&quot;.
    Only top-level keys are merged.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<dl class="Bl-tag">
  <dt id="register"><a class="permalink" href="#register">register</a></dt>
  <dd>Called by YAML::PP::Schema</dd>
</dl>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2020-09-10</td>
    <td class="foot-os"><a href="..">perl v5.34.0</a></td>
  </tr>
</table>
</body>
</html>
