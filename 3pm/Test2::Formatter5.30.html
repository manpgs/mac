<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Test2::Formatter(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Test2::Formatter(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Test2::Formatter(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Test2::Formatter - Namespace for formatters.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This is the namespace for formatters. This is an empty
  package.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CREATING_FORMATTERS"><a class="permalink" href="#CREATING_FORMATTERS">CREATING
  FORMATTERS</a></h1>
<p class="Pp">A formatter is any package or object with a
    <span class="Li">&quot;write($event, $num)&quot;</span> method.</p>
<p class="Pp"></p>
<pre>
    package Test2::Formatter::Foo;
    use strict;
    use warnings;

    sub write {
        my $self_or_class = shift;
        my ($event, $assert_num) = @_;
        ...
    }

    sub hide_buffered { 1 }

    sub terminate { }

    sub finalize { }

    sub supports_tables { return $BOOL }

    sub new_root {
        my $class = shift;
        ...
        $class-&gt;new(@_);
    }

    1;
</pre>
<p class="Pp">The <span class="Li">&quot;write&quot;</span> method is a method,
    so it either gets a class or instance. The two arguments are the
    <span class="Li">$event</span> object it should record, and the
    <span class="Li">$assert_num</span> which is the number of the current
    assertion (ok), or the last assertion if this event is not itself an
    assertion. The assertion number may be any integer 0 or greater, and may be
    undefined in some cases.</p>
<p class="Pp">The <span class="Li">&quot;hide_buffered()&quot;</span> method
    must return a boolean. This is used to tell buffered subtests whether or not
    to send it events as they are being buffered. See
    &quot;run_subtest(...)&quot; in Test2::API for more information.</p>
<p class="Pp">The <span class="Li">&quot;terminate&quot;</span> and
    <span class="Li">&quot;finalize&quot;</span> methods are optional methods
    called that you can implement if the format you're generating needs to
    handle these cases, for example if you are generating XML and need close
    open tags.</p>
<p class="Pp">The <span class="Li">&quot;terminate&quot;</span> method is called
    when an event's <span class="Li">&quot;terminate&quot;</span> method returns
    true, for example when a Test2::Event::Plan has a
    <span class="Li">'skip_all'</span> plan, or when a Test2::Event::Bail event
    is sent. The <span class="Li">&quot;terminate&quot;</span> method is passed
    a single argument, the Test2::Event object which triggered the
  terminate.</p>
<p class="Pp">The <span class="Li">&quot;finalize&quot;</span> method is always
    the last thing called on the formatter, <i>except when
    </i><i>&quot;terminate&quot;</i><i> is called for a Bail event</i>. It is
    passed the following arguments:</p>
<p class="Pp">The <span class="Li">&quot;supports_tables&quot;</span> method
    should be true if the formatter supports directly rendering table data from
    the <span class="Li">&quot;info&quot;</span> facets. This is a newer feature
    and many older formatters may not support it. When not supported the
    formatter falls back to rendering <span class="Li">&quot;detail&quot;</span>
    instead of the <span class="Li">&quot;table&quot;</span> data.</p>
<p class="Pp">The <span class="Li">&quot;new_root&quot;</span> method is used
    when constructing a root formatter. The default is to just delegate to the
    regular <span class="Li">&quot;new()&quot;</span> method, most formatters
    can ignore this.</p>
<ul class="Bl-bullet">
  <li>The number of tests that were planned</li>
  <li>The number of tests actually seen</li>
  <li>The number of tests which failed</li>
  <li>A boolean indicating whether or not the test suite passed</li>
  <li>A boolean indicating whether or not this call is for a subtest</li>
</ul>
<p class="Pp">The <span class="Li">&quot;new_root&quot;</span> method is called
    when <span class="Li">&quot;Test2::API::Stack&quot;</span> Initializes the
    root hub for the first time. Most formatters will simply have this call
    <span class="Li">&quot;$class-&gt;new&quot;</span>, which is the default
    behavior. Some formatters however may want to take extra action during
    construction of the root formatter, this is where they can do that.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SOURCE"><a class="permalink" href="#SOURCE">SOURCE</a></h1>
<p class="Pp">The source code repository for Test2 can be found at
    <i>http://github.com/Test-More/test-more/</i>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="MAINTAINERS"><a class="permalink" href="#MAINTAINERS">MAINTAINERS</a></h1>
<dl class="Bl-tag">
  <dt id="Chad"><a class="permalink" href="#Chad">Chad Granum
    &lt;exodist@cpan.org&gt;</a></dt>
  <dd></dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<dl class="Bl-tag">
  <dt id="Chad~2"><a class="permalink" href="#Chad~2">Chad Granum
    &lt;exodist@cpan.org&gt;</a></dt>
  <dd></dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">Copyright 2020 Chad Granum &lt;exodist@cpan.org&gt;.</p>
<p class="Pp">This program is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself.</p>
<p class="Pp">See <i>http://dev.perl.org/licenses/</i></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2020-10-22</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
