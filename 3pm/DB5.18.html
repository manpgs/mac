<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>DB(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DB(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">DB(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">DB - programmatic interface to the Perl debugging API</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
    package CLIENT;
    use DB;
    @ISA = qw(DB);

    # these (inherited) methods can be called by the client

    CLIENT-&gt;register()      # register a client package name
    CLIENT-&gt;done()          # de-register from the debugging API
    CLIENT-&gt;skippkg('hide::hide')  # ask DB not to stop in this package
    CLIENT-&gt;cont([WHERE])       # run some more (until BREAK or another breakpt)
    CLIENT-&gt;step()              # single step
    CLIENT-&gt;next()              # step over
    CLIENT-&gt;ret()               # return from current subroutine
    CLIENT-&gt;backtrace()         # return the call stack description
    CLIENT-&gt;ready()             # call when client setup is done
    CLIENT-&gt;trace_toggle()      # toggle subroutine call trace mode
    CLIENT-&gt;subs([SUBS])        # return subroutine information
    CLIENT-&gt;files()             # return list of all files known to DB
    CLIENT-&gt;lines()             # return lines in currently loaded file
    CLIENT-&gt;loadfile(FILE,LINE) # load a file and let other clients know
    CLIENT-&gt;lineevents()        # return info on lines with actions
    CLIENT-&gt;set_break([WHERE],[COND])
    CLIENT-&gt;set_tbreak([WHERE])
    CLIENT-&gt;clr_breaks([LIST])
    CLIENT-&gt;set_action(WHERE,ACTION)
    CLIENT-&gt;clr_actions([LIST])
    CLIENT-&gt;evalcode(STRING)  # eval STRING in executing code's context
    CLIENT-&gt;prestop([STRING]) # execute in code context before stopping
    CLIENT-&gt;poststop([STRING])# execute in code context before resuming

    # These methods will be called at the appropriate times.
    # Stub versions provided do nothing.
    # None of these can block.

    CLIENT-&gt;init()          # called when debug API inits itself
    CLIENT-&gt;stop(FILE,LINE) # when execution stops
    CLIENT-&gt;idle()          # while stopped (can be a client event loop)
    CLIENT-&gt;cleanup()       # just before exit
    CLIENT-&gt;output(LIST)    # called to print any output that API must show
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">Perl debug information is frequently required not just by
    debuggers, but also by modules that need some &quot;special&quot;
    information to do their job properly, like profilers.</p>
<p class="Pp">This module abstracts and provides all of the hooks into Perl
    internal debugging functionality, so that various implementations of Perl
    debuggers (or packages that want to simply get at the &quot;privileged&quot;
    debugging data) can all benefit from the development of this common code.
    Currently used by Swat, the perl/Tk GUI debugger.</p>
<p class="Pp">Note that multiple &quot;front-ends&quot; can latch into this
    debugging API simultaneously. This is intended to facilitate things like
    debugging with a command line and GUI at the same time, debugging debuggers
    etc. [Sounds nice, but this needs some serious support -- GSAR]</p>
<p class="Pp">In particular, this API does <b>not</b> provide the following
    functions:</p>
<ul class="Bl-bullet">
  <li>data display</li>
  <li>command processing</li>
  <li>command alias management</li>
  <li>user interface (tty or graphical)</li>
</ul>
<p class="Pp">These are intended to be services performed by the clients of this
    API.</p>
<p class="Pp">This module attempts to be squeaky clean w.r.t
    <span class="Li">&quot;use strict;&quot;</span> and when warnings are
    enabled.</p>
<section class="Ss">
<h2 class="Ss" id="Global_Variables"><a class="permalink" href="#Global_Variables">Global
  Variables</a></h2>
<p class="Pp">The following &quot;public&quot; global names can be read by
    clients of this API. Beware that these should be considered
    &quot;readonly&quot;.</p>
<dl class="Bl-tag">
  <dt>$DB::sub</dt>
  <dd>Name of current executing subroutine.</dd>
  <dt>%DB::sub</dt>
  <dd>The keys of this hash are the names of all the known subroutines. Each
      value is an encoded string that has the <i>sprintf</i>(3) format
      <span class="Li">&quot;(&quot;%s:%d-%d&quot;, filename, fromline,
      toline)&quot;</span>.</dd>
  <dt>$DB::single</dt>
  <dd>Single-step flag. Will be true if the API will stop at the next
    statement.</dd>
  <dt>$DB::signal</dt>
  <dd>Signal flag. Will be set to a true value if a signal was caught. Clients
      may check for this flag to abort time-consuming operations.</dd>
  <dt>$DB::trace</dt>
  <dd>This flag is set to true if the API is tracing through subroutine
    calls.</dd>
  <dt>@DB::args</dt>
  <dd>Contains the arguments of current subroutine, or the
      <span class="Li">@ARGV</span> array if in the toplevel context.</dd>
  <dt>@DB::dbline</dt>
  <dd>List of lines in currently loaded file.</dd>
  <dt>%DB::dbline</dt>
  <dd>Actions in current file (keys are line numbers). The values are strings
      that have the <i>sprintf</i>(3) format
      <span class="Li">&quot;(&quot;%s\000%s&quot;, breakcondition,
      actioncode)&quot;</span>.</dd>
  <dt>$DB::package</dt>
  <dd>Package namespace of currently executing code.</dd>
  <dt>$DB::filename</dt>
  <dd>Currently loaded filename.</dd>
  <dt>$DB::subname</dt>
  <dd>Fully qualified name of currently executing subroutine.</dd>
  <dt>$DB::lineno</dt>
  <dd>Line number that will be executed next.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss">API Methods</h2>
<p class="Pp">The following are methods in the DB base class. A client must
    access these methods by inheritance (*not* by calling them directly), since
    the API keeps track of clients through the inheritance mechanism.</p>
<dl class="Bl-tag">
  <dt id="CLIENT"><a class="permalink" href="#CLIENT">CLIENT-&gt;<i>register()</i></a></dt>
  <dd>register a client object/package</dd>
  <dt id="CLIENT~2"><a class="permalink" href="#CLIENT~2">CLIENT-&gt;evalcode(STRING)</a></dt>
  <dd>eval STRING in executing code context</dd>
  <dt id="CLIENT~3"><a class="permalink" href="#CLIENT~3">CLIENT-&gt;skippkg('D::hide')</a></dt>
  <dd>ask DB not to stop in these packages</dd>
  <dt id="CLIENT~4"><a class="permalink" href="#CLIENT~4">CLIENT-&gt;<i>run()</i></a></dt>
  <dd>run some more (until a breakpt is reached)</dd>
  <dt id="CLIENT~5"><a class="permalink" href="#CLIENT~5">CLIENT-&gt;<i>step()</i></a></dt>
  <dd>single step</dd>
  <dt id="CLIENT~6"><a class="permalink" href="#CLIENT~6">CLIENT-&gt;<i>next()</i></a></dt>
  <dd>step over</dd>
  <dt id="CLIENT~7"><a class="permalink" href="#CLIENT~7">CLIENT-&gt;<i>done()</i></a></dt>
  <dd>de-register from the debugging API</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Client_Callback_Methods"><a class="permalink" href="#Client_Callback_Methods">Client
  Callback Methods</a></h2>
<p class="Pp">The following &quot;virtual&quot; methods can be defined by the
    client. They will be called by the API at appropriate points. Note that
    unless specified otherwise, the debug API only defines empty, non-functional
    default versions of these methods.</p>
<dl class="Bl-tag">
  <dt id="CLIENT~8"><a class="permalink" href="#CLIENT~8">CLIENT-&gt;<i>init()</i></a></dt>
  <dd>Called after debug API inits itself.</dd>
  <dt id="CLIENT~9"><a class="permalink" href="#CLIENT~9">CLIENT-&gt;prestop([STRING])</a></dt>
  <dd>Usually inherited from DB package. If no arguments are passed, returns the
      prestop action string.</dd>
  <dt id="CLIENT~10"><a class="permalink" href="#CLIENT~10">CLIENT-&gt;<i>stop()</i></a></dt>
  <dd>Called when execution stops (w/ args file, line).</dd>
  <dt id="CLIENT~11"><a class="permalink" href="#CLIENT~11">CLIENT-&gt;<i>idle()</i></a></dt>
  <dd>Called while stopped (can be a client event loop).</dd>
  <dt id="CLIENT~12"><a class="permalink" href="#CLIENT~12">CLIENT-&gt;poststop([STRING])</a></dt>
  <dd>Usually inherited from DB package. If no arguments are passed, returns the
      poststop action string.</dd>
  <dt id="CLIENT~13"><a class="permalink" href="#CLIENT~13">CLIENT-&gt;evalcode(STRING)</a></dt>
  <dd>Usually inherited from DB package. Ask for a STRING to be
      <span class="Li">&quot;eval&quot;</span>-ed in executing code
    context.</dd>
  <dt id="CLIENT~14"><a class="permalink" href="#CLIENT~14">CLIENT-&gt;<i>cleanup()</i></a></dt>
  <dd>Called just before exit.</dd>
  <dt id="CLIENT~15"><a class="permalink" href="#CLIENT~15">CLIENT-&gt;output(LIST)</a></dt>
  <dd>Called when API must show a message (warnings, errors etc.).</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">The interface defined by this module is missing some of the later
    additions to perl's debugging functionality. As such, this interface should
    be considered highly experimental and subject to change.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Gurusamy Sarathy	gsar@activestate.com</p>
<p class="Pp">This code heavily adapted from an early version of perl5db.pl
    attributable to Larry Wall and the Perl Porters.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-09-30</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
