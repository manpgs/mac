<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>constant(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">constant(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">constant(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">constant - Perl pragma to declare constants</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>    use constant PI    =&gt; 4 * atan2(1, 1);
    use constant DEBUG =&gt; 0;
    print &quot;Pi equals &quot;, PI, &quot;...\n&quot; if DEBUG;
    use constant {
        SEC   =&gt; 0,
        MIN   =&gt; 1,
        HOUR  =&gt; 2,
        MDAY  =&gt; 3,
        MON   =&gt; 4,
        YEAR  =&gt; 5,
        WDAY  =&gt; 6,
        YDAY  =&gt; 7,
        ISDST =&gt; 8,
    };
    use constant WEEKDAYS =&gt; qw(
        Sunday Monday Tuesday Wednesday Thursday Friday Saturday
    );
    print &quot;Today is &quot;, (WEEKDAYS)[ (localtime)[WDAY] ], &quot;.\n&quot;;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This pragma allows you to declare constants at compile-time.</p>
<p class="Pp">When you declare a constant such as
    <span class="Li">&quot;PI&quot;</span> using the method shown above, each
    machine your script runs upon can have as many digits of accuracy as it can
    use. Also, your program will be easier to read, more likely to be maintained
    (and maintained correctly), and far less likely to send a space probe to the
    wrong planet because nobody noticed the one equation in which you wrote
    <span class="Li">3.14195</span>.</p>
<p class="Pp">When a constant is used in an expression, Perl replaces it with
    its value at compile time, and may then optimize the expression further. In
    particular, any code in an <span class="Li">&quot;if (CONSTANT)&quot;</span>
    block will be optimized away if the constant is false.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="NOTES"><a class="permalink" href="#NOTES">NOTES</a></h1>
<p class="Pp">As with all <span class="Li">&quot;use&quot;</span> directives,
    defining a constant happens at compile time. Thus, it's probably not correct
    to put a constant declaration inside of a conditional statement (like
    <span class="Li">&quot;if ($foo)</span> <span class="Li">{ use constant ...
    }&quot;</span>).</p>
<p class="Pp">Constants defined using this module cannot be interpolated into
    strings like variables. However, concatenation works just fine:</p>
<p class="Pp"></p>
<pre>    print &quot;Pi equals PI...\n&quot;;        # WRONG: does not expand &quot;PI&quot;
    print &quot;Pi equals &quot;.PI.&quot;...\n&quot;;    # right
</pre>
<p class="Pp">Even though a reference may be declared as a constant, the
    reference may point to data which may be changed, as this code shows.</p>
<p class="Pp"></p>
<pre>    use constant ARRAY =&gt; [ 1,2,3,4 ];
    print ARRAY-&gt;[1];
    ARRAY-&gt;[1] = &quot; be changed&quot;;
    print ARRAY-&gt;[1];
</pre>
<p class="Pp">Constants belong to the package they are defined in. To refer to a
    constant defined in another package, specify the full package name, as in
    <span class="Li">&quot;Some::Package::CONSTANT&quot;</span>. Constants may
    be exported by modules, and may also be called as either class or instance
    methods, that is, as
    <span class="Li">&quot;Some::Package-&gt;CONSTANT&quot;</span> or as
    <span class="Li">&quot;$obj-&gt;CONSTANT&quot;</span> where
    <span class="Li">$obj</span> is an instance of
    <span class="Li">&quot;Some::Package&quot;</span>. Subclasses may define
    their own constants to override those in their base class.</p>
<p class="Pp">As of version 1.32 of this module, constants can be defined in
    packages other than the caller, by including the package name in the name of
    the constant:</p>
<p class="Pp"></p>
<pre>    use constant &quot;OtherPackage::FWIBBLE&quot; =&gt; 7865;
    constant-&gt;import(&quot;Other::FWOBBLE&quot;,$value); # dynamically at run time
</pre>
<p class="Pp">The use of all caps for constant names is merely a convention,
    although it is recommended in order to make constants stand out and to help
    avoid collisions with other barewords, keywords, and subroutine names.
    Constant names must begin with a letter or underscore. Names beginning with
    a double underscore are reserved. Some poor choices for names will generate
    warnings, if warnings are enabled at compile time.</p>
<section class="Ss">
<h2 class="Ss" id="List_constants"><a class="permalink" href="#List_constants">List
  constants</a></h2>
<p class="Pp">Constants may be lists of more (or less) than one value. A
    constant with no values evaluates to
    <span class="Li">&quot;undef&quot;</span> in scalar context. Note that
    constants with more than one value do <i>not</i> return their last value in
    scalar context as one might expect. They currently return the number of
    values, but <b>this may change in the future</b>. Do not use constants with
    multiple values in scalar context.</p>
<p class="Pp"><b>NOTE:</b> This implies that the expression defining the value
    of a constant is evaluated in list context. This may produce surprises:</p>
<p class="Pp"></p>
<pre>    use constant TIMESTAMP =&gt; localtime;                # WRONG!
    use constant TIMESTAMP =&gt; scalar localtime;         # right
</pre>
<p class="Pp">The first line above defines
    <span class="Li">&quot;TIMESTAMP&quot;</span> as a 9-element list, as
    returned by <span class="Li">&quot;localtime()&quot;</span> in list context.
    To set it to the string returned by
    <span class="Li">&quot;localtime()&quot;</span> in scalar context, an
    explicit <span class="Li">&quot;scalar&quot;</span> keyword is required.</p>
<p class="Pp">List constants are lists, not arrays. To index or slice them, they
    must be placed in parentheses.</p>
<p class="Pp"></p>
<pre>    my @workdays = WEEKDAYS[1 .. 5];            # WRONG!
    my @workdays = (WEEKDAYS)[1 .. 5];          # right
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Defining_multiple_constants_at_once"><a class="permalink" href="#Defining_multiple_constants_at_once">Defining
  multiple constants at once</a></h2>
<p class="Pp">Instead of writing multiple <span class="Li">&quot;use
    constant&quot;</span> statements, you may define multiple constants in a
    single statement by giving, instead of the constant name, a reference to a
    hash where the keys are the names of the constants to be defined. Obviously,
    all constants defined using this method must have a single value.</p>
<p class="Pp"></p>
<pre>    use constant {
        FOO =&gt; &quot;A single value&quot;,
        BAR =&gt; &quot;This&quot;, &quot;won't&quot;, &quot;work!&quot;,        # Error!
    };
</pre>
<p class="Pp">This is a fundamental limitation of the way hashes are constructed
    in Perl. The error messages produced when this happens will often be quite
    cryptic -- in the worst case there may be none at all, and you'll only later
    find that something is broken.</p>
<p class="Pp">When defining multiple constants, you cannot use the values of
    other constants defined in the same declaration. This is because the calling
    package doesn't know about any constant within that group until <i>after</i>
    the <span class="Li">&quot;use&quot;</span> statement is finished.</p>
<p class="Pp"></p>
<pre>    use constant {
        BITMASK =&gt; 0xAFBAEBA8,
        NEGMASK =&gt; ~BITMASK,                    # Error!
    };
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Magic_constants"><a class="permalink" href="#Magic_constants">Magic
  constants</a></h2>
<p class="Pp">Magical values and references can be made into constants at
    compile time, allowing for way cool stuff like this. (These error numbers
    aren't totally portable, alas.)</p>
<p class="Pp"></p>
<pre>    use constant E2BIG =&gt; ($! = 7);
    print   E2BIG, &quot;\n&quot;;        # something like &quot;Arg list too long&quot;
    print 0+E2BIG, &quot;\n&quot;;        # &quot;7&quot;
</pre>
<p class="Pp">You can't produce a tied constant by giving a tied scalar as the
    value. References to tied variables, however, can be used as constants
    without any problems.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="TECHNICAL_NOTES"><a class="permalink" href="#TECHNICAL_NOTES">TECHNICAL
  NOTES</a></h1>
<p class="Pp">In the current implementation, scalar constants are actually
    inlinable subroutines. As of version 5.004 of Perl, the appropriate scalar
    constant is inserted directly in place of some subroutine calls, thereby
    saving the overhead of a subroutine call. See &quot;Constant Functions&quot;
    in perlsub for details about how and when this happens.</p>
<p class="Pp">In the rare case in which you need to discover at run time whether
    a particular constant has been declared via this module, you may use this
    function to examine the hash <span class="Li">%constant::declared</span>. If
    the given constant name does not include a package name, the current package
    is used.</p>
<p class="Pp"></p>
<pre>    sub declared ($) {
        use constant 1.01;              # don't omit this!
        my $name = shift;
        $name =~ s/^::/main::/;
        my $pkg = caller;
        my $full_name = $name =~ /::/ ? $name : &quot;${pkg}::$name&quot;;
        $constant::declared{$full_name};
    }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="CAVEATS"><a class="permalink" href="#CAVEATS">CAVEATS</a></h1>
<p class="Pp">List constants are not inlined unless you are using Perl v5.20 or
    higher. In v5.20 or higher, they are still not read-only, but that may
    change in future versions.</p>
<p class="Pp">It is not possible to have a subroutine or a keyword with the same
    name as a constant in the same package. This is probably a Good Thing.</p>
<p class="Pp">A constant with a name in the list <span class="Li">&quot;STDIN
    STDOUT STDERR ARGV ARGVOUT</span> <span class="Li">ENV INC SIG&quot;</span>
    is not allowed anywhere but in package
    <span class="Li">&quot;main::&quot;</span>, for technical reasons.</p>
<p class="Pp">Unlike constants in some languages, these cannot be overridden on
    the command line or via environment variables.</p>
<p class="Pp">You can get into trouble if you use constants in a context which
    automatically quotes barewords (as is true for any subroutine call). For
    example, you can't say <span class="Li">$hash{CONSTANT}</span> because
    <span class="Li">&quot;CONSTANT&quot;</span> will be interpreted as a
    string. Use <span class="Li">$hash{CONSTANT()}</span> or
    <span class="Li">$hash{+CONSTANT}</span> to prevent the bareword quoting
    mechanism from kicking in. Similarly, since the
    <span class="Li">&quot;=&gt;&quot;</span> operator quotes a bareword
    immediately to its left, you have to say <span class="Li">&quot;CONSTANT()
    =&gt; 'value'&quot;</span> (or simply use a comma in place of the big arrow)
    instead of <span class="Li">&quot;CONSTANT =&gt; 'value'&quot;</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">Readonly - Facility for creating read-only scalars, arrays,
    hashes.</p>
<p class="Pp">Attribute::Constant - Make read-only variables via attribute</p>
<p class="Pp">Scalar::Readonly - Perl extension to the
    <span class="Li">&quot;SvREADONLY&quot;</span> scalar flag</p>
<p class="Pp">Hash::Util - A selection of general-utility hash subroutines
    (mostly to lock/unlock keys and values)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">Please report any bugs or feature requests via the
    <b>perlbug</b>(1) utility.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<p class="Pp">Tom Phoenix, &lt;<i>rootbeer@redcat.com</i>&gt;, with help from
    many other folks.</p>
<p class="Pp">Multiple constant declarations at once added by Casey West,
    &lt;<i>casey@geeknest.com</i>&gt;.</p>
<p class="Pp">Documentation mostly rewritten by Ilmari Karonen,
    &lt;<i>perl@itz.pp.sci.fi</i>&gt;.</p>
<p class="Pp">This program is maintained by the Perl 5 Porters. The CPAN
    distribution is maintained by Sebastien Aperghis-Tramoni
    &lt;<i>sebastien@aperghis.net</i>&gt;.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_&amp;_LICENSE"><a class="permalink" href="#COPYRIGHT_&amp;_LICENSE">COPYRIGHT
  &amp; LICENSE</a></h1>
<p class="Pp">Copyright (C) 1997, 1999 Tom Phoenix</p>
<p class="Pp">This module is free software; you can redistribute it or modify it
    under the same terms as Perl itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2022-02-19</td>
    <td class="foot-os">perl v5.34.1</td>
  </tr>
</table>
</body>
</html>
