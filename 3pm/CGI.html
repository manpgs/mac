<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>CGI(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CGI(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">CGI(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">CGI - Handle Common Gateway Interface requests and responses</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
    use CGI;

    my $q = CGI-&gt;new;

    # Process an HTTP request
     @values  = $q-&gt;param('form_field');

     $fh      = $q-&gt;upload('file_field');

     $riddle  = $query-&gt;cookie('riddle_name');
     %answers = $query-&gt;cookie('answers');

    # Prepare various HTTP responses
    print $q-&gt;header();
    print $q-&gt;header('application/json');

        $cookie1 = $q-&gt;cookie(-name=&gt;'riddle_name', -value=&gt;&quot;The Sphynx's Question&quot;);
        $cookie2 = $q-&gt;cookie(-name=&gt;'answers', -value=&gt;\%answers);
    print $q-&gt;header(
        -type    =&gt; 'image/gif',
        -expires =&gt; '+3d',
        -cookie  =&gt; [$cookie1,$cookie2]
        );

   print  $q-&gt;redirect('http://somewhere.else/in/movie/land');
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">CGI.pm is a stable, complete and mature solution for processing
    and preparing HTTP requests and responses. Major features including
    processing form submissions, file uploads, reading and writing cookies,
    query string generation and manipulation, and processing and preparing HTTP
    headers. Some HTML generation utilities are included as well.</p>
<p class="Pp">CGI.pm performs very well in in a vanilla CGI.pm environment and
    also comes with built-in support for mod_perl and mod_perl2 as well as
    FastCGI.</p>
<p class="Pp">It has the benefit of having developed and refined over 10 years
    with input from dozens of contributors and being deployed on thousands of
    websites. CGI.pm has been included in the Perl distribution since Perl 5.4,
    and has become a de-facto standard.</p>
<section class="Ss">
<h2 class="Ss">PROGRAMMING STYLE</h2>
<p class="Pp">There are two styles of programming with CGI.pm, an
    object-oriented style and a function-oriented style. In the object-oriented
    style you create one or more CGI objects and then use object methods to
    create the various elements of the page. Each CGI object starts out with the
    list of named parameters that were passed to your CGI script by the server.
    You can modify the objects, save them to a file or database and recreate
    them. Because each object corresponds to the &quot;state&quot; of the CGI
    script, and because each object's parameter list is independent of the
    others, this allows you to save the state of the script and restore it
    later.</p>
<p class="Pp">For example, using the object oriented style, here is how you
    create a simple &quot;Hello World&quot; HTML page:</p>
<p class="Pp"></p>
<pre>
   #!/usr/local/bin/perl -w
   use CGI;                             # load CGI routines
   $q = CGI-&gt;new;                        # create new CGI object
   print $q-&gt;header,                    # create the HTTP header
         $q-&gt;start_html('hello world'), # start the HTML
         $q-&gt;h1('hello world'),         # level 1 header
         $q-&gt;end_html;                  # end the HTML
</pre>
<p class="Pp">In the function-oriented style, there is one default CGI object
    that you rarely deal with directly. Instead you just call functions to
    retrieve CGI parameters, create HTML tags, manage cookies, and so on. This
    provides you with a cleaner programming interface, but limits you to using
    one CGI object at a time. The following example prints the same page, but
    uses the function-oriented interface. The main differences are that we now
    need to import a set of functions into our name space (usually the
    &quot;standard&quot; functions), and we don't need to create the CGI
  object.</p>
<p class="Pp"></p>
<pre>
   #!/usr/local/bin/perl
   use CGI qw/:standard/;           # load standard CGI routines
   print header,                    # create the HTTP header
         start_html('hello world'), # start the HTML
         h1('hello world'),         # level 1 header
         end_html;                  # end the HTML
</pre>
<p class="Pp">The examples in this document mainly use the object-oriented
    style. See HOW TO IMPORT FUNCTIONS for important information on
    function-oriented programming in CGI.pm</p>
</section>
<section class="Ss">
<h2 class="Ss">CALLING CGI.PM ROUTINES</h2>
<p class="Pp">Most CGI.pm routines accept several arguments, sometimes as many
    as 20 optional ones! To simplify this interface, all routines use a named
    argument calling style that looks like this:</p>
<p class="Pp"></p>
<pre>
   print $q-&gt;header(-type=&gt;'image/gif',-expires=&gt;'+3d');
</pre>
<p class="Pp">Each argument name is preceded by a dash. Neither case nor order
    matters in the argument list. -type, -Type, and -TYPE are all acceptable. In
    fact, only the first argument needs to begin with a dash. If a dash is
    present in the first argument, CGI.pm assumes dashes for the subsequent
    ones.</p>
<p class="Pp">Several routines are commonly called with just one argument. In
    the case of these routines you can provide the single argument without an
    argument name. <i>header()</i> happens to be one of these routines. In this
    case, the single argument is the document type.</p>
<p class="Pp"></p>
<pre>
   print $q-&gt;header('text/html');
</pre>
<p class="Pp">Other such routines are documented below.</p>
<p class="Pp">Sometimes named arguments expect a scalar, sometimes a reference
    to an array, and sometimes a reference to a hash. Often, you can pass any
    type of argument and the routine will do whatever is most appropriate. For
    example, the <i>param()</i> routine is used to set a CGI parameter to a
    single or a multi-valued value. The two cases are shown below:</p>
<p class="Pp"></p>
<pre>
   $q-&gt;param(-name=&gt;'veggie',-value=&gt;'tomato');
   $q-&gt;param(-name=&gt;'veggie',-value=&gt;['tomato','tomahto','potato','potahto']);
</pre>
<p class="Pp">A large number of routines in CGI.pm actually aren't specifically
    defined in the module, but are generated automatically as needed. These are
    the &quot;HTML shortcuts,&quot; routines that generate HTML tags for use in
    dynamically-generated pages. HTML tags have both attributes (the
    attribute=&quot;value&quot; pairs within the tag itself) and contents (the
    part between the opening and closing pairs.) To distinguish between
    attributes and contents, CGI.pm uses the convention of passing HTML
    attributes as a hash reference as the first argument, and the contents, if
    any, as any subsequent arguments. It works out like this:</p>
<p class="Pp"></p>
<pre>
   Code                           Generated HTML
   ----                           --------------
   h1()                           &lt;h1&gt;
   h1('some','contents');         &lt;h1&gt;some contents&lt;/h1&gt;
   h1({-align=&gt;left});            &lt;h1 align=&quot;LEFT&quot;&gt;
   h1({-align=&gt;left},'contents'); &lt;h1 align=&quot;LEFT&quot;&gt;contents&lt;/h1&gt;
</pre>
<p class="Pp">HTML tags are described in more detail later.</p>
<p class="Pp">Many newcomers to CGI.pm are puzzled by the difference between the
    calling conventions for the HTML shortcuts, which require curly braces
    around the HTML tag attributes, and the calling conventions for other
    routines, which manage to generate attributes without the curly brackets.
    Don't be confused. As a convenience the curly braces are optional in all but
    the HTML shortcuts. If you like, you can use curly braces when calling any
    routine that takes named arguments. For example:</p>
<p class="Pp"></p>
<pre>
   print $q-&gt;header( {-type=&gt;'image/gif',-expires=&gt;'+3d'} );
</pre>
<p class="Pp">If you use the <b>-w</b> switch, you will be warned that some
    CGI.pm argument names conflict with built-in Perl functions. The most
    frequent of these is the -values argument, used to create multi-valued
    menus, radio button clusters and the like. To get around this warning, you
    have several choices:</p>
<dl class="Bl-tag">
  <dt>1.</dt>
  <dd>Use another name for the argument, if one is available. For example,
      -value is an alias for -values.</dd>
  <dt>2.</dt>
  <dd>Change the capitalization, e.g. -Values</dd>
  <dt>3.</dt>
  <dd>Put quotes around the argument name, e.g. '-values'</dd>
</dl>
<p class="Pp">Many routines will do something useful with a named argument that
    it doesn't recognize. For example, you can produce non-standard HTTP header
    fields by providing them as named arguments:</p>
<p class="Pp"></p>
<pre>
  print $q-&gt;header(-type  =&gt;  'text/html',
                   -cost  =&gt;  'Three smackers',
                   -annoyance_level =&gt; 'high',
                   -complaints_to   =&gt; 'bit bucket');
</pre>
<p class="Pp">This will produce the following nonstandard HTTP header:</p>
<p class="Pp"></p>
<pre>
   HTTP/1.0 200 OK
   Cost: Three smackers
   Annoyance-level: high
   Complaints-to: bit bucket
   Content-type: text/html
</pre>
<p class="Pp">Notice the way that underscores are translated automatically into
    hyphens. HTML-generating routines perform a different type of
  translation.</p>
<p class="Pp">This feature allows you to keep up with the rapidly changing HTTP
    and HTML &quot;standards&quot;.</p>
</section>
<section class="Ss">
<h2 class="Ss">CREATING A NEW QUERY OBJECT (OBJECT-ORIENTED STYLE):</h2>
<pre>
     $query = CGI-&gt;new;
</pre>
<p class="Pp">This will parse the input (from POST, GET and DELETE methods) and
    store it into a perl5 object called <span class="Li">$query</span>.</p>
<p class="Pp">Any filehandles from file uploads will have their position reset
    to the beginning of the file.</p>
</section>
<section class="Ss">
<h2 class="Ss">CREATING A NEW QUERY OBJECT FROM AN INPUT FILE</h2>
<pre>
     $query = CGI-&gt;new(INPUTFILE);
</pre>
<p class="Pp">If you provide a file handle to the <i>new()</i> method, it will
    read parameters from the file (or STDIN, or whatever). The file can be in
    any of the forms describing below under debugging (i.e. a series of newline
    delimited TAG=VALUE pairs will work). Conveniently, this type of file is
    created by the <i>save()</i> method (see below). Multiple records can be
    saved and restored.</p>
<p class="Pp">Perl purists will be pleased to know that this syntax accepts
    references to file handles, or even references to filehandle globs, which is
    the &quot;official&quot; way to pass a filehandle:</p>
<p class="Pp"></p>
<pre>
    $query = CGI-&gt;new(\*STDIN);
</pre>
<p class="Pp">You can also initialize the CGI object with a FileHandle or
    IO::File object.</p>
<p class="Pp">If you are using the function-oriented interface and want to
    initialize CGI state from a file handle, the way to do this is with
    <b></b><b><i>restore_parameters()</i></b><b></b>. This will (re)initialize
    the default CGI object from the indicated file handle.</p>
<p class="Pp"></p>
<pre>
    open (IN,&quot;test.in&quot;) || die;
    restore_parameters(IN);
    close IN;
</pre>
<p class="Pp">You can also initialize the query object from a hash
  reference:</p>
<p class="Pp"></p>
<pre>
    $query = CGI-&gt;new( {'dinosaur'=&gt;'barney',
                       'song'=&gt;'I love you',
                       'friends'=&gt;[qw/Jessica George Nancy/]}
                    );
</pre>
<p class="Pp">or from a properly formatted, URL-escaped query string:</p>
<p class="Pp"></p>
<pre>
    $query = CGI-&gt;new('dinosaur=barney&amp;color=purple');
</pre>
<p class="Pp">or from a previously existing CGI object (currently this clones
    the parameter list, but none of the other object-specific fields, such as
    autoescaping):</p>
<p class="Pp"></p>
<pre>
    $old_query = CGI-&gt;new;
    $new_query = CGI-&gt;new($old_query);
</pre>
<p class="Pp">To create an empty query, initialize it from an empty string or
    hash:</p>
<p class="Pp"></p>
<pre>
   $empty_query = CGI-&gt;new(&quot;&quot;);

       -or-

   $empty_query = CGI-&gt;new({});
</pre>
</section>
<section class="Ss">
<h2 class="Ss">FETCHING A LIST OF KEYWORDS FROM THE QUERY:</h2>
<pre>
     @keywords = $query-&gt;keywords
</pre>
<p class="Pp">If the script was invoked as the result of an &lt;ISINDEX&gt;
    search, the parsed keywords can be obtained as an array using the
    <i>keywords()</i> method.</p>
</section>
<section class="Ss">
<h2 class="Ss">FETCHING THE NAMES OF ALL THE PARAMETERS PASSED TO YOUR
  SCRIPT:</h2>
<pre>
     @names = $query-&gt;param
</pre>
<p class="Pp">If the script was invoked with a parameter list (e.g.
    &quot;name1=value1&amp;name2=value2&amp;name3=value3&quot;), the
    <i>param()</i> method will return the parameter names as a list. If the
    script was invoked as an &lt;ISINDEX&gt; script and contains a string
    without ampersands (e.g. &quot;value1+value2+value3&quot;) , there will be a
    single parameter named &quot;keywords&quot; containing the
    &quot;+&quot;-delimited keywords.</p>
<p class="Pp">NOTE: As of version 1.5, the array of parameter names returned
    will be in the same order as they were submitted by the browser. Usually
    this order is the same as the order in which the parameters are defined in
    the form (however, this isn't part of the spec, and so isn't
  guaranteed).</p>
</section>
<section class="Ss">
<h2 class="Ss">FETCHING THE VALUE OR VALUES OF A SINGLE NAMED PARAMETER:</h2>
<pre>
    @values = $query-&gt;param('foo');

              -or-

    $value = $query-&gt;param('foo');
</pre>
<p class="Pp">Pass the <i>param()</i> method a single argument to fetch the
    value of the named parameter. If the parameter is multivalued (e.g. from
    multiple selections in a scrolling list), you can ask to receive an array.
    Otherwise the method will return a single value.</p>
<p class="Pp">If a value is not given in the query string, as in the queries
    &quot;name1=&amp;name2=&quot;, it will be returned as an empty string.</p>
<p class="Pp">If the parameter does not exist at all, then <i>param()</i> will
    return undef in a scalar context, and the empty list in a list context.</p>
</section>
<section class="Ss">
<h2 class="Ss">SETTING THE VALUE(S) OF A NAMED PARAMETER:</h2>
<pre>
    $query-&gt;param('foo','an','array','of','values');
</pre>
<p class="Pp">This sets the value for the named parameter 'foo' to an array of
    values. This is one way to change the value of a field AFTER the script has
    been invoked once before. (Another way is with the -override parameter
    accepted by all methods that generate form elements.)</p>
<p class="Pp"><i>param()</i> also recognizes a named parameter style of calling
    described in more detail later:</p>
<p class="Pp"></p>
<pre>
    $query-&gt;param(-name=&gt;'foo',-values=&gt;['an','array','of','values']);

                              -or-

    $query-&gt;param(-name=&gt;'foo',-value=&gt;'the value');
</pre>
</section>
<section class="Ss">
<h2 class="Ss">APPENDING ADDITIONAL VALUES TO A NAMED PARAMETER:</h2>
<pre>
   $query-&gt;append(-name=&gt;'foo',-values=&gt;['yet','more','values']);
</pre>
<p class="Pp">This adds a value or list of values to the named parameter. The
    values are appended to the end of the parameter if it already exists.
    Otherwise the parameter is created. Note that this method only recognizes
    the named argument calling syntax.</p>
</section>
<section class="Ss">
<h2 class="Ss">IMPORTING ALL PARAMETERS INTO A NAMESPACE:</h2>
<pre>
   $query-&gt;import_names('R');
</pre>
<p class="Pp">This creates a series of variables in the 'R' namespace. For
    example, <span class="Li">$R::foo</span>, <span class="Li">@R:foo</span>.
    For keyword lists, a variable <span class="Li">@R::keywords</span> will
    appear. If no namespace is given, this method will assume 'Q'. WARNING:
    don't import anything into 'main'; this is a major security risk!!!!</p>
<p class="Pp">NOTE 1: Variable names are transformed as necessary into legal
    Perl variable names. All non-legal characters are transformed into
    underscores. If you need to keep the original names, you should use the
    <i>param()</i> method instead to access CGI variables by name.</p>
<p class="Pp">NOTE 2: In older versions, this method was called
    <b></b><b><i>import()</i></b><b></b>. As of version 2.20, this name has been
    removed completely to avoid conflict with the built-in Perl module
    <b>import</b> operator.</p>
</section>
<section class="Ss">
<h2 class="Ss">DELETING A PARAMETER COMPLETELY:</h2>
<pre>
    $query-&gt;delete('foo','bar','baz');
</pre>
<p class="Pp">This completely clears a list of parameters. It sometimes useful
    for resetting parameters that you don't want passed down between script
    invocations.</p>
<p class="Pp">If you are using the function call interface, use
    &quot;<i>Delete()</i>&quot; instead to avoid conflicts with Perl's built-in
    delete operator.</p>
</section>
<section class="Ss">
<h2 class="Ss">DELETING ALL PARAMETERS:</h2>
<pre>
   $query-&gt;delete_all();
</pre>
<p class="Pp">This clears the CGI object completely. It might be useful to
    ensure that all the defaults are taken when you create a fill-out form.</p>
<p class="Pp">Use <i>Delete_all()</i> instead if you are using the function call
    interface.</p>
</section>
<section class="Ss">
<h2 class="Ss">HANDLING NON-URLENCODED ARGUMENTS</h2>
<p class="Pp">If POSTed data is not of type application/x-www-form-urlencoded or
    multipart/form-data, then the POSTed data will not be processed, but instead
    be returned as-is in a parameter named POSTDATA. To retrieve it, use code
    like this:</p>
<p class="Pp"></p>
<pre>
   my $data = $query-&gt;param('POSTDATA');
</pre>
<p class="Pp">Likewise if PUTed data can be retrieved with code like this:</p>
<p class="Pp"></p>
<pre>
   my $data = $query-&gt;param('PUTDATA');
</pre>
<p class="Pp">(If you don't know what the preceding means, don't worry about it.
    It only affects people trying to use CGI for XML processing and other
    specialized tasks.)</p>
</section>
<section class="Ss">
<h2 class="Ss">DIRECT ACCESS TO THE PARAMETER LIST:</h2>
<pre>
   $q-&gt;param_fetch('address')-&gt;[1] = '1313 Mockingbird Lane';
   unshift @{$q-&gt;param_fetch(-name=&gt;'address')},'George Munster';
</pre>
<p class="Pp">If you need access to the parameter list in a way that isn't
    covered by the methods given in the previous sections, you can obtain a
    direct reference to it by calling the
    <b></b><b><i>param_fetch()</i></b><b></b> method with the name of the
    parameter. This will return an array reference to the named parameter, which
    you then can manipulate in any way you like.</p>
<p class="Pp">You can also use a named argument style using the <b>-name</b>
    argument.</p>
</section>
<section class="Ss">
<h2 class="Ss">FETCHING THE PARAMETER LIST AS A HASH:</h2>
<pre>
    $params = $q-&gt;Vars;
    print $params-&gt;{'address'};
    @foo = split(&quot;\0&quot;,$params-&gt;{'foo'});
    %params = $q-&gt;Vars;

    use CGI ':cgi-lib';
    $params = Vars;
</pre>
<p class="Pp">Many people want to fetch the entire parameter list as a hash in
    which the keys are the names of the CGI parameters, and the values are the
    parameters' values. The <i>Vars()</i> method does this. Called in a scalar
    context, it returns the parameter list as a tied hash reference. Changing a
    key changes the value of the parameter in the underlying CGI parameter list.
    Called in a list context, it returns the parameter list as an ordinary hash.
    This allows you to read the contents of the parameter list, but not to
    change it.</p>
<p class="Pp">When using this, the thing you must watch out for are multivalued
    CGI parameters. Because a hash cannot distinguish between scalar and list
    context, multivalued parameters will be returned as a packed string,
    separated by the &quot;\0&quot; (null) character. You must split this packed
    string in order to get at the individual values. This is the convention
    introduced long ago by Steve Brenner in his cgi-lib.pl module for Perl
    version 4.</p>
<p class="Pp">If you wish to use <i>Vars()</i> as a function, import the
    <i>:cgi-lib</i> set of function calls (also see the section on CGI-LIB
    compatibility).</p>
</section>
<section class="Ss">
<h2 class="Ss">SAVING THE STATE OF THE SCRIPT TO A FILE:</h2>
<pre>
    $query-&gt;save(\*FILEHANDLE)
</pre>
<p class="Pp">This will write the current state of the form to the provided
    filehandle. You can read it back in by providing a filehandle to the
    <i>new()</i> method. Note that the filehandle can be a file, a pipe, or
    whatever!</p>
<p class="Pp">The format of the saved file is:</p>
<p class="Pp"></p>
<pre>
        NAME1=VALUE1
        NAME1=VALUE1'
        NAME2=VALUE2
        NAME3=VALUE3
        =
</pre>
<p class="Pp">Both name and value are URL escaped. Multi-valued CGI parameters
    are represented as repeated names. A session record is delimited by a single
    = symbol. You can write out multiple records and read them back in with
    several calls to <b>new</b>. You can do this across several sessions by
    opening the file in append mode, allowing you to create primitive guest
    books, or to keep a history of users' queries. Here's a short example of
    creating multiple session records:</p>
<p class="Pp"></p>
<pre>
   use CGI;

   open (OUT,'&gt;&gt;','test.out') || die;
   $records = 5;
   for (0..$records) {
       my $q = CGI-&gt;new;
       $q-&gt;param(-name=&gt;'counter',-value=&gt;$_);
       $q-&gt;save(\*OUT);
   }
   close OUT;

   # reopen for reading
   open (IN,'&lt;','test.out') || die;
   while (!eof(IN)) {
       my $q = CGI-&gt;new(\*IN);
       print $q-&gt;param('counter'),&quot;\n&quot;;
   }
</pre>
<p class="Pp">The file format used for save/restore is identical to that used by
    the Whitehead Genome Center's data exchange format &quot;Boulderio&quot;,
    and can be manipulated and even databased using Boulderio utilities. See</p>
<p class="Pp"></p>
<pre>
  http://stein.cshl.org/boulder/
</pre>
<p class="Pp">for further details.</p>
<p class="Pp">If you wish to use this method from the function-oriented (non-OO)
    interface, the exported name for this method is
    <b></b><b><i>save_parameters()</i></b><b></b>.</p>
</section>
<section class="Ss">
<h2 class="Ss">RETRIEVING CGI ERRORS</h2>
<p class="Pp">Errors can occur while processing user input, particularly when
    processing uploaded files. When these errors occur, CGI will stop processing
    and return an empty parameter list. You can test for the existence and
    nature of errors using the <i></i><i>cgi_error()</i><i></i> function. The
    error messages are formatted as HTTP status codes. You can either
    incorporate the error text into an HTML page, or use it as the value of the
    HTTP status:</p>
<p class="Pp"></p>
<pre>
    my $error = $q-&gt;cgi_error;
    if ($error) {
        print $q-&gt;header(-status=&gt;$error),
              $q-&gt;start_html('Problems'),
              $q-&gt;h2('Request not processed'),
              $q-&gt;strong($error);
        exit 0;
    }
</pre>
<p class="Pp">When using the function-oriented interface (see the next section),
    errors may only occur the first time you call <i></i><i>param()</i><i></i>.
    Be ready for this!</p>
</section>
<section class="Ss">
<h2 class="Ss">USING THE FUNCTION-ORIENTED INTERFACE</h2>
<p class="Pp">To use the function-oriented interface, you must specify which
    CGI.pm routines or sets of routines to import into your script's namespace.
    There is a small overhead associated with this importation, but it isn't
    much.</p>
<p class="Pp"></p>
<pre>
   use CGI &lt;list of methods&gt;;
</pre>
<p class="Pp">The listed methods will be imported into the current package; you
    can call them directly without creating a CGI object first. This example
    shows how to import the <b></b><b><i>param()</i></b><b></b> and
    <b></b><b><i>header()</i></b><b></b> methods, and then use them
  directly:</p>
<p class="Pp"></p>
<pre>
   use CGI 'param','header';
   print header('text/plain');
   $zipcode = param('zipcode');
</pre>
<p class="Pp">More frequently, you'll import common sets of functions by
    referring to the groups by name. All function sets are preceded with a
    &quot;:&quot; character as in &quot;:html3&quot; (for tags defined in the
    HTML 3 standard).</p>
<p class="Pp">Here is a list of the function sets you can import:</p>
<dl class="Bl-tag">
  <dt><b>:cgi</b></dt>
  <dd>Import all CGI-handling methods, such as
      <b></b><b><i>param()</i></b><b></b>,
      <b></b><b><i>path_info()</i></b><b></b> and the like.</dd>
  <dt><b>:form</b></dt>
  <dd>Import all fill-out form generating methods, such as
      <b></b><b><i>textfield()</i></b><b></b>.</dd>
  <dt><b>:html2</b></dt>
  <dd>Import all methods that generate HTML 2.0 standard elements.</dd>
  <dt><b>:html3</b></dt>
  <dd>Import all methods that generate HTML 3.0 elements (such as &lt;table&gt;,
      &lt;super&gt; and &lt;sub&gt;).</dd>
  <dt><b>:html4</b></dt>
  <dd>Import all methods that generate HTML 4 elements (such as &lt;abbrev&gt;,
      &lt;acronym&gt; and &lt;thead&gt;).</dd>
  <dt><b>:netscape</b></dt>
  <dd>Import the &lt;blink&gt;, &lt;fontsize&gt; and &lt;center&gt; tags.</dd>
  <dt><b>:html</b></dt>
  <dd>Import all HTML-generating shortcuts (i.e. 'html2', 'html3', 'html4' and
      'netscape')</dd>
  <dt><b>:standard</b></dt>
  <dd>Import &quot;standard&quot; features, 'html2', 'html3', 'html4', 'form'
      and 'cgi'.</dd>
  <dt><b>:all</b></dt>
  <dd>Import all the available methods. For the full list, see the CGI.pm code,
      where the variable <span class="Li">%EXPORT_TAGS</span> is defined.</dd>
</dl>
<p class="Pp">If you import a function name that is not part of CGI.pm, the
    module will treat it as a new HTML tag and generate the appropriate
    subroutine. You can then use it like any other HTML tag. This is to provide
    for the rapidly-evolving HTML &quot;standard.&quot; For example, say
    Microsoft comes out with a new tag called &lt;gradient&gt; (which causes the
    user's desktop to be flooded with a rotating gradient fill until his machine
    reboots). You don't need to wait for a new version of CGI.pm to start using
    it immediately:</p>
<p class="Pp"></p>
<pre>
   use CGI qw/:standard :html3 gradient/;
   print gradient({-start=&gt;'red',-end=&gt;'blue'});
</pre>
<p class="Pp">Note that in the interests of execution speed CGI.pm does
    <b>not</b> use the standard Exporter syntax for specifying load symbols.
    This may change in the future.</p>
<p class="Pp">If you import any of the state-maintaining CGI or form-generating
    methods, a default CGI object will be created and initialized automatically
    the first time you use any of the methods that require one to be present.
    This includes <b></b><b><i>param()</i></b><b></b>,
    <b></b><b><i>textfield()</i></b><b></b>,
    <b></b><b><i>submit()</i></b><b></b> and the like. (If you need direct
    access to the CGI object, you can find it in the global variable
    <b></b><b>$CGI::Q</b><b></b>). By importing CGI.pm methods, you can create
    visually elegant scripts:</p>
<p class="Pp"></p>
<pre>
   use CGI qw/:standard/;
   print 
       header,
       start_html('Simple Script'),
       h1('Simple Script'),
       start_form,
       &quot;What's your name? &quot;,textfield('name'),p,
       &quot;What's the combination?&quot;,
       checkbox_group(-name=&gt;'words',
                      -values=&gt;['eenie','meenie','minie','moe'],
                      -defaults=&gt;['eenie','moe']),p,
       &quot;What's your favorite color?&quot;,
       popup_menu(-name=&gt;'color',
                  -values=&gt;['red','green','blue','chartreuse']),p,
       submit,
       end_form,
       hr,&quot;\n&quot;;

    if (param) {
       print 
           &quot;Your name is &quot;,em(param('name')),p,
           &quot;The keywords are: &quot;,em(join(&quot;, &quot;,param('words'))),p,
           &quot;Your favorite color is &quot;,em(param('color')),&quot;.\n&quot;;
    }
    print end_html;
</pre>
</section>
<section class="Ss">
<h2 class="Ss">PRAGMAS</h2>
<p class="Pp">In addition to the function sets, there are a number of pragmas
    that you can import. Pragmas, which are always preceded by a hyphen, change
    the way that CGI.pm functions in various ways. Pragmas, function sets, and
    individual functions can all be imported in the same <i>use()</i> line. For
    example, the following use statement imports the standard set of functions
    and enables debugging mode (pragma -debug):</p>
<p class="Pp"></p>
<pre>
   use CGI qw/:standard -debug/;
</pre>
<p class="Pp">The current list of pragmas is as follows:</p>
<dl class="Bl-tag">
  <dt id="any"><a class="permalink" href="#any">-any</a></dt>
  <dd>When you <i>use CGI -any</i>, then any method that the query object
      doesn't recognize will be interpreted as a new HTML tag. This allows you
      to support the next <i>ad hoc</i> HTML extension. This lets you go wild
      with new and unsupported tags:
    <p class="Pp"></p>
    <pre>
   use CGI qw(-any);
   $q=CGI-&gt;new;
   print $q-&gt;gradient({speed=&gt;'fast',start=&gt;'red',end=&gt;'blue'});
    </pre>
    <p class="Pp">Since using &lt;cite&gt;any&lt;/cite&gt; causes any mistyped
        method name to be interpreted as an HTML tag, use it with care or not at
        all.</p>
  </dd>
  <dt id="compile"><a class="permalink" href="#compile">-compile</a></dt>
  <dd>This causes the indicated autoloaded methods to be compiled up front,
      rather than deferred to later. This is useful for scripts that run for an
      extended period of time under FastCGI or mod_perl, and for those destined
      to be crunched by Malcolm Beattie's Perl compiler. Use it in conjunction
      with the methods or method families you plan to use.
    <p class="Pp"></p>
    <pre>
   use CGI qw(-compile :standard :html3);
    </pre>
    <p class="Pp">or even</p>
    <p class="Pp"></p>
    <pre>
   use CGI qw(-compile :all);
    </pre>
    <p class="Pp">Note that using the -compile pragma in this way will always
        have the effect of importing the compiled functions into the current
        namespace. If you want to compile without importing use the
        <i>compile()</i> method instead:</p>
    <p class="Pp"></p>
    <pre>
   use CGI();
   CGI-&gt;compile();
    </pre>
    <p class="Pp">This is particularly useful in a mod_perl environment, in
        which you might want to precompile all CGI routines in a startup script,
        and then import the functions individually in each mod_perl script.</p>
  </dd>
  <dt id="nosticky"><a class="permalink" href="#nosticky">-nosticky</a></dt>
  <dd>By default the CGI module implements a state-preserving behavior called
      &quot;sticky&quot; fields. The way this works is that if you are
      regenerating a form, the methods that generate the form field values will
      interrogate <i>param()</i> to see if similarly-named parameters are
      present in the query string. If they find a like-named parameter, they
      will use it to set their default values.
    <p class="Pp">Sometimes this isn't what you want. The <b>-nosticky</b>
        pragma prevents this behavior. You can also selectively change the
        sticky behavior in each element that you generate.</p>
  </dd>
  <dt id="tabindex"><a class="permalink" href="#tabindex">-tabindex</a></dt>
  <dd>Automatically add tab index attributes to each form field. With this
      option turned off, you can still add tab indexes manually by passing a
      -tabindex option to each field-generating method.</dd>
  <dt id="no_undef_params"><a class="permalink" href="#no_undef_params">-no_undef_params</a></dt>
  <dd>This keeps CGI.pm from including undef params in the parameter list.</dd>
  <dt id="no_xhtml"><a class="permalink" href="#no_xhtml">-no_xhtml</a></dt>
  <dd>By default, CGI.pm versions 2.69 and higher emit XHTML
      (http://www.w3.org/TR/xhtml1/). The -no_xhtml pragma disables this
      feature. Thanks to Michalis Kabrianis &lt;kabrianis@hellug.gr&gt; for this
      feature.
    <p class="Pp">If <i>start_html()</i>'s -dtd parameter specifies an HTML 2.0,
        3.2, 4.0 or 4.01 DTD, XHTML will automatically be disabled without
        needing to use this pragma.</p>
  </dd>
  <dt id="utf8"><a class="permalink" href="#utf8">-utf8</a></dt>
  <dd>This makes CGI.pm treat all parameters as UTF-8 strings. Use this with
      care, as it will interfere with the processing of binary uploads. It is
      better to manually select which fields are expected to return utf-8
      strings and convert them using code like this:
    <p class="Pp"></p>
    <pre>
 use Encode;
 my $arg = decode utf8=&gt;param('foo');
    </pre>
  </dd>
  <dt id="nph"><a class="permalink" href="#nph">-nph</a></dt>
  <dd>This makes CGI.pm produce a header appropriate for an NPH (no parsed
      header) script. You may need to do other things as well to tell the server
      that the script is NPH. See the discussion of NPH scripts below.</dd>
  <dt id="newstyle_urls"><a class="permalink" href="#newstyle_urls">-newstyle_urls</a></dt>
  <dd>Separate the name=value pairs in CGI parameter query strings with
      semicolons rather than ampersands. For example:
    <p class="Pp"></p>
    <pre>
   ?name=fred;age=24;favorite_color=3
    </pre>
    <p class="Pp">Semicolon-delimited query strings are always accepted, and
        will be emitted by <i>self_url()</i> and <i>query_string()</i>.
        newstyle_urls became the default in version 2.64.</p>
  </dd>
  <dt id="oldstyle_urls"><a class="permalink" href="#oldstyle_urls">-oldstyle_urls</a></dt>
  <dd>Separate the name=value pairs in CGI parameter query strings with
      ampersands rather than semicolons. This is no longer the default.</dd>
  <dt id="autoload"><a class="permalink" href="#autoload">-autoload</a></dt>
  <dd>This overrides the autoloader so that any function in your program that is
      not recognized is referred to CGI.pm for possible evaluation. This allows
      you to use all the CGI.pm functions without adding them to your symbol
      table, which is of concern for mod_perl users who are worried about memory
      consumption. <i>Warning:</i> when <i>-autoload</i> is in effect, you
      cannot use &quot;poetry mode&quot; (functions without the parenthesis).
      Use <i></i><i>hr()</i><i></i> rather than <i>hr</i>, or add something like
      <i>use subs qw/hr p header/</i> to the top of your script.</dd>
  <dt id="no_debug"><a class="permalink" href="#no_debug">-no_debug</a></dt>
  <dd>This turns off the command-line processing features. If you want to run a
      CGI.pm script from the command line to produce HTML, and you don't want it
      to read CGI parameters from the command line or STDIN, then use this
      pragma:
    <p class="Pp"></p>
    <pre>
   use CGI qw(-no_debug :standard);
    </pre>
  </dd>
  <dt id="debug"><a class="permalink" href="#debug">-debug</a></dt>
  <dd>This turns on full debugging. In addition to reading CGI arguments from
      the command-line processing, CGI.pm will pause and try to read arguments
      from STDIN, producing the message &quot;(offline mode: enter name=value
      pairs on standard input)&quot; features.
    <p class="Pp">See the section on debugging for more details.</p>
  </dd>
  <dt id="private_tempfiles"><a class="permalink" href="#private_tempfiles">-private_tempfiles</a></dt>
  <dd>CGI.pm can process uploaded file. Ordinarily it spools the uploaded file
      to a temporary directory, then deletes the file when done. However, this
      opens the risk of eavesdropping as described in the file upload section.
      Another CGI script author could peek at this data during the upload, even
      if it is confidential information. On Unix systems, the -private_tempfiles
      pragma will cause the temporary file to be unlinked as soon as it is
      opened and before any data is written into it, reducing, but not
      eliminating the risk of eavesdropping (there is still a potential race
      condition). To make life harder for the attacker, the program chooses
      tempfile names by calculating a 32 bit checksum of the incoming HTTP
      headers.
    <p class="Pp">To ensure that the temporary file cannot be read by other CGI
        scripts, use suEXEC or a CGI wrapper program to run your script. The
        temporary file is created with mode 0600 (neither world nor group
        readable).</p>
    <p class="Pp">The temporary directory is selected using the following
        algorithm:</p>
    <p class="Pp"></p>
    <pre>
    1. if $CGITempFile::TMPDIRECTORY is already set, use that

    2. if the environment variable TMPDIR exists, use the location
    indicated.

    3. Otherwise try the locations /usr/tmp, /var/tmp, C:\temp,
    /tmp, /temp, ::Temporary Items, and \WWW_ROOT.
    </pre>
    <p class="Pp">Each of these locations is checked that it is a directory and
        is writable. If not, the algorithm tries the next choice.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss">SPECIAL FORMS FOR IMPORTING HTML-TAG FUNCTIONS</h2>
<p class="Pp">Many of the methods generate HTML tags. As described below, tag
    functions automatically generate both the opening and closing tags. For
    example:</p>
<p class="Pp"></p>
<pre>
  print h1('Level 1 Header');
</pre>
<p class="Pp">produces</p>
<p class="Pp"></p>
<pre>
  &lt;h1&gt;Level 1 Header&lt;/h1&gt;
</pre>
<p class="Pp">There will be some times when you want to produce the start and
    end tags yourself. In this case, you can use the form start_<i>tag_name</i>
    and end_<i>tag_name</i>, as in:</p>
<p class="Pp"></p>
<pre>
  print start_h1,'Level 1 Header',end_h1;
</pre>
<p class="Pp">With a few exceptions (described below), start_<i>tag_name</i> and
    end_<i>tag_name</i> functions are not generated automatically when you
    <i>use CGI</i>. However, you can specify the tags you want to generate
    <i>start/end</i> functions for by putting an asterisk in front of their
    name, or, alternatively, requesting either &quot;start_<i>tag_name</i>&quot;
    or &quot;end_<i>tag_name</i>&quot; in the import list.</p>
<p class="Pp">Example:</p>
<p class="Pp"></p>
<pre>
  use CGI qw/:standard *table start_ul/;
</pre>
<p class="Pp">In this example, the following functions are generated in addition
    to the standard ones:</p>
<dl class="Bl-tag">
  <dt>1. <i>start_table()</i> (generates a &lt;table&gt; tag)</dt>
  <dd></dd>
  <dt>2. <i>end_table()</i> (generates a &lt;/table&gt; tag)</dt>
  <dd></dd>
  <dt>3. <i>start_ul()</i> (generates a &lt;ul&gt; tag)</dt>
  <dd></dd>
  <dt>4. <i>end_ul()</i> (generates a &lt;/ul&gt; tag)</dt>
  <dd></dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="GENERATING_DYNAMIC_DOCUMENTS"><a class="permalink" href="#GENERATING_DYNAMIC_DOCUMENTS">GENERATING
  DYNAMIC DOCUMENTS</a></h1>
<p class="Pp">Most of CGI.pm's functions deal with creating documents on the
    fly. Generally you will produce the HTTP header first, followed by the
    document itself. CGI.pm provides functions for generating HTTP headers of
    various types as well as for generating HTML. For creating GIF images, see
    the GD.pm module.</p>
<p class="Pp">Each of these functions produces a fragment of HTML or HTTP which
    you can print out directly so that it displays in the browser window, append
    to a string, or save to a file for later use.</p>
<section class="Ss">
<h2 class="Ss">CREATING A STANDARD HTTP HEADER:</h2>
<p class="Pp">Normally the first thing you will do in any CGI script is print
    out an HTTP header. This tells the browser what type of document to expect,
    and gives other optional information, such as the language, expiration date,
    and whether to cache the document. The header can also be manipulated for
    special purposes, such as server push and pay per view pages.</p>
<p class="Pp"></p>
<pre>
        print header;

             -or-

        print header('image/gif');

             -or-

        print header('text/html','204 No response');

             -or-

        print header(-type=&gt;'image/gif',
                             -nph=&gt;1,
                             -status=&gt;'402 Payment required',
                             -expires=&gt;'+3d',
                             -cookie=&gt;$cookie,
                             -charset=&gt;'utf-7',
                             -attachment=&gt;'foo.gif',
                             -Cost=&gt;'$2.00');
</pre>
<p class="Pp"><i>header()</i> returns the Content-type: header. You can provide
    your own MIME type if you choose, otherwise it defaults to text/html. An
    optional second parameter specifies the status code and a human-readable
    message. For example, you can specify 204, &quot;No response&quot; to create
    a script that tells the browser to do nothing at all. Note that RFC 2616
    expects the human-readable phase to be there as well as the numeric status
    code.</p>
<p class="Pp">The last example shows the named argument style for passing
    arguments to the CGI methods using named parameters. Recognized parameters
    are <b>-type</b>, <b>-status</b>, <b>-expires</b>, and <b>-cookie</b>. Any
    other named parameters will be stripped of their initial hyphens and turned
    into header fields, allowing you to specify any HTTP header you desire.
    Internal underscores will be turned into hyphens:</p>
<p class="Pp"></p>
<pre>
    print header(-Content_length=&gt;3002);
</pre>
<p class="Pp">Most browsers will not cache the output from CGI scripts. Every
    time the browser reloads the page, the script is invoked anew. You can
    change this behavior with the <b>-expires</b> parameter. When you specify an
    absolute or relative expiration interval with this parameter, some browsers
    and proxy servers will cache the script's output until the indicated
    expiration date. The following forms are all valid for the -expires
  field:</p>
<p class="Pp"></p>
<pre>
        +30s                              30 seconds from now
        +10m                              ten minutes from now
        +1h                               one hour from now
        -1d                               yesterday (i.e. &quot;ASAP!&quot;)
        now                               immediately
        +3M                               in three months
        +10y                              in ten years time
        Thursday, 25-Apr-1999 00:40:33 GMT  at the indicated time &amp; date
</pre>
<p class="Pp">The <b>-cookie</b> parameter generates a header that tells the
    browser to provide a &quot;magic cookie&quot; during all subsequent
    transactions with your script. Some cookies have a special format that
    includes interesting attributes such as expiration time. Use the
    <i>cookie()</i> method to create and retrieve session cookies.</p>
<p class="Pp">The <b>-nph</b> parameter, if set to a true value, will issue the
    correct headers to work with a NPH (no-parse-header) script. This is
    important to use with certain servers that expect all their scripts to be
    NPH.</p>
<p class="Pp">The <b>-charset</b> parameter can be used to control the character
    set sent to the browser. If not provided, defaults to ISO-8859-1. As a side
    effect, this sets the <i>charset()</i> method as well.</p>
<p class="Pp">The <b>-attachment</b> parameter can be used to turn the page into
    an attachment. Instead of displaying the page, some browsers will prompt the
    user to save it to disk. The value of the argument is the suggested name for
    the saved file. In order for this to work, you may have to set the
    <b>-type</b> to &quot;application/octet-stream&quot;.</p>
<p class="Pp">The <b>-p3p</b> parameter will add a P3P tag to the outgoing
    header. The parameter can be an arrayref or a space-delimited string of P3P
    tags. For example:</p>
<p class="Pp"></p>
<pre>
   print header(-p3p=&gt;[qw(CAO DSP LAW CURa)]);
   print header(-p3p=&gt;'CAO DSP LAW CURa');
</pre>
<p class="Pp">In either case, the outgoing header will be formatted as:</p>
<p class="Pp"></p>
<pre>
  P3P: policyref=&quot;/w3c/p3p.xml&quot; cp=&quot;CAO DSP LAW CURa&quot;
</pre>
<p class="Pp">CGI.pm will accept valid multi-line headers when each line is
    separated with a CRLF value (&quot;\r\n&quot; on most platforms) followed by
    at least one space. For example:</p>
<p class="Pp"></p>
<pre>
    print header( -ingredients =&gt; &quot;ham\r\n\seggs\r\n\sbacon&quot; );
</pre>
<p class="Pp">Invalid multi-line header input will trigger in an exception. When
    multi-line headers are received, CGI.pm will always output them back as a
    single line, according to the folding rules of RFC 2616: the newlines will
    be removed, while the white space remains.</p>
</section>
<section class="Ss">
<h2 class="Ss">GENERATING A REDIRECTION HEADER</h2>
<pre>
   print $q-&gt;redirect('http://somewhere.else/in/movie/land');
</pre>
<p class="Pp">Sometimes you don't want to produce a document yourself, but
    simply redirect the browser elsewhere, perhaps choosing a URL based on the
    time of day or the identity of the user.</p>
<p class="Pp">The <i>redirect()</i> method redirects the browser to a different
    URL. If you use redirection like this, you should <b>not</b> print out a
    header as well.</p>
<p class="Pp">You should always use full URLs (including the http: or ftp: part)
    in redirection requests. Relative URLs will not work correctly.</p>
<p class="Pp">You can also use named arguments:</p>
<p class="Pp"></p>
<pre>
    print $q-&gt;redirect(
        -uri=&gt;'http://somewhere.else/in/movie/land',
            -nph=&gt;1,
         -status=&gt;'301 Moved Permanently');
</pre>
<p class="Pp">All names arguments recognized by <i>header()</i> are also
    recognized by <i>redirect()</i>. However, most HTTP headers, including those
    generated by -cookie and -target, are ignored by the browser.</p>
<p class="Pp">The <b>-nph</b> parameter, if set to a true value, will issue the
    correct headers to work with a NPH (no-parse-header) script. This is
    important to use with certain servers, such as Microsoft IIS, which expect
    all their scripts to be NPH.</p>
<p class="Pp">The <b>-status</b> parameter will set the status of the redirect.
    HTTP defines three different possible redirection status codes:</p>
<p class="Pp"></p>
<pre>
     301 Moved Permanently
     302 Found
     303 See Other
</pre>
<p class="Pp">The default if not specified is 302, which means &quot;moved
    temporarily.&quot; You may change the status to another status code if you
    wish. Be advised that changing the status to anything other than 301, 302 or
    303 will probably break redirection.</p>
<p class="Pp">Note that the human-readable phrase is also expected to be present
    to conform with RFC 2616, section 6.1.</p>
</section>
<section class="Ss">
<h2 class="Ss">CREATING THE HTML DOCUMENT HEADER</h2>
<pre>
   print start_html(-title=&gt;'Secrets of the Pyramids',
                            -author=&gt;'fred@capricorn.org',
                            -base=&gt;'true',
                            -target=&gt;'_blank',
                            -meta=&gt;{'keywords'=&gt;'pharaoh secret mummy',
                                    'copyright'=&gt;'copyright 1996 King Tut'},
                            -style=&gt;{'src'=&gt;'/styles/style1.css'},
                            -BGCOLOR=&gt;'blue');
</pre>
<p class="Pp">The <i>start_html()</i> routine creates the top of the page, along
    with a lot of optional information that controls the page's appearance and
    behavior.</p>
<p class="Pp">This method returns a canned HTML header and the opening
    &lt;body&gt; tag. All parameters are optional. In the named parameter form,
    recognized parameters are -title, -author, -base, -xbase, -dtd, -lang and
    -target (see below for the explanation). Any additional parameters you
    provide, such as the unofficial BGCOLOR attribute, are added to the
    &lt;body&gt; tag. Additional parameters must be proceeded by a hyphen.</p>
<p class="Pp">The argument <b>-xbase</b> allows you to provide an HREF for the
    &lt;base&gt; tag different from the current location, as in</p>
<p class="Pp"></p>
<pre>
    -xbase=&gt;&quot;http://home.mcom.com/&quot;
</pre>
<p class="Pp">All relative links will be interpreted relative to this tag.</p>
<p class="Pp">The argument <b>-target</b> allows you to provide a default target
    frame for all the links and fill-out forms on the page. <b>This is a</b>
    <b>non-standard HTTP feature which only works with some browsers!</b></p>
<p class="Pp"></p>
<pre>
    -target=&gt;&quot;answer_window&quot;
</pre>
<p class="Pp">All relative links will be interpreted relative to this tag. You
    add arbitrary meta information to the header with the <b>-meta</b> argument.
    This argument expects a reference to a hash containing name/value pairs of
    meta information. These will be turned into a series of header &lt;meta&gt;
    tags that look something like this:</p>
<p class="Pp"></p>
<pre>
    &lt;meta name=&quot;keywords&quot; content=&quot;pharaoh secret mummy&quot;&gt;
    &lt;meta name=&quot;description&quot; content=&quot;copyright 1996 King Tut&quot;&gt;
</pre>
<p class="Pp">To create an HTTP-EQUIV type of &lt;meta&gt; tag, use
    <b>-head</b>, described below.</p>
<p class="Pp">The <b>-style</b> argument is used to incorporate cascading
    stylesheets into your code. See the section on CASCADING STYLESHEETS for
    more information.</p>
<p class="Pp">The <b>-lang</b> argument is used to incorporate a language
    attribute into the &lt;html&gt; tag. For example:</p>
<p class="Pp"></p>
<pre>
    print $q-&gt;start_html(-lang=&gt;'fr-CA');
</pre>
<p class="Pp">The default if not specified is &quot;en-US&quot; for US English,
    unless the -dtd parameter specifies an HTML 2.0 or 3.2 DTD, in which case
    the lang attribute is left off. You can force the lang attribute to left off
    in other cases by passing an empty string (-lang=&gt;'').</p>
<p class="Pp">The <b>-encoding</b> argument can be used to specify the character
    set for XHTML. It defaults to iso-8859-1 if not specified.</p>
<p class="Pp">The <b>-dtd</b> argument can be used to specify a public DTD
    identifier string. For example:</p>
<p class="Pp"></p>
<pre>
    -dtd =&gt; '-//W3C//DTD HTML 4.01 Transitional//EN')
</pre>
<p class="Pp">Alternatively, it can take public and system DTD identifiers as an
    array:</p>
<p class="Pp"></p>
<pre>
    dtd =&gt; [ '-//W3C//DTD HTML 4.01 Transitional//EN', 'http://www.w3.org/TR/html4/loose.dtd' ]
</pre>
<p class="Pp">For the public DTD identifier to be considered, it must be valid.
    Otherwise it will be replaced by the default DTD. If the public DTD contains
    'XHTML', CGI.pm will emit XML.</p>
<p class="Pp">The <b>-declare_xml</b> argument, when used in conjunction with
    XHTML, will put a &lt;?xml&gt; declaration at the top of the HTML header.
    The sole purpose of this declaration is to declare the character set
    encoding. In the absence of -declare_xml, the output HTML will contain a
    &lt;meta&gt; tag that specifies the encoding, allowing the HTML to pass most
    validators. The default for -declare_xml is false.</p>
<p class="Pp">You can place other arbitrary HTML elements to the &lt;head&gt;
    section with the <b>-head</b> tag. For example, to place a &lt;link&gt;
    element in the head section, use this:</p>
<p class="Pp"></p>
<pre>
    print start_html(-head=&gt;Link({-rel=&gt;'shortcut icon',
                                  -href=&gt;'favicon.ico'}));
</pre>
<p class="Pp">To incorporate multiple HTML elements into the &lt;head&gt;
    section, just pass an array reference:</p>
<p class="Pp"></p>
<pre>
    print start_html(-head=&gt;[ 
                             Link({-rel=&gt;'next',
                                   -href=&gt;'http://www.capricorn.com/s2.html'}),
                             Link({-rel=&gt;'previous',
                                   -href=&gt;'http://www.capricorn.com/s1.html'})
                             ]
                     );
</pre>
<p class="Pp">And here's how to create an HTTP-EQUIV &lt;meta&gt; tag:</p>
<p class="Pp"></p>
<pre>
      print start_html(-head=&gt;meta({-http_equiv =&gt; 'Content-Type',
                                    -content    =&gt; 'text/html'}))
</pre>
<p class="Pp">JAVASCRIPTING: The <b>-script</b>, <b>-noScript</b>,
    <b>-onLoad</b>, <b>-onMouseOver</b>, <b>-onMouseOut</b> and <b>-onUnload</b>
    parameters are used to add JavaScript calls to your pages. <b>-script</b>
    should point to a block of text containing JavaScript function definitions.
    This block will be placed within a &lt;script&gt; block inside the HTML (not
    HTTP) header. The block is placed in the header in order to give your page a
    fighting chance of having all its JavaScript functions in place even if the
    user presses the stop button before the page has loaded completely. CGI.pm
    attempts to format the script in such a way that JavaScript-naive browsers
    will not choke on the code: unfortunately there are some browsers, such as
    Chimera for Unix, that get confused by it nevertheless.</p>
<p class="Pp">The <b>-onLoad</b> and <b>-onUnload</b> parameters point to
    fragments of JavaScript code to execute when the page is respectively opened
    and closed by the browser. Usually these parameters are calls to functions
    defined in the <b>-script</b> field:</p>
<p class="Pp"></p>
<pre>
      $query = CGI-&gt;new;
      print header;
      $JSCRIPT=&lt;&lt;END;
      // Ask a silly question
      function riddle_me_this() {
         var r = prompt(&quot;What walks on four legs in the morning, &quot; +
                       &quot;two legs in the afternoon, &quot; +
                       &quot;and three legs in the evening?&quot;);
         response(r);
      }
      // Get a silly answer
      function response(answer) {
         if (answer == &quot;man&quot;)
            alert(&quot;Right you are!&quot;);
         else
            alert(&quot;Wrong!  Guess again.&quot;);
      }
      END
      print start_html(-title=&gt;'The Riddle of the Sphinx',
                               -script=&gt;$JSCRIPT);
</pre>
<p class="Pp">Use the <b>-noScript</b> parameter to pass some HTML text that
    will be displayed on browsers that do not have JavaScript (or browsers where
    JavaScript is turned off).</p>
<p class="Pp">The &lt;script&gt; tag, has several attributes including
    &quot;type&quot;, &quot;charset&quot; and &quot;src&quot;. &quot;src&quot;
    allows you to keep JavaScript code in an external file. To use these
    attributes pass a HASH reference in the <b>-script</b> parameter containing
    one or more of -type, -src, or -code:</p>
<p class="Pp"></p>
<pre>
    print $q-&gt;start_html(-title=&gt;'The Riddle of the Sphinx',
                         -script=&gt;{-type=&gt;'JAVASCRIPT',
                                   -src=&gt;'/javascript/sphinx.js'}
                         );

    print $q-&gt;(-title=&gt;'The Riddle of the Sphinx',
               -script=&gt;{-type=&gt;'PERLSCRIPT',
                         -code=&gt;'print &quot;hello world!\n;&quot;'}
               );
</pre>
<p class="Pp">A final feature allows you to incorporate multiple &lt;script&gt;
    sections into the header. Just pass the list of script sections as an array
    reference. this allows you to specify different source files for different
    dialects of JavaScript. Example:</p>
<p class="Pp"></p>
<pre>
     print $q-&gt;start_html(-title=&gt;'The Riddle of the Sphinx',
                          -script=&gt;[
                                    { -type =&gt; 'text/javascript',
                                      -src      =&gt; '/javascript/utilities10.js'
                                    },
                                    { -type =&gt; 'text/javascript',
                                      -src      =&gt; '/javascript/utilities11.js'
                                    },
                                    { -type =&gt; 'text/jscript',
                                      -src      =&gt; '/javascript/utilities12.js'
                                    },
                                    { -type =&gt; 'text/ecmascript',
                                      -src      =&gt; '/javascript/utilities219.js'
                                    }
                                 ]
                             );
</pre>
<p class="Pp">The option &quot;-language&quot; is a synonym for -type, and is
    supported for backwards compatibility.</p>
<p class="Pp">The old-style positional parameters are as follows:</p>
<dl class="Bl-tag">
  <dt id="Parameters:"><a class="permalink" href="#Parameters:"><b>Parameters:</b></a></dt>
  <dd></dd>
  <dt>1.</dt>
  <dd>The title</dd>
  <dt>2.</dt>
  <dd>The author's e-mail address (will create a &lt;link
      rev=&quot;MADE&quot;&gt; tag if present</dd>
  <dt>3.</dt>
  <dd>A 'true' flag if you want to include a &lt;base&gt; tag in the header.
      This helps resolve relative addresses to absolute ones when the document
      is moved, but makes the document hierarchy non-portable. Use with
    care!</dd>
  <dt>4, 5, 6...</dt>
  <dd>Any other parameters you want to include in the &lt;body&gt; tag. This is
      a good place to put HTML extensions, such as colors and wallpaper
      patterns.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss">ENDING THE HTML DOCUMENT:</h2>
<pre>
        print $q-&gt;end_html;
</pre>
<p class="Pp">This ends an HTML document by printing the
    &lt;/body&gt;&lt;/html&gt; tags.</p>
</section>
<section class="Ss">
<h2 class="Ss">CREATING A SELF-REFERENCING URL THAT PRESERVES STATE
  INFORMATION:</h2>
<pre>
    $myself = $q-&gt;self_url;
    print q(&lt;a href=&quot;$myself&quot;&gt;I'm talking to myself.&lt;/a&gt;);
</pre>
<p class="Pp"><i>self_url()</i> will return a URL, that, when selected, will
    reinvoke this script with all its state information intact. This is most
    useful when you want to jump around within the document using internal
    anchors but you don't want to disrupt the current contents of the form(s).
    Something like this will do the trick.</p>
<p class="Pp"></p>
<pre>
     $myself = $q-&gt;self_url;
     print &quot;&lt;a href=\&quot;$myself#table1\&quot;&gt;See table 1&lt;/a&gt;&quot;;
     print &quot;&lt;a href=\&quot;$myself#table2\&quot;&gt;See table 2&lt;/a&gt;&quot;;
     print &quot;&lt;a href=\&quot;$myself#yourself\&quot;&gt;See for yourself&lt;/a&gt;&quot;;
</pre>
<p class="Pp">If you want more control over what's returned, using the
    <b></b><b><i>url()</i></b><b></b> method instead.</p>
<p class="Pp">You can also retrieve the unprocessed query string with
    <i>query_string()</i>:</p>
<p class="Pp"></p>
<pre>
    $the_string = $q-&gt;query_string();
</pre>
<p class="Pp">The behavior of calling query_string is currently undefined when
    the HTTP method is something other than GET.</p>
</section>
<section class="Ss">
<h2 class="Ss">OBTAINING THE SCRIPT'S URL</h2>
<pre>
    $full_url      = url();
    $full_url      = url(-full=&gt;1);  #alternative syntax
    $relative_url  = url(-relative=&gt;1);
    $absolute_url  = url(-absolute=&gt;1);
    $url_with_path = url(-path_info=&gt;1);
    $url_with_path_and_query = url(-path_info=&gt;1,-query=&gt;1);
    $netloc        = url(-base =&gt; 1);
</pre>
<p class="Pp"><b></b><b><i>url()</i></b><b></b> returns the script's URL in a
    variety of formats. Called without any arguments, it returns the full form
    of the URL, including host name and port number</p>
<p class="Pp"></p>
<pre>
    http://your.host.com/path/to/script.cgi
</pre>
<p class="Pp">You can modify this format with the following named arguments:</p>
<dl class="Bl-tag">
  <dt id="absolute"><a class="permalink" href="#absolute"><b>-absolute</b></a></dt>
  <dd>If true, produce an absolute URL, e.g.
    <p class="Pp"></p>
    <pre>
    /path/to/script.cgi
    </pre>
  </dd>
  <dt id="relative"><a class="permalink" href="#relative"><b>-relative</b></a></dt>
  <dd>Produce a relative URL. This is useful if you want to reinvoke your script
      with different parameters. For example:
    <p class="Pp"></p>
    <pre>
    script.cgi
    </pre>
  </dd>
  <dt id="full"><a class="permalink" href="#full"><b>-full</b></a></dt>
  <dd>Produce the full URL, exactly as if called without any arguments. This
      overrides the -relative and -absolute arguments.</dd>
  <dt id="path"><a class="permalink" href="#path"><b>-path</b>
    (<b>-path_info</b>)</a></dt>
  <dd>Append the additional path information to the URL. This can be combined
      with <b>-full</b>, <b>-absolute</b> or <b>-relative</b>. <b>-path_info</b>
      is provided as a synonym.</dd>
  <dt id="query"><a class="permalink" href="#query"><b>-query</b>
    (<b>-query_string</b>)</a></dt>
  <dd>Append the query string to the URL. This can be combined with
      <b>-full</b>, <b>-absolute</b> or <b>-relative</b>. <b>-query_string</b>
      is provided as a synonym.</dd>
  <dt id="base"><a class="permalink" href="#base"><b>-base</b></a></dt>
  <dd>Generate just the protocol and net location, as in
    http://www.foo.com:8000</dd>
  <dt id="rewrite"><a class="permalink" href="#rewrite"><b>-rewrite</b></a></dt>
  <dd>If Apache's mod_rewrite is turned on, then the script name and path info
      probably won't match the request that the user sent. Set -rewrite=&gt;1
      (default) to return URLs that match what the user sent (the original
      request URI). Set -rewrite=&gt;0 to return URLs that match the URL after
      mod_rewrite's rules have run.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss">MIXING POST AND URL PARAMETERS</h2>
<pre>
   $color = url_param('color');
</pre>
<p class="Pp">It is possible for a script to receive CGI parameters in the URL
    as well as in the fill-out form by creating a form that POSTs to a URL
    containing a query string (a &quot;?&quot; mark followed by arguments). The
    <b></b><b><i>param()</i></b><b></b> method will always return the contents
    of the POSTed fill-out form, ignoring the URL's query string. To retrieve
    URL parameters, call the <b></b><b><i>url_param()</i></b><b></b> method. Use
    it in the same way as <b></b><b><i>param()</i></b><b></b>. The main
    difference is that it allows you to read the parameters, but not set
  them.</p>
<p class="Pp">Under no circumstances will the contents of the URL query string
    interfere with similarly-named CGI parameters in POSTed forms. If you try to
    mix a URL query string with a form submitted with the GET method, the
    results will not be what you expect.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="CREATING_STANDARD_HTML_ELEMENTS:"><a class="permalink" href="#CREATING_STANDARD_HTML_ELEMENTS:">CREATING
  STANDARD HTML ELEMENTS:</a></h1>
<p class="Pp">CGI.pm defines general HTML shortcut methods for many HTML tags.
    HTML shortcuts are named after a single HTML element and return a fragment
    of HTML text. Example:</p>
<p class="Pp"></p>
<pre>
   print $q-&gt;blockquote(
                     &quot;Many years ago on the island of&quot;,
                     $q-&gt;a({href=&gt;&quot;http://crete.org/&quot;},&quot;Crete&quot;),
                     &quot;there lived a Minotaur named&quot;,
                     $q-&gt;strong(&quot;Fred.&quot;),
                    ),
       $q-&gt;hr;
</pre>
<p class="Pp">This results in the following HTML code (extra newlines have been
    added for readability):</p>
<p class="Pp"></p>
<pre>
   &lt;blockquote&gt;
   Many years ago on the island of
   &lt;a href=&quot;http://crete.org/&quot;&gt;Crete&lt;/a&gt; there lived
   a minotaur named &lt;strong&gt;Fred.&lt;/strong&gt; 
   &lt;/blockquote&gt;
   &lt;hr&gt;
</pre>
<p class="Pp">If you find the syntax for calling the HTML shortcuts awkward, you
    can import them into your namespace and dispense with the object syntax
    completely (see the next section for more details):</p>
<p class="Pp"></p>
<pre>
   use CGI ':standard';
   print blockquote(
      &quot;Many years ago on the island of&quot;,
      a({href=&gt;&quot;http://crete.org/&quot;},&quot;Crete&quot;),
      &quot;there lived a minotaur named&quot;,
      strong(&quot;Fred.&quot;),
      ),
      hr;
</pre>
<section class="Ss">
<h2 class="Ss">PROVIDING ARGUMENTS TO HTML SHORTCUTS</h2>
<p class="Pp">The HTML methods will accept zero, one or multiple arguments. If
    you provide no arguments, you get a single tag:</p>
<p class="Pp"></p>
<pre>
   print hr;    #  &lt;hr&gt;
</pre>
<p class="Pp">If you provide one or more string arguments, they are concatenated
    together with spaces and placed between opening and closing tags:</p>
<p class="Pp"></p>
<pre>
   print h1(&quot;Chapter&quot;,&quot;1&quot;); # &lt;h1&gt;Chapter 1&lt;/h1&gt;&quot;
</pre>
<p class="Pp">If the first argument is a hash reference, then the keys and
    values of the hash become the HTML tag's attributes:</p>
<p class="Pp"></p>
<pre>
   print a({-href=&gt;'fred.html',-target=&gt;'_new'},
      &quot;Open a new frame&quot;);

            &lt;a href=&quot;fred.html&quot;,target=&quot;_new&quot;&gt;Open a new frame&lt;/a&gt;
</pre>
<p class="Pp">You may dispense with the dashes in front of the attribute names
    if you prefer:</p>
<p class="Pp"></p>
<pre>
   print img {src=&gt;'fred.gif',align=&gt;'LEFT'};

           &lt;img align=&quot;LEFT&quot; src=&quot;fred.gif&quot;&gt;
</pre>
<p class="Pp">Sometimes an HTML tag attribute has no argument. For example,
    ordered lists can be marked as COMPACT. The syntax for this is an argument
    that that points to an undef string:</p>
<p class="Pp"></p>
<pre>
   print ol({compact=&gt;undef},li('one'),li('two'),li('three'));
</pre>
<p class="Pp">Prior to CGI.pm version 2.41, providing an empty ('') string as an
    attribute argument was the same as providing undef. However, this has
    changed in order to accommodate those who want to create tags of the form
    &lt;img alt=&quot;&quot;&gt;. The difference is shown in these two pieces of
    code:</p>
<p class="Pp"></p>
<pre>
   CODE                   RESULT
   img({alt=&gt;undef})      &lt;img alt&gt;
   img({alt=&gt;''})         &lt;img alt=&quot;&quot;&gt;
</pre>
</section>
<section class="Ss">
<h2 class="Ss">THE DISTRIBUTIVE PROPERTY OF HTML SHORTCUTS</h2>
<p class="Pp">One of the cool features of the HTML shortcuts is that they are
    distributive. If you give them an argument consisting of a <b>reference</b>
    to a list, the tag will be distributed across each element of the list. For
    example, here's one way to make an ordered list:</p>
<p class="Pp"></p>
<pre>
   print ul(
             li({-type=&gt;'disc'},['Sneezy','Doc','Sleepy','Happy'])
           );
</pre>
<p class="Pp">This example will result in HTML output that looks like this:</p>
<p class="Pp"></p>
<pre>
   &lt;ul&gt;
     &lt;li type=&quot;disc&quot;&gt;Sneezy&lt;/li&gt;
     &lt;li type=&quot;disc&quot;&gt;Doc&lt;/li&gt;
     &lt;li type=&quot;disc&quot;&gt;Sleepy&lt;/li&gt;
     &lt;li type=&quot;disc&quot;&gt;Happy&lt;/li&gt;
   &lt;/ul&gt;
</pre>
<p class="Pp">This is extremely useful for creating tables. For example:</p>
<p class="Pp"></p>
<pre>
   print table({-border=&gt;undef},
           caption('When Should You Eat Your Vegetables?'),
           Tr({-align=&gt;'CENTER',-valign=&gt;'TOP'},
           [
              th(['Vegetable', 'Breakfast','Lunch','Dinner']),
              td(['Tomatoes' , 'no', 'yes', 'yes']),
              td(['Broccoli' , 'no', 'no',  'yes']),
              td(['Onions'   , 'yes','yes', 'yes'])
           ]
           )
        );
</pre>
</section>
<section class="Ss">
<h2 class="Ss">HTML SHORTCUTS AND LIST INTERPOLATION</h2>
<p class="Pp">Consider this bit of code:</p>
<p class="Pp"></p>
<pre>
   print blockquote(em('Hi'),'mom!'));
</pre>
<p class="Pp">It will ordinarily return the string that you probably expect,
    namely:</p>
<p class="Pp"></p>
<pre>
   &lt;blockquote&gt;&lt;em&gt;Hi&lt;/em&gt; mom!&lt;/blockquote&gt;
</pre>
<p class="Pp">Note the space between the element &quot;Hi&quot; and the element
    &quot;mom!&quot;. CGI.pm puts the extra space there using array
    interpolation, which is controlled by the magic $&quot; variable. Sometimes
    this extra space is not what you want, for example, when you are trying to
    align a series of images. In this case, you can simply change the value of
    $&quot; to an empty string.</p>
<p class="Pp"></p>
<pre>
   {
      local($&quot;) = '';
      print blockquote(em('Hi'),'mom!'));
    }
</pre>
<p class="Pp">I suggest you put the code in a block as shown here. Otherwise the
    change to $&quot; will affect all subsequent code until you explicitly reset
    it.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="NON-STANDARD_"><a class="permalink" href="#NON-STANDARD_">NON-STANDARD
  HTML SHORTCUTS</a></h2>
<p class="Pp">A few HTML tags don't follow the standard pattern for various
    reasons.</p>
<p class="Pp"><b></b><b><i>comment()</i></b><b></b> generates an HTML comment
    (&lt;!-- comment --&gt;). Call it like</p>
<p class="Pp"></p>
<pre>
    print comment('here is my comment');
</pre>
<p class="Pp">Because of conflicts with built-in Perl functions, the following
    functions begin with initial caps:</p>
<p class="Pp"></p>
<pre>
    Select
    Tr
    Link
    Delete
    Accept
    Sub
</pre>
<p class="Pp">In addition, <i>start_html()</i>, <i>end_html()</i>,
    <i>start_form()</i>, <i>end_form()</i>, <i>start_multipart_form()</i> and
    all the fill-out form tags are special. See their respective sections.</p>
</section>
<section class="Ss">
<h2 class="Ss">AUTOESCAPING HTML</h2>
<p class="Pp">By default, all HTML that is emitted by the form-generating
    functions is passed through a function called <i>escapeHTML()</i>:</p>
<dl class="Bl-tag">
  <dt>$escaped_string = escapeHTML(&quot;unescaped string&quot;);</dt>
  <dd>Escape HTML formatting characters in a string.</dd>
</dl>
<p class="Pp">Provided that you have specified a character set of ISO-8859-1
    (the default), the standard HTML escaping rules will be used. The
    &quot;&lt;&quot; character becomes &quot;&amp;lt;&quot;, &quot;&gt;&quot;
    becomes &quot;&amp;gt;&quot;, &quot;&amp;&quot; becomes
    &quot;&amp;amp;&quot;, and the quote character becomes
    &quot;&amp;quot;&quot;. In addition, the hexadecimal 0x8b and 0x9b
    characters, which some browsers incorrectly interpret as the left and right
    angle-bracket characters, are replaced by their numeric character entities
    (&quot;&amp;#8249&quot; and &quot;&amp;#8250;&quot;). If you manually change
    the charset, either by calling the <i>charset()</i> method explicitly or by
    passing a -charset argument to <i>header()</i>, then <b>all</b> characters
    will be replaced by their numeric entities, since CGI.pm has no lookup table
    for all the possible encodings.</p>
<p class="Pp"><span class="Li">&quot;escapeHTML()&quot;</span> expects the
    supplied string to be a character string. This means you should
    Encode::decode data received from &quot;outside&quot; and Encode::encode
    your strings before sending them back outside. If your source code UTF-8
    encoded and you want to upgrade string literals in your source to character
    strings, you can use &quot;use utf8&quot;. See perlunitut, perlunifaq and
    perlunicode for more information on how Perl handles the difference between
    bytes and characters.</p>
<p class="Pp">The automatic escaping does not apply to other shortcuts, such as
    <i>h1()</i>. You should call <i>escapeHTML()</i> yourself on untrusted data
    in order to protect your pages against nasty tricks that people may enter
    into guestbooks, etc.. To change the character set, use <i>charset()</i>. To
    turn autoescaping off completely, use <i>autoEscape</i>(0):</p>
<dl class="Bl-tag">
  <dt>$charset = charset([$charset]);</dt>
  <dd>Get or set the current character set.</dd>
  <dt>$flag = autoEscape([$flag]);</dt>
  <dd>Get or set the value of the autoescape flag.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="PRETTY-PRINTING_"><a class="permalink" href="#PRETTY-PRINTING_">PRETTY-PRINTING
  HTML</a></h2>
<p class="Pp">By default, all the HTML produced by these functions comes out as
    one long line without carriage returns or indentation. This is yuck, but it
    does reduce the size of the documents by 10-20%. To get pretty-printed
    output, please use CGI::Pretty, a subclass contributed by Brian Paulsen.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="CREATING_FILL-OUT_FORMS:"><a class="permalink" href="#CREATING_FILL-OUT_FORMS:">CREATING
  FILL-OUT FORMS:</a></h1>
<p class="Pp"><i>General note</i> The various form-creating methods all return
    strings to the caller, containing the tag or tags that will create the
    requested form element. You are responsible for actually printing out these
    strings. It's set up this way so that you can place formatting tags around
    the form elements.</p>
<p class="Pp"><i>Another note</i> The default values that you specify for the
    forms are only used the <b>first</b> time the script is invoked (when there
    is no query string). On subsequent invocations of the script (when there is
    a query string), the former values are used even if they are blank.</p>
<p class="Pp">If you want to change the value of a field from its previous
    value, you have two choices:</p>
<p class="Pp">(1) call the <i>param()</i> method to set it.</p>
<p class="Pp">(2) use the -override (alias -force) parameter (a new feature in
    version 2.15). This forces the default value to be used, regardless of the
    previous value:</p>
<p class="Pp"></p>
<pre>
   print textfield(-name=&gt;'field_name',
                           -default=&gt;'starting value',
                           -override=&gt;1,
                           -size=&gt;50,
                           -maxlength=&gt;80);
</pre>
<p class="Pp"><i>Yet another note</i> By default, the text and labels of form
    elements are escaped according to HTML rules. This means that you can safely
    use &quot;&lt;CLICK ME&gt;&quot; as the label for a button. However, it also
    interferes with your ability to incorporate special HTML character
    sequences, such as &amp;Aacute;, into your fields. If you wish to turn off
    automatic escaping, call the <i>autoEscape()</i> method with a false value
    immediately after creating the CGI object:</p>
<p class="Pp"></p>
<pre>
   $query = CGI-&gt;new;
   $query-&gt;autoEscape(0);
</pre>
<p class="Pp">Note that <i>autoEscape()</i> is exclusively used to effect the
    behavior of how some CGI.pm HTML generation functions handle escaping.
    Calling <i>escapeHTML()</i> explicitly will always escape the HTML.</p>
<p class="Pp"><i>A Lurking Trap!</i> Some of the form-element generating methods
    return multiple tags. In a scalar context, the tags will be concatenated
    together with spaces, or whatever is the current value of the $&quot;
    global. In a list context, the methods will return a list of elements,
    allowing you to modify them if you wish. Usually you will not notice this
    behavior, but beware of this:</p>
<p class="Pp"></p>
<pre>
    printf(&quot;%s\n&quot;,end_form())
</pre>
<p class="Pp"><i>end_form()</i> produces several tags, and only the first of
    them will be printed because the format only expects one value.</p>
<p class="Pp">&lt;p&gt;</p>
<section class="Ss">
<h2 class="Ss">CREATING AN ISINDEX TAG</h2>
<pre>
   print isindex(-action=&gt;$action);

         -or-

   print isindex($action);
</pre>
<p class="Pp">Prints out an &lt;isindex&gt; tag. Not very exciting. The
    parameter -action specifies the URL of the script to process the query. The
    default is to process the query with the current script.</p>
</section>
<section class="Ss">
<h2 class="Ss">STARTING AND ENDING A FORM</h2>
<pre>
    print start_form(-method=&gt;$method,
                    -action=&gt;$action,
                    -enctype=&gt;$encoding);
      &lt;... various form stuff ...&gt;
    print end_form;

        -or-

    print start_form($method,$action,$encoding);
      &lt;... various form stuff ...&gt;
    print end_form;
</pre>
<p class="Pp"><i>start_form()</i> will return a &lt;form&gt; tag with the
    optional method, action and form encoding that you specify. The defaults
    are:</p>
<p class="Pp"></p>
<pre>
    method: POST
    action: this script
    enctype: application/x-www-form-urlencoded for non-XHTML
             multipart/form-data for XHTML, see multipart/form-data below.
</pre>
<p class="Pp"><i>end_form()</i> returns the closing &lt;/form&gt; tag.</p>
<p class="Pp"><i>Start_form()</i>'s enctype argument tells the browser how to
    package the various fields of the form before sending the form to the
    server. Two values are possible:</p>
<p class="Pp"><b>Note:</b> These methods were previously named
    <i>startform()</i> and <i>endform()</i>. These methods are now DEPRECATED.
    Please use <i>start_form()</i> and <i>end_form()</i> instead.</p>
<dl class="Bl-tag">
  <dt id="application/x"><a class="permalink" href="#application/x"><b>application/x-www-form-urlencoded</b></a></dt>
  <dd>This is the older type of encoding. It is compatible with many CGI scripts
      and is suitable for short fields containing text data. For your
      convenience, CGI.pm stores the name of this encoding type in
      <b>&amp;CGI::URL_ENCODED</b>.</dd>
  <dt id="multipart/form"><a class="permalink" href="#multipart/form"><b>multipart/form-data</b></a></dt>
  <dd>This is the newer type of encoding. It is suitable for forms that contain
      very large fields or that are intended for transferring binary data. Most
      importantly, it enables the &quot;file upload&quot; feature. For your
      convenience, CGI.pm stores the name of this encoding type in
      <b>&amp;CGI::MULTIPART</b>
    <p class="Pp">Forms that use this type of encoding are not easily
        interpreted by CGI scripts unless they use CGI.pm or another library
        designed to handle them.</p>
    <p class="Pp">If XHTML is activated (the default), then forms will be
        automatically created using this type of encoding.</p>
  </dd>
</dl>
<p class="Pp">The <i>start_form()</i> method uses the older form of encoding by
    default unless XHTML is requested. If you want to use the newer form of
    encoding by default, you can call
    <b></b><b><i>start_multipart_form()</i></b><b></b> instead of
    <b></b><b><i>start_form()</i></b><b></b>. The method
    <b></b><b><i>end_multipart_form()</i></b><b></b> is an alias to
    <b></b><b><i>end_form()</i></b><b></b>.</p>
<p class="Pp">JAVASCRIPTING: The <b>-name</b> and <b>-onSubmit</b> parameters
    are provided for use with JavaScript. The -name parameter gives the form a
    name so that it can be identified and manipulated by JavaScript functions.
    -onSubmit should point to a JavaScript function that will be executed just
    before the form is submitted to your server. You can use this opportunity to
    check the contents of the form for consistency and completeness. If you find
    something wrong, you can put up an alert box or maybe fix things up
    yourself. You can abort the submission by returning false from this
    function.</p>
<p class="Pp">Usually the bulk of JavaScript functions are defined in a
    &lt;script&gt; block in the HTML header and -onSubmit points to one of these
    function call. See <i>start_html()</i> for details.</p>
</section>
<section class="Ss">
<h2 class="Ss">FORM ELEMENTS</h2>
<p class="Pp">After starting a form, you will typically create one or more
    textfields, popup menus, radio groups and other form elements. Each of these
    elements takes a standard set of named arguments. Some elements also have
    optional arguments. The standard arguments are as follows:</p>
<dl class="Bl-tag">
  <dt id="name"><a class="permalink" href="#name"><b>-name</b></a></dt>
  <dd>The name of the field. After submission this name can be used to retrieve
      the field's value using the <i>param()</i> method.</dd>
  <dt id="value"><a class="permalink" href="#value"><b>-value</b>,
    <b>-values</b></a></dt>
  <dd>The initial value of the field which will be returned to the script after
      form submission. Some form elements, such as text fields, take a single
      scalar -value argument. Others, such as popup menus, take a reference to
      an array of values. The two arguments are synonyms.</dd>
  <dt><b>-tabindex</b></dt>
  <dd>A numeric value that sets the order in which the form element receives
      focus when the user presses the tab key. Elements with lower values
      receive focus first.</dd>
  <dt id="id"><a class="permalink" href="#id"><b>-id</b></a></dt>
  <dd>A string identifier that can be used to identify this element to
      JavaScript and DHTML.</dd>
  <dt id="override"><a class="permalink" href="#override"><b>-override</b></a></dt>
  <dd>A boolean, which, if true, forces the element to take on the value
      specified by <b>-value</b>, overriding the sticky behavior described
      earlier for the <b>-nosticky</b> pragma.</dd>
  <dt id="onChange"><a class="permalink" href="#onChange"><b>-onChange</b>,
    <b>-onFocus</b>, <b>-onBlur</b>, <b>-onMouseOver</b>, <b>-onMouseOut</b>,
    <b>-onSelect</b></a></dt>
  <dd>These are used to assign JavaScript event handlers. See the JavaScripting
      section for more details.</dd>
</dl>
<p class="Pp">Other common arguments are described in the next section. In
    addition to these, all attributes described in the HTML specifications are
    supported.</p>
</section>
<section class="Ss">
<h2 class="Ss">CREATING A TEXT FIELD</h2>
<pre>
    print textfield(-name=&gt;'field_name',
                    -value=&gt;'starting value',
                    -size=&gt;50,
                    -maxlength=&gt;80);
        -or-

    print textfield('field_name','starting value',50,80);
</pre>
<p class="Pp"><i>textfield()</i> will return a text input field.</p>
<dl class="Bl-tag">
  <dt id="Parameters"><a class="permalink" href="#Parameters"><b>Parameters</b></a></dt>
  <dd></dd>
  <dt>1.</dt>
  <dd>The first parameter is the required name for the field (-name).</dd>
  <dt>2.</dt>
  <dd>The optional second parameter is the default starting value for the field
      contents (-value, formerly known as -default).</dd>
  <dt>3.</dt>
  <dd>The optional third parameter is the size of the field in
    <br/>
     characters (-size).</dd>
  <dt>4.</dt>
  <dd>The optional fourth parameter is the maximum number of characters the
    <br/>
     field will accept (-maxlength).</dd>
</dl>
<p class="Pp">As with all these methods, the field will be initialized with its
    previous contents from earlier invocations of the script. When the form is
    processed, the value of the text field can be retrieved with:</p>
<p class="Pp"></p>
<pre>
       $value = param('foo');
</pre>
<p class="Pp">If you want to reset it from its initial value after the script
    has been called once, you can do so like this:</p>
<p class="Pp"></p>
<pre>
       param('foo',&quot;I'm taking over this value!&quot;);
</pre>
</section>
<section class="Ss">
<h2 class="Ss">CREATING A BIG TEXT FIELD</h2>
<pre>
   print textarea(-name=&gt;'foo',
                          -default=&gt;'starting value',
                          -rows=&gt;10,
                          -columns=&gt;50);

        -or

   print textarea('foo','starting value',10,50);
</pre>
<p class="Pp"><i>textarea()</i> is just like textfield, but it allows you to
    specify rows and columns for a multiline text entry box. You can provide a
    starting value for the field, which can be long and contain multiple
  lines.</p>
</section>
<section class="Ss">
<h2 class="Ss">CREATING A PASSWORD FIELD</h2>
<pre>
   print password_field(-name=&gt;'secret',
                                -value=&gt;'starting value',
                                -size=&gt;50,
                                -maxlength=&gt;80);
        -or-

   print password_field('secret','starting value',50,80);
</pre>
<p class="Pp"><i>password_field()</i> is identical to <i>textfield()</i>, except
    that its contents will be starred out on the web page.</p>
</section>
<section class="Ss">
<h2 class="Ss">CREATING A FILE UPLOAD FIELD</h2>
<pre>
    print filefield(-name=&gt;'uploaded_file',
                            -default=&gt;'starting value',
                            -size=&gt;50,
                            -maxlength=&gt;80);
        -or-

    print filefield('uploaded_file','starting value',50,80);
</pre>
<p class="Pp"><i>filefield()</i> will return a file upload field. In order to
    take full advantage of this <i>you must use the new</i> <i>multipart
    encoding scheme</i> for the form. You can do this either by calling
    <b></b><b><i>start_form()</i></b><b></b> with an encoding type of
    <b>&amp;CGI::MULTIPART</b>, or by calling the new method
    <b></b><b><i>start_multipart_form()</i></b><b></b> instead of vanilla
    <b></b><b><i>start_form()</i></b><b></b>.</p>
<dl class="Bl-tag">
  <dt id="Parameters~2"><a class="permalink" href="#Parameters~2"><b>Parameters</b></a></dt>
  <dd></dd>
  <dt>1.</dt>
  <dd>The first parameter is the required name for the field (-name).</dd>
  <dt>2.</dt>
  <dd>The optional second parameter is the starting value for the field contents
      to be used as the default file name (-default).
    <p class="Pp">For security reasons, browsers don't pay any attention to this
        field, and so the starting value will always be blank. Worse, the field
        loses its &quot;sticky&quot; behavior and forgets its previous contents.
        The starting value field is called for in the HTML specification,
        however, and possibly some browser will eventually provide support for
        it.</p>
  </dd>
  <dt>3.</dt>
  <dd>The optional third parameter is the size of the field in characters
      (-size).</dd>
  <dt>4.</dt>
  <dd>The optional fourth parameter is the maximum number of characters the
      field will accept (-maxlength).</dd>
</dl>
<p class="Pp">JAVASCRIPTING: The <b>-onChange</b>, <b>-onFocus</b>,
    <b>-onBlur</b>, <b>-onMouseOver</b>, <b>-onMouseOut</b> and <b>-onSelect</b>
    parameters are recognized. See <i>textfield()</i> for details.</p>
</section>
<section class="Ss">
<h2 class="Ss">PROCESSING A FILE UPLOAD FIELD</h2>
<p class="Pp"><i>Basics</i></p>
<p class="Pp">When the form is processed, you can retrieve an IO::Handle
    compatible handle for a file upload field like this:</p>
<p class="Pp"></p>
<pre>
  $lightweight_fh  = $q-&gt;upload('field_name');

  # undef may be returned if it's not a valid file handle
  if (defined $lightweight_fh) {
    # Upgrade the handle to one compatible with IO::Handle:
    my $io_handle = $lightweight_fh-&gt;handle;

    open (OUTFILE,'&gt;&gt;','/usr/local/web/users/feedback');
    while ($bytesread = $io_handle-&gt;read($buffer,1024)) {
      print OUTFILE $buffer;
    }
  }
</pre>
<p class="Pp">In a list context, <i>upload()</i> will return an array of
    filehandles. This makes it possible to process forms that use the same name
    for multiple upload fields.</p>
<p class="Pp">If you want the entered file name for the file, you can just call
    <i>param()</i>:</p>
<p class="Pp"></p>
<pre>
  $filename = $q-&gt;param('field_name');
</pre>
<p class="Pp">Different browsers will return slightly different things for the
    name. Some browsers return the filename only. Others return the full path to
    the file, using the path conventions of the user's machine. Regardless, the
    name returned is always the name of the file on the <i>user's</i> machine,
    and is unrelated to the name of the temporary file that CGI.pm creates
    during upload spooling (see below).</p>
<p class="Pp">When a file is uploaded the browser usually sends along some
    information along with it in the format of headers. The information usually
    includes the MIME content type. To retrieve this information, call
    <i>uploadInfo()</i>. It returns a reference to a hash containing all the
    document headers.</p>
<p class="Pp"></p>
<pre>
       $filename = $q-&gt;param('uploaded_file');
       $type = $q-&gt;uploadInfo($filename)-&gt;{'Content-Type'};
       unless ($type eq 'text/html') {
        die &quot;HTML FILES ONLY!&quot;;
       }
</pre>
<p class="Pp">If you are using a machine that recognizes &quot;text&quot; and
    &quot;binary&quot; data modes, be sure to understand when and how to use
    them (see the Camel book). Otherwise you may find that binary files are
    corrupted during file uploads.</p>
<p class="Pp"><i>Accessing the temp files directly</i></p>
<p class="Pp">When processing an uploaded file, CGI.pm creates a temporary file
    on your hard disk and passes you a file handle to that file. After you are
    finished with the file handle, CGI.pm unlinks (deletes) the temporary file.
    If you need to you can access the temporary file directly. You can access
    the temp file for a file upload by passing the file name to the
    <i>tmpFileName()</i> method:</p>
<p class="Pp"></p>
<pre>
       $filename = $query-&gt;param('uploaded_file');
       $tmpfilename = $query-&gt;tmpFileName($filename);
</pre>
<p class="Pp">The temporary file will be deleted automatically when your program
    exits unless you manually rename it. On some operating systems (such as
    Windows NT), you will need to close the temporary file's filehandle before
    your program exits. Otherwise the attempt to delete the temporary file will
    fail.</p>
<p class="Pp"><i>Handling interrupted file uploads</i></p>
<p class="Pp">There are occasionally problems involving parsing the uploaded
    file. This usually happens when the user presses &quot;Stop&quot; before the
    upload is finished. In this case, CGI.pm will return undef for the name of
    the uploaded file and set <i></i><i>cgi_error()</i><i></i> to the string
    &quot;400 Bad request (malformed multipart POST)&quot;. This error message
    is designed so that you can incorporate it into a status code to be sent to
    the browser. Example:</p>
<p class="Pp"></p>
<pre>
   $file = $q-&gt;upload('uploaded_file');
   if (!$file &amp;&amp; $q-&gt;cgi_error) {
      print $q-&gt;header(-status=&gt;$q-&gt;cgi_error);
      exit 0;
   }
</pre>
<p class="Pp">You are free to create a custom HTML page to complain about the
    error, if you wish.</p>
<p class="Pp"><i>Progress bars for file uploads and avoiding temp files</i></p>
<p class="Pp">CGI.pm gives you low-level access to file upload management
    through a file upload hook. You can use this feature to completely turn off
    the temp file storage of file uploads, or potentially write your own file
    upload progress meter.</p>
<p class="Pp">This is much like the UPLOAD_HOOK facility available in
    Apache::Request, with the exception that the first argument to the callback
    is an Apache::Upload object, here it's the remote filename.</p>
<p class="Pp"></p>
<pre>
 $q = CGI-&gt;new(\&amp;hook [,$data [,$use_tempfile]]);

 sub hook {
        my ($filename, $buffer, $bytes_read, $data) = @_;
        print  &quot;Read $bytes_read bytes of $filename\n&quot;;
 }
</pre>
<p class="Pp">The <span class="Li">$data</span> field is optional; it lets you
    pass configuration information (e.g. a database handle) to your hook
    callback.</p>
<p class="Pp">The <span class="Li">$use_tempfile</span> field is a flag that
    lets you turn on and off CGI.pm's use of a temporary disk-based file during
    file upload. If you set this to a FALSE value (default true) then
    <span class="Li">$q</span>-&gt;param('uploaded_file') will no longer work,
    and the only way to get at the uploaded data is via the hook you
  provide.</p>
<p class="Pp">If using the function-oriented interface, call the
    <i>CGI::upload_hook()</i> method before calling <i>param()</i> or any other
    CGI functions:</p>
<p class="Pp"></p>
<pre>
  CGI::upload_hook(\&amp;hook [,$data [,$use_tempfile]]);
</pre>
<p class="Pp">This method is not exported by default. You will have to import it
    explicitly if you wish to use it without the CGI:: prefix.</p>
<p class="Pp"><i>Troubleshooting file uploads on Windows</i></p>
<p class="Pp">If you are using CGI.pm on a Windows platform and find that binary
    files get slightly larger when uploaded but that text files remain the same,
    then you have forgotten to activate binary mode on the output filehandle. Be
    sure to call <i>binmode()</i> on any handle that you create to write the
    uploaded file to disk.</p>
<p class="Pp"><i>Older ways to process file uploads</i></p>
<p class="Pp">( This section is here for completeness. if you are building a new
    application with CGI.pm, you can skip it. )</p>
<p class="Pp">The original way to process file uploads with CGI.pm was to use
    <i>param()</i>. The value it returns has a dual nature as both a file name
    and a lightweight filehandle. This dual nature is problematic if you
    following the recommended practice of having <span class="Li">&quot;use
    strict&quot;</span> in your code. Perl will complain when you try to use a
    string as a filehandle. More seriously, it is possible for the remote user
    to type garbage into the upload field, in which case what you get from
    <i>param()</i> is not a filehandle at all, but a string.</p>
<p class="Pp">To solve this problem the <i>upload()</i> method was added, which
    always returns a lightweight filehandle. This generally works well, but will
    have trouble interoperating with some other modules because the file handle
    is not derived from IO::Handle. So that brings us to current recommendation
    given above, which is to call the <i>handle()</i> method on the file handle
    returned by <i>upload()</i>. That upgrades the handle to an IO::Handle. It's
    a big win for compatibility for a small penalty of loading IO::Handle the
    first time you call it.</p>
</section>
<section class="Ss">
<h2 class="Ss">CREATING A POPUP MENU</h2>
<pre>
   print popup_menu('menu_name',
                            ['eenie','meenie','minie'],
                            'meenie');

      -or-

   %labels = ('eenie'=&gt;'your first choice',
              'meenie'=&gt;'your second choice',
              'minie'=&gt;'your third choice');
   %attributes = ('eenie'=&gt;{'class'=&gt;'class of first choice'});
   print popup_menu('menu_name',
                            ['eenie','meenie','minie'],
          'meenie',\%labels,\%attributes);

        -or (named parameter style)-

   print popup_menu(-name=&gt;'menu_name',
                            -values=&gt;['eenie','meenie','minie'],
                            -default=&gt;['meenie','minie'],
          -labels=&gt;\%labels,
          -attributes=&gt;\%attributes);
</pre>
<p class="Pp"><i>popup_menu()</i> creates a menu.</p>
<dl class="Bl-tag">
  <dt>1.</dt>
  <dd>The required first argument is the menu's name (-name).</dd>
  <dt>2.</dt>
  <dd>The required second argument (-values) is an array <b>reference</b>
      containing the list of menu items in the menu. You can pass the method an
      anonymous array, as shown in the example, or a reference to a named array,
      such as &quot;\@foo&quot;.</dd>
  <dt>3.</dt>
  <dd>The optional third parameter (-default) is the name of the default menu
      choice. If not specified, the first item will be the default. The values
      of the previous choice will be maintained across queries. Pass an array
      reference to select multiple defaults.</dd>
  <dt>4.</dt>
  <dd>The optional fourth parameter (-labels) is provided for people who want to
      use different values for the user-visible label inside the popup menu and
      the value returned to your script. It's a pointer to an hash relating menu
      values to user-visible labels. If you leave this parameter blank, the menu
      values will be displayed by default. (You can also leave a label undefined
      if you want to).</dd>
  <dt>5.</dt>
  <dd>The optional fifth parameter (-attributes) is provided to assign any of
      the common HTML attributes to an individual menu item. It's a pointer to a
      hash relating menu values to another hash with the attribute's name as the
      key and the attribute's value as the value.</dd>
</dl>
<p class="Pp">When the form is processed, the selected value of the popup menu
    can be retrieved using:</p>
<p class="Pp"></p>
<pre>
      $popup_menu_value = param('menu_name');
</pre>
</section>
<section class="Ss">
<h2 class="Ss">CREATING AN OPTION GROUP</h2>
<p class="Pp">Named parameter style</p>
<p class="Pp"></p>
<pre>
  print popup_menu(-name=&gt;'menu_name',
                  -values=&gt;[qw/eenie meenie minie/,
                            optgroup(-name=&gt;'optgroup_name',
                                             -values =&gt; ['moe','catch'],
                                             -attributes=&gt;{'catch'=&gt;{'class'=&gt;'red'}})],
                  -labels=&gt;{'eenie'=&gt;'one',
                            'meenie'=&gt;'two',
                            'minie'=&gt;'three'},
                  -default=&gt;'meenie');

  Old style
  print popup_menu('menu_name',
                  ['eenie','meenie','minie',
                   optgroup('optgroup_name', ['moe', 'catch'],
                                   {'catch'=&gt;{'class'=&gt;'red'}})],'meenie',
                  {'eenie'=&gt;'one','meenie'=&gt;'two','minie'=&gt;'three'});
</pre>
<p class="Pp"><i>optgroup()</i> creates an option group within a popup menu.</p>
<dl class="Bl-tag">
  <dt>1.</dt>
  <dd>The required first argument (<b>-name</b>) is the label attribute of the
      optgroup and is <b>not</b> inserted in the parameter list of the
    query.</dd>
  <dt>2.</dt>
  <dd>The required second argument (<b>-values</b>) is an array reference
      containing the list of menu items in the menu. You can pass the method an
      anonymous array, as shown in the example, or a reference to a named array,
      such as \@foo. If you pass a HASH reference, the keys will be used for the
      menu values, and the values will be used for the menu labels (see -labels
      below).</dd>
  <dt>3.</dt>
  <dd>The optional third parameter (<b>-labels</b>) allows you to pass a
      reference to a hash containing user-visible labels for one or more of the
      menu items. You can use this when you want the user to see one menu
      string, but have the browser return your program a different one. If you
      don't specify this, the value string will be used instead
      (&quot;eenie&quot;, &quot;meenie&quot; and &quot;minie&quot; in this
      example). This is equivalent to using a hash reference for the -values
      parameter.</dd>
  <dt>4.</dt>
  <dd>An optional fourth parameter (<b>-labeled</b>) can be set to a true value
      and indicates that the values should be used as the label attribute for
      each option element within the optgroup.</dd>
  <dt>5.</dt>
  <dd>An optional fifth parameter (-novals) can be set to a true value and
      indicates to suppress the val attribute in each option element within the
      optgroup.
    <p class="Pp">See the discussion on optgroup at W3C
        (http://www.w3.org/TR/REC-html40/interact/forms.html#edef-OPTGROUP) for
        details.</p>
  </dd>
  <dt>6.</dt>
  <dd>An optional sixth parameter (-attributes) is provided to assign any of the
      common HTML attributes to an individual menu item. It's a pointer to a
      hash relating menu values to another hash with the attribute's name as the
      key and the attribute's value as the value.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss">CREATING A SCROLLING LIST</h2>
<pre>
   print scrolling_list('list_name',
                                ['eenie','meenie','minie','moe'],
        ['eenie','moe'],5,'true',{'moe'=&gt;{'class'=&gt;'red'}});
      -or-

   print scrolling_list('list_name',
                                ['eenie','meenie','minie','moe'],
                                ['eenie','moe'],5,'true',
        \%labels,%attributes);

        -or-

   print scrolling_list(-name=&gt;'list_name',
                                -values=&gt;['eenie','meenie','minie','moe'],
                                -default=&gt;['eenie','moe'],
                                -size=&gt;5,
                                -multiple=&gt;'true',
        -labels=&gt;\%labels,
        -attributes=&gt;\%attributes);
</pre>
<p class="Pp"><i>scrolling_list()</i> creates a scrolling list.</p>
<dl class="Bl-tag">
  <dt id="Parameters:~2"><a class="permalink" href="#Parameters:~2"><b>Parameters:</b></a></dt>
  <dd></dd>
  <dt>1.</dt>
  <dd>The first and second arguments are the list name (-name) and values
      (-values). As in the popup menu, the second argument should be an array
      reference.</dd>
  <dt>2.</dt>
  <dd>The optional third argument (-default) can be either a reference to a list
      containing the values to be selected by default, or can be a single value
      to select. If this argument is missing or undefined, then nothing is
      selected when the list first appears. In the named parameter version, you
      can use the synonym &quot;-defaults&quot; for this parameter.</dd>
  <dt>3.</dt>
  <dd>The optional fourth argument is the size of the list (-size).</dd>
  <dt>4.</dt>
  <dd>The optional fifth argument can be set to true to allow multiple
      simultaneous selections (-multiple). Otherwise only one selection will be
      allowed at a time.</dd>
  <dt>5.</dt>
  <dd>The optional sixth argument is a pointer to a hash containing long
      user-visible labels for the list items (-labels). If not provided, the
      values will be displayed.</dd>
  <dt>6.</dt>
  <dd>The optional sixth parameter (-attributes) is provided to assign any of
      the common HTML attributes to an individual menu item. It's a pointer to a
      hash relating menu values to another hash with the attribute's name as the
      key and the attribute's value as the value.
    <p class="Pp">When this form is processed, all selected list items will be
        returned as a list under the parameter name 'list_name'. The values of
        the selected items can be retrieved with:</p>
    <p class="Pp"></p>
    <pre>
      @selected = param('list_name');
    </pre>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss">CREATING A GROUP OF RELATED CHECKBOXES</h2>
<pre>
   print checkbox_group(-name=&gt;'group_name',
                                -values=&gt;['eenie','meenie','minie','moe'],
                                -default=&gt;['eenie','moe'],
                                -linebreak=&gt;'true',
                                -disabled =&gt; ['moe'],
        -labels=&gt;\%labels,
        -attributes=&gt;\%attributes);

   print checkbox_group('group_name',
                                ['eenie','meenie','minie','moe'],
        ['eenie','moe'],'true',\%labels,
        {'moe'=&gt;{'class'=&gt;'red'}});

   HTML3-COMPATIBLE BROWSERS ONLY:

   print checkbox_group(-name=&gt;'group_name',
                                -values=&gt;['eenie','meenie','minie','moe'],
                                -rows=2,-columns=&gt;2);
</pre>
<p class="Pp"><i>checkbox_group()</i> creates a list of checkboxes that are
    related by the same name.</p>
<dl class="Bl-tag">
  <dt id="Parameters:~3"><a class="permalink" href="#Parameters:~3"><b>Parameters:</b></a></dt>
  <dd></dd>
  <dt>1.</dt>
  <dd>The first and second arguments are the checkbox name and values,
      respectively (-name and -values). As in the popup menu, the second
      argument should be an array reference. These values are used for the
      user-readable labels printed next to the checkboxes as well as for the
      values passed to your script in the query string.</dd>
  <dt>2.</dt>
  <dd>The optional third argument (-default) can be either a reference to a list
      containing the values to be checked by default, or can be a single value
      to checked. If this argument is missing or undefined, then nothing is
      selected when the list first appears.</dd>
  <dt>3.</dt>
  <dd>The optional fourth argument (-linebreak) can be set to true to place line
      breaks between the checkboxes so that they appear as a vertical list.
      Otherwise, they will be strung together on a horizontal line.</dd>
</dl>
<p class="Pp">The optional <b>-labels</b> argument is a pointer to a hash
    relating the checkbox values to the user-visible labels that will be printed
    next to them. If not provided, the values will be used as the default.</p>
<p class="Pp">The optional parameters <b>-rows</b>, and <b>-columns</b> cause
    <i>checkbox_group()</i> to return an HTML3 compatible table containing the
    checkbox group formatted with the specified number of rows and columns. You
    can provide just the -columns parameter if you wish; checkbox_group will
    calculate the correct number of rows for you.</p>
<p class="Pp">The option <b>-disabled</b> takes an array of checkbox values and
    disables them by greying them out (this may not be supported by all
    browsers).</p>
<p class="Pp">The optional <b>-attributes</b> argument is provided to assign any
    of the common HTML attributes to an individual menu item. It's a pointer to
    a hash relating menu values to another hash with the attribute's name as the
    key and the attribute's value as the value.</p>
<p class="Pp">The optional <b>-tabindex</b> argument can be used to control the
    order in which radio buttons receive focus when the user presses the tab
    button. If passed a scalar numeric value, the first element in the group
    will receive this tab index and subsequent elements will be incremented by
    one. If given a reference to an array of radio button values, then the
    indexes will be jiggered so that the order specified in the array will
    correspond to the tab order. You can also pass a reference to a hash in
    which the hash keys are the radio button values and the values are the tab
    indexes of each button. Examples:</p>
<p class="Pp"></p>
<pre>
  -tabindex =&gt; 100    #  this group starts at index 100 and counts up
  -tabindex =&gt; ['moe','minie','eenie','meenie']  # tab in this order
  -tabindex =&gt; {meenie=&gt;100,moe=&gt;101,minie=&gt;102,eenie=&gt;200} # tab in this order
</pre>
<p class="Pp">The optional <b>-labelattributes</b> argument will contain
    attributes attached to the &lt;label&gt; element that surrounds each
  button.</p>
<p class="Pp">When the form is processed, all checked boxes will be returned as
    a list under the parameter name 'group_name'. The values of the
    &quot;on&quot; checkboxes can be retrieved with:</p>
<p class="Pp"></p>
<pre>
      @turned_on = param('group_name');
</pre>
<p class="Pp">The value returned by <i>checkbox_group()</i> is actually an array
    of button elements. You can capture them and use them within tables, lists,
    or in other creative ways:</p>
<p class="Pp"></p>
<pre>
    @h = checkbox_group(-name=&gt;'group_name',-values=&gt;\@values);
    &amp;use_in_creative_way(@h);
</pre>
</section>
<section class="Ss">
<h2 class="Ss">CREATING A STANDALONE CHECKBOX</h2>
<pre>
    print checkbox(-name=&gt;'checkbox_name',
                           -checked=&gt;1,
                           -value=&gt;'ON',
                           -label=&gt;'CLICK ME');

        -or-

    print checkbox('checkbox_name','checked','ON','CLICK ME');
</pre>
<p class="Pp"><i>checkbox()</i> is used to create an isolated checkbox that
    isn't logically related to any others.</p>
<dl class="Bl-tag">
  <dt id="Parameters:~4"><a class="permalink" href="#Parameters:~4"><b>Parameters:</b></a></dt>
  <dd></dd>
  <dt>1.</dt>
  <dd>The first parameter is the required name for the checkbox (-name). It will
      also be used for the user-readable label printed next to the
    checkbox.</dd>
  <dt>2.</dt>
  <dd>The optional second parameter (-checked) specifies that the checkbox is
      turned on by default. Synonyms are -selected and -on.</dd>
  <dt>3.</dt>
  <dd>The optional third parameter (-value) specifies the value of the checkbox
      when it is checked. If not provided, the word &quot;on&quot; is
    assumed.</dd>
  <dt>4.</dt>
  <dd>The optional fourth parameter (-label) is the user-readable label to be
      attached to the checkbox. If not provided, the checkbox name is used.</dd>
</dl>
<p class="Pp">The value of the checkbox can be retrieved using:</p>
<p class="Pp"></p>
<pre>
    $turned_on = param('checkbox_name');
</pre>
</section>
<section class="Ss">
<h2 class="Ss">CREATING A RADIO BUTTON GROUP</h2>
<pre>
   print radio_group(-name=&gt;'group_name',
                             -values=&gt;['eenie','meenie','minie'],
                             -default=&gt;'meenie',
                             -linebreak=&gt;'true',
           -labels=&gt;\%labels,
           -attributes=&gt;\%attributes);

        -or-

   print radio_group('group_name',['eenie','meenie','minie'],
            'meenie','true',\%labels,\%attributes);


   HTML3-COMPATIBLE BROWSERS ONLY:

   print radio_group(-name=&gt;'group_name',
                             -values=&gt;['eenie','meenie','minie','moe'],
                             -rows=2,-columns=&gt;2);
</pre>
<p class="Pp"><i>radio_group()</i> creates a set of logically-related radio
    buttons (turning one member of the group on turns the others off)</p>
<dl class="Bl-tag">
  <dt id="Parameters:~5"><a class="permalink" href="#Parameters:~5"><b>Parameters:</b></a></dt>
  <dd></dd>
  <dt>1.</dt>
  <dd>The first argument is the name of the group and is required (-name).</dd>
  <dt>2.</dt>
  <dd>The second argument (-values) is the list of values for the radio buttons.
      The values and the labels that appear on the page are identical. Pass an
      array <i>reference</i> in the second argument, either using an anonymous
      array, as shown, or by referencing a named array as in
    &quot;\@foo&quot;.</dd>
  <dt>3.</dt>
  <dd>The optional third parameter (-default) is the name of the default button
      to turn on. If not specified, the first item will be the default. You can
      provide a nonexistent button name, such as &quot;-&quot; to start up with
      no buttons selected.</dd>
  <dt>4.</dt>
  <dd>The optional fourth parameter (-linebreak) can be set to 'true' to put
      line breaks between the buttons, creating a vertical list.</dd>
  <dt>5.</dt>
  <dd>The optional fifth parameter (-labels) is a pointer to an associative
      array relating the radio button values to user-visible labels to be used
      in the display. If not provided, the values themselves are displayed.</dd>
</dl>
<p class="Pp">All modern browsers can take advantage of the optional parameters
    <b>-rows</b>, and <b>-columns</b>. These parameters cause
    <i>radio_group()</i> to return an HTML3 compatible table containing the
    radio group formatted with the specified number of rows and columns. You can
    provide just the -columns parameter if you wish; radio_group will calculate
    the correct number of rows for you.</p>
<p class="Pp">To include row and column headings in the returned table, you can
    use the <b>-rowheaders</b> and <b>-colheaders</b> parameters. Both of these
    accept a pointer to an array of headings to use. The headings are just
    decorative. They don't reorganize the interpretation of the radio buttons --
    they're still a single named unit.</p>
<p class="Pp">The optional <b>-tabindex</b> argument can be used to control the
    order in which radio buttons receive focus when the user presses the tab
    button. If passed a scalar numeric value, the first element in the group
    will receive this tab index and subsequent elements will be incremented by
    one. If given a reference to an array of radio button values, then the
    indexes will be jiggered so that the order specified in the array will
    correspond to the tab order. You can also pass a reference to a hash in
    which the hash keys are the radio button values and the values are the tab
    indexes of each button. Examples:</p>
<p class="Pp"></p>
<pre>
  -tabindex =&gt; 100    #  this group starts at index 100 and counts up
  -tabindex =&gt; ['moe','minie','eenie','meenie']  # tab in this order
  -tabindex =&gt; {meenie=&gt;100,moe=&gt;101,minie=&gt;102,eenie=&gt;200} # tab in this order
</pre>
<p class="Pp">The optional <b>-attributes</b> argument is provided to assign any
    of the common HTML attributes to an individual menu item. It's a pointer to
    a hash relating menu values to another hash with the attribute's name as the
    key and the attribute's value as the value.</p>
<p class="Pp">The optional <b>-labelattributes</b> argument will contain
    attributes attached to the &lt;label&gt; element that surrounds each
  button.</p>
<p class="Pp">When the form is processed, the selected radio button can be
    retrieved using:</p>
<p class="Pp"></p>
<pre>
      $which_radio_button = param('group_name');
</pre>
<p class="Pp">The value returned by <i>radio_group()</i> is actually an array of
    button elements. You can capture them and use them within tables, lists, or
    in other creative ways:</p>
<p class="Pp"></p>
<pre>
    @h = radio_group(-name=&gt;'group_name',-values=&gt;\@values);
    &amp;use_in_creative_way(@h);
</pre>
</section>
<section class="Ss">
<h2 class="Ss">CREATING A SUBMIT BUTTON </h2>
<pre>
   print submit(-name=&gt;'button_name',
                        -value=&gt;'value');

        -or-

   print submit('button_name','value');
</pre>
<p class="Pp"><i>submit()</i> will create the query submission button. Every
    form should have one of these.</p>
<dl class="Bl-tag">
  <dt id="Parameters:~6"><a class="permalink" href="#Parameters:~6"><b>Parameters:</b></a></dt>
  <dd></dd>
  <dt>1.</dt>
  <dd>The first argument (-name) is optional. You can give the button a name if
      you have several submission buttons in your form and you want to
      distinguish between them.</dd>
  <dt>2.</dt>
  <dd>The second argument (-value) is also optional. This gives the button a
      value that will be passed to your script in the query string. The name
      will also be used as the user-visible label.</dd>
  <dt>3.</dt>
  <dd>You can use -label as an alias for -value. I always get confused about
      which of -name and -value changes the user-visible label on the
    button.</dd>
</dl>
<p class="Pp">You can figure out which button was pressed by using different
    values for each one:</p>
<p class="Pp"></p>
<pre>
     $which_one = param('button_name');
</pre>
</section>
<section class="Ss">
<h2 class="Ss">CREATING A RESET BUTTON</h2>
<pre>
   print reset
</pre>
<p class="Pp"><i>reset()</i> creates the &quot;reset&quot; button. Note that it
    restores the form to its value from the last time the script was called, NOT
    necessarily to the defaults.</p>
<p class="Pp">Note that this conflicts with the Perl <i>reset()</i> built-in.
    Use <i>CORE::reset()</i> to get the original reset function.</p>
</section>
<section class="Ss">
<h2 class="Ss">CREATING A DEFAULT BUTTON</h2>
<pre>
   print defaults('button_label')
</pre>
<p class="Pp"><i>defaults()</i> creates a button that, when invoked, will cause
    the form to be completely reset to its defaults, wiping out all the changes
    the user ever made.</p>
</section>
<section class="Ss">
<h2 class="Ss">CREATING A HIDDEN FIELD</h2>
<pre>
        print hidden(-name=&gt;'hidden_name',
                             -default=&gt;['value1','value2'...]);

                -or-

        print hidden('hidden_name','value1','value2'...);
</pre>
<p class="Pp"><i>hidden()</i> produces a text field that can't be seen by the
    user. It is useful for passing state variable information from one
    invocation of the script to the next.</p>
<dl class="Bl-tag">
  <dt id="Parameters:~7"><a class="permalink" href="#Parameters:~7"><b>Parameters:</b></a></dt>
  <dd></dd>
  <dt>1.</dt>
  <dd>The first argument is required and specifies the name of this field
      (-name).</dd>
  <dt>2.</dt>
  <dd>The second argument is also required and specifies its value (-default).
      In the named parameter style of calling, you can provide a single value
      here or a reference to a whole list</dd>
</dl>
<p class="Pp">Fetch the value of a hidden field this way:</p>
<p class="Pp"></p>
<pre>
     $hidden_value = param('hidden_name');
</pre>
<p class="Pp">Note, that just like all the other form elements, the value of a
    hidden field is &quot;sticky&quot;. If you want to replace a hidden field
    with some other values after the script has been called once you'll have to
    do it manually:</p>
<p class="Pp"></p>
<pre>
     param('hidden_name','new','values','here');
</pre>
</section>
<section class="Ss">
<h2 class="Ss">CREATING A CLICKABLE IMAGE BUTTON</h2>
<pre>
     print image_button(-name=&gt;'button_name',
                                -src=&gt;'/source/URL',
                                -align=&gt;'MIDDLE');      

        -or-

     print image_button('button_name','/source/URL','MIDDLE');
</pre>
<p class="Pp"><i>image_button()</i> produces a clickable image. When it's
    clicked on the position of the click is returned to your script as
    &quot;button_name.x&quot; and &quot;button_name.y&quot;, where
    &quot;button_name&quot; is the name you've assigned to it.</p>
<dl class="Bl-tag">
  <dt id="Parameters:~8"><a class="permalink" href="#Parameters:~8"><b>Parameters:</b></a></dt>
  <dd></dd>
  <dt>1.</dt>
  <dd>The first argument (-name) is required and specifies the name of this
      field.</dd>
  <dt>2.</dt>
  <dd>The second argument (-src) is also required and specifies the URL</dd>
  <dt>3. The third option (-align, optional) is an alignment type, and may be
    TOP, BOTTOM or MIDDLE</dt>
  <dd></dd>
</dl>
<p class="Pp">Fetch the value of the button this way:
  <br/>
   <span class="Li">$x</span> = param('button_name.x');
  <br/>
   <span class="Li">$y</span> = param('button_name.y');</p>
</section>
<section class="Ss">
<h2 class="Ss">CREATING A JAVASCRIPT ACTION BUTTON</h2>
<pre>
     print button(-name=&gt;'button_name',
                          -value=&gt;'user visible label',
                          -onClick=&gt;&quot;do_something()&quot;);

        -or-

     print button('button_name',&quot;user visible value&quot;,&quot;do_something()&quot;);
</pre>
<p class="Pp"><i>button()</i> produces an
    <span class="Li">&quot;&lt;input&gt;&quot;</span> tag with
    <span class="Li">&quot;type=&quot;button&quot;&quot;</span>. When it's
    pressed the fragment of JavaScript code pointed to by the <b>-onClick</b>
    parameter will be executed.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="HTTP_COOKIES"><a class="permalink" href="#HTTP_COOKIES">HTTP
  COOKIES</a></h1>
<p class="Pp">Browsers support a so-called &quot;cookie&quot; designed to help
    maintain state within a browser session. CGI.pm has several methods that
    support cookies.</p>
<p class="Pp">A cookie is a name=value pair much like the named parameters in a
    CGI query string. CGI scripts create one or more cookies and send them to
    the browser in the HTTP header. The browser maintains a list of cookies that
    belong to a particular Web server, and returns them to the CGI script during
    subsequent interactions.</p>
<p class="Pp">In addition to the required name=value pair, each cookie has
    several optional attributes:</p>
<dl class="Bl-tag">
  <dt>1. an expiration time</dt>
  <dd>This is a time/date string (in a special GMT format) that indicates when a
      cookie expires. The cookie will be saved and returned to your script until
      this expiration date is reached if the user exits the browser and restarts
      it. If an expiration date isn't specified, the cookie will remain active
      until the user quits the browser.</dd>
  <dt>2. a domain</dt>
  <dd>This is a partial or complete domain name for which the cookie is valid.
      The browser will return the cookie to any host that matches the partial
      domain name. For example, if you specify a domain name of
      &quot;.capricorn.com&quot;, then the browser will return the cookie to Web
      servers running on any of the machines &quot;www.capricorn.com&quot;,
      &quot;www2.capricorn.com&quot;, &quot;feckless.capricorn.com&quot;, etc.
      Domain names must contain at least two periods to prevent attempts to
      match on top level domains like &quot;.edu&quot;. If no domain is
      specified, then the browser will only return the cookie to servers on the
      host the cookie originated from.</dd>
  <dt>3. a path</dt>
  <dd>If you provide a cookie path attribute, the browser will check it against
      your script's URL before returning the cookie. For example, if you specify
      the path &quot;/cgi-bin&quot;, then the cookie will be returned to each of
      the scripts &quot;/cgi-bin/tally.pl&quot;, &quot;/cgi-bin/order.pl&quot;,
      and &quot;/cgi-bin/customer_service/complain.pl&quot;, but not to the
      script &quot;/cgi-private/site_admin.pl&quot;. By default, path is set to
      &quot;/&quot;, which causes the cookie to be sent to any CGI script on
      your site.</dd>
  <dt>4. a &quot;secure&quot; flag</dt>
  <dd>If the &quot;secure&quot; attribute is set, the cookie will only be sent
      to your script if the CGI request is occurring on a secure channel, such
      as SSL.</dd>
</dl>
<p class="Pp">The interface to HTTP cookies is the
    <b></b><b><i>cookie()</i></b><b></b> method:</p>
<p class="Pp"></p>
<pre>
    $cookie = cookie(-name=&gt;'sessionID',
                             -value=&gt;'xyzzy',
                             -expires=&gt;'+1h',
                             -path=&gt;'/cgi-bin/database',
                             -domain=&gt;'.capricorn.org',
                             -secure=&gt;1);
    print header(-cookie=&gt;$cookie);
</pre>
<p class="Pp"><b></b><b><i>cookie()</i></b><b></b> creates a new cookie. Its
    parameters include:</p>
<dl class="Bl-tag">
  <dt id="name~2"><a class="permalink" href="#name~2"><b>-name</b></a></dt>
  <dd>The name of the cookie (required). This can be any string at all. Although
      browsers limit their cookie names to non-whitespace alphanumeric
      characters, CGI.pm removes this restriction by escaping and unescaping
      cookies behind the scenes.</dd>
  <dt id="value~2"><a class="permalink" href="#value~2"><b>-value</b></a></dt>
  <dd>The value of the cookie. This can be any scalar value, array reference, or
      even hash reference. For example, you can store an entire hash into a
      cookie this way:
    <p class="Pp"></p>
    <pre>
        $cookie=cookie(-name=&gt;'family information',
                               -value=&gt;\%childrens_ages);
    </pre>
  </dd>
  <dt id="path~2"><a class="permalink" href="#path~2"><b>-path</b></a></dt>
  <dd>The optional partial path for which this cookie will be valid, as
      described above.</dd>
  <dt id="domain"><a class="permalink" href="#domain"><b>-domain</b></a></dt>
  <dd>The optional partial domain for which this cookie will be valid, as
      described above.</dd>
  <dt id="expires"><a class="permalink" href="#expires"><b>-expires</b></a></dt>
  <dd>The optional expiration date for this cookie. The format is as described
      in the section on the <b></b><b><i>header()</i></b><b></b> method:
    <p class="Pp"></p>
    <pre>
        &quot;+1h&quot;  one hour from now
    </pre>
  </dd>
  <dt id="secure"><a class="permalink" href="#secure"><b>-secure</b></a></dt>
  <dd>If set to true, this cookie will only be used within a secure SSL
    session.</dd>
</dl>
<p class="Pp">The cookie created by <i>cookie()</i> must be incorporated into
    the HTTP header within the string returned by the <i>header()</i>
  method:</p>
<p class="Pp"></p>
<pre>
        use CGI ':standard';
        print header(-cookie=&gt;$my_cookie);
</pre>
<p class="Pp">To create multiple cookies, give <i>header()</i> an array
    reference:</p>
<p class="Pp"></p>
<pre>
        $cookie1 = cookie(-name=&gt;'riddle_name',
                                  -value=&gt;&quot;The Sphynx's Question&quot;);
        $cookie2 = cookie(-name=&gt;'answers',
                                  -value=&gt;\%answers);
        print header(-cookie=&gt;[$cookie1,$cookie2]);
</pre>
<p class="Pp">To retrieve a cookie, request it by name by calling
    <i>cookie()</i> method without the <b>-value</b> parameter. This example
    uses the object-oriented form:</p>
<p class="Pp"></p>
<pre>
        use CGI;
        $query = CGI-&gt;new;
        $riddle = $query-&gt;cookie('riddle_name');
        %answers = $query-&gt;cookie('answers');
</pre>
<p class="Pp">Cookies created with a single scalar value, such as the
    &quot;riddle_name&quot; cookie, will be returned in that form. Cookies with
    array and hash values can also be retrieved.</p>
<p class="Pp">The cookie and CGI namespaces are separate. If you have a
    parameter named 'answers' and a cookie named 'answers', the values retrieved
    by <i>param()</i> and <i>cookie()</i> are independent of each other.
    However, it's simple to turn a CGI parameter into a cookie, and
  vice-versa:</p>
<p class="Pp"></p>
<pre>
   # turn a CGI parameter into a cookie
   $c=cookie(-name=&gt;'answers',-value=&gt;[param('answers')]);
   # vice-versa
   param(-name=&gt;'answers',-value=&gt;[cookie('answers')]);
</pre>
<p class="Pp">If you call <i>cookie()</i> without any parameters, it will return
    a list of the names of all cookies passed to your script:</p>
<p class="Pp"></p>
<pre>
  @cookies = cookie();
</pre>
<p class="Pp">See the <b>cookie.cgi</b> example script for some ideas on how to
    use cookies effectively.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="WORKING_WITH_FRAMES"><a class="permalink" href="#WORKING_WITH_FRAMES">WORKING
  WITH FRAMES</a></h1>
<p class="Pp">It's possible for CGI.pm scripts to write into several browser
    panels and windows using the HTML 4 frame mechanism. There are three
    techniques for defining new frames programmatically:</p>
<dl class="Bl-tag">
  <dt>1. Create a &lt;Frameset&gt; document</dt>
  <dd>After writing out the HTTP header, instead of creating a standard HTML
      document using the <i>start_html()</i> call, create a &lt;frameset&gt;
      document that defines the frames on the page. Specify your script(s) (with
      appropriate parameters) as the SRC for each of the frames.
    <p class="Pp">There is no specific support for creating &lt;frameset&gt;
        sections in CGI.pm, but the HTML is very simple to write.</p>
  </dd>
  <dt>2. Specify the destination for the document in the HTTP header</dt>
  <dd>You may provide a <b>-target</b> parameter to the <i>header()</i> method:
    <p class="Pp"></p>
    <pre>
    print header(-target=&gt;'ResultsWindow');
    </pre>
    <p class="Pp">This will tell the browser to load the output of your script
        into the frame named &quot;ResultsWindow&quot;. If a frame of that name
        doesn't already exist, the browser will pop up a new window and load
        your script's document into that. There are a number of magic names that
        you can use for targets. See the HTML
        <span class="Li">&quot;&lt;frame&gt;&quot;</span> documentation for
        details.</p>
  </dd>
  <dt>3. Specify the destination for the document in the &lt;form&gt; tag</dt>
  <dd>You can specify the frame to load in the FORM tag itself. With CGI.pm it
      looks like this:
    <p class="Pp"></p>
    <pre>
    print start_form(-target=&gt;'ResultsWindow');
    </pre>
    <p class="Pp">When your script is reinvoked by the form, its output will be
        loaded into the frame named &quot;ResultsWindow&quot;. If one doesn't
        already exist a new window will be created.</p>
  </dd>
</dl>
<p class="Pp">The script &quot;frameset.cgi&quot; in the examples directory
    shows one way to create pages in which the fill-out form and the response
    live in side-by-side frames.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SUPPORT_FOR_JAVASCRIPT"><a class="permalink" href="#SUPPORT_FOR_JAVASCRIPT">SUPPORT
  FOR JAVASCRIPT</a></h1>
<p class="Pp">The usual way to use JavaScript is to define a set of functions in
    a &lt;SCRIPT&gt; block inside the HTML header and then to register event
    handlers in the various elements of the page. Events include such things as
    the mouse passing over a form element, a button being clicked, the contents
    of a text field changing, or a form being submitted. When an event occurs
    that involves an element that has registered an event handler, its
    associated JavaScript code gets called.</p>
<p class="Pp">The elements that can register event handlers include the
    &lt;BODY&gt; of an HTML document, hypertext links, all the various elements
    of a fill-out form, and the form itself. There are a large number of events,
    and each applies only to the elements for which it is relevant. Here is a
    partial list:</p>
<dl class="Bl-tag">
  <dt id="onLoad"><a class="permalink" href="#onLoad"><b>onLoad</b></a></dt>
  <dd>The browser is loading the current document. Valid in:
    <p class="Pp"></p>
    <pre>
     + The HTML &lt;BODY&gt; section only.
    </pre>
  </dd>
  <dt id="onUnload"><a class="permalink" href="#onUnload"><b>onUnload</b></a></dt>
  <dd>The browser is closing the current page or frame. Valid for:
    <p class="Pp"></p>
    <pre>
     + The HTML &lt;BODY&gt; section only.
    </pre>
  </dd>
  <dt id="onSubmit"><a class="permalink" href="#onSubmit"><b>onSubmit</b></a></dt>
  <dd>The user has pressed the submit button of a form. This event happens just
      before the form is submitted, and your function can return a value of
      false in order to abort the submission. Valid for:
    <p class="Pp"></p>
    <pre>
     + Forms only.
    </pre>
  </dd>
  <dt id="onClick"><a class="permalink" href="#onClick"><b>onClick</b></a></dt>
  <dd>The mouse has clicked on an item in a fill-out form. Valid for:
    <p class="Pp"></p>
    <pre>
     + Buttons (including submit, reset, and image buttons)
     + Checkboxes
     + Radio buttons
    </pre>
  </dd>
  <dt id="onChange~2"><a class="permalink" href="#onChange~2"><b>onChange</b></a></dt>
  <dd>The user has changed the contents of a field. Valid for:
    <p class="Pp"></p>
    <pre>
     + Text fields
     + Text areas
     + Password fields
     + File fields
     + Popup Menus
     + Scrolling lists
    </pre>
  </dd>
  <dt id="onFocus"><a class="permalink" href="#onFocus"><b>onFocus</b></a></dt>
  <dd>The user has selected a field to work with. Valid for:
    <p class="Pp"></p>
    <pre>
     + Text fields
     + Text areas
     + Password fields
     + File fields
     + Popup Menus
     + Scrolling lists
    </pre>
  </dd>
  <dt id="onBlur"><a class="permalink" href="#onBlur"><b>onBlur</b></a></dt>
  <dd>The user has deselected a field (gone to work somewhere else). Valid for:
    <p class="Pp"></p>
    <pre>
     + Text fields
     + Text areas
     + Password fields
     + File fields
     + Popup Menus
     + Scrolling lists
    </pre>
  </dd>
  <dt id="onSelect"><a class="permalink" href="#onSelect"><b>onSelect</b></a></dt>
  <dd>The user has changed the part of a text field that is selected. Valid for:
    <p class="Pp"></p>
    <pre>
     + Text fields
     + Text areas
     + Password fields
     + File fields
    </pre>
  </dd>
  <dt id="onMouseOver"><a class="permalink" href="#onMouseOver"><b>onMouseOver</b></a></dt>
  <dd>The mouse has moved over an element.
    <p class="Pp"></p>
    <pre>
     + Text fields
     + Text areas
     + Password fields
     + File fields
     + Popup Menus
     + Scrolling lists
    </pre>
  </dd>
  <dt id="onMouseOut"><a class="permalink" href="#onMouseOut"><b>onMouseOut</b></a></dt>
  <dd>The mouse has moved off an element.
    <p class="Pp"></p>
    <pre>
     + Text fields
     + Text areas
     + Password fields
     + File fields
     + Popup Menus
     + Scrolling lists
    </pre>
  </dd>
</dl>
<p class="Pp">In order to register a JavaScript event handler with an HTML
    element, just use the event name as a parameter when you call the
    corresponding CGI method. For example, to have your <i>validateAge()</i>
    JavaScript code executed every time the textfield named &quot;age&quot;
    changes, generate the field like this:</p>
<p class="Pp"></p>
<pre>
 print textfield(-name=&gt;'age',-onChange=&gt;&quot;validateAge(this)&quot;);
</pre>
<p class="Pp">This example assumes that you've already declared the
    <i>validateAge()</i> function by incorporating it into a &lt;SCRIPT&gt;
    block. The CGI.pm <i>start_html()</i> method provides a convenient way to
    create this section.</p>
<p class="Pp">Similarly, you can create a form that checks itself over for
    consistency and alerts the user if some essential value is missing by
    creating it this way:
  <br/>
   print start_form(-onSubmit=&gt;&quot;validateMe(this)&quot;);</p>
<p class="Pp">See the javascript.cgi script for a demonstration of how this all
    works.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="LIMITED_SUPPORT_FOR_CASCADING_STYLE_SHEETS"><a class="permalink" href="#LIMITED_SUPPORT_FOR_CASCADING_STYLE_SHEETS">LIMITED
  SUPPORT FOR CASCADING STYLE SHEETS</a></h1>
<p class="Pp">CGI.pm has limited support for HTML3's cascading style sheets
    (css). To incorporate a stylesheet into your document, pass the
    <i>start_html()</i> method a <b>-style</b> parameter. The value of this
    parameter may be a scalar, in which case it is treated as the source URL for
    the stylesheet, or it may be a hash reference. In the latter case you should
    provide the hash with one or more of <b>-src</b> or <b>-code</b>.
    <b>-src</b> points to a URL where an externally-defined stylesheet can be
    found. <b>-code</b> points to a scalar value to be incorporated into a
    &lt;style&gt; section. Style definitions in <b>-code</b> override
    similarly-named ones in <b>-src</b>, hence the name
  &quot;cascading.&quot;</p>
<p class="Pp">You may also specify the type of the stylesheet by adding the
    optional <b>-type</b> parameter to the hash pointed to by <b>-style</b>. If
    not specified, the style defaults to 'text/css'.</p>
<p class="Pp">To refer to a style within the body of your document, add the
    <b>-class</b> parameter to any HTML element:</p>
<p class="Pp"></p>
<pre>
    print h1({-class=&gt;'Fancy'},'Welcome to the Party');
</pre>
<p class="Pp">Or define styles on the fly with the <b>-style</b> parameter:</p>
<p class="Pp"></p>
<pre>
    print h1({-style=&gt;'Color: red;'},'Welcome to Hell');
</pre>
<p class="Pp">You may also use the new <b></b><b><i>span()</i></b><b></b>
    element to apply a style to a section of text:</p>
<p class="Pp"></p>
<pre>
    print span({-style=&gt;'Color: red;'},
               h1('Welcome to Hell'),
               &quot;Where did that handbasket get to?&quot;
               );
</pre>
<p class="Pp">Note that you must import the &quot;:html3&quot; definitions to
    have the <b></b><b><i>span()</i></b><b></b> method available. Here's a quick
    and dirty example of using CSS's. See the CSS specification at
    http://www.w3.org/Style/CSS/ for more information.</p>
<p class="Pp"></p>
<pre>
    use CGI qw/:standard :html3/;

    #here's a stylesheet incorporated directly into the page
    $newStyle=&lt;&lt;END;
    &lt;!-- 
    P.Tip {
        margin-right: 50pt;
        margin-left: 50pt;
        color: red;
    }
    P.Alert {
        font-size: 30pt;
        font-family: sans-serif;
      color: red;
    }
    --&gt;
    END
    print header();
    print start_html( -title=&gt;'CGI with Style',
                      -style=&gt;{-src=&gt;'http://www.capricorn.com/style/st1.css',
                               -code=&gt;$newStyle}
                     );
    print h1('CGI with Style'),
          p({-class=&gt;'Tip'},
            &quot;Better read the cascading style sheet spec before playing with this!&quot;),
          span({-style=&gt;'color: magenta'},
               &quot;Look Mom, no hands!&quot;,
               p(),
               &quot;Whooo wee!&quot;
               );
    print end_html;
</pre>
<p class="Pp">Pass an array reference to <b>-code</b> or <b>-src</b> in order to
    incorporate multiple stylesheets into your document.</p>
<p class="Pp">Should you wish to incorporate a verbatim stylesheet that includes
    arbitrary formatting in the header, you may pass a -verbatim tag to the
    -style hash, as follows:</p>
<p class="Pp">print start_html (-style =&gt; {-verbatim =&gt; '@import
    url(&quot;/server-common/css/'.$cssFile.'&quot;);',
  <br/>
   -src =&gt; '/server-common/css/core.css'});</p>
<p class="Pp">This will generate an HTML header that contains this:</p>
<p class="Pp"></p>
<pre>
 &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot;  href=&quot;/server-common/css/core.css&quot;&gt;
   &lt;style type=&quot;text/css&quot;&gt;
   @import url(&quot;/server-common/css/main.css&quot;);
   &lt;/style&gt;
</pre>
<p class="Pp">Any additional arguments passed in the -style value will be
    incorporated into the &lt;link&gt; tag. For example:</p>
<p class="Pp"></p>
<pre>
 start_html(-style=&gt;{-src=&gt;['/styles/print.css','/styles/layout.css'],
                          -media =&gt; 'all'});
</pre>
<p class="Pp">This will give:</p>
<p class="Pp"></p>
<pre>
 &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/styles/print.css&quot; media=&quot;all&quot;/&gt;
 &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/styles/layout.css&quot; media=&quot;all&quot;/&gt;
</pre>
<p class="Pp">&lt;p&gt;</p>
<p class="Pp">To make more complicated &lt;link&gt; tags, use the <i>Link()</i>
    function and pass it to <i>start_html()</i> in the -head argument, as
  in:</p>
<p class="Pp"></p>
<pre>
  @h = (Link({-rel=&gt;'stylesheet',-type=&gt;'text/css',-src=&gt;'/ss/ss.css',-media=&gt;'all'}),
        Link({-rel=&gt;'stylesheet',-type=&gt;'text/css',-src=&gt;'/ss/fred.css',-media=&gt;'paper'}));
  print start_html({-head=&gt;\@h})
</pre>
<p class="Pp">To create primary and &quot;alternate&quot; stylesheet, use the
    <b>-alternate</b> option:</p>
<p class="Pp"></p>
<pre>
 start_html(-style=&gt;{-src=&gt;[
                           {-src=&gt;'/styles/print.css'},
                           {-src=&gt;'/styles/alt.css',-alternate=&gt;1}
                           ]
                    });
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DEBUGGING"><a class="permalink" href="#DEBUGGING">DEBUGGING</a></h1>
<p class="Pp">If you are running the script from the command line or in the perl
    debugger, you can pass the script a list of keywords or parameter=value
    pairs on the command line or from standard input (you don't have to worry
    about tricking your script into reading from environment variables). You can
    pass keywords like this:</p>
<p class="Pp"></p>
<pre>
    your_script.pl keyword1 keyword2 keyword3
</pre>
<p class="Pp">or this:</p>
<p class="Pp"></p>
<pre>
   your_script.pl keyword1+keyword2+keyword3
</pre>
<p class="Pp">or this:</p>
<p class="Pp"></p>
<pre>
    your_script.pl name1=value1 name2=value2
</pre>
<p class="Pp">or this:</p>
<p class="Pp"></p>
<pre>
    your_script.pl name1=value1&amp;name2=value2
</pre>
<p class="Pp">To turn off this feature, use the -no_debug pragma.</p>
<p class="Pp">To test the POST method, you may enable full debugging with the
    -debug pragma. This will allow you to feed newline-delimited name=value
    pairs to the script on standard input.</p>
<p class="Pp">When debugging, you can use quotes and backslashes to escape
    characters in the familiar shell manner, letting you place spaces and other
    funny characters in your parameter=value pairs:</p>
<p class="Pp"></p>
<pre>
   your_script.pl &quot;name1='I am a long value'&quot; &quot;name2=two\ words&quot;
</pre>
<p class="Pp">Finally, you can set the path info for the script by prefixing the
    first name/value parameter with the path followed by a question mark
  (?):</p>
<p class="Pp"></p>
<pre>
    your_script.pl /your/path/here?name1=value1&amp;name2=value2
</pre>
<section class="Ss">
<h2 class="Ss">DUMPING OUT ALL THE NAME/VALUE PAIRS</h2>
<p class="Pp">The <i>Dump()</i> method produces a string consisting of all the
    query's name/value pairs formatted nicely as a nested list. This is useful
    for debugging purposes:</p>
<p class="Pp"></p>
<pre>
    print Dump
</pre>
<p class="Pp">Produces something that looks like:</p>
<p class="Pp"></p>
<pre>
    &lt;ul&gt;
    &lt;li&gt;name1
        &lt;ul&gt;
        &lt;li&gt;value1
        &lt;li&gt;value2
        &lt;/ul&gt;
    &lt;li&gt;name2
        &lt;ul&gt;
        &lt;li&gt;value1
        &lt;/ul&gt;
    &lt;/ul&gt;
</pre>
<p class="Pp">As a shortcut, you can interpolate the entire CGI object into a
    string and it will be replaced with the a nice HTML dump shown above:</p>
<p class="Pp"></p>
<pre>
    $query=CGI-&gt;new;
    print &quot;&lt;h2&gt;Current Values&lt;/h2&gt; $query\n&quot;;
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="FETCHING_ENVIRONMENT_VARIABLES"><a class="permalink" href="#FETCHING_ENVIRONMENT_VARIABLES">FETCHING
  ENVIRONMENT VARIABLES</a></h1>
<p class="Pp">Some of the more useful environment variables can be fetched
    through this interface. The methods are as follows:</p>
<dl class="Bl-tag">
  <dt id="Accept()"><a class="permalink" href="#Accept()"><b></b><b><i>Accept()</i></b><b></b></a></dt>
  <dd>Return a list of MIME types that the remote browser accepts. If you give
      this method a single argument corresponding to a MIME type, as in
      Accept('text/html'), it will return a floating point value corresponding
      to the browser's preference for this type from 0.0 (don't want) to 1.0.
      Glob types (e.g. text/*) in the browser's accept list are handled
      correctly.
    <p class="Pp">Note that the capitalization changed between version 2.43 and
        2.44 in order to avoid conflict with Perl's <i>accept()</i>
      function.</p>
  </dd>
  <dt id="raw_cookie()"><a class="permalink" href="#raw_cookie()"><b></b><b><i>raw_cookie()</i></b><b></b></a></dt>
  <dd>Returns the HTTP_COOKIE variable. Cookies have a special format, and this
      method call just returns the raw form (?cookie dough). See <i>cookie()</i>
      for ways of setting and retrieving cooked cookies.
    <p class="Pp">Called with no parameters, <i>raw_cookie()</i> returns the
        packed cookie structure. You can separate it into individual cookies by
        splitting on the character sequence &quot;; &quot;. Called with the name
        of a cookie, retrieves the <b>unescaped</b> form of the cookie. You can
        use the regular <i>cookie()</i> method to get the names, or use the
        <i>raw_fetch()</i> method from the CGI::Cookie module.</p>
  </dd>
  <dt id="user_agent()"><a class="permalink" href="#user_agent()"><b></b><b><i>user_agent()</i></b><b></b></a></dt>
  <dd>Returns the HTTP_USER_AGENT variable. If you give this method a single
      argument, it will attempt to pattern match on it, allowing you to do
      something like user_agent(Mozilla);</dd>
  <dt id="path_info()"><a class="permalink" href="#path_info()"><b></b><b><i>path_info()</i></b><b></b></a></dt>
  <dd>Returns additional path information from the script URL. E.G. fetching
      /cgi-bin/your_script/additional/stuff will result in <i>path_info()</i>
      returning &quot;/additional/stuff&quot;.
    <p class="Pp">NOTE: The Microsoft Internet Information Server is broken with
        respect to additional path information. If you use the Perl DLL library,
        the IIS server will attempt to execute the additional path information
        as a Perl script. If you use the ordinary file associations mapping, the
        path information will be present in the environment, but incorrect. The
        best thing to do is to avoid using additional path information in CGI
        scripts destined for use with IIS.</p>
  </dd>
  <dt id="path_translated()"><a class="permalink" href="#path_translated()"><b></b><b><i>path_translated()</i></b><b></b></a></dt>
  <dd>As per <i>path_info()</i> but returns the additional path information
      translated into a physical path, e.g.
      &quot;/usr/local/etc/httpd/htdocs/additional/stuff&quot;.
    <p class="Pp">The Microsoft IIS is broken with respect to the translated
        path as well.</p>
  </dd>
  <dt id="remote_host()"><a class="permalink" href="#remote_host()"><b></b><b><i>remote_host()</i></b><b></b></a></dt>
  <dd>Returns either the remote host name or IP address. if the former is
      unavailable.</dd>
  <dt id="remote_addr()"><a class="permalink" href="#remote_addr()"><b></b><b><i>remote_addr()</i></b><b></b></a></dt>
  <dd>Returns the remote host IP address, or 127.0.0.1 if the address is
      unavailable.</dd>
  <dt id="script_name()"><a class="permalink" href="#script_name()"><b></b><b><i>script_name()</i></b><b></b>
    Return the script name as a partial URL, for self-referring
    scripts.</a></dt>
  <dd></dd>
  <dt id="referer()"><a class="permalink" href="#referer()"><b></b><b><i>referer()</i></b><b></b></a></dt>
  <dd>Return the URL of the page the browser was viewing prior to fetching your
      script. Not available for all browsers.</dd>
  <dt id="auth_type"><a class="permalink" href="#auth_type"><b>auth_type
    ()</b></a></dt>
  <dd>Return the authorization/verification method in use for this script, if
      any.</dd>
  <dt id="server_name"><a class="permalink" href="#server_name"><b>server_name
    ()</b></a></dt>
  <dd>Returns the name of the server, usually the machine's host name.</dd>
  <dt id="virtual_host"><a class="permalink" href="#virtual_host"><b>virtual_host
    ()</b></a></dt>
  <dd>When using virtual hosts, returns the name of the host that the browser
      attempted to contact</dd>
  <dt id="server_port"><a class="permalink" href="#server_port"><b>server_port
    ()</b></a></dt>
  <dd>Return the port that the server is listening on.</dd>
  <dt id="virtual_port"><a class="permalink" href="#virtual_port"><b>virtual_port
    ()</b></a></dt>
  <dd>Like <i>server_port()</i> except that it takes virtual hosts into account.
      Use this when running with virtual hosts.</dd>
  <dt id="server_software"><a class="permalink" href="#server_software"><b>server_software
    ()</b></a></dt>
  <dd>Returns the server software and version number.</dd>
  <dt id="remote_user"><a class="permalink" href="#remote_user"><b>remote_user
    ()</b></a></dt>
  <dd>Return the authorization/verification name used for user verification, if
      this script is protected.</dd>
  <dt id="user_name"><a class="permalink" href="#user_name"><b>user_name
    ()</b></a></dt>
  <dd>Attempt to obtain the remote user's name, using a variety of different
      techniques. This only works with older browsers such as Mosaic. Newer
      browsers do not report the user name for privacy reasons!</dd>
  <dt id="request_method()"><a class="permalink" href="#request_method()"><b></b><b><i>request_method()</i></b><b></b></a></dt>
  <dd>Returns the method used to access your script, usually one of 'POST',
      'GET' or 'HEAD'.</dd>
  <dt id="content_type()"><a class="permalink" href="#content_type()"><b></b><b><i>content_type()</i></b><b></b></a></dt>
  <dd>Returns the content_type of data submitted in a POST, generally
      multipart/form-data or application/x-www-form-urlencoded</dd>
  <dt id="http()"><a class="permalink" href="#http()"><b></b><b><i>http()</i></b><b></b></a></dt>
  <dd>Called with no arguments returns the list of HTTP environment variables,
      including such things as HTTP_USER_AGENT, HTTP_ACCEPT_LANGUAGE, and
      HTTP_ACCEPT_CHARSET, corresponding to the like-named HTTP header fields in
      the request. Called with the name of an HTTP header field, returns its
      value. Capitalization and the use of hyphens versus underscores are not
      significant.
    <p class="Pp">For example, all three of these examples are equivalent:</p>
    <p class="Pp"></p>
    <pre>
   $requested_language = http('Accept-language');
   $requested_language = http('Accept_language');
   $requested_language = http('HTTP_ACCEPT_LANGUAGE');
    </pre>
  </dd>
  <dt id="https()"><a class="permalink" href="#https()"><b></b><b><i>https()</i></b><b></b></a></dt>
  <dd>The same as <i></i><i>http()</i><i></i>, but operates on the HTTPS
      environment variables present when the SSL protocol is in effect. Can be
      used to determine whether SSL is turned on.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="USING_NPH_SCRIPTS"><a class="permalink" href="#USING_NPH_SCRIPTS">USING
  NPH SCRIPTS</a></h1>
<p class="Pp">NPH, or &quot;no-parsed-header&quot;, scripts bypass the server
    completely by sending the complete HTTP header directly to the browser. This
    has slight performance benefits, but is of most use for taking advantage of
    HTTP extensions that are not directly supported by your server, such as
    server push and PICS headers.</p>
<p class="Pp">Servers use a variety of conventions for designating CGI scripts
    as NPH. Many Unix servers look at the beginning of the script's name for the
    prefix &quot;nph-&quot;. The Macintosh WebSTAR server and Microsoft's
    Internet Information Server, in contrast, try to decide whether a program is
    an NPH script by examining the first line of script output.</p>
<p class="Pp">CGI.pm supports NPH scripts with a special NPH mode. When in this
    mode, CGI.pm will output the necessary extra header information when the
    <i>header()</i> and <i>redirect()</i> methods are called.</p>
<p class="Pp">The Microsoft Internet Information Server requires NPH mode. As of
    version 2.30, CGI.pm will automatically detect when the script is running
    under IIS and put itself into this mode. You do not need to do this
    manually, although it won't hurt anything if you do. However, note that if
    you have applied Service Pack 6, much of the functionality of NPH scripts,
    including the ability to redirect while setting a cookie, <b>do not work at
    all</b> on IIS without a special patch from Microsoft. See
    http://web.archive.org/web/20010812012030/http://support.microsoft.com/support/kb/articles/Q280/3/41.ASP
    Non-Parsed Headers Stripped From CGI Applications That Have nph- Prefix in
    Name.</p>
<dl class="Bl-tag">
  <dt id="In"><a class="permalink" href="#In">In the <b>use</b>
    statement</a></dt>
  <dd>Simply add the &quot;-nph&quot; pragma to the list of symbols to be
      imported into your script:
    <p class="Pp"></p>
    <pre>
      use CGI qw(:standard -nph)
    </pre>
  </dd>
  <dt id="By"><a class="permalink" href="#By">By calling the
    <b></b><b><i>nph()</i></b><b></b> method:</a></dt>
  <dd>Call <b></b><b><i>nph()</i></b><b></b> with a non-zero parameter at any
      point after using CGI.pm in your program.
    <p class="Pp"></p>
    <pre>
      CGI-&gt;nph(1)
    </pre>
  </dd>
  <dt id="By~2"><a class="permalink" href="#By~2">By using <b>-nph</b>
    parameters</a></dt>
  <dd>in the <b></b><b><i>header()</i></b><b></b> and
      <b></b><b><i>redirect()</i></b><b></b> statements:
    <p class="Pp"></p>
    <pre>
      print header(-nph=&gt;1);
    </pre>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="Server_Push"><a class="permalink" href="#Server_Push">Server
  Push</a></h1>
<p class="Pp">CGI.pm provides four simple functions for producing multipart
    documents of the type needed to implement server push. These functions were
    graciously provided by Ed Jordan &lt;ed@fidalgo.net&gt;. To import these
    into your namespace, you must import the &quot;:push&quot; set. You are also
    advised to put the script into NPH mode and to set $| to 1 to avoid
    buffering problems.</p>
<p class="Pp">Here is a simple script that demonstrates server push:</p>
<p class="Pp"></p>
<pre>
  #!/usr/local/bin/perl
  use CGI qw/:push -nph/;
  $| = 1;
  print multipart_init(-boundary=&gt;'----here we go!');
  for (0 .. 4) {
      print multipart_start(-type=&gt;'text/plain'),
            &quot;The current time is &quot;,scalar(localtime),&quot;\n&quot;;
      if ($_ &lt; 4) {
              print multipart_end;
      } else {
              print multipart_final;
      }
      sleep 1;
  }
</pre>
<p class="Pp">This script initializes server push by calling
    <b></b><b><i>multipart_init()</i></b><b></b>. It then enters a loop in which
    it begins a new multipart section by calling
    <b></b><b><i>multipart_start()</i></b><b></b>, prints the current local
    time, and ends a multipart section with
    <b></b><b><i>multipart_end()</i></b><b></b>. It then sleeps a second, and
    begins again. On the final iteration, it ends the multipart section with
    <b></b><b><i>multipart_final()</i></b><b></b> rather than with
    <b></b><b><i>multipart_end()</i></b><b></b>.</p>
<dl class="Bl-tag">
  <dt id="multipart_init()"><a class="permalink" href="#multipart_init()"><i>multipart_init()</i></a></dt>
  <dd>
    <pre>
  multipart_init(-boundary=&gt;$boundary);
    </pre>
    <p class="Pp">Initialize the multipart system. The -boundary argument
        specifies what MIME boundary string to use to separate parts of the
        document. If not provided, CGI.pm chooses a reasonable boundary for
      you.</p>
  </dd>
  <dt id="multipart_start()"><a class="permalink" href="#multipart_start()"><i>multipart_start()</i></a></dt>
  <dd>
    <pre>
  multipart_start(-type=&gt;$type)
    </pre>
    <p class="Pp">Start a new part of the multipart document using the specified
        MIME type. If not specified, text/html is assumed.</p>
  </dd>
  <dt id="multipart_end()"><a class="permalink" href="#multipart_end()"><i>multipart_end()</i></a></dt>
  <dd>
    <pre>
  multipart_end()
    </pre>
    <p class="Pp">End a part. You must remember to call <i>multipart_end()</i>
        once for each <i>multipart_start()</i>, except at the end of the last
        part of the multipart document when <i>multipart_final()</i> should be
        called instead of <i>multipart_end()</i>.</p>
  </dd>
  <dt id="multipart_final()"><a class="permalink" href="#multipart_final()"><i>multipart_final()</i></a></dt>
  <dd>
    <pre>
  multipart_final()
    </pre>
    <p class="Pp">End all parts. You should call <i>multipart_final()</i> rather
        than <i>multipart_end()</i> at the end of the last part of the multipart
        document.</p>
  </dd>
</dl>
<p class="Pp">Users interested in server push applications should also have a
    look at the CGI::Push module.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Avoiding_Denial_of_Service_Attacks"><a class="permalink" href="#Avoiding_Denial_of_Service_Attacks">Avoiding
  Denial of Service Attacks</a></h1>
<p class="Pp">A potential problem with CGI.pm is that, by default, it attempts
    to process form POSTings no matter how large they are. A wily hacker could
    attack your site by sending a CGI script a huge POST of many megabytes.
    CGI.pm will attempt to read the entire POST into a variable, growing hugely
    in size until it runs out of memory. While the script attempts to allocate
    the memory the system may slow down dramatically. This is a form of denial
    of service attack.</p>
<p class="Pp">Another possible attack is for the remote user to force CGI.pm to
    accept a huge file upload. CGI.pm will accept the upload and store it in a
    temporary directory even if your script doesn't expect to receive an
    uploaded file. CGI.pm will delete the file automatically when it terminates,
    but in the meantime the remote user may have filled up the server's disk
    space, causing problems for other programs.</p>
<p class="Pp">The best way to avoid denial of service attacks is to limit the
    amount of memory, CPU time and disk space that CGI scripts can use. Some Web
    servers come with built-in facilities to accomplish this. In other cases,
    you can use the shell <i>limit</i> or <i>ulimit</i> commands to put ceilings
    on CGI resource usage.</p>
<p class="Pp">CGI.pm also has some simple built-in protections against denial of
    service attacks, but you must activate them before you can use them. These
    take the form of two global variables in the CGI name space:</p>
<dl class="Bl-tag">
  <dt><b></b><b>$CGI::POST_MAX</b><b></b></dt>
  <dd>If set to a non-negative integer, this variable puts a ceiling on the size
      of POSTings, in bytes. If CGI.pm detects a POST that is greater than the
      ceiling, it will immediately exit with an error message. This value will
      affect both ordinary POSTs and multipart POSTs, meaning that it limits the
      maximum size of file uploads as well. You should set this to a reasonably
      high value, such as 1 megabyte.</dd>
  <dt><b></b><b>$CGI::DISABLE_UPLOADS</b><b></b></dt>
  <dd>If set to a non-zero value, this will disable file uploads completely.
      Other fill-out form values will work as usual.</dd>
</dl>
<p class="Pp">You can use these variables in either of two ways.</p>
<dl class="Bl-tag">
  <dt><b>1. On a script-by-script basis</b></dt>
  <dd>Set the variable at the top of the script, right after the &quot;use&quot;
      statement:
    <p class="Pp"></p>
    <pre>
    use CGI qw/:standard/;
    use CGI::Carp 'fatalsToBrowser';
    $CGI::POST_MAX=1024 * 100;  # max 100K posts
    $CGI::DISABLE_UPLOADS = 1;  # no uploads
    </pre>
  </dd>
  <dt><b>2. Globally for all scripts</b></dt>
  <dd>Open up CGI.pm, find the definitions for <span class="Li">$POST_MAX</span>
      and <span class="Li">$DISABLE_UPLOADS</span>, and set them to the desired
      values. You'll find them towards the top of the file in a subroutine named
      <i>initialize_globals()</i>.</dd>
</dl>
<p class="Pp">An attempt to send a POST larger than
    <span class="Li">$POST_MAX</span> bytes will cause
    <i></i><i>param()</i><i></i> to return an empty CGI parameter list. You can
    test for this event by checking <i></i><i>cgi_error()</i><i></i>, either
    after you create the CGI object or, if you are using the function-oriented
    interface, call &lt;<i>param()</i>&gt; for the first time. If the POST was
    intercepted, then <i>cgi_error()</i> will return the message &quot;413 POST
    too large&quot;.</p>
<p class="Pp">This error message is actually defined by the HTTP protocol, and
    is designed to be returned to the browser as the CGI script's status
  <br/>
   code. For example:</p>
<p class="Pp"></p>
<pre>
   $uploaded_file = param('upload');
   if (!$uploaded_file &amp;&amp; cgi_error()) {
      print header(-status=&gt;cgi_error());
      exit 0;
   }
</pre>
<p class="Pp">However it isn't clear that any browser currently knows what to do
    with this status code. It might be better just to create an HTML page that
    warns the user of the problem.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COMPATIBILITY_WITH_CGI"><a class="permalink" href="#COMPATIBILITY_WITH_CGI">COMPATIBILITY
  WITH CGI-LIB.PL</a></h1>
<p class="Pp">To make it easier to port existing programs that use cgi-lib.pl
    the compatibility routine &quot;ReadParse&quot; is provided. Porting is
    simple:</p>
<p class="Pp">OLD VERSION</p>
<p class="Pp"></p>
<pre>
    require &quot;cgi-lib.pl&quot;;
    &amp;ReadParse;
    print &quot;The value of the antique is $in{antique}.\n&quot;;
</pre>
<p class="Pp">NEW VERSION</p>
<p class="Pp"></p>
<pre>
    use CGI;
    CGI::ReadParse();
    print &quot;The value of the antique is $in{antique}.\n&quot;;
</pre>
<p class="Pp">CGI.pm's <i>ReadParse()</i> routine creates a tied variable named
    <span class="Li">%in</span>, which can be accessed to obtain the query
    variables. Like ReadParse, you can also provide your own variable.
    Infrequently used features of ReadParse, such as the creation of
    <span class="Li">@in</span> and <span class="Li">$in</span> variables, are
    not supported.</p>
<p class="Pp">Once you use ReadParse, you can retrieve the query object itself
    this way:</p>
<p class="Pp"></p>
<pre>
    $q = $in{CGI};
    print $q-&gt;textfield(-name=&gt;'wow',
            -value=&gt;'does this really work?');
</pre>
<p class="Pp">This allows you to start using the more interesting features of
    CGI.pm without rewriting your old scripts from scratch.</p>
<p class="Pp">An even simpler way to mix cgi-lib calls with CGI.pm calls is to
    import both the <span class="Li">&quot;:cgi-lib&quot;</span> and
    <span class="Li">&quot;:standard&quot;</span> method:</p>
<p class="Pp"></p>
<pre>
 use CGI qw(:cgi-lib :standard);
 &amp;ReadParse;
 print &quot;The price of your purchase is $in{price}.\n&quot;;
 print textfield(-name=&gt;'price', -default=&gt;'$1.99');
</pre>
<section class="Ss">
<h2 class="Ss" id="Cgi-lib_functions_that_are_available_in_"><a class="permalink" href="#Cgi-lib_functions_that_are_available_in_">Cgi-lib
  functions that are available in CGI.pm</a></h2>
<p class="Pp">In compatibility mode, the following cgi-lib.pl functions are
    available for your use:</p>
<p class="Pp"></p>
<pre>
 ReadParse()
 PrintHeader()
 HtmlTop()
 HtmlBot()
 SplitParam()
 MethGet()
 MethPost()
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Cgi-lib_functions_that_are_not_available_in_"><a class="permalink" href="#Cgi-lib_functions_that_are_not_available_in_">Cgi-lib
  functions that are not available in CGI.pm</a></h2>
<pre>
  * Extended form of ReadParse()
    The extended form of ReadParse() that provides for file upload
    spooling, is not available.

  * MyBaseURL()
    This function is not available.  Use CGI.pm's url() method instead.

  * MyFullURL()
    This function is not available.  Use CGI.pm's self_url() method
    instead.

  * CgiError(), CgiDie()
    These functions are not supported.  Look at CGI::Carp for the way I
    prefer to handle error messages.

  * PrintVariables()
    This function is not available.  To achieve the same effect,
       just print out the CGI object:

       use CGI qw(:standard);
       $q = CGI-&gt;new;
       print h1(&quot;The Variables Are&quot;),$q;

  * PrintEnv()
    This function is not available. You'll have to roll your own if you really need it.
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR_INFORMATION"><a class="permalink" href="#AUTHOR_INFORMATION">AUTHOR
  INFORMATION</a></h1>
<p class="Pp">The CGI.pm distribution is copyright 1995-2007, Lincoln D. Stein.
    It is distributed under GPL and the Artistic License 2.0. It is currently
    maintained by Mark Stosberg with help from many contributors.</p>
<p class="Pp">Address bug reports and comments to:
    https://rt.cpan.org/Public/Dist/Display.html?Queue=CGI.pm When sending bug
    reports, please provide the version of CGI.pm, the version of Perl, the name
    and version of your Web server, and the name and version of the operating
    system you are using. If the problem is even remotely browser dependent,
    please provide information about the affected browsers as well.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CREDITS"><a class="permalink" href="#CREDITS">CREDITS</a></h1>
<p class="Pp">Thanks very much to:</p>
<dl class="Bl-tag">
  <dt id="Matt"><a class="permalink" href="#Matt">Matt Heffron
    (heffron@falstaff.css.beckman.com)</a></dt>
  <dd></dd>
  <dt id="James"><a class="permalink" href="#James">James Taylor
    (james.taylor@srs.gov)</a></dt>
  <dd></dd>
  <dt id="Scott"><a class="permalink" href="#Scott">Scott Anguish
    &lt;sanguish@digifix.com&gt;</a></dt>
  <dd></dd>
  <dt id="Mike"><a class="permalink" href="#Mike">Mike Jewell
    (mlj3u@virginia.edu)</a></dt>
  <dd></dd>
  <dt id="Timothy"><a class="permalink" href="#Timothy">Timothy Shimmin
    (tes@kbs.citri.edu.au)</a></dt>
  <dd></dd>
  <dt id="Joergen"><a class="permalink" href="#Joergen">Joergen Haegg
    (jh@axis.se)</a></dt>
  <dd></dd>
  <dt id="Laurent"><a class="permalink" href="#Laurent">Laurent Delfosse
    (delfosse@delfosse.com)</a></dt>
  <dd></dd>
  <dt id="Richard"><a class="permalink" href="#Richard">Richard Resnick
    (applepi1@aol.com)</a></dt>
  <dd></dd>
  <dt id="Craig"><a class="permalink" href="#Craig">Craig Bishop
    (csb@barwonwater.vic.gov.au)</a></dt>
  <dd></dd>
  <dt id="Tony"><a class="permalink" href="#Tony">Tony Curtis
    (tc@vcpc.univie.ac.at)</a></dt>
  <dd></dd>
  <dt id="Tim"><a class="permalink" href="#Tim">Tim Bunce
    (Tim.Bunce@ig.co.uk)</a></dt>
  <dd></dd>
  <dt id="Tom"><a class="permalink" href="#Tom">Tom Christiansen
    (tchrist@convex.com)</a></dt>
  <dd></dd>
  <dt id="Andreas"><a class="permalink" href="#Andreas">Andreas Koenig
    (k@franz.ww.TU-Berlin.DE)</a></dt>
  <dd></dd>
  <dt id="Tim~2"><a class="permalink" href="#Tim~2">Tim MacKenzie
    (Tim.MacKenzie@fulcrum.com.au)</a></dt>
  <dd></dd>
  <dt id="Kevin"><a class="permalink" href="#Kevin">Kevin B. Hendricks
    (kbhend@dogwood.tyler.wm.edu)</a></dt>
  <dd></dd>
  <dt id="Stephen"><a class="permalink" href="#Stephen">Stephen Dahmen
    (joyfire@inxpress.net)</a></dt>
  <dd></dd>
  <dt id="Ed"><a class="permalink" href="#Ed">Ed Jordan
    (ed@fidalgo.net)</a></dt>
  <dd></dd>
  <dt id="David"><a class="permalink" href="#David">David Alan Pisoni
    (david@cnation.com)</a></dt>
  <dd></dd>
  <dt id="Doug"><a class="permalink" href="#Doug">Doug MacEachern
    (dougm@opengroup.org)</a></dt>
  <dd></dd>
  <dt id="Robin"><a class="permalink" href="#Robin">Robin Houston
    (robin@oneworld.org)</a></dt>
  <dd></dd>
  <dt>...and many many more...</dt>
  <dd>for suggestions and bug fixes.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="A_COMPLETE_EXAMPLE_OF_A_SIMPLE_FORM-BASED_SCRIPT"><a class="permalink" href="#A_COMPLETE_EXAMPLE_OF_A_SIMPLE_FORM-BASED_SCRIPT">A
  COMPLETE EXAMPLE OF A SIMPLE FORM-BASED SCRIPT</a></h1>
<pre>
        #!/usr/local/bin/perl

        use CGI ':standard';

        print header;
        print start_html(&quot;Example CGI.pm Form&quot;);
        print &quot;&lt;h1&gt; Example CGI.pm Form&lt;/h1&gt;\n&quot;;
        print_prompt();
        do_work();
        print_tail();
        print end_html;

        sub print_prompt {
           print start_form;
           print &quot;&lt;em&gt;What's your name?&lt;/em&gt;&lt;br&gt;&quot;;
           print textfield('name');
           print checkbox('Not my real name');

           print &quot;&lt;p&gt;&lt;em&gt;Where can you find English Sparrows?&lt;/em&gt;&lt;br&gt;&quot;;
           print checkbox_group(
                                 -name=&gt;'Sparrow locations',
                                 -values=&gt;[England,France,Spain,Asia,Hoboken],
                                 -linebreak=&gt;'yes',
                                 -defaults=&gt;[England,Asia]);

           print &quot;&lt;p&gt;&lt;em&gt;How far can they fly?&lt;/em&gt;&lt;br&gt;&quot;,
                radio_group(
                        -name=&gt;'how far',
                        -values=&gt;['10 ft','1 mile','10 miles','real far'],
                        -default=&gt;'1 mile');

           print &quot;&lt;p&gt;&lt;em&gt;What's your favorite color?&lt;/em&gt;  &quot;;
           print popup_menu(-name=&gt;'Color',
                                    -values=&gt;['black','brown','red','yellow'],
                                    -default=&gt;'red');

           print hidden('Reference','Monty Python and the Holy Grail');

           print &quot;&lt;p&gt;&lt;em&gt;What have you got there?&lt;/em&gt;&lt;br&gt;&quot;;
           print scrolling_list(
                         -name=&gt;'possessions',
                         -values=&gt;['A Coconut','A Grail','An Icon',
                                   'A Sword','A Ticket'],
                         -size=&gt;5,
                         -multiple=&gt;'true');

           print &quot;&lt;p&gt;&lt;em&gt;Any parting comments?&lt;/em&gt;&lt;br&gt;&quot;;
           print textarea(-name=&gt;'Comments',
                                  -rows=&gt;10,
                                  -columns=&gt;50);

           print &quot;&lt;p&gt;&quot;,reset;
           print submit('Action','Shout');
           print submit('Action','Scream');
           print end_form;
           print &quot;&lt;hr&gt;\n&quot;;
        }

        sub do_work {

           print &quot;&lt;h2&gt;Here are the current settings in this form&lt;/h2&gt;&quot;;

           for my $key (param) {
              print &quot;&lt;strong&gt;$key&lt;/strong&gt; -&gt; &quot;;
              my @values = param($key);
              print join(&quot;, &quot;,@values),&quot;&lt;br&gt;\n&quot;;
          }
        }

        sub print_tail {
           print &lt;&lt;END;
        &lt;hr&gt;
        &lt;address&gt;Lincoln D. Stein&lt;/address&gt;&lt;br&gt;
        &lt;a href=&quot;/&quot;&gt;Home Page&lt;/a&gt;
        END
        }
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">Please report them.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">CGI::Carp - provides a Carp implementation tailored to the CGI
    environment.</p>
<p class="Pp">CGI::Fast - supports running CGI applications under FastCGI</p>
<p class="Pp">CGI::Pretty - pretty prints HTML generated by CGI.pm (with a
    performance penalty)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="POD_ERRORS"><a class="permalink" href="#POD_ERRORS">POD
  ERRORS</a></h1>
<p class="Pp">Hey! <b>The above document had some coding errors, which are
    explained below:</b></p>
<dl class="Bl-tag">
  <dt id="Around"><a class="permalink" href="#Around">Around line 5513:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~2"><a class="permalink" href="#Around~2">Around line
    5517:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~3"><a class="permalink" href="#Around~3">Around line
    5521:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~4"><a class="permalink" href="#Around~4">Around line
    6083:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~5"><a class="permalink" href="#Around~5">Around line
    6087:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~6"><a class="permalink" href="#Around~6">Around line
    6092:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~7"><a class="permalink" href="#Around~7">Around line
    6097:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~8"><a class="permalink" href="#Around~8">Around line
    6166:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~9"><a class="permalink" href="#Around~9">Around line
    6170:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~10"><a class="permalink" href="#Around~10">Around line
    6181:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~11"><a class="permalink" href="#Around~11">Around line
    6186:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~12"><a class="permalink" href="#Around~12">Around line
    6521:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~13"><a class="permalink" href="#Around~13">Around line
    6527:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~14"><a class="permalink" href="#Around~14">Around line
    6536:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~15"><a class="permalink" href="#Around~15">Around line
    6540:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~16"><a class="permalink" href="#Around~16">Around line
    6546:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~17"><a class="permalink" href="#Around~17">Around line
    6552:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~18"><a class="permalink" href="#Around~18">Around line
    6597:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~19"><a class="permalink" href="#Around~19">Around line
    6605:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~20"><a class="permalink" href="#Around~20">Around line
    6612:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~21"><a class="permalink" href="#Around~21">Around line
    6690:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~22"><a class="permalink" href="#Around~22">Around line
    6696:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~23"><a class="permalink" href="#Around~23">Around line
    6701:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~24"><a class="permalink" href="#Around~24">Around line
    6707:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~25"><a class="permalink" href="#Around~25">Around line
    6747:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~26"><a class="permalink" href="#Around~26">Around line
    6751:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~27"><a class="permalink" href="#Around~27">Around line
    6759:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~28"><a class="permalink" href="#Around~28">Around line
    6766:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~29"><a class="permalink" href="#Around~29">Around line
    6771:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~30"><a class="permalink" href="#Around~30">Around line
    6847:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~31"><a class="permalink" href="#Around~31">Around line
    6853:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~32"><a class="permalink" href="#Around~32">Around line
    6859:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~33"><a class="permalink" href="#Around~33">Around line
    6908:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~34"><a class="permalink" href="#Around~34">Around line
    6913:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~35"><a class="permalink" href="#Around~35">Around line
    6951:</a></dt>
  <dd>Expected text after =item, not a number</dd>
  <dt id="Around~36"><a class="permalink" href="#Around~36">Around line
    6956:</a></dt>
  <dd>Expected text after =item, not a number</dd>
</dl>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-09-30</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
