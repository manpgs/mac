<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Time::Piece(3pm)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Time::Piece(3pm)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">Time::Piece(3pm)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Time::Piece - Object Oriented time objects</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>    use Time::Piece;
    
    my $t = localtime;
    print &quot;Time is $t\n&quot;;
    print &quot;Year is &quot;, $t-&gt;year, &quot;\n&quot;;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This module replaces the standard
    <span class="Li">&quot;localtime&quot;</span> and
    <span class="Li">&quot;gmtime&quot;</span> functions with implementations
    that return objects. It does so in a backwards compatible manner, so that
    using localtime/gmtime in the way documented in perlfunc will still return
    what you expect.</p>
<p class="Pp">The module actually implements most of an interface described by
    Larry Wall on the perl5-porters mailing list here:
    &lt;https://www.nntp.perl.org/group/perl.perl5.porters/2000/01/msg5283.html&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="USAGE"><a class="permalink" href="#USAGE">USAGE</a></h1>
<p class="Pp">After importing this module, when you use localtime or gmtime in a
    scalar context, rather than getting an ordinary scalar string representing
    the date and time, you get a Time::Piece object, whose stringification
    happens to produce the same effect as the localtime and gmtime functions.
    There is also a <b>new()</b> constructor provided, which is the same as
    <b>localtime()</b>, except when passed a Time::Piece object, in which case
    it's a copy constructor. The following methods are available on the
  object:</p>
<p class="Pp"></p>
<pre>    $t-&gt;sec                 # also available as $t-&gt;second
    $t-&gt;min                 # also available as $t-&gt;minute
    $t-&gt;hour                # 24 hour
    $t-&gt;mday                # also available as $t-&gt;day_of_month
    $t-&gt;mon                 # 1 = January
    $t-&gt;_mon                # 0 = January
    $t-&gt;monname             # Feb
    $t-&gt;month               # same as $t-&gt;monname
    $t-&gt;fullmonth           # February
    $t-&gt;year                # based at 0 (year 0 AD is, of course 1 BC)
    $t-&gt;_year               # year minus 1900
    $t-&gt;yy                  # 2 digit year
    $t-&gt;wday                # 1 = Sunday
    $t-&gt;_wday               # 0 = Sunday
    $t-&gt;day_of_week         # 0 = Sunday
    $t-&gt;wdayname            # Tue
    $t-&gt;day                 # same as wdayname
    $t-&gt;fullday             # Tuesday
    $t-&gt;yday                # also available as $t-&gt;day_of_year, 0 = Jan 01
    $t-&gt;isdst               # also available as $t-&gt;daylight_savings
    $t-&gt;hms                 # 12:34:56
    $t-&gt;hms(&quot;.&quot;)            # 12.34.56
    $t-&gt;time                # same as $t-&gt;hms
    $t-&gt;ymd                 # 2000-02-29
    $t-&gt;date                # same as $t-&gt;ymd
    $t-&gt;mdy                 # 02-29-2000
    $t-&gt;mdy(&quot;/&quot;)            # 02/29/2000
    $t-&gt;dmy                 # 29-02-2000
    $t-&gt;dmy(&quot;.&quot;)            # 29.02.2000
    $t-&gt;datetime            # 2000-02-29T12:34:56 (ISO 8601)
    $t-&gt;cdate               # Tue Feb 29 12:34:56 2000
    &quot;$t&quot;                    # same as $t-&gt;cdate
    $t-&gt;epoch               # seconds since the epoch
    $t-&gt;tzoffset            # timezone offset in a Time::Seconds object
    $t-&gt;julian_day          # number of days since Julian period began
    $t-&gt;mjd                 # modified Julian date (JD-2400000.5 days)
    $t-&gt;week                # week number (ISO 8601)
    $t-&gt;is_leap_year        # true if it's a leap year
    $t-&gt;month_last_day      # 28-31
    $t-&gt;time_separator($s)  # set the default separator (default &quot;:&quot;)
    $t-&gt;date_separator($s)  # set the default separator (default &quot;-&quot;)
    $t-&gt;day_list(@days)     # set the default weekdays
    $t-&gt;mon_list(@days)     # set the default months
    $t-&gt;strftime(FORMAT)    # same as POSIX::strftime (without the overhead
                            # of the full POSIX extension)
    $t-&gt;strftime()          # &quot;Tue, 29 Feb 2000 12:34:56 GMT&quot;
    
    Time::Piece-&gt;strptime(STRING, FORMAT)
                            # see strptime man page. Creates a new
                            # Time::Piece object
</pre>
<p class="Pp">Note that <span class="Li">&quot;localtime&quot;</span> and
    <span class="Li">&quot;gmtime&quot;</span> are not listed above. If called
    as methods on a Time::Piece object, they act as constructors, returning a
    new Time::Piece object for the current time. In other words: they're not
    useful as methods.</p>
<section class="Ss">
<h2 class="Ss" id="Local_Locales"><a class="permalink" href="#Local_Locales">Local
  Locales</a></h2>
<p class="Pp">Both wdayname (day) and monname (month) allow passing in a list to
    use to index the name of the days against. This can be useful if you need to
    implement some form of localisation without actually installing or using
    locales. Note that this is a global override and will affect all Time::Piece
    instances.</p>
<p class="Pp"></p>
<pre>  my @days = qw( Dimanche Lundi Merdi Mercredi Jeudi Vendredi Samedi );
  my $french_day = localtime-&gt;day(@days);
</pre>
<p class="Pp">These settings can be overridden globally too:</p>
<p class="Pp"></p>
<pre>  Time::Piece::day_list(@days);
</pre>
<p class="Pp">Or for months:</p>
<p class="Pp"></p>
<pre>  Time::Piece::mon_list(@months);
</pre>
<p class="Pp">And locally for months:</p>
<p class="Pp"></p>
<pre>  print localtime-&gt;month(@months);
</pre>
<p class="Pp">Or to populate with your current system locale call:
  <br/>
   Time::Piece-&gt;<b>use_locale()</b>;</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Date_Calculations"><a class="permalink" href="#Date_Calculations">Date
  Calculations</a></h2>
<p class="Pp">It's possible to use simple addition and subtraction of
  objects:</p>
<p class="Pp"></p>
<pre>    use Time::Seconds;
    
    my $seconds = $t1 - $t2;
    $t1 += ONE_DAY; # add 1 day (constant from Time::Seconds)
</pre>
<p class="Pp">The following are valid ($t1 and <span class="Li">$t2</span> are
    Time::Piece objects):</p>
<p class="Pp"></p>
<pre>    $t1 - $t2; # returns Time::Seconds object
    $t1 - 42; # returns Time::Piece object
    $t1 + 533; # returns Time::Piece object
</pre>
<p class="Pp">However adding a Time::Piece object to another Time::Piece object
    will cause a runtime error.</p>
<p class="Pp">Note that the first of the above returns a Time::Seconds object,
    so while examining the object will print the number of seconds (because of
    the overloading), you can also get the number of minutes, hours, days, weeks
    and years in that delta, using the Time::Seconds API.</p>
<p class="Pp">In addition to adding seconds, there are two APIs for adding
    months and years:</p>
<p class="Pp"></p>
<pre>    $t = $t-&gt;add_months(6);
    $t = $t-&gt;add_years(5);
</pre>
<p class="Pp">The months and years can be negative for subtractions. Note that
    there is some &quot;strange&quot; behaviour when adding and subtracting
    months at the ends of months. Generally when the resulting month is shorter
    than the starting month then the number of overlap days is added. For
    example subtracting a month from 2008-03-31 will not result in 2008-02-31 as
    this is an impossible date. Instead you will get 2008-03-02. This appears to
    be consistent with other date manipulation tools.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Truncation"><a class="permalink" href="#Truncation">Truncation</a></h2>
<p class="Pp">Calling the <span class="Li">&quot;truncate&quot;</span> method
    returns a copy of the object but with the time truncated to the start of the
    supplied unit.</p>
<p class="Pp"></p>
<pre>    $t = $t-&gt;truncate(to =&gt; 'day');
</pre>
<p class="Pp">This example will set the time to midnight on the same date which
    <span class="Li">$t</span> had previously. Allowed values for the
    &quot;to&quot; parameter are: &quot;year&quot;, &quot;quarter&quot;,
    &quot;month&quot;, &quot;day&quot;, &quot;hour&quot;, &quot;minute&quot; and
    &quot;second&quot;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Date_Comparisons"><a class="permalink" href="#Date_Comparisons">Date
  Comparisons</a></h2>
<p class="Pp">Date comparisons are also possible, using the full suite of
    &quot;&lt;&quot;, &quot;&gt;&quot;, &quot;&lt;=&quot;, &quot;&gt;=&quot;,
    &quot;&lt;=&gt;&quot;, &quot;==&quot; and &quot;!=&quot;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Date_Parsing"><a class="permalink" href="#Date_Parsing">Date
  Parsing</a></h2>
<p class="Pp">Time::Piece has a built-in <b>strptime()</b> function (from
    FreeBSD), allowing you incredibly flexible date parsing routines. For
    example:</p>
<p class="Pp"></p>
<pre>  my $t = Time::Piece-&gt;strptime(&quot;Sunday 3rd Nov, 1943&quot;,
                                &quot;%A %drd %b, %Y&quot;);
  
  print $t-&gt;strftime(&quot;%a, %d %b %Y&quot;);
</pre>
<p class="Pp">Outputs:</p>
<p class="Pp"></p>
<pre>  Wed, 03 Nov 1943
</pre>
<p class="Pp">(see, it's even smart enough to fix my obvious date bug)</p>
<p class="Pp">For more information see &quot;man strptime&quot;, which should be
    on all unix systems.</p>
<p class="Pp">Alternatively look here:
    &lt;http://www.unix.com/man-page/FreeBSD/3/strftime/&gt;</p>
<p class="Pp"><i>CAVEAT </i><span class="Li"><i>%A</i></span><i>,
    </i><span class="Li"><i>%a</i></span><i>,
    </i><span class="Li"><i>%B</i></span><i>,
    </i><span class="Li"><i>%b</i></span><i>, and friends</i></p>
<p class="Pp">Time::Piece::strptime by default can only parse American English
    date names. Meanwhile, Time::Piece-&gt;<b>strftime()</b> will return date
    names that use the current configured system locale. This means dates
    returned by strftime might not be able to be parsed by strptime. This is the
    default behavior and can be overridden by calling
    Time::Piece-&gt;<b>use_locale()</b>. This builds a list of the current
    locale's day and month names which strptime will use to parse with. Note
    this is a global override and will affect all Time::Piece instances.</p>
<p class="Pp">For instance with a German locale:</p>
<p class="Pp"></p>
<pre>    localtime-&gt;day_list();
</pre>
<p class="Pp">Returns</p>
<p class="Pp"></p>
<pre>    ( 'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat' )
</pre>
<p class="Pp">While:</p>
<p class="Pp"></p>
<pre>    Time::Piece-&gt;use_locale();
    localtime-&gt;day_list();
</pre>
<p class="Pp">Returns</p>
<p class="Pp"></p>
<pre>    ( 'So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa' )
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="YYYY"><a class="permalink" href="#YYYY">YYYY-MM-DDThh:mm:ss</a></h2>
<p class="Pp">The ISO 8601 standard defines the date format to be YYYY-MM-DD,
    and the time format to be hh:mm:ss (24 hour clock), and if combined, they
    should be concatenated with date first and with a capital 'T' in front of
    the time.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Week_Number"><a class="permalink" href="#Week_Number">Week
  Number</a></h2>
<p class="Pp">The <i>week number</i> may be an unknown concept to some readers.
    The ISO 8601 standard defines that weeks begin on a Monday and week 1 of the
    year is the week that includes both January 4th and the first Thursday of
    the year. In other words, if the first Monday of January is the 2nd, 3rd, or
    4th, the preceding days of the January are part of the last week of the
    preceding year. Week numbers range from 1 to 53.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Global_Overriding"><a class="permalink" href="#Global_Overriding">Global
  Overriding</a></h2>
<p class="Pp">Finally, it's possible to override localtime and gmtime
    everywhere, by including the ':override' tag in the import list:</p>
<p class="Pp"></p>
<pre>    use Time::Piece ':override';
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="CAVEATS"><a class="permalink" href="#CAVEATS">CAVEATS</a></h1>
<section class="Ss">
<h2 class="Ss" id="Setting_$ENV_"><a class="permalink" href="#Setting_$ENV_">Setting
  $ENV{TZ} in Threads on Win32</a></h2>
<p class="Pp">Note that when using perl in the default build configuration on
    Win32 (specifically, when perl is built with PERL_IMPLICIT_SYS), each perl
    interpreter maintains its own copy of the environment and only the main
    interpreter will update the process environment seen by strftime.</p>
<p class="Pp">Therefore, if you make changes to <span class="Li">$ENV</span>{TZ}
    from inside a thread other than the main thread then those changes will not
    be seen by strftime if you subsequently call that with the
    <span class="Li">%Z</span> formatting code. You must change
    <span class="Li">$ENV</span>{TZ} in the main thread to have the desired
    effect in this case (and you must also call <b>_tzset()</b> in the main
    thread to register the environment change).</p>
<p class="Pp">Furthermore, remember that this caveat also applies to
    <b>fork()</b>, which is emulated by threads on Win32.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Use_of_epoch_seconds"><a class="permalink" href="#Use_of_epoch_seconds">Use
  of epoch seconds</a></h2>
<p class="Pp">This module internally uses the epoch seconds system that is
    provided via the perl <span class="Li">&quot;time()&quot;</span> function
    and supported by <span class="Li">&quot;gmtime()&quot;</span> and
    <span class="Li">&quot;localtime()&quot;</span>.</p>
<p class="Pp">If your perl does not support times larger than
    <span class="Li">&quot;2^31&quot;</span> seconds then this module is likely
    to fail at processing dates beyond the year 2038. There are moves afoot to
    fix that in perl. Alternatively use 64 bit perl. Or if none of those are
    options, use the DateTime module which has support for years well into the
    future and past.</p>
<p class="Pp">Also, the internal representation of Time::Piece-&gt;strftime
    deviates from the standard POSIX implementation in that is uses the epoch
    (instead of separate year, month, day parts). This change was added in
    version 1.30. If you must have a more traditional strftime (which will
    normally never calculate day light saving times correctly), you can pass the
    date parts from Time::Piece into the strftime function provided by the POSIX
    module (see strftime in POSIX ).</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Matt Sergeant, matt@sergeant.org Jarkko Hietaniemi, jhi@iki.fi
    (while creating Time::Piece for core perl)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
<p class="Pp">Copyright 2001, Larry Wall.</p>
<p class="Pp">This module is free software, you may distribute it under the same
    terms as Perl.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">The excellent Calendar FAQ at
    &lt;http://www.tondering.dk/claus/calendar.html&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">The test harness leaves much to be desired. Patches welcome.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2020-10-04</td>
    <td class="foot-os">perl v5.34.0</td>
  </tr>
</table>
</body>
</html>
