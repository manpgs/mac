<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>XML::LibXML::Error(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">XML::LibXML::Error(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">XML::LibXML::Error(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">XML::LibXML::Error - Structured Errors</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
  eval { ... };
          if (ref($@)) {
            # handle a structured error (XML::LibXML::Error object)
          } elsif ($@) {
            # error, but not an XML::LibXML::Error object
          } else {
            # no error
          }

  $XML::LibXML::Error::WARNINGS=1;
  $message = $@-&gt;as_string();
  print $@-&gt;dump();
  $error_domain = $@-&gt;domain();
  $error_code = $@-&gt;code();
  $error_message = $@-&gt;message();
  $error_level = $@-&gt;level();
  $filename = $@-&gt;file();
  $line = $@-&gt;line();
  $nodename = $@-&gt;nodename();
  $error_str1 = $@-&gt;str1();
  $error_str2 = $@-&gt;str2();
  $error_str3 = $@-&gt;str3();
  $error_num1 = $@-&gt;num1();
  $error_num2 = $@-&gt;num2();
  $string = $@-&gt;context();
  $offset = $@-&gt;column();
  $previous_error = $@-&gt;_prev();
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The XML::LibXML::Error class is a tiny frontend to
    <i>libxml2</i>'s structured error support. If XML::LibXML is compiled with
    structured error support, all errors reported by libxml2 are transformed to
    XML::LibXML::Error objects. These objects automatically serialize to the
    corresponding error messages when printed or used in a string operation, but
    as objects, can also be used to get a detailed and structured information
    about the error that occurred.</p>
<p class="Pp">Unlike most other XML::LibXML objects, XML::LibXML::Error doesn't
    wrap an underlying <i>libxml2</i> structure directly, but rather transforms
    it to a blessed Perl hash reference containing the individual fields of the
    structured error information as hash key-value pairs. Individual items
    (fields) of a structured error can either be obtained directly as
    $@-&gt;{field}, or using autoloaded methods such as $@-&gt;<i>field()</i>
    (where field is the field name). XML::LibXML::Error objects have the
    following fields: domain, code, level, file, line, nodename, message, str1,
    str2, str3, num1, num2, and _prev (some of them may be undefined).</p>
<dl class="Bl-tag">
  <dt>$XML::LibXML::Error::WARNINGS</dt>
  <dd>
    <pre>
  $XML::LibXML::Error::WARNINGS=1;
    </pre>
    <p class="Pp">Traditionally, XML::LibXML was suppressing parser warnings by
        setting libxml2's global variable xmlGetWarningsDefaultValue to 0. Since
        1.70 we do not change libxml2's global variables anymore; for backward
        compatibility, XML::LibXML suppresses warnings. This variable can be set
        to 1 to enable reporting of these warnings via Perl
        <span class="Li">&quot;warn&quot;</span> and to 2 to report hem via
        <span class="Li">&quot;die&quot;</span>.</p>
  </dd>
  <dt id="as_string"><a class="permalink" href="#as_string">as_string</a></dt>
  <dd>
    <pre>
  $message = $@-&gt;as_string();
    </pre>
    <p class="Pp">This function serializes an XML::LibXML::Error object to a
        string containing the full error message close to the message produced
        by <i>libxml2</i> default error handlers and tools like xmllint. This
        method is also used to overload &quot;&quot; operator on
        XML::LibXML::Error, so it is automatically called whenever
        XML::LibXML::Error object is treated as a string (e.g. in print $@).</p>
  </dd>
  <dt id="dump"><a class="permalink" href="#dump">dump</a></dt>
  <dd>
    <pre>
  print $@-&gt;dump();
    </pre>
    <p class="Pp">This function serializes an XML::LibXML::Error to a string
        displaying all fields of the error structure individually on separate
        lines of the form 'name' =&gt; 'value'.</p>
  </dd>
  <dt id="domain"><a class="permalink" href="#domain">domain</a></dt>
  <dd>
    <pre>
  $error_domain = $@-&gt;domain();
    </pre>
    <p class="Pp">Returns string containing information about what part of the
        library raised the error. Can be one of: &quot;parser&quot;,
        &quot;tree&quot;, &quot;namespace&quot;, &quot;validity&quot;,
        &quot;HTML parser&quot;, &quot;memory&quot;, &quot;output&quot;,
        &quot;I/O&quot;, &quot;ftp&quot;, &quot;http&quot;,
        &quot;XInclude&quot;, &quot;XPath&quot;, &quot;xpointer&quot;,
        &quot;regexp&quot;, &quot;Schemas datatype&quot;, &quot;Schemas
        parser&quot;, &quot;Schemas validity&quot;, &quot;Relax-NG parser&quot;,
        &quot;Relax-NG validity&quot;, &quot;Catalog&quot;, &quot;C14N&quot;,
        &quot;XSLT&quot;, &quot;validity&quot;.</p>
  </dd>
  <dt id="code"><a class="permalink" href="#code">code</a></dt>
  <dd>
    <pre>
  $error_code = $@-&gt;code();
    </pre>
    <p class="Pp">Returns the actual libxml2 error code. The XML::LibXML::ErrNo
        module defines constants for individual error codes. Currently libxml2
        uses over 480 different error codes.</p>
  </dd>
  <dt id="message"><a class="permalink" href="#message">message</a></dt>
  <dd>
    <pre>
  $error_message = $@-&gt;message();
    </pre>
    <p class="Pp">Returns a human-readable informative error message.</p>
  </dd>
  <dt id="level"><a class="permalink" href="#level">level</a></dt>
  <dd>
    <pre>
  $error_level = $@-&gt;level();
    </pre>
    <p class="Pp">Returns an integer value describing how consequent is the
        error. XML::LibXML::Error defines the following constants:</p>
  </dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>XML_ERR_NONE = 0</li>
  <li>XML_ERR_WARNING = 1 : A simple warning.</li>
  <li>XML_ERR_ERROR = 2 : A recoverable error.</li>
  <li>XML_ERR_FATAL = 3 : A fatal error.</li>
</ul>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt id="file"><a class="permalink" href="#file">file</a></dt>
  <dd>
    <pre>
  $filename = $@-&gt;file();
    </pre>
    <p class="Pp">Returns the filename of the file being processed while the
        error occurred.</p>
  </dd>
  <dt id="line"><a class="permalink" href="#line">line</a></dt>
  <dd>
    <pre>
  $line = $@-&gt;line();
    </pre>
    <p class="Pp">The line number, if available.</p>
  </dd>
  <dt id="nodename"><a class="permalink" href="#nodename">nodename</a></dt>
  <dd>
    <pre>
  $nodename = $@-&gt;nodename();
    </pre>
    <p class="Pp">Name of the node where error occurred, if available. When this
        field is non-empty, libxml2 actually returned a physical pointer to the
        specified node. Due to memory management issues, it is very difficult to
        implement a way to expose the pointer to the Perl level as a
        XML::LibXML::Node. For this reason, XML::LibXML::Error currently only
        exposes the name the node.</p>
  </dd>
  <dt id="str1"><a class="permalink" href="#str1">str1</a></dt>
  <dd>
    <pre>
  $error_str1 = $@-&gt;str1();
    </pre>
    <p class="Pp">Error specific. Extra string information.</p>
  </dd>
  <dt id="str2"><a class="permalink" href="#str2">str2</a></dt>
  <dd>
    <pre>
  $error_str2 = $@-&gt;str2();
    </pre>
    <p class="Pp">Error specific. Extra string information.</p>
  </dd>
  <dt id="str3"><a class="permalink" href="#str3">str3</a></dt>
  <dd>
    <pre>
  $error_str3 = $@-&gt;str3();
    </pre>
    <p class="Pp">Error specific. Extra string information.</p>
  </dd>
  <dt id="num1"><a class="permalink" href="#num1">num1</a></dt>
  <dd>
    <pre>
  $error_num1 = $@-&gt;num1();
    </pre>
    <p class="Pp">Error specific. Extra numeric information.</p>
  </dd>
  <dt id="num2"><a class="permalink" href="#num2">num2</a></dt>
  <dd>
    <pre>
  $error_num2 = $@-&gt;num2();
    </pre>
    <p class="Pp">In recent libxml2 versions, this value contains a column
        number of the error or 0 if N/A.</p>
  </dd>
  <dt id="context"><a class="permalink" href="#context">context</a></dt>
  <dd>
    <pre>
  $string = $@-&gt;context();
    </pre>
    <p class="Pp">For parsing errors, this field contains about 80 characters of
        the XML near the place where the error occurred. The field
        <span class="Li">&quot;$@-&gt;column()&quot;</span> contains the
        corresponding offset. Where N/A, the field is undefined.</p>
  </dd>
  <dt id="column"><a class="permalink" href="#column">column</a></dt>
  <dd>
    <pre>
  $offset = $@-&gt;column();
    </pre>
    <p class="Pp">See <span class="Li">&quot;$@-&gt;column()&quot;</span>
      above.</p>
  </dd>
  <dt>_prev</dt>
  <dd>
    <pre>
  $previous_error = $@-&gt;_prev();
    </pre>
    <p class="Pp">This field can possibly hold a reference to another
        XML::LibXML::Error object representing an error which occurred just
        before this error.</p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<p class="Pp">Matt Sergeant, Christian Glahn, Petr Pajas</p>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
<p class="Pp">2.0110</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<p class="Pp">2001-2007, AxKit.com Ltd.</p>
<p class="Pp">2002-2006, Christian Glahn.</p>
<p class="Pp">2006-2009, Petr Pajas.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="LICENSE"><a class="permalink" href="#LICENSE">LICENSE</a></h1>
<p class="Pp">This program is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2014-02-01</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
