<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Inline-FAQ(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Inline-FAQ(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Inline-FAQ(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Inline-FAQ - The Inline FAQ</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">Welcome to the official Inline FAQ. In this case, <b>FAQ</b>
    means:</p>
<p class="Pp"></p>
<pre>
    Formerly Answered Questions
</pre>
<p class="Pp">This is a collection of old, long-winded emails that myself and
    others have sent to the Inline mailing list. (inline@perl.org) They have
    been reviewed and edited for general Inline edification. Some of them may be
    related to a specific language. They are presented here in a traditional FAQ
    layout.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="General_Inline"><a class="permalink" href="#General_Inline">General
  Inline</a></h1>
<p class="Pp">Since there is only a handful of content so far, all FAQs are
    currently under this heading.</p>
<section class="Ss">
<h2 class="Ss" id="How_disposable_is_a_.Inline_or__Inline_directory?"><a class="permalink" href="#How_disposable_is_a_.Inline_or__Inline_directory?">How
  disposable is a .Inline or _Inline directory?</a></h2>
<p class="Pp">I probably need to be more emphatic about the roll of _Inline/
    cache directories. Since they are created automatically, they are completely
    disposable. I delete them all the time. And it is fine to have a different
    one for each project. In fact as long as you don't have ~/.Inline/ defined,
    Inline will create a new ./_Inline directory (unless, you've done something
    to override this automatic process - such as using the DIRECTORY config
    option, or using the PERL_INLINE_DIRECTORY environment variable). You can
    move that to ./.Inline and it will continue to work if you want togive it
    more longevity and hide it from view. There is a long complicated list of
    rules about how [_.]Inline/ directories are used/created. But it was
    designed to give you the most flexibility/ease-of-use. Never be afraid to
    nuke 'em. They'll just pop right back next time they're needed. :)</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Whatever_happened_to_the_"><a class="permalink" href="#Whatever_happened_to_the_">Whatever
  happened to the SITE_INSTALL option?</a></h2>
<p class="Pp">SITE_INSTALL is gone. I was going to leave it in and change the
    semantics, but thought it better to remove it, so people wouldn't try to use
    it the old way. There is now _INSTALL_ (but you're not supposed to know that
    :). It works magically through the use of Inline::MakeMaker. I explained
    this earlier but it's worth going through again because it's the biggest
    change for 0.40. Here's how to 'permanently' install an Inline extension
    (Inline based module) with 0.40:</p>
<p class="Pp"></p>
<pre>
    1) Create a module with Inline.
    2) Test it using the normal/local _Inline/ cache.
    3) Create a Makefile.PL (like the one produced by h2xs)
    4) Change 'use ExtUtils::MakeMaker' to 'use Inline::MakeMaker'
    5) In the Makefile.PL's WriteMakefile() insert:

        CONFIGURE_REQUIRES  =&gt;  {
            'Inline::MakeMaker'     =&gt; 0.45,
            'ExtUtils::MakeMaker'   =&gt; 6.52,
        },

       (See the &quot;Writing Modules with Inline&quot; section of Inline.pod for
        an explanation/elaboration.)

    6) Change your 'use Inline C =&gt; DATA' to 'use Inline C =&gt; DATA =&gt; NAME
       =&gt; Foo =&gt; VERSION =&gt; 1.23'
    7) Make sure NAME matches your package name ('Foo'), or begins with
       'Foo::'.
    8) If you want to quiet a harmless warning that will appear when the
       module is loaded via &quot;require&quot;, do &quot;Inline-&gt;init();&quot;.
       See &quot;Writing Modules with Inline&quot; in the Inline pod for details.
    9) Make sure VERSION matches $Foo::VERSION. This must be a string (not a
       number) matching /^\d\.\d\d$/
    10) Do the perl/make/test/install dance (thanks binkley :)
</pre>
<p class="Pp">With Inline 0.41 (or thereabouts) you can skip steps 3 &amp; 4,
    and just say 'perl -MInline=INSTALL ./Foo.pm'. This will work for non-Inline
    modules too. It will become the defacto standard (since there is no easy
    standard) way of installing a Perl module. It will allow Makefile.PL
    parameters 'perl -MInline=INSTALL ./Foo.pm - PREFIX=/home/ingy/perl' and
    things like that. It will also make use of a MANIFEST if you provide
  one.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_create_a_binary_distribution_using_Inline?"><a class="permalink" href="#How_do_I_create_a_binary_distribution_using_Inline?">How
  do I create a binary distribution using Inline?</a></h2>
<p class="Pp">I've figured out how to create and install a PPM binary
    distribution; with or without distributing the C code! And I've decided to
    share it with all of you :)</p>
<p class="Pp">NOTE: Future versions of Inline will make this process a one line
    command. But for now just use this simple recipe.</p>
<p class="Pp">---</p>
<p class="Pp">The Inline 0.40 distribution comes with a sample extension module
    called Math::Simple. Theoretically you could distribute this module on CPAN.
    It has all the necessary support for installation. You can find it in
    Inline-0.40/modules/Math/Simple/. Here are the steps for converting this
    into a binary distribution *without* C source code.</p>
<p class="Pp">NOTE: The recipient of this binary distribution will need to have
    the PPM.pm module installed. This module requires a lot of other CPAN
    modules. ActivePerl (available for Win32, Linux, and Solaris) has all of
    these bundled. While ActivePerl isn't required, it makes things (a lot)
    easier.</p>
<p class="Pp">1) cd Inline-0.40/Math/Simple/</p>
<p class="Pp">2) Divide Simple.pm into two files:</p>
<p class="Pp"></p>
<pre>
    ---8&lt;--- (Simple.pm)
    package Math::Simple;
    use strict;
    require Exporter;
    @Math::Simple::ISA = qw(Exporter);
    @Math::Simple::EXPORT = qw(add subtract);
    $Math::Simple::VERSION = '1.23';

    use Inline (C =&gt; 'src/Simple.c' =&gt;
                NAME =&gt; 'Math::Simple',
                VERSION =&gt; '1.23',
               );
    1;
    ---8&lt;---
    ---8&lt;--- (src/Simple.c)
    int add (int x, int y) {
        return x + y;
    }

    int subtract (int x, int y) {
        return x - y;
    }
    ---8&lt;---
</pre>
<p class="Pp">So now you have the Perl in one file and the C in the other. The C
    code must be in a subdirectory.</p>
<p class="Pp">3) Note that I also changed the term 'DATA' to the name of the C
    file. This will work just as if the C were still inline.</p>
<p class="Pp">4) Run 'perl Makefile.PL'</p>
<p class="Pp">5) Run 'make test'</p>
<p class="Pp">6) Get the MD5 key from
  'blib/arch/auto/Math/Simple/Simple.inl'</p>
<p class="Pp">7) Edit 'blib/lib/Math/Simple.pm'. Change 'src/Simple.c' to
    '02c61710cab5b659efc343a9a830aa73' (the MD5 key)</p>
<p class="Pp">8) Run 'make ppd'</p>
<p class="Pp">9) Edit 'Math-Simple.ppd'. Fill in AUTHOR and ABSTRACT if you
    wish. Then change:</p>
<p class="Pp"></p>
<pre>
    &lt;CODEBASE HREF=&quot;&quot; /&gt;
</pre>
<p class="Pp">to</p>
<p class="Pp"></p>
<pre>
    &lt;CODEBASE HREF=&quot;Math-Simple.tar.gz&quot; /&gt;
</pre>
<p class="Pp">10) Run:</p>
<p class="Pp"></p>
<pre>
    tar cvf Math-Simple.tar blib
    gzip --best Math-Simple.tar
</pre>
<p class="Pp">11) Run:</p>
<p class="Pp"></p>
<pre>
    tar cvf Math-Simple-1.23.tar Math-Simple.ppd Math-Simple.tar.gz
    gzip --best Math-Simple-1.23.tar
</pre>
<p class="Pp">12) Distribute Math-Simple-1.23.tar.gz with the following
    instructions:</p>
<p class="Pp">A) Run:</p>
<p class="Pp"></p>
<pre>
    gzip -d Math-Simple-1.23.tar.gz
    tar xvzf Math-Simple-1.23.tar
</pre>
<p class="Pp">B) Run 'ppm install Math-Simple.ppd'</p>
<p class="Pp">C) Delete Math-Simple.tar and Math-Simple.ppd.</p>
<p class="Pp">D) Test with:</p>
<p class="Pp"></p>
<pre>
    perl -MMath::Simple -le 'print add(37, 42)'
</pre>
<p class="Pp">---</p>
<p class="Pp">That's it. The process should also work with zip instead of tar,
    but I haven't tried it.</p>
<p class="Pp">The recipient of the binary must have Perl built with a matching
    architecture. Luckily, ppm will catch this.</p>
<p class="Pp">For a binary dist *with* C source code, simply omit steps 2, 3, 6,
    and 7.</p>
<p class="Pp">If this seems too hard, then in a future version you should be
    able to just type:</p>
<p class="Pp"></p>
<pre>
    make ppm
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Why_does_C/t/09parser.t_fail_on_Cygwin_?"><a class="permalink" href="#Why_does_C/t/09parser.t_fail_on_Cygwin_?">Why
  does C/t/09parser.t fail on Cygwin ?</a></h2>
<p class="Pp">It doesn't always fail on Cygwin, but if you find that it produces
    &quot;unable to remap .... to same address as parent&quot; errors during the
    build phase, then it's time for you to run rebaseall.</p>
<p class="Pp">See
    http://cygwin.com/faq/faq-nochunks.html#faq.using.fixing-fork-failures and,
    if needed, seek further help from the Cygwin mailing list.</p>
</section>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2012-11-19</td>
    <td class="foot-os">perl v5.18.4</td>
  </tr>
</table>
</body>
</html>
