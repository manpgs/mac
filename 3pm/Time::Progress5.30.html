<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>Time::Progress(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Time::Progress(3)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">Time::Progress(3)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">Time::Progress - Elapsed and estimated finish time reporting.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
  use Time::Progress;

  my ($min, $max) = (0, 4);
  my $p = Time::Progress-&gt;new(min =&gt; $min, max =&gt; $max);

  for (my $c = $min; $c &lt;= $max; $c++) {
    print STDERR $p-&gt;report(&quot;\r%20b  ETA: %E&quot;, $c);
    # do some work
  }
  print STDERR &quot;\n&quot;;
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This module displays progress information for long-running
    processes. This can be percentage complete, time elapsed, estimated time
    remaining, an ASCII progress bar, or any combination of those.</p>
<p class="Pp">It is useful for code where you perform a number of steps, or
    iterations of a loop, where the number of iterations is known before you
    start the loop.</p>
<p class="Pp">The typical usage of this module is:</p>
<ul class="Bl-bullet">
  <li>Create an instance of <span class="Li">&quot;Time::Progress&quot;</span>,
      specifying min and max count values.</li>
  <li>At the head of the loop, you call the
      <span class="Li">&quot;report()&quot;</span> method with a format
      specifier and the iteration count, and get back a string that should be
      displayed.</li>
</ul>
<p class="Pp">If you include a carriage return character (\r) in the format
    string, then the message will be over-written at each step. Putting \r at
    the start of the format string, as in the SYNOPSIS, results in the cursor
    sitting at the end of the message.</p>
<p class="Pp">If you display to STDOUT, then remember to enable
  auto-flushing:</p>
<p class="Pp"></p>
<pre>
 use IO::Handle;
 STDOUT-&gt;autoflush(1);
</pre>
<p class="Pp">The shortest time interval that can be measured is 1 second.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="METHODS"><a class="permalink" href="#METHODS">METHODS</a></h1>
<section class="Ss">
<h2 class="Ss" id="new"><a class="permalink" href="#new">new</a></h2>
<pre>
  my $p = Time::Progress-&gt;new(%options);
</pre>
<p class="Pp">Returns new object of Time::Progress class and starts the timer.
    It also sets min and max values to 0 and 100, so the next <b>report</b>
    calls will default to percents range.</p>
<p class="Pp">You can configure the instance with the following parameters:</p>
<dl class="Bl-tag">
  <dt id="min"><a class="permalink" href="#min">min</a></dt>
  <dd>Sets the <b>min</b> attribute, as described in the
      <span class="Li">&quot;attr&quot;</span> section below.</dd>
  <dt id="max"><a class="permalink" href="#max">max</a></dt>
  <dd>Sets the <b>max</b> attribute, as described in the
      <span class="Li">&quot;attr&quot;</span> section below.</dd>
  <dt id="smoothing"><a class="permalink" href="#smoothing">smoothing</a></dt>
  <dd>If set to a true value, then the estimated time remaining is smoothed in a
      simplistic way: if the time remaining ever goes up, by less than 10% of
      the previous estimate, then we just stick with the previous estimate. This
      prevents flickering estimates. By default this feature is turned off.</dd>
  <dt id="smoothing_delta"><a class="permalink" href="#smoothing_delta">smoothing_delta</a></dt>
  <dd>Sets smoothing delta parameter. Default value is 0.1 (i.e. 10%). See
      'smoothing' parameter for more details.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="restart"><a class="permalink" href="#restart">restart</a></h2>
<p class="Pp">Restarts the timer and clears the stop mark. Optionally
    <b>restart()</b> may act also as <b>attr()</b> for setting attributes:</p>
<p class="Pp"></p>
<pre>
  $p-&gt;restart( min =&gt; 1, max =&gt; 5 );
</pre>
<p class="Pp">is the same as:</p>
<p class="Pp"></p>
<pre>
  $p-&gt;attr( min =&gt; 1, max =&gt; 5 );
  $p-&gt;restart();
</pre>
<p class="Pp">If you need to count things, you can set just 'max' attribute
    since 'min' is already set to 0 when object is constructed by
  <b>new()</b>:</p>
<p class="Pp"></p>
<pre>
  $p-&gt;restart( max =&gt; 42 );
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="stop"><a class="permalink" href="#stop">stop</a></h2>
<p class="Pp">Sets the stop mark. This is only useful if you do some work, then
    finish, then do some work that shouldn't be timed and finally report.
    Something like:</p>
<p class="Pp"></p>
<pre>
  $p-&gt;restart;
  # do some work here...
  $p-&gt;stop;
  # do some post-work here
  print $p-&gt;report;
  # `post-work' will not be timed
</pre>
<p class="Pp">Stop is useless if you want to report time as soon as work is
    finished like:</p>
<p class="Pp"></p>
<pre>
  $p-&gt;restart;
  # do some work here...
  print $p-&gt;report;
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="continue"><a class="permalink" href="#continue">continue</a></h2>
<p class="Pp">Clears the stop mark. (mostly useless, perhaps you need to
    <b>restart</b>?)</p>
</section>
<section class="Ss">
<h2 class="Ss" id="attr"><a class="permalink" href="#attr">attr</a></h2>
<p class="Pp">Sets and returns internal values for attributes. Available
    attributes are:</p>
<dl class="Bl-tag">
  <dt id="min~2"><a class="permalink" href="#min~2">min</a></dt>
  <dd>This is the min value of the items that will follow (used to calculate
      estimated finish time)</dd>
  <dt id="max~2"><a class="permalink" href="#max~2">max</a></dt>
  <dd>This is the max value of all items in the even (also used to calculate
      estimated finish time)</dd>
  <dt id="format"><a class="permalink" href="#format">format</a></dt>
  <dd>This is the default <b>report</b> format. It is used if <b>report</b> is
      called without parameters.</dd>
</dl>
<p class="Pp"><b>attr</b> returns array of the set attributes:</p>
<p class="Pp"></p>
<pre>
  my ( $new_min, $new_max ) = $p-&gt;attr( min =&gt; 1, max =&gt; 5 );
</pre>
<p class="Pp">If you want just to get values use undef:</p>
<p class="Pp"></p>
<pre>
  my $old_format = $p-&gt;attr( format =&gt; undef );
</pre>
<p class="Pp">This way of handling attributes is a bit heavy but saves a lot of
    attribute handling functions. <b>attr</b> will complain if you pass odd
    number of parameters.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="report"><a class="permalink" href="#report">report</a></h2>
<p class="Pp">This is the most complex method in this package :)</p>
<p class="Pp">The expected arguments are:</p>
<p class="Pp"></p>
<pre>
  $p-&gt;report( format, [current_item] );
</pre>
<p class="Pp"><i>format</i> is string that will be used for the result string.
    Recognized special sequences are:</p>
<dl class="Bl-tag">
  <dt>%l</dt>
  <dd>elapsed seconds</dd>
  <dt>%L</dt>
  <dd>elapsed time in minutes in format MM:SS</dd>
  <dt>%e</dt>
  <dd>remaining seconds</dd>
  <dt>%E</dt>
  <dd>remaining time in minutes in format MM:SS</dd>
  <dt>%p</dt>
  <dd>percentage done in format PPP.P%</dd>
  <dt>%f</dt>
  <dd>estimated finish time in format returned by
      <b></b><b>localtime()</b><b></b></dd>
  <dt>%b</dt>
  <dd></dd>
  <dt>%B</dt>
  <dd>progress bar which looks like:
    <p class="Pp"></p>
    <pre>
  ##############......................
    </pre>
    <p class="Pp"><span class="Li">%b</span> takes optional width:</p>
    <p class="Pp"></p>
    <pre>
  %40b -- 40-chars wide bar
  %9b  --  9-chars wide bar
  %b   -- 79-chars wide bar (default)
    </pre>
  </dd>
</dl>
<p class="Pp">Parameters can be ommited and then default format set with
    <b>attr</b> will be used.</p>
<p class="Pp">Sequences 'L', 'l', 'E' and 'e' can have width also:</p>
<p class="Pp"></p>
<pre>
  %10e
  %5l
  ...
</pre>
<p class="Pp">Estimate time calculations can be used only if min and max values
    are set (see <b>attr</b> method) and current item is passed to
    <b>report</b>! if you want to use the default format but still have
    estimates use it like this:</p>
<p class="Pp"></p>
<pre>
  $p-&gt;format( undef, 45 );
</pre>
<p class="Pp">If you don't give current item (step) or didn't set proper min/max
    value then all estimate sequences will have value `n/a'.</p>
<p class="Pp">You can freely mix reports during the same event.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="elapsed($item)"><a class="permalink" href="#elapsed($item)">elapsed($item)</a></h2>
<p class="Pp">Returns the time elapsed, in seconds. This help function, and
    those described below, take one argument: the current item number.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="estimate($item)"><a class="permalink" href="#estimate($item)">estimate($item)</a></h2>
<p class="Pp">Returns an estimate of the time remaining, in seconds.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="elapsed_str($item)"><a class="permalink" href="#elapsed_str($item)">elapsed_str($item)</a></h2>
<p class="Pp">Returns elapsed time as a formatted string:</p>
<p class="Pp"></p>
<pre>
  &quot;elapsed time is MM:SS min.\n&quot;
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="estimate_str($item)"><a class="permalink" href="#estimate_str($item)">estimate_str($item)</a></h2>
<p class="Pp">Returns estimated remaining time, as a formatted string:</p>
<p class="Pp"></p>
<pre>
  &quot;remaining time is MM:SS min.\n&quot;
</pre>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="FORMAT_EXAMPLES"><a class="permalink" href="#FORMAT_EXAMPLES">FORMAT
  EXAMPLES</a></h1>
<pre>
 # $c is current element (step) reached
 # for the examples: min = 0, max = 100, $c = 33.3

 print $p-&gt;report( &quot;done %p elapsed: %L (%l sec), ETA %E (%e sec)\n&quot;, $c );
 # prints:
 # done  33.3% elapsed time   0:05 (5 sec), ETA   0:07 (7 sec)

 print $p-&gt;report( &quot;%45b %p\r&quot;, $c );
 # prints:
 # ###############..............................  33.3%

 print $p-&gt;report( &quot;done %p ETA %f\n&quot;, $c );
 # prints:
 # done  33.3% ETA Sun Oct 21 16:50:57 2001
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">The first thing you need to know about Smart::Comments is that it
    was written by Damian Conway, so you should expect to be a little bit
    freaked out by it. It looks for certain format comments in your code, and
    uses them to display progress messages. Includes support for progress
    meters.</p>
<p class="Pp">Progress::Any separates the calculation of stats from the display
    of those stats, so you can have different back-ends which display progress
    is different ways. There are a number of separate back-ends on CPAN.</p>
<p class="Pp">Term::ProgressBar displays a progress meter to a standard
    terminal.</p>
<p class="Pp">Term::ProgressBar::Quiet uses
    <span class="Li">&quot;Term::ProgressBar&quot;</span> if your code is
    running in a terminal. If not running interactively, then no progress bar is
    shown.</p>
<p class="Pp">Term::ProgressBar::Simple provides a simple interface where you
    get a <span class="Li">$progress</span> object that you can just increment
    in a long-running loop. It builds on
    <span class="Li">&quot;Term::ProgressBar::Quiet&quot;</span>, so displays
    nothing when not running interactively.</p>
<p class="Pp">Term::Activity displays a progress meter with timing information,
    and two different skins.</p>
<p class="Pp">Text::ProgressBar is another customisable progress meter, which
    comes with a number of 'widgets' for display progress information in
    different ways.</p>
<p class="Pp">ProgressBar::Stack handles the case where a long-running process
    has a number of sub-processes, and you want to record progress of those
  too.</p>
<p class="Pp">String::ProgressBar provides a simple progress bar, which shows
    progress using a bar of ASCII characters, and the percentage complete.</p>
<p class="Pp">Term::Spinner is simpler than most of the other modules listed
    here, as it just displays a 'spinner' to the terminal. This is useful if you
    just want to show that something is happening, but can't predict how many
    more operations will be required.</p>
<p class="Pp">Term::Pulse shows a pulsed progress bar in your terminal, using a
    child process to pulse the progress bar until your job is complete.</p>
<p class="Pp">Term::YAP a fork of
    <span class="Li">&quot;Term::Pulse&quot;</span>.</p>
<p class="Pp">Term::StatusBar is another progress bar module, but it hasn't seen
    a release in the last 12 years.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="GITHUB_REPOSITORY"><a class="permalink" href="#GITHUB_REPOSITORY">GITHUB
  REPOSITORY</a></h1>
<p class="Pp">&lt;https://github.com/cade-vs/perl-time-progress&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR"><a class="permalink" href="#AUTHOR">AUTHOR</a></h1>
<p class="Pp">Vladi Belperchinov-Shabanski &quot;Cade&quot;</p>
<p class="Pp">&lt;cade@biscom.net&gt; &lt;cade@datamax.bg&gt;
    &lt;cade@cpan.org&gt;</p>
<p class="Pp">&lt;http://cade.datamax.bg&gt;</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT_AND_LICENSE"><a class="permalink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
<p class="Pp">This software is copyright (c) 2001-2015 by Vladi
    Belperchinov-Shabanski &lt;cade@cpan.org&gt;.</p>
<p class="Pp">This is free software; you can redistribute it and/or modify it
    under the same terms as the Perl 5 programming language system itself.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2017-03-27</td>
    <td class="foot-os">perl v5.30.2</td>
  </tr>
</table>
</body>
</html>
