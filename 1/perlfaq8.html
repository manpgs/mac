<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>PERLFAQ8(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PERLFAQ8(1)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">PERLFAQ8(1)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">perlfaq8 - System Interaction</p>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
<p class="Pp">version 5.20210411</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This section of the Perl FAQ covers questions involving operating
    system interaction. Topics include interprocess communication (IPC), control
    over the user-interface (keyboard, screen and pointing devices), and most
    anything else not related to data manipulation.</p>
<p class="Pp">Read the FAQs and documentation specific to the port of perl to
    your operating system (eg, perlvms, perlplan9, ...). These should contain
    more detailed information on the vagaries of your perl.</p>
<section class="Ss">
<h2 class="Ss" id="How_do_I_find_out_which_operating_system_I'm_running_under?"><a class="permalink" href="#How_do_I_find_out_which_operating_system_I'm_running_under?">How
  do I find out which operating system I'm running under?</a></h2>
<p class="Pp">The <span class="Li">$^O</span> variable
    (<span class="Li">$OSNAME</span> if you use
    <span class="Li">&quot;English&quot;</span>) contains an indication of the
    name of the operating system (not its release number) that your perl binary
    was built for.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_come_"><a class="permalink" href="#How_come_">How come
  <b>exec()</b> doesn't return?</a></h2>
<p class="Pp">(contributed by brian d foy)</p>
<p class="Pp">The <span class="Li">&quot;exec&quot;</span> function's job is to
    turn your process into another command and never to return. If that's not
    what you want to do, don't use <span class="Li">&quot;exec&quot;</span>.
  :)</p>
<p class="Pp">If you want to run an external command and still keep your Perl
    process going, look at a piped <span class="Li">&quot;open&quot;</span>,
    <span class="Li">&quot;fork&quot;</span>, or
    <span class="Li">&quot;system&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_do_fancy_stuff_with_the_keyboard/screen/mouse?"><a class="permalink" href="#How_do_I_do_fancy_stuff_with_the_keyboard/screen/mouse?">How
  do I do fancy stuff with the keyboard/screen/mouse?</a></h2>
<p class="Pp">How you access/control keyboards, screens, and pointing devices
    (&quot;mice&quot;) is system-dependent. Try the following modules:</p>
<dl class="Bl-tag">
  <dt id="Keyboard"><a class="permalink" href="#Keyboard">Keyboard</a></dt>
  <dd>
    <pre>    Term::Cap               Standard perl distribution
    Term::ReadKey           CPAN
    Term::ReadLine::Gnu     CPAN
    Term::ReadLine::Perl    CPAN
    Term::Screen            CPAN
    </pre>
  </dd>
  <dt id="Screen"><a class="permalink" href="#Screen">Screen</a></dt>
  <dd>
    <pre>    Term::Cap               Standard perl distribution
    Curses                  CPAN
    Term::ANSIColor         CPAN
    </pre>
  </dd>
  <dt id="Mouse"><a class="permalink" href="#Mouse">Mouse</a></dt>
  <dd>
    <pre>    Tk                      CPAN
    Wx                      CPAN
    Gtk2                    CPAN
    Qt4                     kdebindings4 package
    </pre>
  </dd>
</dl>
<p class="Pp">Some of these specific cases are shown as examples in other
    answers in this section of the perlfaq.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_print_something_out_in_color?"><a class="permalink" href="#How_do_I_print_something_out_in_color?">How
  do I print something out in color?</a></h2>
<p class="Pp">In general, you don't, because you don't know whether the
    recipient has a color-aware display device. If you know that they have an
    ANSI terminal that understands color, you can use the Term::ANSIColor module
    from CPAN:</p>
<p class="Pp"></p>
<pre>    use Term::ANSIColor;
    print color(&quot;red&quot;), &quot;Stop!\n&quot;, color(&quot;reset&quot;);
    print color(&quot;green&quot;), &quot;Go!\n&quot;, color(&quot;reset&quot;);
</pre>
<p class="Pp">Or like this:</p>
<p class="Pp"></p>
<pre>    use Term::ANSIColor qw(:constants);
    print RED, &quot;Stop!\n&quot;, RESET;
    print GREEN, &quot;Go!\n&quot;, RESET;
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_read_just_one_key_without_waiting_for_a_return_key?"><a class="permalink" href="#How_do_I_read_just_one_key_without_waiting_for_a_return_key?">How
  do I read just one key without waiting for a return key?</a></h2>
<p class="Pp">Controlling input buffering is a remarkably system-dependent
    matter. On many systems, you can just use the <b>stty</b> command as shown
    in &quot;getc&quot; in perlfunc, but as you see, that's already getting you
    into portability snags.</p>
<p class="Pp"></p>
<pre>    open(TTY, &quot;+&lt;/dev/tty&quot;) or die &quot;no tty: $!&quot;;
    system &quot;stty  cbreak &lt;/dev/tty &gt;/dev/tty 2&gt;&amp;1&quot;;
    $key = getc(TTY);        # perhaps this works
    # OR ELSE
    sysread(TTY, $key, 1);    # probably this does
    system &quot;stty -cbreak &lt;/dev/tty &gt;/dev/tty 2&gt;&amp;1&quot;;
</pre>
<p class="Pp">The Term::ReadKey module from CPAN offers an easy-to-use interface
    that should be more efficient than shelling out to <b>stty</b> for each key.
    It even includes limited support for Windows.</p>
<p class="Pp"></p>
<pre>    use Term::ReadKey;
    ReadMode('cbreak');
    $key = ReadKey(0);
    ReadMode('normal');
</pre>
<p class="Pp">However, using the code requires that you have a working C
    compiler and can use it to build and install a CPAN module. Here's a
    solution using the standard POSIX module, which is already on your system
    (assuming your system supports POSIX).</p>
<p class="Pp"></p>
<pre>    use HotKey;
    $key = readkey();
</pre>
<p class="Pp">And here's the <span class="Li">&quot;HotKey&quot;</span> module,
    which hides the somewhat mystifying calls to manipulate the POSIX termios
    structures.</p>
<p class="Pp"></p>
<pre>    # HotKey.pm
    package HotKey;
    use strict;
    use warnings;
    use parent 'Exporter';
    our @EXPORT = qw(cbreak cooked readkey);
    use POSIX qw(:termios_h);
    my ($term, $oterm, $echo, $noecho, $fd_stdin);
    $fd_stdin = fileno(STDIN);
    $term     = POSIX::Termios-&gt;new();
    $term-&gt;getattr($fd_stdin);
    $oterm     = $term-&gt;getlflag();
    $echo     = ECHO | ECHOK | ICANON;
    $noecho   = $oterm &amp; ~$echo;
    sub cbreak {
        $term-&gt;setlflag($noecho);  # ok, so i don't want echo either
        $term-&gt;setcc(VTIME, 1);
        $term-&gt;setattr($fd_stdin, TCSANOW);
    }
    sub cooked {
        $term-&gt;setlflag($oterm);
        $term-&gt;setcc(VTIME, 0);
        $term-&gt;setattr($fd_stdin, TCSANOW);
    }
    sub readkey {
        my $key = '';
        cbreak();
        sysread(STDIN, $key, 1);
        cooked();
        return $key;
    }
    END { cooked() }
    1;
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_check_whether_input_is_ready_on_the_keyboard?"><a class="permalink" href="#How_do_I_check_whether_input_is_ready_on_the_keyboard?">How
  do I check whether input is ready on the keyboard?</a></h2>
<p class="Pp">The easiest way to do this is to read a key in nonblocking mode
    with the Term::ReadKey module from CPAN, passing it an argument of -1 to
    indicate not to block:</p>
<p class="Pp"></p>
<pre>    use Term::ReadKey;
    ReadMode('cbreak');
    if (defined (my $char = ReadKey(-1)) ) {
        # input was waiting and it was $char
    } else {
        # no input was waiting
    }
    ReadMode('normal');                  # restore normal tty settings
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_clear_the_screen?"><a class="permalink" href="#How_do_I_clear_the_screen?">How
  do I clear the screen?</a></h2>
<p class="Pp">(contributed by brian d foy)</p>
<p class="Pp">To clear the screen, you just have to print the special sequence
    that tells the terminal to clear the screen. Once you have that sequence,
    output it when you want to clear the screen.</p>
<p class="Pp">You can use the Term::ANSIScreen module to get the special
    sequence. Import the <span class="Li">&quot;cls&quot;</span> function (or
    the <span class="Li">&quot;:screen&quot;</span> tag):</p>
<p class="Pp"></p>
<pre>    use Term::ANSIScreen qw(cls);
    my $clear_screen = cls();
    print $clear_screen;
</pre>
<p class="Pp">The Term::Cap module can also get the special sequence if you want
    to deal with the low-level details of terminal control. The
    <span class="Li">&quot;Tputs&quot;</span> method returns the string for the
    given capability:</p>
<p class="Pp"></p>
<pre>    use Term::Cap;
    my $terminal = Term::Cap-&gt;Tgetent( { OSPEED =&gt; 9600 } );
    my $clear_screen = $terminal-&gt;Tputs('cl');
    print $clear_screen;
</pre>
<p class="Pp">On Windows, you can use the Win32::Console module. After creating
    an object for the output filehandle you want to affect, call the
    <span class="Li">&quot;Cls&quot;</span> method:</p>
<p class="Pp"></p>
<pre>    Win32::Console;
    my $OUT = Win32::Console-&gt;new(STD_OUTPUT_HANDLE);
    my $clear_string = $OUT-&gt;Cls;
    print $clear_screen;
</pre>
<p class="Pp">If you have a command-line program that does the job, you can call
    it in backticks to capture whatever it outputs so you can use it later:</p>
<p class="Pp"></p>
<pre>    my $clear_string = `clear`;
    print $clear_string;
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_get_the_screen_size?"><a class="permalink" href="#How_do_I_get_the_screen_size?">How
  do I get the screen size?</a></h2>
<p class="Pp">If you have Term::ReadKey module installed from CPAN, you can use
    it to fetch the width and height in characters and in pixels:</p>
<p class="Pp"></p>
<pre>    use Term::ReadKey;
    my ($wchar, $hchar, $wpixels, $hpixels) = GetTerminalSize();
</pre>
<p class="Pp">This is more portable than the raw
    <span class="Li">&quot;ioctl&quot;</span>, but not as illustrative:</p>
<p class="Pp"></p>
<pre>    require './sys/ioctl.ph';
    die &quot;no TIOCGWINSZ &quot; unless defined &amp;TIOCGWINSZ;
    open(my $tty_fh, &quot;+&lt;/dev/tty&quot;)                     or die &quot;No tty: $!&quot;;
    unless (ioctl($tty_fh, &amp;TIOCGWINSZ, $winsize='')) {
        die sprintf &quot;$0: ioctl TIOCGWINSZ (%08x: $!)\n&quot;, &amp;TIOCGWINSZ;
    }
    my ($row, $col, $xpixel, $ypixel) = unpack('S4', $winsize);
    print &quot;(row,col) = ($row,$col)&quot;;
    print &quot;  (xpixel,ypixel) = ($xpixel,$ypixel)&quot; if $xpixel || $ypixel;
    print &quot;\n&quot;;
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_ask_the_user_for_a_password?"><a class="permalink" href="#How_do_I_ask_the_user_for_a_password?">How
  do I ask the user for a password?</a></h2>
<p class="Pp">(This question has nothing to do with the web. See a different FAQ
    for that.)</p>
<p class="Pp">There's an example of this in &quot;crypt&quot; in perlfunc.
    First, you put the terminal into &quot;no echo&quot; mode, then just read
    the password normally. You may do this with an old-style
    <span class="Li">&quot;ioctl()&quot;</span> function, POSIX terminal control
    (see POSIX or its documentation the Camel Book), or a call to the
    <b>stty</b> program, with varying degrees of portability.</p>
<p class="Pp">You can also do this for most systems using the Term::ReadKey
    module from CPAN, which is easier to use and in theory more portable.</p>
<p class="Pp"></p>
<pre>    use Term::ReadKey;
    ReadMode('noecho');
    my $password = ReadLine(0);
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_read_and_write_the_serial_port?"><a class="permalink" href="#How_do_I_read_and_write_the_serial_port?">How
  do I read and write the serial port?</a></h2>
<p class="Pp">This depends on which operating system your program is running on.
    In the case of Unix, the serial ports will be accessible through files in
    <span class="Li">&quot;/dev&quot;</span>; on other systems, device names
    will doubtless differ. Several problem areas common to all device
    interaction are the following:</p>
<dl class="Bl-tag">
  <dt id="lockfiles"><a class="permalink" href="#lockfiles">lockfiles</a></dt>
  <dd>Your system may use lockfiles to control multiple access. Make sure you
      follow the correct protocol. Unpredictable behavior can result from
      multiple processes reading from one device.</dd>
  <dt id="open"><a class="permalink" href="#open">open mode</a></dt>
  <dd>If you expect to use both read and write operations on the device, you'll
      have to open it for update (see &quot;open&quot; in perlfunc for details).
      You may wish to open it without running the risk of blocking by using
      <span class="Li">&quot;sysopen()&quot;</span> and
      <span class="Li">&quot;O_RDWR|O_NDELAY|O_NOCTTY&quot;</span> from the
      Fcntl module (part of the standard perl distribution). See
      &quot;sysopen&quot; in perlfunc for more on this approach.</dd>
  <dt id="end"><a class="permalink" href="#end">end of line</a></dt>
  <dd>Some devices will be expecting a &quot;\r&quot; at the end of each line
      rather than a &quot;\n&quot;. In some ports of perl, &quot;\r&quot; and
      &quot;\n&quot; are different from their usual (Unix) ASCII values of
      &quot;\015&quot; and &quot;\012&quot;. You may have to give the numeric
      values you want directly, using octal (&quot;\015&quot;), hex
      (&quot;0x0D&quot;), or as a control-character specification
      (&quot;\cM&quot;).
    <p class="Pp"></p>
    <pre>    print DEV &quot;atv1\012&quot;;    # wrong, for some devices
    print DEV &quot;atv1\015&quot;;    # right, for some devices
    </pre>
    <p class="Pp">Even though with normal text files a &quot;\n&quot; will do
        the trick, there is still no unified scheme for terminating a line that
        is portable between Unix, DOS/Win, and Macintosh, except to terminate
        <i>ALL</i> line ends with &quot;\015\012&quot;, and strip what you don't
        need from the output. This applies especially to socket I/O and
        autoflushing, discussed next.</p>
  </dd>
  <dt id="flushing"><a class="permalink" href="#flushing">flushing
    output</a></dt>
  <dd>If you expect characters to get to your device when you
      <span class="Li">&quot;print()&quot;</span> them, you'll want to autoflush
      that filehandle. You can use <span class="Li">&quot;select()&quot;</span>
      and the <span class="Li">$|</span> variable to control autoflushing (see
      &quot;$|&quot; in perlvar and &quot;select&quot; in perlfunc, or perlfaq5,
      &quot;How do I flush/unbuffer an output filehandle? Why must I do
      this?&quot;):
    <p class="Pp"></p>
    <pre>    my $old_handle = select($dev_fh);
    $| = 1;
    select($old_handle);
    </pre>
    <p class="Pp">You'll also see code that does this without a temporary
        variable, as in</p>
    <p class="Pp"></p>
    <pre>    select((select($deb_handle), $| = 1)[0]);
    </pre>
    <p class="Pp">Or if you don't mind pulling in a few thousand lines of code
        just because you're afraid of a little <span class="Li">$|</span>
        variable:</p>
    <p class="Pp"></p>
    <pre>    use IO::Handle;
    $dev_fh-&gt;autoflush(1);
    </pre>
    <p class="Pp">As mentioned in the previous item, this still doesn't work
        when using socket I/O between Unix and Macintosh. You'll need to hard
        code your line terminators, in that case.</p>
  </dd>
  <dt id="non-blocking"><a class="permalink" href="#non-blocking">non-blocking
    input</a></dt>
  <dd>If you are doing a blocking <span class="Li">&quot;read()&quot;</span> or
      <span class="Li">&quot;sysread()&quot;</span>, you'll have to arrange for
      an alarm handler to provide a timeout (see &quot;alarm&quot; in perlfunc).
      If you have a non-blocking open, you'll likely have a non-blocking read,
      which means you may have to use a 4-arg
      <span class="Li">&quot;select()&quot;</span> to determine whether I/O is
      ready on that device (see &quot;select&quot; in perlfunc.</dd>
</dl>
<p class="Pp">While trying to read from his caller-id box, the notorious Jamie
    Zawinski <span class="Li">&quot;&lt;jwz@netscape.com&gt;&quot;</span>, after
    much gnashing of teeth and fighting with
    <span class="Li">&quot;sysread&quot;</span>,
    <span class="Li">&quot;sysopen&quot;</span>, POSIX's
    <span class="Li">&quot;tcgetattr&quot;</span> business, and various other
    functions that go bump in the night, finally came up with this:</p>
<p class="Pp"></p>
<pre>    sub open_modem {
        use IPC::Open2;
        my $stty = `/bin/stty -g`;
        open2( \*MODEM_IN, \*MODEM_OUT, &quot;cu -l$modem_device -s2400 2&gt;&amp;1&quot;);
        # starting cu hoses /dev/tty's stty settings, even when it has
        # been opened on a pipe...
        system(&quot;/bin/stty $stty&quot;);
        $_ = &lt;MODEM_IN&gt;;
        chomp;
        if ( !m/^Connected/ ) {
            print STDERR &quot;$0: cu printed `$_' instead of `Connected'\n&quot;;
        }
    }
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_decode_encrypted_password_files?"><a class="permalink" href="#How_do_I_decode_encrypted_password_files?">How
  do I decode encrypted password files?</a></h2>
<p class="Pp">You spend lots and lots of money on dedicated hardware, but this
    is bound to get you talked about.</p>
<p class="Pp">Seriously, you can't if they are Unix password files--the Unix
    password system employs one-way encryption. It's more like hashing than
    encryption. The best you can do is check whether something else hashes to
    the same string. You can't turn a hash back into the original string.
    Programs like Crack can forcibly (and intelligently) try to guess passwords,
    but don't (can't) guarantee quick success.</p>
<p class="Pp">If you're worried about users selecting bad passwords, you should
    proactively check when they try to change their password (by modifying
    <b>passwd</b>(1), for example).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_start_a_process_in_the_background?"><a class="permalink" href="#How_do_I_start_a_process_in_the_background?">How
  do I start a process in the background?</a></h2>
<p class="Pp">(contributed by brian d foy)</p>
<p class="Pp">There's not a single way to run code in the background so you
    don't have to wait for it to finish before your program moves on to other
    tasks. Process management depends on your particular operating system, and
    many of the techniques are covered in perlipc.</p>
<p class="Pp">Several CPAN modules may be able to help, including IPC::Open2 or
    IPC::Open3, IPC::Run, Parallel::Jobs, Parallel::ForkManager, POE,
    Proc::Background, and Win32::Process. There are many other modules you might
    use, so check those namespaces for other options too.</p>
<p class="Pp">If you are on a Unix-like system, you might be able to get away
    with a system call where you put an
    <span class="Li">&quot;&amp;&quot;</span> on the end of the command:</p>
<p class="Pp"></p>
<pre>    system(&quot;cmd &amp;&quot;)
</pre>
<p class="Pp">You can also try using <span class="Li">&quot;fork&quot;</span>,
    as described in perlfunc (although this is the same thing that many of the
    modules will do for you).</p>
<dl class="Bl-tag">
  <dt id="STDIN,"><a class="permalink" href="#STDIN,">STDIN, STDOUT, and STDERR
    are shared</a></dt>
  <dd>Both the main process and the backgrounded one (the &quot;child&quot;
      process) share the same STDIN, STDOUT and STDERR filehandles. If both try
      to access them at once, strange things can happen. You may want to close
      or reopen these for the child. You can get around this with
      <span class="Li">&quot;open&quot;</span>ing a pipe (see &quot;open&quot;
      in perlfunc) but on some systems this means that the child process cannot
      outlive the parent.</dd>
  <dt id="Signals"><a class="permalink" href="#Signals">Signals</a></dt>
  <dd>You'll have to catch the SIGCHLD signal, and possibly SIGPIPE too. SIGCHLD
      is sent when the backgrounded process finishes. SIGPIPE is sent when you
      write to a filehandle whose child process has closed (an untrapped SIGPIPE
      can cause your program to silently die). This is not an issue with
      <span class="Li">&quot;system(&quot;cmd&amp;&quot;)&quot;</span>.</dd>
  <dt id="Zombies"><a class="permalink" href="#Zombies">Zombies</a></dt>
  <dd>You have to be prepared to &quot;reap&quot; the child process when it
      finishes.
    <p class="Pp"></p>
    <pre>    $SIG{CHLD} = sub { wait };
    $SIG{CHLD} = 'IGNORE';
    </pre>
    <p class="Pp">You can also use a double fork. You immediately
        <span class="Li">&quot;wait()&quot;</span> for your first child, and the
        init daemon will <span class="Li">&quot;wait()&quot;</span> for your
        grandchild once it exits.</p>
    <p class="Pp"></p>
    <pre>    unless ($pid = fork) {
        unless (fork) {
            exec &quot;what you really wanna do&quot;;
            die &quot;exec failed!&quot;;
        }
        exit 0;
    }
    waitpid($pid, 0);
    </pre>
    <p class="Pp">See &quot;Signals&quot; in perlipc for other examples of code
        to do this. Zombies are not an issue with
        <span class="Li">&quot;system(&quot;prog &amp;&quot;)&quot;</span>.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_trap_control_characters/signals?"><a class="permalink" href="#How_do_I_trap_control_characters/signals?">How
  do I trap control characters/signals?</a></h2>
<p class="Pp">You don't actually &quot;trap&quot; a control character. Instead,
    that character generates a signal which is sent to your terminal's currently
    foregrounded process group, which you then trap in your process. Signals are
    documented in &quot;Signals&quot; in perlipc and the section on
    &quot;Signals&quot; in the Camel.</p>
<p class="Pp">You can set the values of the <span class="Li">%SIG</span> hash to
    be the functions you want to handle the signal. After perl catches the
    signal, it looks in <span class="Li">%SIG</span> for a key with the same
    name as the signal, then calls the subroutine value for that key.</p>
<p class="Pp"></p>
<pre>    # as an anonymous subroutine
    $SIG{INT} = sub { syswrite(STDERR, &quot;ouch\n&quot;, 5 ) };
    # or a reference to a function
    $SIG{INT} = \&amp;ouch;
    # or the name of the function as a string
    $SIG{INT} = &quot;ouch&quot;;
</pre>
<p class="Pp">Perl versions before 5.8 had in its C source code signal handlers
    which would catch the signal and possibly run a Perl function that you had
    set in <span class="Li">%SIG</span>. This violated the rules of signal
    handling at that level causing perl to dump core. Since version 5.8.0, perl
    looks at <span class="Li">%SIG</span> <b>after</b> the signal has been
    caught, rather than while it is being caught. Previous versions of this
    answer were incorrect.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_modify_the_shadow_password_file_on_a_Unix_system?"><a class="permalink" href="#How_do_I_modify_the_shadow_password_file_on_a_Unix_system?">How
  do I modify the shadow password file on a Unix system?</a></h2>
<p class="Pp">If perl was installed correctly and your shadow library was
    written properly, the <span class="Li">&quot;getpw*()&quot;</span> functions
    described in perlfunc should in theory provide (read-only) access to entries
    in the shadow password file. To change the file, make a new shadow password
    file (the format varies from system to system--see <b>passwd</b>(1) for
    specifics) and use <span class="Li">pwd_mkdb(8)</span> to install it (see
    <b>pwd_mkdb</b>(8) for more details).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_set_the_time_and_date?"><a class="permalink" href="#How_do_I_set_the_time_and_date?">How
  do I set the time and date?</a></h2>
<p class="Pp">Assuming you're running under sufficient permissions, you should
    be able to set the system-wide date and time by running the
    <span class="Li">date(1)</span> program. (There is no way to set the time
    and date on a per-process basis.) This mechanism will work for Unix, MS-DOS,
    Windows, and NT; the VMS equivalent is <span class="Li">&quot;set
    time&quot;</span>.</p>
<p class="Pp">However, if all you want to do is change your time zone, you can
    probably get away with setting an environment variable:</p>
<p class="Pp"></p>
<pre>    $ENV{TZ} = &quot;MST7MDT&quot;;           # Unixish
    $ENV{'SYS$TIMEZONE_DIFFERENTIAL'}=&quot;-5&quot; # vms
    system('trn', 'comp.lang.perl.misc');
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="How_can_I_"><a class="permalink" href="#How_can_I_">How can I
  <b>sleep()</b> or <b>alarm()</b> for under a second?</a></h2>
<p class="Pp">If you want finer granularity than the 1 second that the
    <span class="Li">&quot;sleep()&quot;</span> function provides, the easiest
    way is to use the <span class="Li">&quot;select()&quot;</span> function as
    documented in &quot;select&quot; in perlfunc. Try the Time::HiRes and the
    BSD::Itimer modules (available from CPAN, and starting from Perl 5.8
    Time::HiRes is part of the standard distribution).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_can_I_measure_time_under_a_second?"><a class="permalink" href="#How_can_I_measure_time_under_a_second?">How
  can I measure time under a second?</a></h2>
<p class="Pp">(contributed by brian d foy)</p>
<p class="Pp">The Time::HiRes module (part of the standard distribution as of
    Perl 5.8) measures time with the
    <span class="Li">&quot;gettimeofday()&quot;</span> system call, which
    returns the time in microseconds since the epoch. If you can't install
    Time::HiRes for older Perls and you are on a Unixish system, you may be able
    to call <span class="Li">gettimeofday(2)</span> directly. See
    &quot;syscall&quot; in perlfunc.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_can_I_do_an_"><a class="permalink" href="#How_can_I_do_an_">How
  can I do an <b>atexit()</b> or <b>setjmp()</b>/<b>longjmp()</b>? (Exception
  handling)</a></h2>
<p class="Pp">You can use the <span class="Li">&quot;END&quot;</span> block to
    simulate <span class="Li">&quot;atexit()&quot;</span>. Each package's
    <span class="Li">&quot;END&quot;</span> block is called when the program or
    thread ends. See the perlmod manpage for more details about
    <span class="Li">&quot;END&quot;</span> blocks.</p>
<p class="Pp">For example, you can use this to make sure your filter program
    managed to finish its output without filling up the disk:</p>
<p class="Pp"></p>
<pre>    END {
        close(STDOUT) || die &quot;stdout close failed: $!&quot;;
    }
</pre>
<p class="Pp">The <span class="Li">&quot;END&quot;</span> block isn't called
    when untrapped signals kill the program, though, so if you use
    <span class="Li">&quot;END&quot;</span> blocks you should also use</p>
<p class="Pp"></p>
<pre>    use sigtrap qw(die normal-signals);
</pre>
<p class="Pp">Perl's exception-handling mechanism is its
    <span class="Li">&quot;eval()&quot;</span> operator. You can use
    <span class="Li">&quot;eval()&quot;</span> as
    <span class="Li">&quot;setjmp&quot;</span> and
    <span class="Li">&quot;die()&quot;</span> as
    <span class="Li">&quot;longjmp&quot;</span>. For details of this, see the
    section on signals, especially the time-out handler for a blocking
    <span class="Li">&quot;flock()&quot;</span> in &quot;Signals&quot; in
    perlipc or the section on &quot;Signals&quot; in <i>Programming
  Perl</i>.</p>
<p class="Pp">If exception handling is all you're interested in, use one of the
    many CPAN modules that handle exceptions, such as Try::Tiny.</p>
<p class="Pp">If you want the <span class="Li">&quot;atexit()&quot;</span>
    syntax (and an <span class="Li">&quot;rmexit()&quot;</span> as well), try
    the <span class="Li">&quot;AtExit&quot;</span> module available from
  CPAN.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Why_doesn't_my_sockets_program_work_under_System_V_(Solaris)?_What_does_the_error_message__Protocol_not_supported__mean?"><a class="permalink" href="#Why_doesn't_my_sockets_program_work_under_System_V_(Solaris)?_What_does_the_error_message__Protocol_not_supported__mean?">Why
  doesn't my sockets program work under System V (Solaris)? What does the error
  message &quot;Protocol not supported&quot; mean?</a></h2>
<p class="Pp">Some Sys-V based systems, notably Solaris 2.X, redefined some of
    the standard socket constants. Since these were constant across all
    architectures, they were often hardwired into perl code. The proper way to
    deal with this is to &quot;use Socket&quot; to get the correct values.</p>
<p class="Pp">Note that even though SunOS and Solaris are binary compatible,
    these values are different. Go figure.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_can_I_call_my_system's_unique_C_functions_from_Perl?"><a class="permalink" href="#How_can_I_call_my_system's_unique_C_functions_from_Perl?">How
  can I call my system's unique C functions from Perl?</a></h2>
<p class="Pp">In most cases, you write an external module to do it--see the
    answer to &quot;Where can I learn about linking C with Perl? [h2xs,
    xsubpp]&quot;. However, if the function is a system call, and your system
    supports <span class="Li">&quot;syscall()&quot;</span>, you can use the
    <span class="Li">&quot;syscall&quot;</span> function (documented in
    perlfunc).</p>
<p class="Pp">Remember to check the modules that came with your distribution,
    and CPAN as well--someone may already have written a module to do it. On
    Windows, try Win32::API. On Macs, try Mac::Carbon. If no module has an
    interface to the C function, you can inline a bit of C in your Perl source
    with Inline::C.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Where_do_I_get_the_include_files_to_do_"><a class="permalink" href="#Where_do_I_get_the_include_files_to_do_">Where
  do I get the include files to do <b>ioctl()</b> or <b>syscall()</b>?</a></h2>
<p class="Pp">Historically, these would be generated by the h2ph tool, part of
    the standard perl distribution. This program converts
    <span class="Li">cpp(1)</span> directives in C header files to files
    containing subroutine definitions, like
    <span class="Li">&quot;SYS_getitimer()&quot;</span>, which you can use as
    arguments to your functions. It doesn't work perfectly, but it usually gets
    most of the job done. Simple files like <i>errno.h</i>, <i>syscall.h</i>,
    and <i>socket.h</i> were fine, but the hard ones like <i>ioctl.h</i> nearly
    always need to be hand-edited. Here's how to install the *.ph files:</p>
<p class="Pp"></p>
<pre>    1. Become the super-user
    2. cd /usr/include
    3. h2ph *.h */*.h
</pre>
<p class="Pp">If your system supports dynamic loading, for reasons of
    portability and sanity you probably ought to use h2xs (also part of the
    standard perl distribution). This tool converts C header files to Perl
    extensions. See perlxstut for how to get started with h2xs.</p>
<p class="Pp">If your system doesn't support dynamic loading, you still probably
    ought to use h2xs. See perlxstut and ExtUtils::MakeMaker for more
    information (in brief, just use <b>make perl</b> instead of a plain
    <b>make</b> to rebuild perl with a new static extension).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Why_do_setuid_perl_scripts_complain_about_kernel_problems?"><a class="permalink" href="#Why_do_setuid_perl_scripts_complain_about_kernel_problems?">Why
  do setuid perl scripts complain about kernel problems?</a></h2>
<p class="Pp">Some operating systems have bugs in the kernel that make setuid
    scripts inherently insecure. Perl gives you a number of options (described
    in perlsec) to work around such systems.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_can_I_open_a_pipe_both_to_and_from_a_command?"><a class="permalink" href="#How_can_I_open_a_pipe_both_to_and_from_a_command?">How
  can I open a pipe both to and from a command?</a></h2>
<p class="Pp">The IPC::Open2 module (part of the standard perl distribution) is
    an easy-to-use approach that internally uses
    <span class="Li">&quot;pipe()&quot;</span>,
    <span class="Li">&quot;fork()&quot;</span>, and
    <span class="Li">&quot;exec()&quot;</span> to do the job. Make sure you read
    the deadlock warnings in its documentation, though (see IPC::Open2). See
    &quot;Bidirectional Communication with Another Process&quot; in perlipc and
    &quot;Bidirectional Communication with Yourself&quot; in perlipc</p>
<p class="Pp">You may also use the IPC::Open3 module (part of the standard perl
    distribution), but be warned that it has a different order of arguments from
    IPC::Open2 (see IPC::Open3).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Why_can't_I_get_the_output_of_a_command_with_"><a class="permalink" href="#Why_can't_I_get_the_output_of_a_command_with_">Why
  can't I get the output of a command with <b>system()</b>?</a></h2>
<p class="Pp">You're confusing the purpose of
    <span class="Li">&quot;system()&quot;</span> and backticks (``).
    <span class="Li">&quot;system()&quot;</span> runs a command and returns exit
    status information (as a 16 bit value: the low 7 bits are the signal the
    process died from, if any, and the high 8 bits are the actual exit value).
    Backticks (``) run a command and return what it sent to STDOUT.</p>
<p class="Pp"></p>
<pre>    my $exit_status   = system(&quot;mail-users&quot;);
    my $output_string = `ls`;
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="How_can_I_capture_"><a class="permalink" href="#How_can_I_capture_">How
  can I capture STDERR from an external command?</a></h2>
<p class="Pp">There are three basic ways of running external commands:</p>
<p class="Pp"></p>
<pre>    system $cmd;        # using system()
    my $output = `$cmd`;        # using backticks (``)
    open (my $pipe_fh, &quot;$cmd |&quot;);    # using open()
</pre>
<p class="Pp">With <span class="Li">&quot;system()&quot;</span>, both STDOUT and
    STDERR will go the same place as the script's STDOUT and STDERR, unless the
    <span class="Li">&quot;system()&quot;</span> command redirects them.
    Backticks and <span class="Li">&quot;open()&quot;</span> read <b>only</b>
    the STDOUT of your command.</p>
<p class="Pp">You can also use the <span class="Li">&quot;open3()&quot;</span>
    function from IPC::Open3. Benjamin Goldberg provides some sample code:</p>
<p class="Pp">To capture a program's STDOUT, but discard its STDERR:</p>
<p class="Pp"></p>
<pre>    use IPC::Open3;
    use File::Spec;
    my $in = '';
    open(NULL, &quot;&gt;&quot;, File::Spec-&gt;devnull);
    my $pid = open3($in, \*PH, &quot;&gt;&amp;NULL&quot;, &quot;cmd&quot;);
    while( &lt;PH&gt; ) { }
    waitpid($pid, 0);
</pre>
<p class="Pp">To capture a program's STDERR, but discard its STDOUT:</p>
<p class="Pp"></p>
<pre>    use IPC::Open3;
    use File::Spec;
    my $in = '';
    open(NULL, &quot;&gt;&quot;, File::Spec-&gt;devnull);
    my $pid = open3($in, &quot;&gt;&amp;NULL&quot;, \*PH, &quot;cmd&quot;);
    while( &lt;PH&gt; ) { }
    waitpid($pid, 0);
</pre>
<p class="Pp">To capture a program's STDERR, and let its STDOUT go to our own
    STDERR:</p>
<p class="Pp"></p>
<pre>    use IPC::Open3;
    my $in = '';
    my $pid = open3($in, &quot;&gt;&amp;STDERR&quot;, \*PH, &quot;cmd&quot;);
    while( &lt;PH&gt; ) { }
    waitpid($pid, 0);
</pre>
<p class="Pp">To read both a command's STDOUT and its STDERR separately, you can
    redirect them to temp files, let the command run, then read the temp
  files:</p>
<p class="Pp"></p>
<pre>    use IPC::Open3;
    use IO::File;
    my $in = '';
    local *CATCHOUT = IO::File-&gt;new_tmpfile;
    local *CATCHERR = IO::File-&gt;new_tmpfile;
    my $pid = open3($in, &quot;&gt;&amp;CATCHOUT&quot;, &quot;&gt;&amp;CATCHERR&quot;, &quot;cmd&quot;);
    waitpid($pid, 0);
    seek $_, 0, 0 for \*CATCHOUT, \*CATCHERR;
    while( &lt;CATCHOUT&gt; ) {}
    while( &lt;CATCHERR&gt; ) {}
</pre>
<p class="Pp">But there's no real need for <b>both</b> to be tempfiles... the
    following should work just as well, without deadlocking:</p>
<p class="Pp"></p>
<pre>    use IPC::Open3;
    my $in = '';
    use IO::File;
    local *CATCHERR = IO::File-&gt;new_tmpfile;
    my $pid = open3($in, \*CATCHOUT, &quot;&gt;&amp;CATCHERR&quot;, &quot;cmd&quot;);
    while( &lt;CATCHOUT&gt; ) {}
    waitpid($pid, 0);
    seek CATCHERR, 0, 0;
    while( &lt;CATCHERR&gt; ) {}
</pre>
<p class="Pp">And it'll be faster, too, since we can begin processing the
    program's stdout immediately, rather than waiting for the program to
  finish.</p>
<p class="Pp">With any of these, you can change file descriptors before the
    call:</p>
<p class="Pp"></p>
<pre>    open(STDOUT, &quot;&gt;logfile&quot;);
    system(&quot;ls&quot;);
</pre>
<p class="Pp">or you can use Bourne shell file-descriptor redirection:</p>
<p class="Pp"></p>
<pre>    $output = `$cmd 2&gt;some_file`;
    open (PIPE, &quot;cmd 2&gt;some_file |&quot;);
</pre>
<p class="Pp">You can also use file-descriptor redirection to make STDERR a
    duplicate of STDOUT:</p>
<p class="Pp"></p>
<pre>    $output = `$cmd 2&gt;&amp;1`;
    open (PIPE, &quot;cmd 2&gt;&amp;1 |&quot;);
</pre>
<p class="Pp">Note that you <i>cannot</i> simply open STDERR to be a dup of
    STDOUT in your Perl program and avoid calling the shell to do the
    redirection. This doesn't work:</p>
<p class="Pp"></p>
<pre>    open(STDERR, &quot;&gt;&amp;STDOUT&quot;);
    $alloutput = `cmd args`;  # stderr still escapes
</pre>
<p class="Pp">This fails because the <span class="Li">&quot;open()&quot;</span>
    makes STDERR go to where STDOUT was going at the time of the
    <span class="Li">&quot;open()&quot;</span>. The backticks then make STDOUT
    go to a string, but don't change STDERR (which still goes to the old
    STDOUT).</p>
<p class="Pp">Note that you <i>must</i> use Bourne shell
    (<span class="Li">sh(1)</span>) redirection syntax in backticks, not
    <span class="Li">csh(1)</span>! Details on why Perl's
    <span class="Li">&quot;system()&quot;</span> and backtick and pipe opens all
    use the Bourne shell are in the <i>versus/csh.whynot</i> article in the
    &quot;Far More Than You Ever Wanted To Know&quot; collection in
    &lt;http://www.cpan.org/misc/olddoc/FMTEYEWTK.tgz&gt; . To capture a
    command's STDERR and STDOUT together:</p>
<p class="Pp"></p>
<pre>    $output = `cmd 2&gt;&amp;1`;                       # either with backticks
    $pid = open(PH, &quot;cmd 2&gt;&amp;1 |&quot;);              # or with an open pipe
    while (&lt;PH&gt;) { }                            #    plus a read
</pre>
<p class="Pp">To capture a command's STDOUT but discard its STDERR:</p>
<p class="Pp"></p>
<pre>    $output = `cmd 2&gt;/dev/null`;                # either with backticks
    $pid = open(PH, &quot;cmd 2&gt;/dev/null |&quot;);       # or with an open pipe
    while (&lt;PH&gt;) { }                            #    plus a read
</pre>
<p class="Pp">To capture a command's STDERR but discard its STDOUT:</p>
<p class="Pp"></p>
<pre>    $output = `cmd 2&gt;&amp;1 1&gt;/dev/null`;           # either with backticks
    $pid = open(PH, &quot;cmd 2&gt;&amp;1 1&gt;/dev/null |&quot;);  # or with an open pipe
    while (&lt;PH&gt;) { }                            #    plus a read
</pre>
<p class="Pp">To exchange a command's STDOUT and STDERR in order to capture the
    STDERR but leave its STDOUT to come out our old STDERR:</p>
<p class="Pp"></p>
<pre>    $output = `cmd 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;-`;        # either with backticks
    $pid = open(PH, &quot;cmd 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;-|&quot;);# or with an open pipe
    while (&lt;PH&gt;) { }                            #    plus a read
</pre>
<p class="Pp">To read both a command's STDOUT and its STDERR separately, it's
    easiest to redirect them separately to files, and then read from those files
    when the program is done:</p>
<p class="Pp"></p>
<pre>    system(&quot;program args 1&gt;program.stdout 2&gt;program.stderr&quot;);
</pre>
<p class="Pp">Ordering is important in all these examples. That's because the
    shell processes file descriptor redirections in strictly left to right
    order.</p>
<p class="Pp"></p>
<pre>    system(&quot;prog args 1&gt;tmpfile 2&gt;&amp;1&quot;);
    system(&quot;prog args 2&gt;&amp;1 1&gt;tmpfile&quot;);
</pre>
<p class="Pp">The first command sends both standard out and standard error to
    the temporary file. The second command sends only the old standard output
    there, and the old standard error shows up on the old standard out.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Why_doesn't_"><a class="permalink" href="#Why_doesn't_">Why
  doesn't <b>open()</b> return an error when a pipe open fails?</a></h2>
<p class="Pp">If the second argument to a piped
    <span class="Li">&quot;open()&quot;</span> contains shell metacharacters,
    perl <span class="Li">&quot;fork()&quot;</span>s, then
    <span class="Li">&quot;exec()&quot;</span>s a shell to decode the
    metacharacters and eventually run the desired program. If the program
    couldn't be run, it's the shell that gets the message, not Perl. All your
    Perl program can find out is whether the shell itself could be successfully
    started. You can still capture the shell's STDERR and check it for error
    messages. See &quot;How can I capture STDERR from an external command?&quot;
    elsewhere in this document, or use the IPC::Open3 module.</p>
<p class="Pp">If there are no shell metacharacters in the argument of
    <span class="Li">&quot;open()&quot;</span>, Perl runs the command directly,
    without using the shell, and can correctly report whether the command
    started.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="What's_wrong_with_using_backticks_in_a_void_context?"><a class="permalink" href="#What's_wrong_with_using_backticks_in_a_void_context?">What's
  wrong with using backticks in a void context?</a></h2>
<p class="Pp">Strictly speaking, nothing. Stylistically speaking, it's not a
    good way to write maintainable code. Perl has several operators for running
    external commands. Backticks are one; they collect the output from the
    command for use in your program. The
    <span class="Li">&quot;system&quot;</span> function is another; it doesn't
    do this.</p>
<p class="Pp">Writing backticks in your program sends a clear message to the
    readers of your code that you wanted to collect the output of the command.
    Why send a clear message that isn't true?</p>
<p class="Pp">Consider this line:</p>
<p class="Pp"></p>
<pre>    `cat /etc/termcap`;
</pre>
<p class="Pp">You forgot to check <span class="Li">$?</span> to see whether the
    program even ran correctly. Even if you wrote</p>
<p class="Pp"></p>
<pre>    print `cat /etc/termcap`;
</pre>
<p class="Pp">this code could and probably should be written as</p>
<p class="Pp"></p>
<pre>    system(&quot;cat /etc/termcap&quot;) == 0
    or die &quot;cat program failed!&quot;;
</pre>
<p class="Pp">which will echo the cat command's output as it is generated,
    instead of waiting until the program has completed to print it out. It also
    checks the return value.</p>
<p class="Pp"><span class="Li">&quot;system&quot;</span> also provides direct
    control over whether shell wildcard processing may take place, whereas
    backticks do not.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_can_I_call_backticks_without_shell_processing?"><a class="permalink" href="#How_can_I_call_backticks_without_shell_processing?">How
  can I call backticks without shell processing?</a></h2>
<p class="Pp">This is a bit tricky. You can't simply write the command like
    this:</p>
<p class="Pp"></p>
<pre>    @ok = `grep @opts '$search_string' @filenames`;
</pre>
<p class="Pp">As of Perl 5.8.0, you can use
    <span class="Li">&quot;open()&quot;</span> with multiple arguments. Just
    like the list forms of <span class="Li">&quot;system()&quot;</span> and
    <span class="Li">&quot;exec()&quot;</span>, no shell escapes happen.</p>
<p class="Pp"></p>
<pre>    open( GREP, &quot;-|&quot;, 'grep', @opts, $search_string, @filenames );
    chomp(@ok = &lt;GREP&gt;);
    close GREP;
</pre>
<p class="Pp">You can also:</p>
<p class="Pp"></p>
<pre>    my @ok = ();
    if (open(GREP, &quot;-|&quot;)) {
        while (&lt;GREP&gt;) {
            chomp;
            push(@ok, $_);
        }
        close GREP;
    } else {
        exec 'grep', @opts, $search_string, @filenames;
    }
</pre>
<p class="Pp">Just as with <span class="Li">&quot;system()&quot;</span>, no
    shell escapes happen when you <span class="Li">&quot;exec()&quot;</span> a
    list. Further examples of this can be found in &quot;Safe Pipe Opens&quot;
    in perlipc.</p>
<p class="Pp">Note that if you're using Windows, no solution to this vexing
    issue is even possible. Even though Perl emulates
    <span class="Li">&quot;fork()&quot;</span>, you'll still be stuck, because
    Windows does not have an argc/argv-style API.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Why_can't_my_script_read_from_"><a class="permalink" href="#Why_can't_my_script_read_from_">Why
  can't my script read from STDIN after I gave it EOF (^D on Unix, ^Z on
  MS-DOS)?</a></h2>
<p class="Pp">This happens only if your perl is compiled to use stdio instead of
    perlio, which is the default. Some (maybe all?) stdios set error and eof
    flags that you may need to clear. The POSIX module defines
    <span class="Li">&quot;clearerr()&quot;</span> that you can use. That is the
    technically correct way to do it. Here are some less reliable
  workarounds:</p>
<dl class="Bl-tag">
  <dt>1.</dt>
  <dd>Try keeping around the seekpointer and go there, like this:
    <p class="Pp"></p>
    <pre>    my $where = tell($log_fh);
    seek($log_fh, $where, 0);
    </pre>
  </dd>
  <dt>2.</dt>
  <dd>If that doesn't work, try seeking to a different part of the file and then
      back.</dd>
  <dt>3.</dt>
  <dd>If that doesn't work, try seeking to a different part of the file, reading
      something, and then seeking back.</dd>
  <dt>4.</dt>
  <dd>If that doesn't work, give up on your stdio package and use sysread.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="How_can_I_convert_my_shell_script_to_perl?"><a class="permalink" href="#How_can_I_convert_my_shell_script_to_perl?">How
  can I convert my shell script to perl?</a></h2>
<p class="Pp">Learn Perl and rewrite it. Seriously, there's no simple converter.
    Things that are awkward to do in the shell are easy to do in Perl, and this
    very awkwardness is what would make a shell-&gt;perl converter nigh-on
    impossible to write. By rewriting it, you'll think about what you're really
    trying to do, and hopefully will escape the shell's pipeline datastream
    paradigm, which while convenient for some matters, causes many
    inefficiencies.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Can_I_use_perl_to_run_a_telnet_or_ftp_session?"><a class="permalink" href="#Can_I_use_perl_to_run_a_telnet_or_ftp_session?">Can
  I use perl to run a telnet or ftp session?</a></h2>
<p class="Pp">Try the Net::FTP, TCP::Client, and Net::Telnet modules (available
    from CPAN). &lt;http://www.cpan.org/scripts/netstuff/telnet.emul.shar&gt;
    will also help for emulating the telnet protocol, but Net::Telnet is quite
    probably easier to use.</p>
<p class="Pp">If all you want to do is pretend to be telnet but don't need the
    initial telnet handshaking, then the standard dual-process approach will
    suffice:</p>
<p class="Pp"></p>
<pre>    use IO::Socket;             # new in 5.004
    my $handle = IO::Socket::INET-&gt;new('www.perl.com:80')
        or die &quot;can't connect to port 80 on www.perl.com $!&quot;;
    $handle-&gt;autoflush(1);
    if (fork()) {               # XXX: undef means failure
        select($handle);
        print while &lt;STDIN&gt;;    # everything from stdin to socket
    } else {
        print while &lt;$handle&gt;;  # everything from socket to stdout
    }
    close $handle;
    exit;
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="How_can_I_write_expect_in_Perl?"><a class="permalink" href="#How_can_I_write_expect_in_Perl?">How
  can I write expect in Perl?</a></h2>
<p class="Pp">Once upon a time, there was a library called <i>chat2.pl</i> (part
    of the standard perl distribution), which never really got finished. If you
    find it somewhere, <i>don't use it</i>. These days, your best bet is to look
    at the Expect module available from CPAN, which also requires two other
    modules from CPAN, IO::Pty and IO::Stty.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Is_there_a_way_to_hide_perl's_command_line_from_programs_such_as__ps_?"><a class="permalink" href="#Is_there_a_way_to_hide_perl's_command_line_from_programs_such_as__ps_?">Is
  there a way to hide perl's command line from programs such as
  &quot;ps&quot;?</a></h2>
<p class="Pp">First of all note that if you're doing this for security reasons
    (to avoid people seeing passwords, for example) then you should rewrite your
    program so that critical information is never given as an argument. Hiding
    the arguments won't make your program completely secure.</p>
<p class="Pp">To actually alter the visible command line, you can assign to the
    variable <span class="Li">$0</span> as documented in perlvar. This won't
    work on all operating systems, though. Daemon programs like sendmail place
    their state there, as in:</p>
<p class="Pp"></p>
<pre>    $0 = &quot;orcus [accepting connections]&quot;;
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="I__changed_directory,_modified_my_environment__in_a_perl_script._How_come_the_change_disappeared_when_I_exited_the_script?_How_do_I_get_my_changes_to_be_visible?"><a class="permalink" href="#I__changed_directory,_modified_my_environment__in_a_perl_script._How_come_the_change_disappeared_when_I_exited_the_script?_How_do_I_get_my_changes_to_be_visible?">I
  {changed directory, modified my environment} in a perl script. How come the
  change disappeared when I exited the script? How do I get my changes to be
  visible?</a></h2>
<dl class="Bl-tag">
  <dt id="Unix"><a class="permalink" href="#Unix">Unix</a></dt>
  <dd>In the strictest sense, it can't be done--the script executes as a
      different process from the shell it was started from. Changes to a process
      are not reflected in its parent--only in any children created after the
      change. There is shell magic that may allow you to fake it by
      <span class="Li">&quot;eval()&quot;</span>ing the script's output in your
      shell; check out the comp.unix.questions FAQ for details.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_close_a_process's_filehandle_without_waiting_for_it_to_complete?"><a class="permalink" href="#How_do_I_close_a_process's_filehandle_without_waiting_for_it_to_complete?">How
  do I close a process's filehandle without waiting for it to complete?</a></h2>
<p class="Pp">Assuming your system supports such things, just send an
    appropriate signal to the process (see &quot;kill&quot; in perlfunc). It's
    common to first send a TERM signal, wait a little bit, and then send a KILL
    signal to finish it off.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_fork_a_daemon_process?"><a class="permalink" href="#How_do_I_fork_a_daemon_process?">How
  do I fork a daemon process?</a></h2>
<p class="Pp">If by daemon process you mean one that's detached (disassociated
    from its tty), then the following process is reported to work on most
    Unixish systems. Non-Unix users should check their Your_OS::Process module
    for other solutions.</p>
<ul class="Bl-bullet">
  <li>Open /dev/tty and use the TIOCNOTTY ioctl on it. See <b>tty</b>(1) for
      details. Or better yet, you can just use the
      <span class="Li">&quot;POSIX::setsid()&quot;</span> function, so you don't
      have to worry about process groups.</li>
  <li>Change directory to /</li>
  <li>Reopen STDIN, STDOUT, and STDERR so they're not connected to the old
    tty.</li>
  <li>Background yourself like this:
    <p class="Pp"></p>
    <pre>    fork &amp;&amp; exit;
    </pre>
  </li>
</ul>
<p class="Pp">The Proc::Daemon module, available from CPAN, provides a function
    to perform these actions for you.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_find_out_if_I'm_running_interactively_or_not?"><a class="permalink" href="#How_do_I_find_out_if_I'm_running_interactively_or_not?">How
  do I find out if I'm running interactively or not?</a></h2>
<p class="Pp">(contributed by brian d foy)</p>
<p class="Pp">This is a difficult question to answer, and the best answer is
    only a guess.</p>
<p class="Pp">What do you really want to know? If you merely want to know if one
    of your filehandles is connected to a terminal, you can try the
    <span class="Li">&quot;-t&quot;</span> file test:</p>
<p class="Pp"></p>
<pre>    if( -t STDOUT ) {
        print &quot;I'm connected to a terminal!\n&quot;;
    }
</pre>
<p class="Pp">However, you might be out of luck if you expect that means there
    is a real person on the other side. With the Expect module, another program
    can pretend to be a person. The program might even come close to passing the
    Turing test.</p>
<p class="Pp">The IO::Interactive module does the best it can to give you an
    answer. Its <span class="Li">&quot;is_interactive&quot;</span> function
    returns an output filehandle; that filehandle points to standard output if
    the module thinks the session is interactive. Otherwise, the filehandle is a
    null handle that simply discards the output:</p>
<p class="Pp"></p>
<pre>    use IO::Interactive;
    print { is_interactive } &quot;I might go to standard output!\n&quot;;
</pre>
<p class="Pp">This still doesn't guarantee that a real person is answering your
    prompts or reading your output.</p>
<p class="Pp">If you want to know how to handle automated testing for your
    distribution, you can check the environment. The CPAN Testers, for instance,
    set the value of <span class="Li">&quot;AUTOMATED_TESTING&quot;</span>:</p>
<p class="Pp"></p>
<pre>    unless( $ENV{AUTOMATED_TESTING} ) {
        print &quot;Hello interactive tester!\n&quot;;
    }
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_timeout_a_slow_event?"><a class="permalink" href="#How_do_I_timeout_a_slow_event?">How
  do I timeout a slow event?</a></h2>
<p class="Pp">Use the <span class="Li">&quot;alarm()&quot;</span> function,
    probably in conjunction with a signal handler, as documented in
    &quot;Signals&quot; in perlipc and the section on &quot;Signals&quot; in the
    Camel. You may instead use the more flexible Sys::AlarmCall module available
    from CPAN.</p>
<p class="Pp">The <span class="Li">&quot;alarm()&quot;</span> function is not
    implemented on all versions of Windows. Check the documentation for your
    specific version of Perl.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_set_"><a class="permalink" href="#How_do_I_set_">How
  do I set CPU limits?</a></h2>
<p class="Pp">(contributed by Xho)</p>
<p class="Pp">Use the BSD::Resource module from CPAN. As an example:</p>
<p class="Pp"></p>
<pre>    use BSD::Resource;
    setrlimit(RLIMIT_CPU,10,20) or die $!;
</pre>
<p class="Pp">This sets the soft and hard limits to 10 and 20 seconds,
    respectively. After 10 seconds of time spent running on the CPU (not
    &quot;wall&quot; time), the process will be sent a signal (XCPU on some
    systems) which, if not trapped, will cause the process to terminate. If that
    signal is trapped, then after 10 more seconds (20 seconds in total) the
    process will be killed with a non-trappable signal.</p>
<p class="Pp">See the BSD::Resource and your systems documentation for the gory
    details.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_avoid_zombies_on_a_Unix_system?"><a class="permalink" href="#How_do_I_avoid_zombies_on_a_Unix_system?">How
  do I avoid zombies on a Unix system?</a></h2>
<p class="Pp">Use the reaper code from &quot;Signals&quot; in perlipc to call
    <span class="Li">&quot;wait()&quot;</span> when a SIGCHLD is received, or
    else use the double-fork technique described in &quot;How do I start a
    process in the background?&quot; in perlfaq8.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_use_an_"><a class="permalink" href="#How_do_I_use_an_">How
  do I use an SQL database?</a></h2>
<p class="Pp">The DBI module provides an abstract interface to most database
    servers and types, including Oracle, DB2, Sybase, mysql, Postgresql, ODBC,
    and flat files. The DBI module accesses each database type through a
    database driver, or DBD. You can see a complete list of available drivers on
    CPAN: &lt;http://www.cpan.org/modules/by-module/DBD/&gt; . You can read more
    about DBI on &lt;http://dbi.perl.org/&gt; .</p>
<p class="Pp">Other modules provide more specific access: Win32::ODBC, Alzabo,
    <span class="Li">&quot;iodbc&quot;</span>, and others found on CPAN Search:
    &lt;https://metacpan.org/&gt; .</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_make_a_"><a class="permalink" href="#How_do_I_make_a_">How
  do I make a <b>system()</b> exit on control-C?</a></h2>
<p class="Pp">You can't. You need to imitate the
    <span class="Li">&quot;system()&quot;</span> call (see perlipc for sample
    code) and then have a signal handler for the INT signal that passes the
    signal on to the subprocess. Or you can check for it:</p>
<p class="Pp"></p>
<pre>    $rc = system($cmd);
    if ($rc &amp; 127) { die &quot;signal death&quot; }
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_open_a_file_without_blocking?"><a class="permalink" href="#How_do_I_open_a_file_without_blocking?">How
  do I open a file without blocking?</a></h2>
<p class="Pp">If you're lucky enough to be using a system that supports
    non-blocking reads (most Unixish systems do), you need only to use the
    <span class="Li">&quot;O_NDELAY&quot;</span> or
    <span class="Li">&quot;O_NONBLOCK&quot;</span> flag from the
    <span class="Li">&quot;Fcntl&quot;</span> module in conjunction with
    <span class="Li">&quot;sysopen()&quot;</span>:</p>
<p class="Pp"></p>
<pre>    use Fcntl;
    sysopen(my $fh, &quot;/foo/somefile&quot;, O_WRONLY|O_NDELAY|O_CREAT, 0644)
        or die &quot;can't open /foo/somefile: $!&quot;:
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_tell_the_difference_between_errors_from_the_shell_and_perl?"><a class="permalink" href="#How_do_I_tell_the_difference_between_errors_from_the_shell_and_perl?">How
  do I tell the difference between errors from the shell and perl?</a></h2>
<p class="Pp">(answer contributed by brian d foy)</p>
<p class="Pp">When you run a Perl script, something else is running the script
    for you, and that something else may output error messages. The script might
    emit its own warnings and error messages. Most of the time you cannot tell
    who said what.</p>
<p class="Pp">You probably cannot fix the thing that runs perl, but you can
    change how perl outputs its warnings by defining a custom warning and die
    functions.</p>
<p class="Pp">Consider this script, which has an error you may not notice
    immediately.</p>
<p class="Pp"></p>
<pre>    #!/usr/locl/bin/perl
    print &quot;Hello World\n&quot;;
</pre>
<p class="Pp">I get an error when I run this from my shell (which happens to be
    bash). That may look like perl forgot it has a
    <span class="Li">&quot;print()&quot;</span> function, but my shebang line is
    not the path to perl, so the shell runs the script, and I get the error.</p>
<p class="Pp"></p>
<pre>    $ ./test
    ./test: line 3: print: command not found
</pre>
<p class="Pp">A quick and dirty fix involves a little bit of code, but this may
    be all you need to figure out the problem.</p>
<p class="Pp"></p>
<pre>    #!/usr/bin/perl -w
    BEGIN {
        $SIG{__WARN__} = sub{ print STDERR &quot;Perl: &quot;, @_; };
        $SIG{__DIE__}  = sub{ print STDERR &quot;Perl: &quot;, @_; exit 1};
    }
    $a = 1 + undef;
    $x / 0;
    __END__
</pre>
<p class="Pp">The perl message comes out with &quot;Perl&quot; in front. The
    <span class="Li">&quot;BEGIN&quot;</span> block works at compile time so all
    of the compilation errors and warnings get the &quot;Perl:&quot; prefix
  too.</p>
<p class="Pp"></p>
<pre>    Perl: Useless use of division (/) in void context at ./test line 9.
    Perl: Name &quot;main::a&quot; used only once: possible typo at ./test line 8.
    Perl: Name &quot;main::x&quot; used only once: possible typo at ./test line 9.
    Perl: Use of uninitialized value in addition (+) at ./test line 8.
    Perl: Use of uninitialized value in division (/) at ./test line 9.
    Perl: Illegal division by zero at ./test line 9.
    Perl: Illegal division by zero at -e line 3.
</pre>
<p class="Pp">If I don't see that &quot;Perl:&quot;, it's not from perl.</p>
<p class="Pp">You could also just know all the perl errors, and although there
    are some people who may know all of them, you probably don't. However, they
    all should be in the perldiag manpage. If you don't find the error in there,
    it probably isn't a perl error.</p>
<p class="Pp">Looking up every message is not the easiest way, so let perl to do
    it for you. Use the diagnostics pragma with turns perl's normal messages
    into longer discussions on the topic.</p>
<p class="Pp"></p>
<pre>    use diagnostics;
</pre>
<p class="Pp">If you don't get a paragraph or two of expanded discussion, it
    might not be perl's message.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_install_a_module_from_"><a class="permalink" href="#How_do_I_install_a_module_from_">How
  do I install a module from CPAN?</a></h2>
<p class="Pp">(contributed by brian d foy)</p>
<p class="Pp">The easiest way is to have a module also named CPAN do it for you
    by using the <span class="Li">&quot;cpan&quot;</span> command that comes
    with Perl. You can give it a list of modules to install:</p>
<p class="Pp"></p>
<pre>    $ cpan IO::Interactive Getopt::Whatever
</pre>
<p class="Pp">If you prefer <span class="Li">&quot;CPANPLUS&quot;</span>, it's
    just as easy:</p>
<p class="Pp"></p>
<pre>    $ cpanp i IO::Interactive Getopt::Whatever
</pre>
<p class="Pp">If you want to install a distribution from the current directory,
    you can tell <span class="Li">&quot;CPAN.pm&quot;</span> to install
    <span class="Li">&quot;.&quot;</span> (the full stop):</p>
<p class="Pp"></p>
<pre>    $ cpan .
</pre>
<p class="Pp">See the documentation for either of those commands to see what
    else you can do.</p>
<p class="Pp">If you want to try to install a distribution by yourself,
    resolving all dependencies on your own, you follow one of two possible build
    paths.</p>
<p class="Pp">For distributions that use <i>Makefile.PL</i>:</p>
<p class="Pp"></p>
<pre>    $ perl Makefile.PL
    $ make test install
</pre>
<p class="Pp">For distributions that use <i>Build.PL</i>:</p>
<p class="Pp"></p>
<pre>    $ perl Build.PL
    $ ./Build test
    $ ./Build install
</pre>
<p class="Pp">Some distributions may need to link to libraries or other
    third-party code and their build and installation sequences may be more
    complicated. Check any <i>README</i> or <i>INSTALL</i> files that you may
    find.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="What's_the_difference_between_require_and_use?"><a class="permalink" href="#What's_the_difference_between_require_and_use?">What's
  the difference between require and use?</a></h2>
<p class="Pp">(contributed by brian d foy)</p>
<p class="Pp">Perl runs <span class="Li">&quot;require&quot;</span> statement at
    run-time. Once Perl loads, compiles, and runs the file, it doesn't do
    anything else. The <span class="Li">&quot;use&quot;</span> statement is the
    same as a <span class="Li">&quot;require&quot;</span> run at compile-time,
    but Perl also calls the <span class="Li">&quot;import&quot;</span> method
    for the loaded package. These two are the same:</p>
<p class="Pp"></p>
<pre>    use MODULE qw(import list);
    BEGIN {
        require MODULE;
        MODULE-&gt;import(import list);
    }
</pre>
<p class="Pp">However, you can suppress the
    <span class="Li">&quot;import&quot;</span> by using an explicit, empty
    import list. Both of these still happen at compile-time:</p>
<p class="Pp"></p>
<pre>    use MODULE ();
    BEGIN {
        require MODULE;
    }
</pre>
<p class="Pp">Since <span class="Li">&quot;use&quot;</span> will also call the
    <span class="Li">&quot;import&quot;</span> method, the actual value for
    <span class="Li">&quot;MODULE&quot;</span> must be a bareword. That is,
    <span class="Li">&quot;use&quot;</span> cannot load files by name, although
    <span class="Li">&quot;require&quot;</span> can:</p>
<p class="Pp"></p>
<pre>    require &quot;$ENV{HOME}/lib/Foo.pm&quot;; # no @INC searching!
</pre>
<p class="Pp">See the entry for <span class="Li">&quot;use&quot;</span> in
    perlfunc for more details.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_keep_my_own_module/library_directory?"><a class="permalink" href="#How_do_I_keep_my_own_module/library_directory?">How
  do I keep my own module/library directory?</a></h2>
<p class="Pp">When you build modules, tell Perl where to install the
  modules.</p>
<p class="Pp">If you want to install modules for your own use, the easiest way
    might be local::lib, which you can download from CPAN. It sets various
    installation settings for you, and uses those same settings within your
    programs.</p>
<p class="Pp">If you want more flexibility, you need to configure your CPAN
    client for your particular situation.</p>
<p class="Pp">For <span class="Li">&quot;Makefile.PL&quot;</span>-based
    distributions, use the INSTALL_BASE option when generating Makefiles:</p>
<p class="Pp"></p>
<pre>    perl Makefile.PL INSTALL_BASE=/mydir/perl
</pre>
<p class="Pp">You can set this in your
    <span class="Li">&quot;CPAN.pm&quot;</span> configuration so modules
    automatically install in your private library directory when you use the
    CPAN.pm shell:</p>
<p class="Pp"></p>
<pre>    % cpan
    cpan&gt; o conf makepl_arg INSTALL_BASE=/mydir/perl
    cpan&gt; o conf commit
</pre>
<p class="Pp">For <span class="Li">&quot;Build.PL&quot;</span>-based
    distributions, use the --install_base option:</p>
<p class="Pp"></p>
<pre>    perl Build.PL --install_base /mydir/perl
</pre>
<p class="Pp">You can configure <span class="Li">&quot;CPAN.pm&quot;</span> to
    automatically use this option too:</p>
<p class="Pp"></p>
<pre>    % cpan
    cpan&gt; o conf mbuild_arg &quot;--install_base /mydir/perl&quot;
    cpan&gt; o conf commit
</pre>
<p class="Pp">INSTALL_BASE tells these tools to put your modules into
    <i>/mydir/perl/lib/perl5</i>. See &quot;How do I add a directory to my
    include path (@INC) at runtime?&quot; for details on how to run your newly
    installed modules.</p>
<p class="Pp">There is one caveat with INSTALL_BASE, though, since it acts
    differently from the PREFIX and LIB settings that older versions of
    ExtUtils::MakeMaker advocated. INSTALL_BASE does not support installing
    modules for multiple versions of Perl or different architectures under the
    same directory. You should consider whether you really want that and, if you
    do, use the older PREFIX and LIB settings. See the ExtUtils::Makemaker
    documentation for more details.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_add_the_directory_my_program_lives_in_to_the_module/library_search_path?"><a class="permalink" href="#How_do_I_add_the_directory_my_program_lives_in_to_the_module/library_search_path?">How
  do I add the directory my program lives in to the module/library search
  path?</a></h2>
<p class="Pp">(contributed by brian d foy)</p>
<p class="Pp">If you know the directory already, you can add it to
    <span class="Li">@INC</span> as you would for any other directory. You might
    <span class="Li">&quot;use lib&quot;</span> if you know the directory at
    compile time:</p>
<p class="Pp"></p>
<pre>    use lib $directory;
</pre>
<p class="Pp">The trick in this task is to find the directory. Before your
    script does anything else (such as a
    <span class="Li">&quot;chdir&quot;</span>), you can get the current working
    directory with the <span class="Li">&quot;Cwd&quot;</span> module, which
    comes with Perl:</p>
<p class="Pp"></p>
<pre>    BEGIN {
        use Cwd;
        our $directory = cwd;
    }
    use lib $directory;
</pre>
<p class="Pp">You can do a similar thing with the value of
    <span class="Li">$0</span>, which holds the script name. That might hold a
    relative path, but <span class="Li">&quot;rel2abs&quot;</span> can turn it
    into an absolute path. Once you have the</p>
<p class="Pp"></p>
<pre>    BEGIN {
        use File::Spec::Functions qw(rel2abs);
        use File::Basename qw(dirname);
        my $path   = rel2abs( $0 );
        our $directory = dirname( $path );
    }
    use lib $directory;
</pre>
<p class="Pp">The FindBin module, which comes with Perl, might work. It finds
    the directory of the currently running script and puts it in
    <span class="Li">$Bin</span>, which you can then use to construct the right
    library path:</p>
<p class="Pp"></p>
<pre>    use FindBin qw($Bin);
</pre>
<p class="Pp">You can also use local::lib to do much of the same thing. Install
    modules using local::lib's settings then use the module in your program:</p>
<p class="Pp"></p>
<pre>     use local::lib; # sets up a local lib at ~/perl5
</pre>
<p class="Pp">See the local::lib documentation for more details.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_add_a_directory_to_my_include_path_(@INC)_at_runtime?"><a class="permalink" href="#How_do_I_add_a_directory_to_my_include_path_(@INC)_at_runtime?">How
  do I add a directory to my include path (@INC) at runtime?</a></h2>
<p class="Pp">Here are the suggested ways of modifying your include path,
    including environment variables, run-time switches, and in-code
  statements:</p>
<dl class="Bl-tag">
  <dt id="the"><a class="permalink" href="#the">the &quot;PERLLIB&quot;
    environment variable</a></dt>
  <dd>
    <pre>    $ export PERLLIB=/path/to/my/dir
    $ perl program.pl
    </pre>
  </dd>
  <dt id="the~2"><a class="permalink" href="#the~2">the &quot;PERL5LIB&quot;
    environment variable</a></dt>
  <dd>
    <pre>    $ export PERL5LIB=/path/to/my/dir
    $ perl program.pl
    </pre>
  </dd>
  <dt id="the~3"><a class="permalink" href="#the~3">the &quot;perl -Idir&quot;
    command line flag</a></dt>
  <dd>
    <pre>    $ perl -I/path/to/my/dir program.pl
    </pre>
  </dd>
  <dt id="the~4"><a class="permalink" href="#the~4">the &quot;lib&quot;
    pragma:</a></dt>
  <dd>
    <pre>    use lib &quot;$ENV{HOME}/myown_perllib&quot;;
    </pre>
  </dd>
  <dt id="the~5"><a class="permalink" href="#the~5">the local::lib
    module:</a></dt>
  <dd>
    <pre>    use local::lib;
    use local::lib &quot;~/myown_perllib&quot;;
    </pre>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Where_are_modules_installed?"><a class="permalink" href="#Where_are_modules_installed?">Where
  are modules installed?</a></h2>
<p class="Pp">Modules are installed on a case-by-case basis (as provided by the
    methods described in the previous section), and in the operating system. All
    of these paths are stored in <span class="Li">@INC</span>, which you can
    display with the one-liner</p>
<p class="Pp"></p>
<pre>    perl -e 'print join(&quot;\n&quot;,@INC,&quot;&quot;)'
</pre>
<p class="Pp">The same information is displayed at the end of the output from
    the command</p>
<p class="Pp"></p>
<pre>    perl -V
</pre>
<p class="Pp">To find out where a module's source code is located, use</p>
<p class="Pp"></p>
<pre>    perldoc -l Encode
</pre>
<p class="Pp">to display the path to the module. In some cases (for example, the
    <span class="Li">&quot;AutoLoader&quot;</span> module), this command will
    show the path to a separate <span class="Li">&quot;pod&quot;</span> file;
    the module itself should be in the same directory, with a 'pm' file
    extension.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="What_is_socket.ph_and_where_do_I_get_it?"><a class="permalink" href="#What_is_socket.ph_and_where_do_I_get_it?">What
  is socket.ph and where do I get it?</a></h2>
<p class="Pp">It's a Perl 4 style file defining values for system networking
    constants. Sometimes it is built using h2ph when Perl is installed, but
    other times it is not. Modern programs should use <span class="Li">&quot;use
    Socket;&quot;</span> instead.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR_AND_COPYRIGHT"><a class="permalink" href="#AUTHOR_AND_COPYRIGHT">AUTHOR
  AND COPYRIGHT</a></h1>
<p class="Pp">Copyright (c) 1997-2010 Tom Christiansen, Nathan Torkington, and
    other authors as noted. All rights reserved.</p>
<p class="Pp">This documentation is free; you can redistribute it and/or modify
    it under the same terms as Perl itself.</p>
<p class="Pp">Irrespective of its distribution, all code examples in this file
    are hereby placed into the public domain. You are permitted and encouraged
    to use this code in your own programs for fun or for profit as you see fit.
    A simple comment in the code giving credit would be courteous but is not
    required.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2022-02-19</td>
    <td class="foot-os">perl v5.34.1</td>
  </tr>
</table>
</body>
</html>
