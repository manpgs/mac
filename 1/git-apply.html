<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   t
       Title: git-apply
      Author: [FIXME: author] [see http://www.docbook.org/tdg5/en/html/author]
   Generator: DocBook XSL Stylesheets vsnapshot <http://docbook.sf.net/>
        Date: 06/06/2021
      Manual: Git Manual
      Source: Git 2.32.0
    Language: English
   -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>GIT-APPLY(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GIT-APPLY(1)</td>
    <td class="head-vol">Git Manual</td>
    <td class="head-rtitle">GIT-APPLY(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">git-apply - Apply a patch to files and/or to the index</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<i>git apply</i> [--stat] [--numstat] [--summary] [--check] [--index | --intent-to-add] [--3way]
          [--apply] [--no-add] [--build-fake-ancestor=&lt;file&gt;] [-R | --reverse]
          [--allow-binary-replacement | --binary] [--reject] [-z]
          [-p&lt;n&gt;] [-C&lt;n&gt;] [--inaccurate-eof] [--recount] [--cached]
          [--ignore-space-change | --ignore-whitespace]
          [--whitespace=(nowarn|warn|fix|error|error-all)]
          [--exclude=&lt;path&gt;] [--include=&lt;path&gt;] [--directory=&lt;root&gt;]
          [--verbose] [--unsafe-paths] [&lt;patch&gt;...]
</pre>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">Reads the supplied diff output (i.e. &quot;a patch&quot;) and
    applies it to files. When running from a subdirectory in a repository,
    patched paths outside the directory are ignored. With the <b>--index</b>
    option the patch is also applied to the index, and with the <b>--cached</b>
    option the patch is only applied to the index. Without these options, the
    command applies the patch only to files, and does not require them to be in
    a Git repository.</p>
<p class="Pp">This command applies the patch but does not create a commit. Use
    <b>git-am</b>(1) to create commits from patches generated by
    <b>git-format-patch</b>(1) and/or received by email.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<p class="Pp">&lt;patch&gt;...</p>
<div class="Bd-indent">The files to read the patch from. <i>-</i> can be used to
  read from the standard input.</div>
<p class="Pp">--stat</p>
<div class="Bd-indent">Instead of applying the patch, output diffstat for the
  input. Turns off &quot;apply&quot;.</div>
<p class="Pp">--numstat</p>
<div class="Bd-indent">Similar to <b>--stat</b>, but shows the number of added
  and deleted lines in decimal notation and the pathname without abbreviation,
  to make it more machine friendly. For binary files, outputs two <b>-</b>
  instead of saying <b>0 0</b>. Turns off &quot;apply&quot;.</div>
<p class="Pp">--summary</p>
<div class="Bd-indent">Instead of applying the patch, output a condensed summary
  of information obtained from git diff extended headers, such as creations,
  renames and mode changes. Turns off &quot;apply&quot;.</div>
<p class="Pp">--check</p>
<div class="Bd-indent">Instead of applying the patch, see if the patch is
  applicable to the current working tree and/or the index file and detects
  errors. Turns off &quot;apply&quot;.</div>
<p class="Pp">--index</p>
<div class="Bd-indent">Apply the patch to both the index and the working tree
  (or merely check that it would apply cleanly to both if <b>--check</b> is in
  effect). Note that <b>--index</b> expects index entries and working tree
  copies for relevant paths to be identical (their contents and metadata such as
  file mode must match), and will raise an error if they are not, even if the
  patch would apply cleanly to both the index and the working tree in
  isolation.</div>
<p class="Pp">--cached</p>
<div class="Bd-indent">Apply the patch to just the index, without touching the
  working tree. If <b>--check</b> is in effect, merely check that it would apply
  cleanly to the index entry.</div>
<p class="Pp">--intent-to-add</p>
<div class="Bd-indent">When applying the patch only to the working tree, mark
  new files to be added to the index later (see <b>--intent-to-add</b> option in
  <b>git-add</b>(1)). This option is ignored unless running in a Git repository
  and <b>--index</b> is not specified. Note that <b>--index</b> could be implied
  by other options such as <b>--cached</b> or <b>--3way</b>.</div>
<p class="Pp">-3, --3way</p>
<div class="Bd-indent">Attempt 3-way merge if the patch records the identity of
  blobs it is supposed to apply to and we have those blobs available locally,
  possibly leaving the conflict markers in the files in the working tree for the
  user to resolve. This option implies the <b>--index</b> option unless the
  <b>--cached</b> option is used, and is incompatible with the <b>--reject</b>
  option. When used with the <b>--cached</b> option, any conflicts are left at
  higher stages in the cache.</div>
<p class="Pp">--build-fake-ancestor=&lt;file&gt;</p>
<div class="Bd-indent">Newer <i>git diff</i> output has embedded <i>index
  information</i> for each blob to help identify the original version that the
  patch applies to. When this flag is given, and if the original versions of the
  blobs are available locally, builds a temporary index containing those blobs.
<p class="Pp">When a pure mode change is encountered (which has no index
    information), the information is read from the current index instead.</p>
</div>
<p class="Pp">-R, --reverse</p>
<div class="Bd-indent">Apply the patch in reverse.</div>
<p class="Pp">--reject</p>
<div class="Bd-indent">For atomicity, <i>git apply</i> by default fails the
  whole patch and does not touch the working tree when some of the hunks do not
  apply. This option makes it apply the parts of the patch that are applicable,
  and leave the rejected hunks in corresponding *.rej files.</div>
<p class="Pp">-z</p>
<div class="Bd-indent">When <b>--numstat</b> has been given, do not munge
  pathnames, but use a NUL-terminated machine-readable format.
<p class="Pp">Without this option, pathnames with &quot;unusual&quot; characters
    are quoted as explained for the configuration variable <b>core.quotePath</b>
    (see <b>git-config</b>(1)).</p>
</div>
<p class="Pp">-p&lt;n&gt;</p>
<div class="Bd-indent">Remove &lt;n&gt; leading path components (separated by
  slashes) from traditional diff paths. E.g., with <b>-p2</b>, a patch against
  <b>a/dir/file</b> will be applied directly to <b>file</b>. The default is
  1.</div>
<p class="Pp">-C&lt;n&gt;</p>
<div class="Bd-indent">Ensure at least &lt;n&gt; lines of surrounding context
  match before and after each change. When fewer lines of surrounding context
  exist they all must match. By default no context is ever ignored.</div>
<p class="Pp">--unidiff-zero</p>
<div class="Bd-indent">By default, <i>git apply</i> expects that the patch being
  applied is a unified diff with at least one line of context. This provides
  good safety measures, but breaks down when applying a diff generated with
  <b>--unified=0</b>. To bypass these checks use <b>--unidiff-zero</b>.
<p class="Pp">Note, for the reasons stated above usage of context-free patches
    is discouraged.</p>
</div>
<p class="Pp">--apply</p>
<div class="Bd-indent">If you use any of the options marked &quot;Turns off
  <i>apply</i>&quot; above, <i>git apply</i> reads and outputs the requested
  information without actually applying the patch. Give this flag after those
  flags to also apply the patch.</div>
<p class="Pp">--no-add</p>
<div class="Bd-indent">When applying a patch, ignore additions made by the
  patch. This can be used to extract the common part between two files by first
  running <i>diff</i> on them and applying the result with this option, which
  would apply the deletion part but not the addition part.</div>
<p class="Pp">--allow-binary-replacement, --binary</p>
<div class="Bd-indent">Historically we did not allow binary patch applied
  without an explicit permission from the user, and this flag was the way to do
  so. Currently we always allow binary patch application, so this is a
  no-op.</div>
<p class="Pp">--exclude=&lt;path-pattern&gt;</p>
<div class="Bd-indent">Don&#x2019;t apply changes to files matching the given
  path pattern. This can be useful when importing patchsets, where you want to
  exclude certain files or directories.</div>
<p class="Pp">--include=&lt;path-pattern&gt;</p>
<div class="Bd-indent">Apply changes to files matching the given path pattern.
  This can be useful when importing patchsets, where you want to include certain
  files or directories.
<p class="Pp">When <b>--exclude</b> and <b>--include</b> patterns are used, they
    are examined in the order they appear on the command line, and the first
    match determines if a patch to each path is used. A patch to a path that
    does not match any include/exclude pattern is used by default if there is no
    include pattern on the command line, and ignored if there is any include
    pattern.</p>
</div>
<p class="Pp">--ignore-space-change, --ignore-whitespace</p>
<div class="Bd-indent">When applying a patch, ignore changes in whitespace in
  context lines if necessary. Context lines will preserve their whitespace, and
  they will not undergo whitespace fixing regardless of the value of the
  <b>--whitespace</b> option. New lines will still be fixed, though.</div>
<p class="Pp">--whitespace=&lt;action&gt;</p>
<div class="Bd-indent">When applying a patch, detect a new or modified line that
  has whitespace errors. What are considered whitespace errors is controlled by
  <b>core.whitespace</b> configuration. By default, trailing whitespaces
  (including lines that solely consist of whitespaces) and a space character
  that is immediately followed by a tab character inside the initial indent of
  the line are considered whitespace errors.
<p class="Pp">By default, the command outputs warning messages but applies the
    patch. When <b>git-apply</b> is used for statistics and not applying a
    patch, it defaults to <b>nowarn</b>.</p>
<p class="Pp">You can use different <b>&lt;action&gt;</b> values to control this
    behavior:</p>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>nowarn</b> turns off the trailing whitespace
  warning.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>warn</b> outputs warnings for a few such
  errors, but applies the patch as-is (default).</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>fix</b> outputs warnings for a few such
  errors, and applies the patch after fixing them (<b>strip</b> is a synonym ---
  the tool used to consider only trailing whitespace characters as errors, and
  the fix involved <i>stripping</i> them, but modern Gits do more).</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>error</b> outputs warnings for a few such
  errors, and refuses to apply the patch.</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<b>error-all</b> is similar to <b>error</b> but
  shows all errors.</div>
</div>
<p class="Pp">--inaccurate-eof</p>
<div class="Bd-indent">Under certain circumstances, some versions of <i>diff</i>
  do not correctly detect a missing new-line at the end of the file. As a
  result, patches created by such <i>diff</i> programs do not record incomplete
  lines correctly. This option adds support for applying such patches by working
  around this bug.</div>
<p class="Pp">-v, --verbose</p>
<div class="Bd-indent">Report progress to stderr. By default, only a message
  about the current patch being applied will be printed. This option will cause
  additional information to be reported.</div>
<p class="Pp">--recount</p>
<div class="Bd-indent">Do not trust the line counts in the hunk headers, but
  infer them by inspecting the patch (e.g. after editing the patch without
  adjusting the hunk headers appropriately).</div>
<p class="Pp">--directory=&lt;root&gt;</p>
<div class="Bd-indent">Prepend &lt;root&gt; to all filenames. If a
  &quot;-p&quot; argument was also passed, it is applied before prepending the
  new root.
<p class="Pp">For example, a patch that talks about updating <b>a/git-gui.sh</b>
    to <b>b/git-gui.sh</b> can be applied to the file in the working tree
    <b>modules/git-gui/git-gui.sh</b> by running <b>git apply
    --directory=modules/git-gui</b>.</p>
</div>
<p class="Pp">--unsafe-paths</p>
<div class="Bd-indent">By default, a patch that affects outside the working area
  (either a Git controlled working tree, or the current working directory when
  &quot;git apply&quot; is used as a replacement of GNU patch) is rejected as a
  mistake (or a mischief).
<p class="Pp">When <b>git apply</b> is used as a &quot;better GNU patch&quot;,
    the user can pass the <b>--unsafe-paths</b> option to override this safety
    check. This option has no effect when <b>--index</b> or <b>--cached</b> is
    in use.</p>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="CONFIGURATION"><a class="permalink" href="#CONFIGURATION">CONFIGURATION</a></h1>
<p class="Pp">apply.ignoreWhitespace</p>
<div class="Bd-indent">Set to <i>change</i> if you want changes in whitespace to
  be ignored by default. Set to one of: no, none, never, false if you want
  changes in whitespace to be significant.</div>
<p class="Pp">apply.whitespace</p>
<div class="Bd-indent">When no <b>--whitespace</b> flag is given from the
  command line, this configuration item is used as the default.</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SUBMODULES"><a class="permalink" href="#SUBMODULES">SUBMODULES</a></h1>
<p class="Pp">If the patch contains any changes to submodules then <i>git
    apply</i> treats these changes as follows.</p>
<p class="Pp">If <b>--index</b> is specified (explicitly or implicitly), then
    the submodule commits must match the index exactly for the patch to apply.
    If any of the submodules are checked-out, then these check-outs are
    completely ignored, i.e., they are not required to be up to date or clean
    and they are not updated.</p>
<p class="Pp">If <b>--index</b> is not specified, then the submodule commits in
    the patch are ignored and only the absence or presence of the corresponding
    subdirectory is checked and (if possible) updated.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>git-am</b>(1).</p>
</section>
<section class="Sh">
<h1 class="Sh" id="GIT"><a class="permalink" href="#GIT">GIT</a></h1>
<p class="Pp">Part of the <b>git</b>(1) suite</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">06/06/2021</td>
    <td class="foot-os">Git 2.32.0</td>
  </tr>
</table>
</body>
</html>
