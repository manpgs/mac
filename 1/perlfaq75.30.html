<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>PERLFAQ7(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PERLFAQ7(1)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">PERLFAQ7(1)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">perlfaq7 - General Perl Language Issues</p>
</section>
<section class="Sh">
<h1 class="Sh" id="VERSION"><a class="permalink" href="#VERSION">VERSION</a></h1>
<p class="Pp">version 5.20190126</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This section deals with general Perl language issues that don't
    clearly fit into any of the other sections.</p>
<section class="Ss">
<h2 class="Ss" id="Can_I_get_a_BNF/yacc/RE_for_the_Perl_language?"><a class="permalink" href="#Can_I_get_a_BNF/yacc/RE_for_the_Perl_language?">Can
  I get a BNF/yacc/RE for the Perl language?</a></h2>
<p class="Pp">There is no BNF, but you can paw your way through the yacc grammar
    in perly.y in the source distribution if you're particularly brave. The
    grammar relies on very smart tokenizing code, so be prepared to venture into
    toke.c as well.</p>
<p class="Pp">In the words of Chaim Frenkel: &quot;Perl's grammar can not be
    reduced to BNF. The work of parsing perl is distributed between yacc, the
    lexer, smoke and mirrors.&quot;</p>
</section>
<section class="Ss">
<h2 class="Ss" id="What_are_all_these_$@_&amp;*_punctuation_signs,_and_how_do_I_know_when_to_use_them?"><a class="permalink" href="#What_are_all_these_$@_&amp;*_punctuation_signs,_and_how_do_I_know_when_to_use_them?">What
  are all these $@%&amp;* punctuation signs, and how do I know when to use
  them?</a></h2>
<p class="Pp">They are type specifiers, as detailed in perldata:</p>
<p class="Pp"></p>
<pre>    $ for scalar values (number, string or reference)
    @ for arrays
    % for hashes (associative arrays)
    &amp; for subroutines (aka functions, procedures, methods)
    * for all types of that symbol name. In version 4 you used them like
      pointers, but in modern perls you can just use references.
</pre>
<p class="Pp">There are a couple of other symbols that you're likely to
    encounter that aren't really type specifiers:</p>
<p class="Pp"></p>
<pre>    &lt;&gt; are used for inputting a record from a filehandle.
    \  takes a reference to something.
</pre>
<p class="Pp">Note that &lt;FILE&gt; is <i>neither</i> the type specifier for
    files nor the name of the handle. It is the
    <span class="Li">&quot;&lt;&gt;&quot;</span> operator applied to the handle
    FILE. It reads one line (well, record--see &quot;$/&quot; in perlvar) from
    the handle FILE in scalar context, or <i>all</i> lines in list context. When
    performing open, close, or any other operation besides
    <span class="Li">&quot;&lt;&gt;&quot;</span> on files, or even when talking
    about the handle, do <i>not</i> use the brackets. These are correct:
    <span class="Li">&quot;eof(FH)&quot;</span>, <span class="Li">&quot;seek(FH,
    0,</span> <span class="Li">2)&quot;</span> and &quot;copying from STDIN to
    FILE&quot;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Do_I_always/never_have_to_quote_my_strings_or_use_semicolons_and_commas?"><a class="permalink" href="#Do_I_always/never_have_to_quote_my_strings_or_use_semicolons_and_commas?">Do
  I always/never have to quote my strings or use semicolons and commas?</a></h2>
<p class="Pp">Normally, a bareword doesn't need to be quoted, but in most cases
    probably should be (and must be under <span class="Li">&quot;use
    strict&quot;</span>). But a hash key consisting of a simple word and the
    left-hand operand to the <span class="Li">&quot;=&gt;&quot;</span> operator
    both count as though they were quoted:</p>
<p class="Pp"></p>
<pre>    This                    is like this
    ------------            ---------------
    $foo{line}              $foo{'line'}
    bar =&gt; stuff            'bar' =&gt; stuff
</pre>
<p class="Pp">The final semicolon in a block is optional, as is the final comma
    in a list. Good style (see perlstyle) says to put them in except for
    one-liners:</p>
<p class="Pp"></p>
<pre>    if ($whoops) { exit 1 }
    my @nums = (1, 2, 3);
    if ($whoops) {
        exit 1;
    }
    my @lines = (
        &quot;There Beren came from mountains cold&quot;,
        &quot;And lost he wandered under leaves&quot;,
    );
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_skip_some_return_values?"><a class="permalink" href="#How_do_I_skip_some_return_values?">How
  do I skip some return values?</a></h2>
<p class="Pp">One way is to treat the return values as a list and index into
  it:</p>
<p class="Pp"></p>
<pre>    $dir = (getpwnam($user))[7];
</pre>
<p class="Pp">Another way is to use undef as an element on the
  left-hand-side:</p>
<p class="Pp"></p>
<pre>    ($dev, $ino, undef, undef, $uid, $gid) = stat($file);
</pre>
<p class="Pp">You can also use a list slice to select only the elements that you
    need:</p>
<p class="Pp"></p>
<pre>    ($dev, $ino, $uid, $gid) = ( stat($file) )[0,1,4,5];
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_temporarily_block_warnings?"><a class="permalink" href="#How_do_I_temporarily_block_warnings?">How
  do I temporarily block warnings?</a></h2>
<p class="Pp">If you are running Perl 5.6.0 or better, the
    <span class="Li">&quot;use warnings&quot;</span> pragma allows fine control
    of what warnings are produced. See perllexwarn for more details.</p>
<p class="Pp"></p>
<pre>    {
        no warnings;          # temporarily turn off warnings
        $x = $y + $z;         # I know these might be undef
    }
</pre>
<p class="Pp">Additionally, you can enable and disable categories of warnings.
    You turn off the categories you want to ignore and you can still get other
    categories of warnings. See perllexwarn for the complete details, including
    the category names and hierarchy.</p>
<p class="Pp"></p>
<pre>    {
        no warnings 'uninitialized';
        $x = $y + $z;
    }
</pre>
<p class="Pp">If you have an older version of Perl, the
    <span class="Li">$^W</span> variable (documented in perlvar) controls
    runtime warnings for a block:</p>
<p class="Pp"></p>
<pre>    {
        local $^W = 0;        # temporarily turn off warnings
        $x = $y + $z;         # I know these might be undef
    }
</pre>
<p class="Pp">Note that like all the punctuation variables, you cannot currently
    use <b>my()</b> on <span class="Li">$^W</span>, only <b>local()</b>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="What's_an_extension?"><a class="permalink" href="#What's_an_extension?">What's
  an extension?</a></h2>
<p class="Pp">An extension is a way of calling compiled C code from Perl.
    Reading perlxstut is a good place to learn more about extensions.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Why_do_Perl_operators_have_different_precedence_than_C_operators?"><a class="permalink" href="#Why_do_Perl_operators_have_different_precedence_than_C_operators?">Why
  do Perl operators have different precedence than C operators?</a></h2>
<p class="Pp">Actually, they don't. All C operators that Perl copies have the
    same precedence in Perl as they do in C. The problem is with operators that
    C doesn't have, especially functions that give a list context to everything
    on their right, eg. print, chmod, exec, and so on. Such functions are called
    &quot;list operators&quot; and appear as such in the precedence table in
    perlop.</p>
<p class="Pp">A common mistake is to write:</p>
<p class="Pp"></p>
<pre>    unlink $file || die &quot;snafu&quot;;
</pre>
<p class="Pp">This gets interpreted as:</p>
<p class="Pp"></p>
<pre>    unlink ($file || die &quot;snafu&quot;);
</pre>
<p class="Pp">To avoid this problem, either put in extra parentheses or use the
    super low precedence <span class="Li">&quot;or&quot;</span> operator:</p>
<p class="Pp"></p>
<pre>    (unlink $file) || die &quot;snafu&quot;;
    unlink $file or die &quot;snafu&quot;;
</pre>
<p class="Pp">The &quot;English&quot; operators
    (<span class="Li">&quot;and&quot;</span>,
    <span class="Li">&quot;or&quot;</span>,
    <span class="Li">&quot;xor&quot;</span>, and
    <span class="Li">&quot;not&quot;</span>) deliberately have precedence lower
    than that of list operators for just such situations as the one above.</p>
<p class="Pp">Another operator with surprising precedence is exponentiation. It
    binds more tightly even than unary minus, making
    <span class="Li">&quot;-2**2&quot;</span> produce a negative four and not a
    positive one. It is also right-associating, meaning that
    <span class="Li">&quot;2**3**2&quot;</span> is two raised to the ninth
    power, not eight squared.</p>
<p class="Pp">Although it has the same precedence as in C, Perl's
    <span class="Li">&quot;?:&quot;</span> operator produces an lvalue. This
    assigns <span class="Li">$x</span> to either
    <span class="Li">$if_true</span> or <span class="Li">$if_false</span>,
    depending on the trueness of <span class="Li">$maybe:</span></p>
<p class="Pp"></p>
<pre>    ($maybe ? $if_true : $if_false) = $x;
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_declare/create_a_structure?"><a class="permalink" href="#How_do_I_declare/create_a_structure?">How
  do I declare/create a structure?</a></h2>
<p class="Pp">In general, you don't &quot;declare&quot; a structure. Just use a
    (probably anonymous) hash reference. See perlref and perldsc for details.
    Here's an example:</p>
<p class="Pp"></p>
<pre>    $person = {};                   # new anonymous hash
    $person-&gt;{AGE}  = 24;           # set field AGE to 24
    $person-&gt;{NAME} = &quot;Nat&quot;;        # set field NAME to &quot;Nat&quot;
</pre>
<p class="Pp">If you're looking for something a bit more rigorous, try
    perlootut.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_create_a_module?"><a class="permalink" href="#How_do_I_create_a_module?">How
  do I create a module?</a></h2>
<p class="Pp">perlnewmod is a good place to start, ignore the bits about
    uploading to CPAN if you don't want to make your module publicly
  available.</p>
<p class="Pp">ExtUtils::ModuleMaker and Module::Starter are also good places to
    start. Many CPAN authors now use Dist::Zilla to automate as much as
    possible.</p>
<p class="Pp">Detailed documentation about modules can be found at: perlmod,
    perlmodlib, perlmodstyle.</p>
<p class="Pp">If you need to include C code or C library interfaces use h2xs.
    h2xs will create the module distribution structure and the initial interface
    files. perlxs and perlxstut explain the details.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_adopt_or_take_over_a_module_already_on_"><a class="permalink" href="#How_do_I_adopt_or_take_over_a_module_already_on_">How
  do I adopt or take over a module already on CPAN?</a></h2>
<p class="Pp">Ask the current maintainer to make you a co-maintainer or transfer
    the module to you.</p>
<p class="Pp">If you can not reach the author for some reason contact the PAUSE
    admins at modules@perl.org who may be able to help, but each case is treated
    separately.</p>
<ul class="Bl-bullet">
  <li>Get a login for the Perl Authors Upload Server (PAUSE) if you don't
      already have one: &lt;http://pause.perl.org&gt;</li>
  <li>Write to modules@perl.org explaining what you did to contact the current
      maintainer. The PAUSE admins will also try to reach the maintainer.</li>
  <li>Post a public message in a heavily trafficked site announcing your
      intention to take over the module.</li>
  <li>Wait a bit. The PAUSE admins don't want to act too quickly in case the
      current maintainer is on holiday. If there's no response to private
      communication or the public post, a PAUSE admin can transfer it to
    you.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_create_a_class?"><a class="permalink" href="#How_do_I_create_a_class?">How
  do I create a class?</a></h2>
<p class="Pp">(contributed by brian d foy)</p>
<p class="Pp">In Perl, a class is just a package, and methods are just
    subroutines. Perl doesn't get more formal than that and lets you set up the
    package just the way that you like it (that is, it doesn't set up anything
    for you).</p>
<p class="Pp">See also perlootut, a tutorial that covers class creation, and
    perlobj.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_can_I_tell_if_a_variable_is_tainted?"><a class="permalink" href="#How_can_I_tell_if_a_variable_is_tainted?">How
  can I tell if a variable is tainted?</a></h2>
<p class="Pp">You can use the <b>tainted()</b> function of the Scalar::Util
    module, available from CPAN (or included with Perl since release 5.8.0). See
    also &quot;Laundering and Detecting Tainted Data&quot; in perlsec.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="What's_a_closure?"><a class="permalink" href="#What's_a_closure?">What's
  a closure?</a></h2>
<p class="Pp">Closures are documented in perlref.</p>
<p class="Pp"><i>Closure</i> is a computer science term with a precise but
    hard-to-explain meaning. Usually, closures are implemented in Perl as
    anonymous subroutines with lasting references to lexical variables outside
    their own scopes. These lexicals magically refer to the variables that were
    around when the subroutine was defined (deep binding).</p>
<p class="Pp">Closures are most often used in programming languages where you
    can have the return value of a function be itself a function, as you can in
    Perl. Note that some languages provide anonymous functions but are not
    capable of providing proper closures: the Python language, for example. For
    more information on closures, check out any textbook on functional
    programming. Scheme is a language that not only supports but encourages
    closures.</p>
<p class="Pp">Here's a classic non-closure function-generating function:</p>
<p class="Pp"></p>
<pre>    sub add_function_generator {
        return sub { shift() + shift() };
    }
    my $add_sub = add_function_generator();
    my $sum = $add_sub-&gt;(4,5);                # $sum is 9 now.
</pre>
<p class="Pp">The anonymous subroutine returned by
    <b>add_function_generator()</b> isn't technically a closure because it
    refers to no lexicals outside its own scope. Using a closure gives you a
    <i>function template</i> with some customization slots left out to be filled
    later.</p>
<p class="Pp">Contrast this with the following <b>make_adder()</b> function, in
    which the returned anonymous function contains a reference to a lexical
    variable outside the scope of that function itself. Such a reference
    requires that Perl return a proper closure, thus locking in for all time the
    value that the lexical had when the function was created.</p>
<p class="Pp"></p>
<pre>    sub make_adder {
        my $addpiece = shift;
        return sub { shift() + $addpiece };
    }
    my $f1 = make_adder(20);
    my $f2 = make_adder(555);
</pre>
<p class="Pp">Now <span class="Li">&quot;$f1-&gt;($n)&quot;</span> is always 20
    plus whatever <span class="Li">$n</span> you pass in, whereas
    <span class="Li">&quot;$f2-&gt;($n)&quot;</span> is always 555 plus whatever
    <span class="Li">$n</span> you pass in. The
    <span class="Li">$addpiece</span> in the closure sticks around.</p>
<p class="Pp">Closures are often used for less esoteric purposes. For example,
    when you want to pass in a bit of code into a function:</p>
<p class="Pp"></p>
<pre>    my $line;
    timeout( 30, sub { $line = &lt;STDIN&gt; } );
</pre>
<p class="Pp">If the code to execute had been passed in as a string,
    <span class="Li">'$line = &lt;STDIN&gt;'</span>, there would have been no
    way for the hypothetical <b>timeout()</b> function to access the lexical
    variable <span class="Li">$line</span> back in its caller's scope.</p>
<p class="Pp">Another use for a closure is to make a variable <i>private</i> to
    a named subroutine, e.g. a counter that gets initialized at creation time of
    the sub and can only be modified from within the sub. This is sometimes used
    with a BEGIN block in package files to make sure a variable doesn't get
    meddled with during the lifetime of the package:</p>
<p class="Pp"></p>
<pre>    BEGIN {
        my $id = 0;
        sub next_id { ++$id }
    }
</pre>
<p class="Pp">This is discussed in more detail in perlsub; see the entry on
    <i>Persistent Private Variables</i>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="What_is_variable_suicide_and_how_can_I_prevent_it?"><a class="permalink" href="#What_is_variable_suicide_and_how_can_I_prevent_it?">What
  is variable suicide and how can I prevent it?</a></h2>
<p class="Pp">This problem was fixed in perl 5.004_05, so preventing it means
    upgrading your version of perl. ;)</p>
<p class="Pp">Variable suicide is when you (temporarily or permanently) lose the
    value of a variable. It is caused by scoping through <b>my()</b> and
    <b>local()</b> interacting with either closures or aliased <b>foreach()</b>
    iterator variables and subroutine arguments. It used to be easy to
    inadvertently lose a variable's value this way, but now it's much harder.
    Take this code:</p>
<p class="Pp"></p>
<pre>    my $f = 'foo';
    sub T {
        while ($i++ &lt; 3) { my $f = $f; $f .= &quot;bar&quot;; print $f, &quot;\n&quot; }
    }
    T;
    print &quot;Finally $f\n&quot;;
</pre>
<p class="Pp">If you are experiencing variable suicide, that
    <span class="Li">&quot;my $f&quot;</span> in the subroutine doesn't pick up
    a fresh copy of the <span class="Li">$f</span> whose value is
    <span class="Li">'foo'</span>. The output shows that inside the subroutine
    the value of <span class="Li">$f</span> leaks through when it shouldn't, as
    in this output:</p>
<p class="Pp"></p>
<pre>    foobar
    foobarbar
    foobarbarbar
    Finally foo
</pre>
<p class="Pp">The <span class="Li">$f</span> that has &quot;bar&quot; added to
    it three times should be a new <span class="Li">$f</span>
    <span class="Li">&quot;my $f&quot;</span> should create a new lexical
    variable each time through the loop. The expected output is:</p>
<p class="Pp"></p>
<pre>    foobar
    foobar
    foobar
    Finally foo
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="How_can_I_pass/return_a__Function,_FileHandle,_Array,_Hash,_Method,_Regex_?"><a class="permalink" href="#How_can_I_pass/return_a__Function,_FileHandle,_Array,_Hash,_Method,_Regex_?">How
  can I pass/return a {Function, FileHandle, Array, Hash, Method,
  Regex}?</a></h2>
<p class="Pp">You need to pass references to these objects. See &quot;Pass by
    Reference&quot; in perlsub for this particular question, and perlref for
    information on references.</p>
<dl class="Bl-tag">
  <dt id="Passing"><a class="permalink" href="#Passing">Passing Variables and
    Functions</a></dt>
  <dd>Regular variables and functions are quite easy to pass: just pass in a
      reference to an existing or anonymous variable or function:
    <p class="Pp"></p>
    <pre>    func( \$some_scalar );
    func( \@some_array  );
    func( [ 1 .. 10 ]   );
    func( \%some_hash   );
    func( { this =&gt; 10, that =&gt; 20 }   );
    func( \&amp;some_func   );
    func( sub { $_[0] ** $_[1] }   );
    </pre>
  </dd>
  <dt id="Passing~2"><a class="permalink" href="#Passing~2">Passing
    Filehandles</a></dt>
  <dd>As of Perl 5.6, you can represent filehandles with scalar variables which
      you treat as any other scalar.
    <p class="Pp"></p>
    <pre>    open my $fh, $filename or die &quot;Cannot open $filename! $!&quot;;
    func( $fh );
    sub func {
        my $passed_fh = shift;
        my $line = &lt;$passed_fh&gt;;
    }
    </pre>
    <p class="Pp">Before Perl 5.6, you had to use the
        <span class="Li">*FH</span> or <span class="Li">&quot;\*FH&quot;</span>
        notations. These are &quot;typeglobs&quot;--see &quot;Typeglobs and
        Filehandles&quot; in perldata and especially &quot;Pass by
        Reference&quot; in perlsub for more information.</p>
  </dd>
  <dt id="Passing~3"><a class="permalink" href="#Passing~3">Passing
    Regexes</a></dt>
  <dd>Here's an example of how to pass in a string and a regular expression for
      it to match against. You construct the pattern with the
      <span class="Li">&quot;qr//&quot;</span> operator:
    <p class="Pp"></p>
    <pre>    sub compare {
        my ($val1, $regex) = @_;
        my $retval = $val1 =~ /$regex/;
        return $retval;
    }
    $match = compare(&quot;old McDonald&quot;, qr/d.*D/i);
    </pre>
  </dd>
  <dt id="Passing~4"><a class="permalink" href="#Passing~4">Passing
    Methods</a></dt>
  <dd>To pass an object method into a subroutine, you can do this:
    <p class="Pp"></p>
    <pre>    call_a_lot(10, $some_obj, &quot;methname&quot;)
    sub call_a_lot {
        my ($count, $widget, $trick) = @_;
        for (my $i = 0; $i &lt; $count; $i++) {
            $widget-&gt;$trick();
        }
    }
    </pre>
    <p class="Pp">Or, you can use a closure to bundle up the object, its method
        call, and arguments:</p>
    <p class="Pp"></p>
    <pre>    my $whatnot = sub { $some_obj-&gt;obfuscate(@args) };
    func($whatnot);
    sub func {
        my $code = shift;
        &amp;$code();
    }
    </pre>
    <p class="Pp">You could also investigate the <b>can()</b> method in the
        UNIVERSAL class (part of the standard perl distribution).</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_create_a_static_variable?"><a class="permalink" href="#How_do_I_create_a_static_variable?">How
  do I create a static variable?</a></h2>
<p class="Pp">(contributed by brian d foy)</p>
<p class="Pp">In Perl 5.10, declare the variable with
    <span class="Li">&quot;state&quot;</span>. The
    <span class="Li">&quot;state&quot;</span> declaration creates the lexical
    variable that persists between calls to the subroutine:</p>
<p class="Pp"></p>
<pre>    sub counter { state $count = 1; $count++ }
</pre>
<p class="Pp">You can fake a static variable by using a lexical variable which
    goes out of scope. In this example, you define the subroutine
    <span class="Li">&quot;counter&quot;</span>, and it uses the lexical
    variable <span class="Li">$count</span>. Since you wrap this in a BEGIN
    block, <span class="Li">$count</span> is defined at compile-time, but also
    goes out of scope at the end of the BEGIN block. The BEGIN block also
    ensures that the subroutine and the value it uses is defined at compile-time
    so the subroutine is ready to use just like any other subroutine, and you
    can put this code in the same place as other subroutines in the program text
    (i.e. at the end of the code, typically). The subroutine
    <span class="Li">&quot;counter&quot;</span> still has a reference to the
    data, and is the only way you can access the value (and each time you do,
    you increment the value). The data in chunk of memory defined by
    <span class="Li">$count</span> is private to
    <span class="Li">&quot;counter&quot;</span>.</p>
<p class="Pp"></p>
<pre>    BEGIN {
        my $count = 1;
        sub counter { $count++ }
    }
    my $start = counter();
    .... # code that calls counter();
    my $end = counter();
</pre>
<p class="Pp">In the previous example, you created a function-private variable
    because only one function remembered its reference. You could define
    multiple functions while the variable is in scope, and each function can
    share the &quot;private&quot; variable. It's not really &quot;static&quot;
    because you can access it outside the function while the lexical variable is
    in scope, and even create references to it. In this example,
    <span class="Li">&quot;increment_count&quot;</span> and
    <span class="Li">&quot;return_count&quot;</span> share the variable. One
    function adds to the value and the other simply returns the value. They can
    both access <span class="Li">$count</span>, and since it has gone out of
    scope, there is no other way to access it.</p>
<p class="Pp"></p>
<pre>    BEGIN {
        my $count = 1;
        sub increment_count { $count++ }
        sub return_count    { $count }
    }
</pre>
<p class="Pp">To declare a file-private variable, you still use a lexical
    variable. A file is also a scope, so a lexical variable defined in the file
    cannot be seen from any other file.</p>
<p class="Pp">See &quot;Persistent Private Variables&quot; in perlsub for more
    information. The discussion of closures in perlref may help you even though
    we did not use anonymous subroutines in this answer. See &quot;Persistent
    Private Variables&quot; in perlsub for details.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="What's_the_difference_between_dynamic_and_lexical_(static)_scoping?_Between_"><a class="permalink" href="#What's_the_difference_between_dynamic_and_lexical_(static)_scoping?_Between_">What's
  the difference between dynamic and lexical (static) scoping? Between
  <b>local()</b> and <b>my()</b>?</a></h2>
<p class="Pp"><span class="Li">&quot;local($x)&quot;</span> saves away the old
    value of the global variable <span class="Li">$x</span> and assigns a new
    value for the duration of the subroutine <i>which is</i> <i>visible in other
    functions called from that subroutine</i>. This is done at run-time, so is
    called dynamic scoping. <b>local()</b> always affects global variables, also
    called package variables or dynamic variables.</p>
<p class="Pp"><span class="Li">&quot;my($x)&quot;</span> creates a new variable
    that is only visible in the current subroutine. This is done at
    compile-time, so it is called lexical or static scoping. <b>my()</b> always
    affects private variables, also called lexical variables or (improperly)
    static(ly scoped) variables.</p>
<p class="Pp">For instance:</p>
<p class="Pp"></p>
<pre>    sub visible {
        print &quot;var has value $var\n&quot;;
    }
    sub dynamic {
        local $var = 'local';    # new temporary value for the still-global
        visible();              #   variable called $var
    }
    sub lexical {
        my $var = 'private';    # new private variable, $var
        visible();              # (invisible outside of sub scope)
    }
    $var = 'global';
    visible();              # prints global
    dynamic();              # prints local
    lexical();              # prints global
</pre>
<p class="Pp">Notice how at no point does the value &quot;private&quot; get
    printed. That's because <span class="Li">$var</span> only has that value
    within the block of the <b>lexical()</b> function, and it is hidden from the
    called subroutine.</p>
<p class="Pp">In summary, <b>local()</b> doesn't make what you think of as
    private, local variables. It gives a global variable a temporary value.
    <b>my()</b> is what you're looking for if you want private variables.</p>
<p class="Pp">See &quot;Private Variables via <b>my()</b>&quot; in perlsub and
    &quot;Temporary Values via <b>local()</b>&quot; in perlsub for excruciating
    details.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_can_I_access_a_dynamic_variable_while_a_similarly_named_lexical_is_in_scope?"><a class="permalink" href="#How_can_I_access_a_dynamic_variable_while_a_similarly_named_lexical_is_in_scope?">How
  can I access a dynamic variable while a similarly named lexical is in
  scope?</a></h2>
<p class="Pp">If you know your package, you can just mention it explicitly, as
    in <span class="Li">$Some_Pack::var</span>. Note that the notation
    <span class="Li">$::var</span> is <b>not</b> the dynamic
    <span class="Li">$var</span> in the current package, but rather the one in
    the &quot;main&quot; package, as though you had written
    <span class="Li">$main::var</span>.</p>
<p class="Pp"></p>
<pre>    use vars '$var';
    local $var = &quot;global&quot;;
    my    $var = &quot;lexical&quot;;
    print &quot;lexical is $var\n&quot;;
    print &quot;global  is $main::var\n&quot;;
</pre>
<p class="Pp">Alternatively you can use the compiler directive <b>our()</b> to
    bring a dynamic variable into the current lexical scope.</p>
<p class="Pp"></p>
<pre>    require 5.006; # our() did not exist before 5.6
    use vars '$var';
    local $var = &quot;global&quot;;
    my $var    = &quot;lexical&quot;;
    print &quot;lexical is $var\n&quot;;
    {
        our $var;
        print &quot;global  is $var\n&quot;;
    }
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="What's_the_difference_between_deep_and_shallow_binding?"><a class="permalink" href="#What's_the_difference_between_deep_and_shallow_binding?">What's
  the difference between deep and shallow binding?</a></h2>
<p class="Pp">In deep binding, lexical variables mentioned in anonymous
    subroutines are the same ones that were in scope when the subroutine was
    created. In shallow binding, they are whichever variables with the same
    names happen to be in scope when the subroutine is called. Perl always uses
    deep binding of lexical variables (i.e., those created with <b>my()</b>).
    However, dynamic variables (aka global, local, or package variables) are
    effectively shallowly bound. Consider this just one more reason not to use
    them. See the answer to &quot;What's a closure?&quot;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Why_doesn't__my($foo)_=__$fh_;__work_right?"><a class="permalink" href="#Why_doesn't__my($foo)_=__$fh_;__work_right?">Why
  doesn't &quot;my($foo) = &lt;$fh&gt;;&quot; work right?</a></h2>
<p class="Pp"><span class="Li">&quot;my()&quot;</span> and
    <span class="Li">&quot;local()&quot;</span> give list context to the right
    hand side of <span class="Li">&quot;=&quot;</span>. The &lt;$fh&gt; read
    operation, like so many of Perl's functions and operators, can tell which
    context it was called in and behaves appropriately. In general, the
    <b>scalar()</b> function can help. This function does nothing to the data
    itself (contrary to popular myth) but rather tells its argument to behave in
    whatever its scalar fashion is. If that function doesn't have a defined
    scalar behavior, this of course doesn't help you (such as with
    <b>sort()</b>).</p>
<p class="Pp">To enforce scalar context in this particular case, however, you
    need merely omit the parentheses:</p>
<p class="Pp"></p>
<pre>    local($foo) = &lt;$fh&gt;;        # WRONG
    local($foo) = scalar(&lt;$fh&gt;);   # ok
    local $foo  = &lt;$fh&gt;;        # right
</pre>
<p class="Pp">You should probably be using lexical variables anyway, although
    the issue is the same here:</p>
<p class="Pp"></p>
<pre>    my($foo) = &lt;$fh&gt;;    # WRONG
    my $foo  = &lt;$fh&gt;;    # right
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_redefine_a_builtin_function,_operator,_or_method?"><a class="permalink" href="#How_do_I_redefine_a_builtin_function,_operator,_or_method?">How
  do I redefine a builtin function, operator, or method?</a></h2>
<p class="Pp">Why do you want to do that? :-)</p>
<p class="Pp">If you want to override a predefined function, such as
    <b>open()</b>, then you'll have to import the new definition from a
    different module. See &quot;Overriding Built-in Functions&quot; in
  perlsub.</p>
<p class="Pp">If you want to overload a Perl operator, such as
    <span class="Li">&quot;+&quot;</span> or
    <span class="Li">&quot;**&quot;</span>, then you'll want to use the
    <span class="Li">&quot;use overload&quot;</span> pragma, documented in
    overload.</p>
<p class="Pp">If you're talking about obscuring method calls in parent classes,
    see &quot;Overriding methods and method resolution&quot; in perlootut.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="What's_the_difference_between_calling_a_function_as_&amp;foo_and_"><a class="permalink" href="#What's_the_difference_between_calling_a_function_as_&amp;foo_and_">What's
  the difference between calling a function as &amp;foo and
  <b>foo()</b>?</a></h2>
<p class="Pp">(contributed by brian d foy)</p>
<p class="Pp">Calling a subroutine as <span class="Li">&amp;foo</span> with no
    trailing parentheses ignores the prototype of
    <span class="Li">&quot;foo&quot;</span> and passes it the current value of
    the argument list, <span class="Li">@_</span>. Here's an example; the
    <span class="Li">&quot;bar&quot;</span> subroutine calls
    <span class="Li">&amp;foo</span>, which prints its arguments list:</p>
<p class="Pp"></p>
<pre>    sub foo { print &quot;Args in foo are: @_\n&quot;; }
    sub bar { &amp;foo; }
    bar( &quot;a&quot;, &quot;b&quot;, &quot;c&quot; );
</pre>
<p class="Pp">When you call <span class="Li">&quot;bar&quot;</span> with
    arguments, you see that <span class="Li">&quot;foo&quot;</span> got the same
    <span class="Li">@_</span>:</p>
<p class="Pp"></p>
<pre>    Args in foo are: a b c
</pre>
<p class="Pp">Calling the subroutine with trailing parentheses, with or without
    arguments, does not use the current <span class="Li">@_</span>. Changing the
    example to put parentheses after the call to
    <span class="Li">&quot;foo&quot;</span> changes the program:</p>
<p class="Pp"></p>
<pre>    sub foo { print &quot;Args in foo are: @_\n&quot;; }
    sub bar { &amp;foo(); }
    bar( &quot;a&quot;, &quot;b&quot;, &quot;c&quot; );
</pre>
<p class="Pp">Now the output shows that <span class="Li">&quot;foo&quot;</span>
    doesn't get the <span class="Li">@_</span> from its caller.</p>
<p class="Pp"></p>
<pre>    Args in foo are:
</pre>
<p class="Pp">However, using <span class="Li">&quot;&amp;&quot;</span> in the
    call still overrides the prototype of
    <span class="Li">&quot;foo&quot;</span> if present:</p>
<p class="Pp"></p>
<pre>    sub foo ($$$) { print &quot;Args infoo are: @_\n&quot;; }
    sub bar_1 { &amp;foo; }
    sub bar_2 { &amp;foo(); }
    sub bar_3 { foo( $_[0], $_[1], $_[2] ); }
    # sub bar_4 { foo(); }
    # bar_4 doesn't compile: &quot;Not enough arguments for main::foo at ...&quot;
    bar_1( &quot;a&quot;, &quot;b&quot;, &quot;c&quot; );
    # Args in foo are: a b c
    bar_2( &quot;a&quot;, &quot;b&quot;, &quot;c&quot; );
    # Args in foo are:
    bar_3( &quot;a&quot;, &quot;b&quot;, &quot;c&quot; );
    # Args in foo are: a b c
</pre>
<p class="Pp">The main use of the <span class="Li">@_</span> pass-through
    feature is to write subroutines whose main job it is to call other
    subroutines for you. For further details, see perlsub.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_create_a_switch_or_case_statement?"><a class="permalink" href="#How_do_I_create_a_switch_or_case_statement?">How
  do I create a switch or case statement?</a></h2>
<p class="Pp">There is a given/when statement in Perl, but it is experimental
    and likely to change in future. See perlsyn for more details.</p>
<p class="Pp">The general answer is to use a CPAN module such as
  Switch::Plain:</p>
<p class="Pp"></p>
<pre>    use Switch::Plain;
    sswitch($variable_holding_a_string) {
        case 'first': { }
        case 'second': { }
        default: { }
    }
</pre>
<p class="Pp">or for more complicated comparisons,
    <span class="Li">&quot;if-elsif-else&quot;</span>:</p>
<p class="Pp"></p>
<pre>    for ($variable_to_test) {
        if    (/pat1/)  { }     # do something
        elsif (/pat2/)  { }     # do something else
        elsif (/pat3/)  { }     # do something else
        else            { }     # default
    }
</pre>
<p class="Pp">Here's a simple example of a switch based on pattern matching,
    lined up in a way to make it look more like a switch statement. We'll do a
    multiway conditional based on the type of reference stored in
    <span class="Li">$whatchamacallit:</span></p>
<p class="Pp"></p>
<pre>    SWITCH: for (ref $whatchamacallit) {
        /^$/           &amp;&amp; die &quot;not a reference&quot;;
        /SCALAR/       &amp;&amp; do {
                        print_scalar($$ref);
                        last SWITCH;
                      };
        /ARRAY/        &amp;&amp; do {
                        print_array(@$ref);
                        last SWITCH;
                      };
        /HASH/        &amp;&amp; do {
                        print_hash(%$ref);
                        last SWITCH;
                      };
        /CODE/        &amp;&amp; do {
                        warn &quot;can't print function ref&quot;;
                        last SWITCH;
                      };
        # DEFAULT
        warn &quot;User defined type skipped&quot;;
    }
</pre>
<p class="Pp">See perlsyn for other examples in this style.</p>
<p class="Pp">Sometimes you should change the positions of the constant and the
    variable. For example, let's say you wanted to test which of many answers
    you were given, but in a case-insensitive way that also allows
    abbreviations. You can use the following technique if the strings all start
    with different characters or if you want to arrange the matches so that one
    takes precedence over another, as <span class="Li">&quot;SEND&quot;</span>
    has precedence over <span class="Li">&quot;STOP&quot;</span> here:</p>
<p class="Pp"></p>
<pre>    chomp($answer = &lt;&gt;);
    if    (&quot;SEND&quot;  =~ /^\Q$answer/i) { print &quot;Action is send\n&quot;  }
    elsif (&quot;STOP&quot;  =~ /^\Q$answer/i) { print &quot;Action is stop\n&quot;  }
    elsif (&quot;ABORT&quot; =~ /^\Q$answer/i) { print &quot;Action is abort\n&quot; }
    elsif (&quot;LIST&quot;  =~ /^\Q$answer/i) { print &quot;Action is list\n&quot;  }
    elsif (&quot;EDIT&quot;  =~ /^\Q$answer/i) { print &quot;Action is edit\n&quot;  }
</pre>
<p class="Pp">A totally different approach is to create a hash of function
    references.</p>
<p class="Pp"></p>
<pre>    my %commands = (
        &quot;happy&quot; =&gt; \&amp;joy,
        &quot;sad&quot;,  =&gt; \&amp;sullen,
        &quot;done&quot;  =&gt; sub { die &quot;See ya!&quot; },
        &quot;mad&quot;   =&gt; \&amp;angry,
    );
    print &quot;How are you? &quot;;
    chomp($string = &lt;STDIN&gt;);
    if ($commands{$string}) {
        $commands{$string}-&gt;();
    } else {
        print &quot;No such command: $string\n&quot;;
    }
</pre>
<p class="Pp">Starting from Perl 5.8, a source filter module,
    <span class="Li">&quot;Switch&quot;</span>, can also be used to get switch
    and case. Its use is now discouraged, because it's not fully compatible with
    the native switch of Perl 5.10, and because, as it's implemented as a source
    filter, it doesn't always work as intended when complex syntax is
  involved.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_can_I_catch_accesses_to_undefined_variables,_functions,_or_methods?"><a class="permalink" href="#How_can_I_catch_accesses_to_undefined_variables,_functions,_or_methods?">How
  can I catch accesses to undefined variables, functions, or methods?</a></h2>
<p class="Pp">The AUTOLOAD method, discussed in &quot;Autoloading&quot; in
    perlsub lets you capture calls to undefined functions and methods.</p>
<p class="Pp">When it comes to undefined variables that would trigger a warning
    under <span class="Li">&quot;use warnings&quot;</span>, you can promote the
    warning to an error.</p>
<p class="Pp"></p>
<pre>    use warnings FATAL =&gt; qw(uninitialized);
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Why_can't_a_method_included_in_this_same_file_be_found?"><a class="permalink" href="#Why_can't_a_method_included_in_this_same_file_be_found?">Why
  can't a method included in this same file be found?</a></h2>
<p class="Pp">Some possible reasons: your inheritance is getting confused,
    you've misspelled the method name, or the object is of the wrong type. Check
    out perlootut for details about any of the above cases. You may also use
    <span class="Li">&quot;print ref($object)&quot;</span> to find out the class
    <span class="Li">$object</span> was blessed into.</p>
<p class="Pp">Another possible reason for problems is that you've used the
    indirect object syntax (eg, <span class="Li">&quot;find Guru
    &quot;Samy&quot;&quot;</span>) on a class name before Perl has seen that
    such a package exists. It's wisest to make sure your packages are all
    defined before you start using them, which will be taken care of if you use
    the <span class="Li">&quot;use&quot;</span> statement instead of
    <span class="Li">&quot;require&quot;</span>. If not, make sure to use arrow
    notation (eg.,
    <span class="Li">&quot;Guru-&gt;find(&quot;Samy&quot;)&quot;</span>)
    instead. Object notation is explained in perlobj.</p>
<p class="Pp">Make sure to read about creating modules in perlmod and the perils
    of indirect objects in &quot;Method Invocation&quot; in perlobj.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_can_I_find_out_my_current_or_calling_package?"><a class="permalink" href="#How_can_I_find_out_my_current_or_calling_package?">How
  can I find out my current or calling package?</a></h2>
<p class="Pp">(contributed by brian d foy)</p>
<p class="Pp">To find the package you are currently in, use the special literal
    <span class="Li">&quot;__PACKAGE__&quot;</span>, as documented in perldata.
    You can only use the special literals as separate tokens, so you can't
    interpolate them into strings like you can with variables:</p>
<p class="Pp"></p>
<pre>    my $current_package = __PACKAGE__;
    print &quot;I am in package $current_package\n&quot;;
</pre>
<p class="Pp">If you want to find the package calling your code, perhaps to give
    better diagnostics as Carp does, use the
    <span class="Li">&quot;caller&quot;</span> built-in:</p>
<p class="Pp"></p>
<pre>    sub foo {
        my @args = ...;
        my( $package, $filename, $line ) = caller;
        print &quot;I was called from package $package\n&quot;;
        );
</pre>
<p class="Pp">By default, your program starts in package
    <span class="Li">&quot;main&quot;</span>, so you will always be in some
    package.</p>
<p class="Pp">This is different from finding out the package an object is
    blessed into, which might not be the current package. For that, use
    <span class="Li">&quot;blessed&quot;</span> from Scalar::Util, part of the
    Standard Library since Perl 5.8:</p>
<p class="Pp"></p>
<pre>    use Scalar::Util qw(blessed);
    my $object_package = blessed( $object );
</pre>
<p class="Pp">Most of the time, you shouldn't care what package an object is
    blessed into, however, as long as it claims to inherit from that class:</p>
<p class="Pp"></p>
<pre>    my $is_right_class = eval { $object-&gt;isa( $package ) }; # true or false
</pre>
<p class="Pp">And, with Perl 5.10 and later, you don't have to check for an
    inheritance to see if the object can handle a role. For that, you can use
    <span class="Li">&quot;DOES&quot;</span>, which comes from
    <span class="Li">&quot;UNIVERSAL&quot;</span>:</p>
<p class="Pp"></p>
<pre>    my $class_does_it = eval { $object-&gt;DOES( $role ) }; # true or false
</pre>
<p class="Pp">You can safely replace <span class="Li">&quot;isa&quot;</span>
    with <span class="Li">&quot;DOES&quot;</span> (although the converse is not
    true).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_can_I_comment_out_a_large_block_of_Perl_code?"><a class="permalink" href="#How_can_I_comment_out_a_large_block_of_Perl_code?">How
  can I comment out a large block of Perl code?</a></h2>
<p class="Pp">(contributed by brian d foy)</p>
<p class="Pp">The quick-and-dirty way to comment out more than one line of Perl
    is to surround those lines with Pod directives. You have to put these
    directives at the beginning of the line and somewhere where Perl expects a
    new statement (so not in the middle of statements like the
    <span class="Li">&quot;#&quot;</span> comments). You end the comment with
    <span class="Li">&quot;=cut&quot;</span>, ending the Pod section:</p>
<p class="Pp"></p>
<pre>    =pod
    my $object = NotGonnaHappen-&gt;new();
    ignored_sub();
    $wont_be_assigned = 37;
    =cut
</pre>
<p class="Pp">The quick-and-dirty method only works well when you don't plan to
    leave the commented code in the source. If a Pod parser comes along, your
    multiline comment is going to show up in the Pod translation. A better way
    hides it from Pod parsers as well.</p>
<p class="Pp">The <span class="Li">&quot;=begin&quot;</span> directive can mark
    a section for a particular purpose. If the Pod parser doesn't want to handle
    it, it just ignores it. Label the comments with
    <span class="Li">&quot;comment&quot;</span>. End the comment using
    <span class="Li">&quot;=end&quot;</span> with the same label. You still need
    the <span class="Li">&quot;=cut&quot;</span> to go back to Perl code from
    the Pod comment:</p>
<p class="Pp"></p>
<pre>    =begin comment
    my $object = NotGonnaHappen-&gt;new();
    ignored_sub();
    $wont_be_assigned = 37;
    =end comment
    =cut
</pre>
<p class="Pp">For more information on Pod, check out perlpod and
  perlpodspec.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_do_I_clear_a_package?"><a class="permalink" href="#How_do_I_clear_a_package?">How
  do I clear a package?</a></h2>
<p class="Pp">Use this code, provided by Mark-Jason Dominus:</p>
<p class="Pp"></p>
<pre>    sub scrub_package {
        no strict 'refs';
        my $pack = shift;
        die &quot;Shouldn't delete main package&quot;
            if $pack eq &quot;&quot; || $pack eq &quot;main&quot;;
        my $stash = *{$pack . '::'}{HASH};
        my $name;
        foreach $name (keys %$stash) {
            my $fullname = $pack . '::' . $name;
            # Get rid of everything with that name.
            undef $$fullname;
            undef @$fullname;
            undef %$fullname;
            undef &amp;$fullname;
            undef *$fullname;
        }
    }
</pre>
<p class="Pp">Or, if you're using a recent release of Perl, you can just use the
    <b>Symbol::delete_package()</b> function instead.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="How_can_I_use_a_variable_as_a_variable_name?"><a class="permalink" href="#How_can_I_use_a_variable_as_a_variable_name?">How
  can I use a variable as a variable name?</a></h2>
<p class="Pp">Beginners often think they want to have a variable contain the
    name of a variable.</p>
<p class="Pp"></p>
<pre>    $fred    = 23;
    $varname = &quot;fred&quot;;
    ++$$varname;         # $fred now 24
</pre>
<p class="Pp">This works <i>sometimes</i>, but it is a very bad idea for two
    reasons.</p>
<p class="Pp">The first reason is that this technique <i>only works on
    global</i> <i>variables</i>. That means that if
    <span class="Li">$fred</span> is a lexical variable created with <b>my()</b>
    in the above example, the code wouldn't work at all: you'd accidentally
    access the global and skip right over the private lexical altogether. Global
    variables are bad because they can easily collide accidentally and in
    general make for non-scalable and confusing code.</p>
<p class="Pp">Symbolic references are forbidden under the
    <span class="Li">&quot;use strict&quot;</span> pragma. They are not true
    references and consequently are not reference-counted or
  garbage-collected.</p>
<p class="Pp">The other reason why using a variable to hold the name of another
    variable is a bad idea is that the question often stems from a lack of
    understanding of Perl data structures, particularly hashes. By using
    symbolic references, you are just using the package's symbol-table hash
    (like <span class="Li">%main::</span>) instead of a user-defined hash. The
    solution is to use your own hash or a real reference instead.</p>
<p class="Pp"></p>
<pre>    $USER_VARS{&quot;fred&quot;} = 23;
    my $varname = &quot;fred&quot;;
    $USER_VARS{$varname}++;  # not $$varname++
</pre>
<p class="Pp">There we're using the <span class="Li">%USER_VARS</span> hash
    instead of symbolic references. Sometimes this comes up in reading strings
    from the user with variable references and wanting to expand them to the
    values of your perl program's variables. This is also a bad idea because it
    conflates the program-addressable namespace and the user-addressable one.
    Instead of reading a string and expanding it to the actual contents of your
    program's own variables:</p>
<p class="Pp"></p>
<pre>    $str = 'this has a $fred and $barney in it';
    $str =~ s/(\$\w+)/$1/eeg;          # need double eval
</pre>
<p class="Pp">it would be better to keep a hash around like
    <span class="Li">%USER_VARS</span> and have variable references actually
    refer to entries in that hash:</p>
<p class="Pp"></p>
<pre>    $str =~ s/\$(\w+)/$USER_VARS{$1}/g;   # no /e here at all
</pre>
<p class="Pp">That's faster, cleaner, and safer than the previous approach. Of
    course, you don't need to use a dollar sign. You could use your own scheme
    to make it less confusing, like bracketed percent symbols, etc.</p>
<p class="Pp"></p>
<pre>    $str = 'this has a %fred% and %barney% in it';
    $str =~ s/%(\w+)%/$USER_VARS{$1}/g;   # no /e here at all
</pre>
<p class="Pp">Another reason that folks sometimes think they want a variable to
    contain the name of a variable is that they don't know how to build proper
    data structures using hashes. For example, let's say they wanted two hashes
    in their program: <span class="Li">%fred</span> and
    <span class="Li">%barney</span>, and that they wanted to use another scalar
    variable to refer to those by name.</p>
<p class="Pp"></p>
<pre>    $name = &quot;fred&quot;;
    $$name{WIFE} = &quot;wilma&quot;;     # set %fred
    $name = &quot;barney&quot;;
    $$name{WIFE} = &quot;betty&quot;;    # set %barney
</pre>
<p class="Pp">This is still a symbolic reference, and is still saddled with the
    problems enumerated above. It would be far better to write:</p>
<p class="Pp"></p>
<pre>    $folks{&quot;fred&quot;}{WIFE}   = &quot;wilma&quot;;
    $folks{&quot;barney&quot;}{WIFE} = &quot;betty&quot;;
</pre>
<p class="Pp">And just use a multilevel hash to start with.</p>
<p class="Pp">The only times that you absolutely <i>must</i> use symbolic
    references are when you really must refer to the symbol table. This may be
    because it's something that one can't take a real reference to, such as a
    format name. Doing so may also be important for method calls, since these
    always go through the symbol table for resolution.</p>
<p class="Pp">In those cases, you would turn off <span class="Li">&quot;strict
    'refs'&quot;</span> temporarily so you can play around with the symbol
    table. For example:</p>
<p class="Pp"></p>
<pre>    @colors = qw(red blue green yellow orange purple violet);
    for my $name (@colors) {
        no strict 'refs';  # renege for the block
        *$name = sub { &quot;&lt;FONT COLOR='$name'&gt;@_&lt;/FONT&gt;&quot; };
    }
</pre>
<p class="Pp">All those functions (<b>red()</b>, <b>blue()</b>, <b>green()</b>,
    etc.) appear to be separate, but the real code in the closure actually was
    compiled only once.</p>
<p class="Pp">So, sometimes you might want to use symbolic references to
    manipulate the symbol table directly. This doesn't matter for formats,
    handles, and subroutines, because they are always global--you can't use
    <b>my()</b> on them. For scalars, arrays, and hashes, though--and usually
    for subroutines-- you probably only want to use hard references.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="What_does__bad_interpreter__mean?"><a class="permalink" href="#What_does__bad_interpreter__mean?">What
  does &quot;bad interpreter&quot; mean?</a></h2>
<p class="Pp">(contributed by brian d foy)</p>
<p class="Pp">The &quot;bad interpreter&quot; message comes from the shell, not
    perl. The actual message may vary depending on your platform, shell, and
    locale settings.</p>
<p class="Pp">If you see &quot;bad interpreter - no such file or
    directory&quot;, the first line in your perl script (the &quot;shebang&quot;
    line) does not contain the right path to perl (or any other program capable
    of running scripts). Sometimes this happens when you move the script from
    one machine to another and each machine has a different path to
    perl--/usr/bin/perl versus /usr/local/bin/perl for instance. It may also
    indicate that the source machine has CRLF line terminators and the
    destination machine has LF only: the shell tries to find
    /usr/bin/perl&lt;CR&gt;, but can't.</p>
<p class="Pp">If you see &quot;bad interpreter: Permission denied&quot;, you
    need to make your script executable.</p>
<p class="Pp">In either case, you should still be able to run the scripts with
    perl explicitly:</p>
<p class="Pp"></p>
<pre>    % perl script.pl
</pre>
<p class="Pp">If you get a message like &quot;perl: command not found&quot;,
    perl is not in your PATH, which might also mean that the location of perl is
    not where you expect it so you need to adjust your shebang line.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Do_I_need_to_recompile_"><a class="permalink" href="#Do_I_need_to_recompile_">Do
  I need to recompile XS modules when there is a change in the C
  library?</a></h2>
<p class="Pp">(contributed by Alex Beamish)</p>
<p class="Pp">If the new version of the C library is ABI-compatible (that's
    Application Binary Interface compatible) with the version you're upgrading
    from, and if the shared library version didn't change, no re-compilation
    should be necessary.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHOR_AND_COPYRIGHT"><a class="permalink" href="#AUTHOR_AND_COPYRIGHT">AUTHOR
  AND COPYRIGHT</a></h1>
<p class="Pp">Copyright (c) 1997-2013 Tom Christiansen, Nathan Torkington, and
    other authors as noted. All rights reserved.</p>
<p class="Pp">This documentation is free; you can redistribute it and/or modify
    it under the same terms as Perl itself.</p>
<p class="Pp">Irrespective of its distribution, all code examples in this file
    are hereby placed into the public domain. You are permitted and encouraged
    to use this code in your own programs for fun or for profit as you see fit.
    A simple comment in the code giving credit would be courteous but is not
    required.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-10-21</td>
    <td class="foot-os">perl v5.30.3</td>
  </tr>
</table>
</body>
</html>
