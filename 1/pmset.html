<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Copyright (c) 2002-2012 Apple Computer, Inc.  All rights reserved.
   -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>PMSET(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PMSET(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">PMSET(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">pmset</code> &#x2014; <span class="Nd">manipulate
    power management settings</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">pmset</code></td>
    <td>[<code class="Fl">-a</code> | <code class="Fl">-b</code> |
      <code class="Fl">-c</code> | <code class="Fl">-u</code>]
      [<var class="Ar">setting</var> <var class="Ar">value</var>] [...]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">pmset</code></td>
    <td><code class="Fl">-u</code> [haltlevel <var class="Ar">percent</var>]
      [haltafter <var class="Ar">minutes</var>] [haltremain
      <var class="Ar">minutes</var>]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">pmset</code></td>
    <td><code class="Fl">-g</code> [<var class="Ar">option</var>]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">pmset</code></td>
    <td>schedule [cancel | cancelall] type date+time [owner]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">pmset</code></td>
    <td>repeat cancel</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">pmset</code></td>
    <td>repeat type weekdays time</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">pmset</code></td>
    <td>relative [wake | poweron] seconds</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">pmset</code></td>
    <td>[touch | sleepnow | displaysleepnow | boot]</td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><code class="Nm">pmset</code> manages power management settings
    such as idle sleep timing, wake on administrative access, automatic restart
    on power loss, etc.</p>
<p class="Pp">Note that processes may dynamically override these power
    management settings by using I/O Kit power assertions. Whenever processes
    override any system power settings, <code class="Nm">pmset</code> will list
    those processes and their power assertions in <code class="Fl">-g</code> and
    <code class="Fl">-g</code> assertions. See
    <a class="Xr" href="../8/caffeinate">caffeinate(8)</a>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SETTING"><a class="permalink" href="#SETTING">SETTING</a></h1>
<p class="Pp"><code class="Nm">pmset</code> can modify the values of any of the
    power management settings defined below. You may specify one or more setting
    &amp; value pairs on the command-line invocation of pmset. The
    <code class="Fl">-a,</code> <code class="Fl">-b,</code>
    <code class="Fl">-c,</code> <code class="Fl">-u</code> flags determine
    whether the settings apply to battery ( <code class="Fl">-b</code> ),
    charger (wall power) ( <code class="Fl">-c</code> ), UPS (
    <code class="Fl">-u</code> ) or all ( <code class="Fl">-a</code> ).</p>
<p class="Pp">Use a minutes argument of 0 to set the idle time to never for
    <var class="Ar">sleep</var> <var class="Ar">disksleep</var> and
    <var class="Ar">displaysleep</var></p>
<p class="Pp"><code class="Nm">pmset</code> must be run as root in order to
    modify any settings.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SETTINGS"><a class="permalink" href="#SETTINGS">SETTINGS</a></h1>
<p class="Pp"><var class="Ar">displaysleep</var> - display sleep timer; replaces
    'dim' argument in 10.4 (value in minutes, or 0 to disable)
  <br/>
  <var class="Ar">disksleep</var> - disk spindown timer; replaces 'spindown'
    argument in 10.4 (value in minutes, or 0 to disable)
  <br/>
  <var class="Ar">sleep</var> - system sleep timer (value in minutes, or 0 to
    disable)
  <br/>
  <var class="Ar">womp</var> - wake on ethernet magic packet (value = 0/1). Same
    as &quot;Wake for network access&quot; in the Energy Saver preferences.
  <br/>
  <var class="Ar">ring</var> - wake on modem ring (value = 0/1)
  <br/>
  <var class="Ar">powernap</var> - enable/disable Power Nap on supported
    machines (value = 0/1)
  <br/>
  <var class="Ar">proximitywake</var> - On supported systems, this option
    controls system wake from sleep based on proximity of devices using same
    iCloud id. (value = 0/1)
  <br/>
  <var class="Ar">autorestart</var> - automatic restart on power loss (value =
    0/1)
  <br/>
  <var class="Ar">lidwake</var> - wake the machine when the laptop lid (or
    clamshell) is opened (value = 0/1)
  <br/>
  <var class="Ar">acwake</var> - wake the machine when power source (AC/battery)
    is changed (value = 0/1)
  <br/>
  <var class="Ar">lessbright</var> - slightly turn down display brightness when
    switching to this power source (value = 0/1)
  <br/>
  <var class="Ar">halfdim</var> - display sleep will use an intermediate
    half-brightness state between full brightness and fully off (value = 0/1)
  <br/>
  <var class="Ar">sms</var> - use Sudden Motion Sensor to park disk heads on
    sudden changes in G force (value = 0/1)
  <br/>
  <var class="Ar">hibernatemode</var> - change hibernation mode. Please use
    caution. (value = integer)
  <br/>
  <var class="Ar">hibernatefile</var> - change hibernation image file location.
    Image may only be located on the root volume. Please use caution. (value =
    path)
  <br/>
  <var class="Ar">ttyskeepawake</var> - prevent idle system sleep when any tty
    (e.g. remote login session) is 'active'. A tty is 'inactive' only when its
    idle time exceeds the system sleep timer. (value = 0/1)
  <br/>
  <var class="Ar">networkoversleep</var> - this setting affects how OS X
    networking presents shared network services during system sleep. This
    setting is not used by all platforms; changing its value is unsupported.
  <br/>
  <var class="Ar">destroyfvkeyonstandby</var> - Destroy File Vault Key when
    going to standby mode. By default File vault keys are retained even when
    system goes to standby. If the keys are destroyed, user will be prompted to
    enter the password while coming out of standby mode.(value: 1 - Destroy, 0 -
    Retain)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="GETTING"><a class="permalink" href="#GETTING">GETTING</a></h1>
<p class="Pp"><code class="Fl">-g</code> (with no argument) will display the
    settings currently in use.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">live</var> displays the settings
    currently in use.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">custom</var> displays custom
    settings for all power sources.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">cap</var> displays which power
    management features the machine supports.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">sched</var> displays scheduled
    startup/wake and shutdown/sleep events.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">ups</var> displays UPS emergency
    thresholds.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">ps</var> /
    <var class="Ar">batt</var> displays status of batteries and UPSs.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">pslog</var> displays an ongoing log
    of power source (battery and UPS) state.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">rawlog</var> displays an ongoing
    log of battery state as read directly from battery.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">therm</var> shows thermal
    conditions that affect CPU speed. Not available on all platforms.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">thermlog</var> shows a log of
    thermal notifications that affect CPU speed. Not available on all platforms.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">assertions</var> displays a summary
    of power assertions. Assertions may prevent system sleep or display sleep.
    Available 10.6 and later.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">assertionslog</var> shows a log of
    assertion creations and releases. Available 10.6 and later.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">sysload</var> displays the
    &quot;system load advisory&quot; - a summary of system activity available
    from the IOGetSystemLoadAdvisory API. Available 10.6 and later.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">sysloadlog</var> displays an
    ongoing log of lives changes to the system load advisory. Available 10.6 and
    later.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">ac</var> /
    <var class="Ar">adapter</var> will display details about an attached AC
    power adapter. Only supported for MacBook and MacBook Pro.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">log</var> displays a history of
    sleeps, wakes, and other power management events. This log is for admin
    &amp; debugging purposes.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">uuid</var> displays the currently
    active sleep/wake UUID; used within OS X to correlate sleep/wake activity
    within one sleep cycle. <var class="Ar">history</var>
  <br/>
  <code class="Fl">-g</code> <var class="Ar">uuidlog</var> displays the
    currently active sleep/wake UUID, and prints a new UUID as they're set by
    the system.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">history</var> is a debugging tool.
    Prints a timeline of system sleeplwake UUIDs, when enabled with boot-arg
    io=0x3000000.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">historydetailed</var> Prints
    driver-level timings for a sleep/wake. Pass a UUID as an argument.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">powerstate</var> [class names]
    Prints the current power states for I/O Kit drivers. Caller may provide one
    or more I/O Kit class names (separated by spaces) as an argument. If no
    classes are provided, it will print all drivers' power states.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">powerstatelog</var> [-i interval]
    [class names] Periodically prints the power state residency times for some
    drivers. Caller may provide one or more I/O Kit class names (separated by
    spaces). If no classes are provided, it will log the IOPower plane's root
    registry entry. Caller may specify a polling interval, in seconds with -i
    &lt;polling interval&gt;; otherwise it defaults to 5 seconds.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">stats</var> Prints the counts for
    number sleeps and wakes system has gone thru since boot.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">systemstate</var> Prints the
    current power state of the system and available capabilites.
  <br/>
  <code class="Fl">-g</code> <var class="Ar">everything</var> Prints output from
    every argument under the GETTING header. This is useful for quickly
    collecting all the output that pmset provides. Available in 10.8.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SAFE_SLEEP_ARGUMENTS"><a class="permalink" href="#SAFE_SLEEP_ARGUMENTS">SAFE
  SLEEP ARGUMENTS</a></h1>
<p class="Pp"><var class="Ar">hibernatemode</var> supports values of 0, 3, or
    25. Whether or not a hibernation image gets written is also dependent on the
    values of <var class="Ar">standby</var> and
    <var class="Ar">autopoweroff</var></p>
<p class="Pp">For example, on desktops that support
    <var class="Ar">standby</var> a hibernation image will be written after the
    specified <var class="Ar">standbydelay</var> time. To disable hibernation
    images completely, ensure <var class="Ar">hibernatemode</var>
    <var class="Ar">standby</var> and <var class="Ar">autopoweroff</var> are all
    set to 0.</p>
<p class="Pp"><var class="Ar">hibernatemode</var> = 0 by default on desktops.
    The system will not back memory up to persistent storage. The system must
    wake from the contents of memory; the system will lose context on power
    loss. This is, historically, plain old sleep.</p>
<p class="Pp"><var class="Ar">hibernatemode</var> = 3 by default on portables.
    The system will store a copy of memory to persistent storage (the disk), and
    will power memory during sleep. The system will wake from memory, unless a
    power loss forces it to restore from hibernate image.</p>
<p class="Pp"><var class="Ar">hibernatemode</var> = 25 is only settable via
    pmset. The system will store a copy of memory to persistent storage (the
    disk), and will remove power to memory. The system will restore from disk
    image. If you want &quot;hibernation&quot; - slower sleeps, slower wakes,
    and better battery life, you should use this setting.</p>
<p class="Pp">Please note that <var class="Ar">hibernatefile</var> may only
    point to a file located on the root volume.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="STANDBY_ARGUMENTS"><a class="permalink" href="#STANDBY_ARGUMENTS">STANDBY
  ARGUMENTS</a></h1>
<p class="Pp"><var class="Ar">standby</var> causes kernel power management to
    automatically hibernate a machine after it has slept for a specified time
    period. This saves power while asleep. This setting defaults to
    <var class="Ar">ON</var> for supported hardware. The setting
    <var class="Ar">standby</var> will be visible in
    <code class="Nm">pmset</code> <code class="Fl">-g</code> if the feature is
    supported on this machine.</p>
<p class="Pp"><var class="Ar">standbydelayhigh</var> and
    <var class="Ar">standbydelaylow</var> specify the delay, in seconds, before
    writing the hibernation image to disk and powering off memory for Standby.
    <var class="Ar">standbydelayhigh</var> is used when the remaining battery
    capacity is above <var class="Ar">highstandbythreshold</var> , and
    <var class="Ar">standbydelaylow</var> is used when the remaining battery
    capacity is below <var class="Ar">highstandbythreshold.</var></p>
<p class="Pp"><var class="Ar">highstandbythreshold</var> has a default value of
    50 percent.</p>
<p class="Pp"><var class="Ar">autopoweroff</var> is enabled by default on
    supported platforms as an implementation of Lot 6 to the European
    Energy-related Products Directive. After sleeping for
    &lt;autopoweroffdelay&gt; seconds, the system will write a hibernation image
    and go into a lower power chipset sleep. Wakeups from this state will take
    longer than wakeups from regular sleep.</p>
<p class="Pp"><var class="Ar">autopoweroffdelay</var> specifies the delay, in
    seconds, before entering autopoweroff mode.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="UPS_SPECIFIC_ARGUMENTS"><a class="permalink" href="#UPS_SPECIFIC_ARGUMENTS">UPS
  SPECIFIC ARGUMENTS</a></h1>
<p class="Pp">UPS-specific arguments are only valid following the
    <code class="Fl">-u</code> option. UPS settings also have an on/off value.
    Use a -1 argument instead of percent or minutes to turn any of these
    settings off. If multiple halt conditions are specified, the system will
    halt on the first condition that occurs in a low power situation.</p>
<p class="Pp"><var class="Ar">haltlevel</var> - when draining UPS battery,
    battery level at which to trigger an emergency shutdown (value in %)
  <br/>
  <var class="Ar">haltafter</var> - when draining UPS battery, trigger emergency
    shutdown after this long running on UPS power (value in minutes, or 0 to
    disable)
  <br/>
  <var class="Ar">haltremain</var> - when draining UPS battery, trigger
    emergency shutdown when this much time remaining on UPS power is estimated
    (value in minutes, or 0 to disable)</p>
<p class="Pp">Note: None of these settings are observed on a system with support
    for an internal battery, such as a laptop. UPS emergency shutdown settings
    are for desktop and server only.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SCHEDULED_EVENT_ARGUMENTS"><a class="permalink" href="#SCHEDULED_EVENT_ARGUMENTS">SCHEDULED
  EVENT ARGUMENTS</a></h1>
<p class="Pp">pmset allows you to schedule system sleep, shutdown, wakeup and/or
    power on. &quot;schedule&quot; is for setting up one-time power events, and
    &quot;repeat&quot; is for setting up daily/weekly power on and power off
    events. Note that you may only have one pair of repeating events scheduled -
    a &quot;power on&quot; event and a &quot;power off&quot; event. For sleep
    cycling applications, pmset can schedule a &quot;relative&quot; wakeup or
    poweron to occur in seconds from the end of system sleep/shutdown, but this
    event cannot be cancelled and is inherently imprecise.</p>
<p class="Pp"><var class="Ar">type</var> - one of sleep, wake, poweron,
    shutdown, wakeorpoweron
  <br/>
  <var class="Ar">date/time</var> - &quot;MM/dd/yy HH:mm:ss&quot; (in 24 hour
    format; must be in quotes)
  <br/>
  <var class="Ar">time</var> - HH:mm:ss
  <br/>
  <var class="Ar">weekdays</var> - a subset of MTWRFSU (&quot;M&quot; and
    &quot;MTWRF&quot; are valid strings)
  <br/>
  <var class="Ar">owner</var> - a string describing the person or program who is
    scheduling this one-time power event (optional)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="POWER_SOURCE_ARGUMENTS"><a class="permalink" href="#POWER_SOURCE_ARGUMENTS">POWER
  SOURCE ARGUMENTS</a></h1>
<p class="Pp"><code class="Fl">-g</code> with a 'batt' or 'ps' argument will
    show the state of all attached power sources.</p>
<p class="Pp"><code class="Fl">-g</code> with a 'pslog' or 'rawlog' argument is
    normally used for debugging, such as isolating a problem with an aging
    battery.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OTHER_ARGUMENTS"><a class="permalink" href="#OTHER_ARGUMENTS">OTHER
  ARGUMENTS</a></h1>
<p class="Pp"><var class="Ar">boot</var> - tell the kernel that system boot is
    complete (normally LoginWindow does this). May be useful to Darwin users.
  <br/>
  <var class="Ar">touch</var> - PM re-reads existing settings from disk.
  <br/>
  <var class="Ar">noidle</var> - pmset prevents idle sleep by creating a PM
    assertion to prevent idle sleep(while running; hit ctrl-c to cancel). This
    argument is deprecated in favor of
    <a class="Xr" href="../8/caffeinate">caffeinate(8)</a>. Please use
    <a class="Xr" href="../8/caffeinate">caffeinate(8)</a> instead.
  <br/>
  <var class="Ar">sleepnow</var> - causes an immediate system sleep.
  <br/>
  <var class="Ar">restoredefaults</var> - Restores Energy Saver settings to
    their default values. (Like clicking &quot;Restore Defaults&quot; in Energy
    Saver GUI).
  <br/>
  <var class="Ar">displaysleepnow</var> - causes display to go to sleep
    immediately.
  <br/>
  <var class="Ar">resetdisplayambientparams</var> - resets the ambient light
    parameters for certain Apple displays.
  <br/>
  <var class="Ar">dim</var> - deprecated in 10.4 in favor of 'displaysleep'.
    'dim' will continue to work.
  <br/>
  <var class="Ar">spindown</var> - deprecated in 10.4 in favor of 'disksleep'.
    'spindown' will continue to work.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">This command sets displaysleep to a 5 minute timer on battery
    power, leaving other settings on battery power and other power sources
    unperturbed.</p>
<p class="Pp"><code class="Nm">pmset</code> <code class="Fl">-b</code>
    displaysleep 5</p>
<p class="Pp">Sets displaysleep to 10, disksleep to 10, system sleep to 30, and
    turns on WakeOnMagicPacket for ALL power sources (AC, Battery, and UPS) as
    appropriate</p>
<p class="Pp"><code class="Nm">pmset</code> <code class="Fl">-a</code>
    displaysleep 10 disksleep 10 sleep 30 womp 1</p>
<p class="Pp">Restores the system's energy settings to their default values.</p>
<p class="Pp">For a system with an attached and supported UPS, this instructs
    the system to perform an emergency shutdown when UPS battery drains to below
    40%.</p>
<p class="Pp"><code class="Nm">pmset</code> <code class="Fl">-u</code> haltlevel
    40</p>
<p class="Pp">For a system with an attached and supported UPS, this instructs
    the system to perform an emergency shutdown when UPS battery drains to below
    25%, or when the UPS estimates it has less than 30 minutes remaining
    runtime. The system shuts down as soon as either of these conditions is
  met.</p>
<p class="Pp"><code class="Nm">pmset</code> <code class="Fl">-u</code> haltlevel
    25 haltremain 30</p>
<p class="Pp">For a system with an attached and supported UPS, this instructs
    the system to perform an emergency shutdown after 2 minutes of running on
    UPS battery power.</p>
<p class="Pp"><code class="Nm">pmset</code> <code class="Fl">-u</code> haltafter
    2</p>
<p class="Pp">Schedules the system to automatically wake from sleep on July 4,
    2016, at 8PM.</p>
<p class="Pp"><code class="Nm">pmset</code> schedule wake &quot;07/04/16
    20:00:00&quot;</p>
<p class="Pp">Schedules a repeating shutdown to occur each day, Tuesday through
    Saturday, at 11AM.</p>
<p class="Pp"><code class="Nm">pmset</code> repeat shutdown TWRFS 11:00:00</p>
<p class="Pp">Schedules a repeating wake or power on event every tuesday at
    12:00 noon, and a repeating sleep event every night at 8:00 PM.</p>
<p class="Pp"><code class="Nm">pmset</code> repeat wakeorpoweron T 12:00:00
    sleep MTWRFSU 20:00:00</p>
<p class="Pp">Prints the power management settings in use by the system.</p>
<p class="Pp"><code class="Nm">pmset</code> <code class="Fl">-g</code></p>
<p class="Pp">Prints a snapshot of battery/power source state at the moment.</p>
<p class="Pp"><code class="Nm">pmset</code> <code class="Fl">-g</code> batt</p>
<p class="Pp">If your system suddenly sleeps on battery power with 20-50% of
    capacity remaining, leave this command running in a Terminal window. When
    you see the problem and later power and wake the computer, you'll be able to
    detect sudden discontinuities (like a jump from 30% to 0%) indicative of an
    aging battery.</p>
<p class="Pp"><code class="Nm">pmset</code> <code class="Fl">-g</code> pslog</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr" href="../8/caffeinate">caffeinate(8)</a></p>
</section>
<section class="Sh">
<h1 class="Sh" id="FILES"><a class="permalink" href="#FILES">FILES</a></h1>
<p class="Pp">All changes made through <code class="Nm">pmset</code> are saved
    in a persistent preferences file (per-system, not per-user) at
    <span class="Pa">/Library/Preferences/SystemConfiguration/com.apple.PowerManagement.plist</span></p>
<p class="Pp">Scheduled power on/off events are stored separately in
    <span class="Pa">/Library/Preferences/SystemConfiguration/com.apple.AutoWake.plist</span></p>
<p class="Pp"><code class="Nm">pmset</code> modifies the same file that System
    Preferences Energy Saver modifies.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">November 9, 2012</td>
    <td class="foot-os">Darwin</td>
  </tr>
</table>
</body>
</html>
