<!DOCTYPE html>
<html lang="en">
<!-- This is an automatically generated file.  Do not edit.
   see 'man mdoc' for syntax examples
   this should go in /usr/share/man/man1/
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>profiles(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">profiles(1)</td>
    <td class="head-vol"><a href=".">General Commands Manual</a></td>
    <td class="head-rtitle">profiles(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">profiles</code> &#x2014;
    <span class="Nd">Profiles Tool for macOS.</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">profiles</code></td>
    <td><var class="Ar">verb</var> [<var class="Ar">options</var>]</td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><code class="Nm">profiles</code> is used to handle various profile
    types on macOS. Starting with macOS 11.0 (profiles tool 8.0 or later), this
    tool cannot be
  <br/>
   used to install configuration profiles. You should add your profiles using
    the System Settings Profiles
  <br/>
   preference pane. Additionally, startup profiles are no longer supported.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="VERBS"><a class="permalink" href="#VERBS">VERBS</a></h1>
<p class="Pp">Each command verb is listed with its description and optional
    individual arguments. Most commands use the -type option to determine which
    kind of profile should be used in the command. For those commands, if no
    type is specified, the default will be to use the configuration profile
    type.</p>
<dl class="Bl-hang">
  <dt id="help"><a class="permalink" href="#help"><b class="Sy">help</b></a></dt>
  <dd>
    <br/>
    Shows abbreviated help</dd>
  <dt id="list"><a class="permalink" href="#list"><b class="Sy">list</b></a></dt>
  <dd><a class="permalink" href="#type"><b class="Sy" id="type">-type</b></a>
      <var class="Ar">profile_type</var> <b class="Sy">-user</b>
      <var class="Ar">user_name</var> <b class="Sy">-output</b>
      <var class="Ar">output_path</var>
    <br/>
    List profiles for a user or when running as root, the device.</dd>
  <dt id="show"><a class="permalink" href="#show"><b class="Sy">show</b></a></dt>
  <dd><a class="permalink" href="#type~2"><b class="Sy" id="type~2">-type</b></a>
      <var class="Ar">profile_type</var> <b class="Sy">-user</b>
      <var class="Ar">user_name</var> <b class="Sy">-output</b>
      <var class="Ar">output_path</var> <b class="Sy">-cached</b>
    <br/>
    Show expanded information for profiles. If the type is set to enrollment,
      this will instead show the current server DEP configuration. Obtaining the
      enrollment information may be rate limited to 10 times every 23 hours, at
      which point it will try to display the information from the local cache.
      Should this occur, a note will be displayed with the enrollment
      information. If the -cached option is set, the enrollment information will
      only be obtained from the local cache.</dd>
  <dt id="remove"><a class="permalink" href="#remove"><b class="Sy">remove</b></a></dt>
  <dd><a class="permalink" href="#type~3"><b class="Sy" id="type~3">-type</b></a>
      <var class="Ar">profile_type</var> <b class="Sy">-user</b>
      <var class="Ar">user_name</var> <b class="Sy">-identifier</b>
      <var class="Ar">identifier</var> <b class="Sy">-uuid</b>
      <var class="Ar">uuid</var> <b class="Sy">-path</b>
      <var class="Ar">file_path</var> <b class="Sy">-forced</b>
      <b class="Sy">-all</b>
    <br/>
    Remove profiles. Attempting to remove a configuration profile requring a
      removal password without the correct password will fail.</dd>
  <dt id="status"><a class="permalink" href="#status"><b class="Sy">status</b></a></dt>
  <dd><a class="permalink" href="#type~4"><b class="Sy" id="type~4">-type</b></a>
      <var class="Ar">profile_type</var>
    <br/>
    Display status of the profiles installed on this client. When displaying the
      enrollment type status, if the MDM enrollment was user approved, the
      status output will show &quot;(User Approved)&quot;.</dd>
  <dt id="sync"><a class="permalink" href="#sync"><b class="Sy">sync</b></a></dt>
  <dd><b class="Sy">-type configuration</b>
    <br/>
    For configuration profiles, synchronize current installed set of profiles
      with the local users and remove any configuration profiles that belong to
      users that no longer exist on this computer.</dd>
  <dt id="renew"><a class="permalink" href="#renew"><b class="Sy">renew</b></a></dt>
  <dd><a class="permalink" href="#type~5"><b class="Sy" id="type~5">-type</b></a>
      <var class="Ar">profile_type</var> <b class="Sy">-identifier</b>
      <var class="Ar">identifier</var> <b class="Sy">-output</b>
      <var class="Ar">output_path</var>
    <br/>
    For configuration profiles, renews any certificates for the specified
      profile. For Device Enrollment Program (DEP) enrollments, retry to obtain
      the device enrollment configuration, and re-enable the user notification
      if enrollment wasn't completed. With enrollments, this call may be rate
      limited to 10 times every 23 hours, though it should try to enroll with
      cached information if it is available.</dd>
  <dt id="validate"><a class="permalink" href="#validate"><b class="Sy">validate</b></a></dt>
  <dd><a class="permalink" href="#type~6"><b class="Sy" id="type~6">-type</b></a>
      <var class="Ar">profile_type</var> <b class="Sy">-path</b>
      <var class="Ar">file_path</var>
    <br/>
    For provisioning profiles, validate the provisioning profile located at the
      file_path. For enrollments, re-validate the installed DEP server
      information and update any local information, displaying any major
      changes. If this information is different from the current enrolled
      server, this will not unenroll the client from the current server. This
      call may be rate limited to 10 times every 23 hours.</dd>
  <dt id="version"><a class="permalink" href="#version"><b class="Sy">version</b></a></dt>
  <dd>
    <br/>
    Displays current tool version.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt id="type~7"><a class="permalink" href="#type~7"><code class="Fl">-type</code></a>
    <var class="Ar">profile_type</var></dt>
  <dd>The profile_type can be one of either: &quot;configuration&quot;,
      &quot;provisioning&quot;, &quot;bootstraptoken&quot;, or
      &quot;enrollment&quot; (DEP). If a command requires a profile type and
      none is specified, &quot;configuration&quot; will be used.</dd>
  <dt id="path"><a class="permalink" href="#path"><code class="Fl">-path</code></a>
    <var class="Ar">file_path</var></dt>
  <dd>A file path or &quot;-&quot; to represent stdout. When used by the remove
      command for startup profiles, this should only contain the file name of
      the profile.</dd>
  <dt id="user"><a class="permalink" href="#user"><code class="Fl">-user</code></a>
    <var class="Ar">user_name</var></dt>
  <dd>An OD short user name. In most cases if no user was specified, then the
      current user will be used. If no user option was specified and the process
      runs as root, the computer/device profiles will be used in the
    command.</dd>
  <dt id="uuid"><a class="permalink" href="#uuid"><code class="Fl">-uuid</code></a>
    <var class="Ar">profile_uuid</var></dt>
  <dd>A canonical form UUID to specify a profile's PayloadUUID, such as
      5A15247B-899C-474D-B1D7-DBD82BDE5684. Only used by the remove provisioning
      profile command.</dd>
  <dt id="identifier"><a class="permalink" href="#identifier"><code class="Fl">-identifier</code></a>
    <var class="Ar">profile_identifier</var></dt>
  <dd>A profile identifier (PayloadIdentifier) to specify a profile.</dd>
  <dt id="output"><a class="permalink" href="#output"><code class="Fl">-output</code></a>
    <var class="Ar">output_path</var></dt>
  <dd>The output path location. The output_path argument must be specified to
      use this option, Use 'stdout' to send this informaton to the console. File
      output will be written as an XML plist file, or you can use 'stdout-xml'
      to write XML to the console. The toplevel key of the dictionary will
      contain either the user name, or _computerLevel for device or provisioning
      profile information.</dd>
  <dt id="password"><a class="permalink" href="#password"><code class="Fl">-password</code></a>
    <var class="Ar">password</var></dt>
  <dd>An optional password used when removing a configuration profile which
      requires the password removal option.</dd>
  <dt id="forced"><a class="permalink" href="#forced"><code class="Fl">-forced</code></a></dt>
  <dd>This will prevent confirmation requests, and when trying to remove all
      configuration profles for a user, it will ignore any errors during
      removal.</dd>
  <dt id="all"><a class="permalink" href="#all"><code class="Fl">-all</code></a></dt>
  <dd>For configuration profiles, when running as root, the use of this option
      with the list or show commands will display all profiles installed on the
      system. When removing profiles, using this option will remove all profiles
      for that user (or device).</dd>
  <dt id="cached"><a class="permalink" href="#cached"><code class="Fl">-cached</code></a></dt>
  <dd>A flag to indicate that information should only be obtained from the local
      cache. This is currently used for the show command's enrollment
    option.</dd>
  <dt id="verbose"><a class="permalink" href="#verbose"><code class="Fl">-verbose</code></a></dt>
  <dd>Display additional information.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="PROFILE_TYPES"><a class="permalink" href="#PROFILE_TYPES">PROFILE
  TYPES</a></h1>
<dl class="Bl-tag">
  <dt>configuration</dt>
  <dd>A configuration profile.</dd>
  <dt>provisioning</dt>
  <dd>A provisioning profile.</dd>
  <dt>enrollment</dt>
  <dd>A device enrollment program (DEP) or mobile device management (MDM)
      enrollment profile or feature.</dd>
  <dt>bootstraptoken</dt>
  <dd>Bootstrap Token options. Requires MDM supervised client.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<dl class="Bl-tag">
  <dt>profiles remove -path /profiles/testfile2.mobileconfig</dt>
  <dd>Removes the configuration profile file '/profiles/testfile2.mobileconfig'
      into the current user.</dd>
  <dt>profiles list -type provisioning</dt>
  <dd>Displays a list of installed provisioning profiles.</dd>
  <dt>profiles list -all</dt>
  <dd>When running as root, this will list all configuration profiles on the
      system.</dd>
  <dt>profiles show</dt>
  <dd>Displays extended information for installed configuration profiles for the
      current user.</dd>
  <dt>profiles status -type startup</dt>
  <dd>Displays information on whether or not startup profiles are set up.</dd>
  <dt>profiles remove -identifier com.example.profile1 -password pass</dt>
  <dd>Removes any installed profiles with the identifier com.example.profile1 in
      the current user and using a removal password of 'pass'.</dd>
  <dt>profiles show -type enrollment</dt>
  <dd>Displays the current DEP configuration information.</dd>
  <dt>profiles renew -type enrollment</dt>
  <dd>Re-enables the DEP user notification enrollment messages.</dd>
  <dt>profiles install -type bootstraptoken</dt>
  <dd>Creates or updates the Bootstrap Token APFS record and escrows the
      information to the server.</dd>
  <dt>profiles show -type enrollment -cached</dt>
  <dd>Displays the cached information of an existing DEP enrollment
      configuration.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr" href="../1/profiles.old">profiles.old(1)</a></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">March 24, 2022</td>
    <td class="foot-os"><a href="..">macOS</a></td>
  </tr>
</table>
</body>
</html>
