<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   t
       Title: git-multi-pack-index
      Author: [FIXME: author] [see http://www.docbook.org/tdg5/en/html/author]
   Generator: DocBook XSL Stylesheets vsnapshot <http://docbook.sf.net/>
        Date: 06/06/2021
      Manual: Git Manual
      Source: Git 2.32.0
    Language: English
   -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>GIT-MULTI-PACK-IN(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GIT-MULTI-PACK-IN(1)</td>
    <td class="head-vol">Git Manual</td>
    <td class="head-rtitle">GIT-MULTI-PACK-IN(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">git-multi-pack-index - Write and verify multi-pack-indexes</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<i>git multi-pack-index</i> [--object-dir=&lt;dir&gt;] [--[no-]progress]
<br/>
        [--preferred-pack=&lt;pack&gt;] &lt;subcommand&gt;
</pre>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">Write or verify a multi-pack-index (MIDX) file.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<p class="Pp">--object-dir=&lt;dir&gt;</p>
<div class="Bd-indent">Use given directory for the location of Git objects. We
  check <b>&lt;dir&gt;/packs/multi-pack-index</b> for the current MIDX file, and
  <b>&lt;dir&gt;/packs</b> for the pack-files to index.</div>
<p class="Pp">--[no-]progress</p>
<div class="Bd-indent">Turn progress on/off explicitly. If neither is specified,
  progress is shown if standard error is connected to a terminal.</div>
<p class="Pp">The following subcommands are available:</p>
<p class="Pp">write</p>
<div class="Bd-indent">Write a new MIDX file. The following options are
  available for the <b>write</b> sub-command:
<p class="Pp">--preferred-pack=&lt;pack&gt;</p>
<div class="Bd-indent">Optionally specify the tie-breaking pack used when
  multiple packs contain the same object. If not given, ties are broken in favor
  of the pack with the lowest mtime.</div>
</div>
<p class="Pp">verify</p>
<div class="Bd-indent">Verify the contents of the MIDX file.</div>
<p class="Pp">expire</p>
<div class="Bd-indent">Delete the pack-files that are tracked by the MIDX file,
  but have no objects referenced by the MIDX. Rewrite the MIDX file afterward to
  remove all references to these pack-files.</div>
<p class="Pp">repack</p>
<div class="Bd-indent">Create a new pack-file containing objects in small
  pack-files referenced by the multi-pack-index. If the size given by the
  <b>--batch-size=&lt;size&gt;</b> argument is zero, then create a pack
  containing all objects referenced by the multi-pack-index. For a non-zero
  batch size, Select the pack-files by examining packs from oldest-to-newest,
  computing the &quot;expected size&quot; by counting the number of objects in
  the pack referenced by the multi-pack-index, then divide by the total number
  of objects in the pack and multiply by the pack size. We select packs with
  expected size below the batch size until the set of packs have total expected
  size at least the batch size, or all pack-files are considered. If only one
  pack-file is selected, then do nothing. If a new pack-file is created, rewrite
  the multi-pack-index to reference the new pack-file. A later run of <i>git
  multi-pack-index expire</i> will delete the pack-files that were part of this
  batch.
<p class="Pp">If <b>repack.packKeptObjects</b> is <b>false</b>, then any
    pack-files with an associated <b>.keep</b> file will not be selected for the
    batch to repack.</p>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<div class="Bd-indent">&#x2022;Write a MIDX file for the packfiles in the
  current .git folder.
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
$ git multi-pack-index write
</pre>
</div>
<p class="Pp"></p>
</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;Write a MIDX file for the packfiles in an
  alternate object store.
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
$ git multi-pack-index --object-dir &lt;alt&gt; write
</pre>
</div>
<p class="Pp"></p>
</div>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;Verify the MIDX file for the packfiles in the
  current .git folder.
<p class="Pp"></p>
<div class="Bd-indent">
<pre>
$ git multi-pack-index verify
</pre>
</div>
<p class="Pp"></p>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">See <b>The Multi-Pack-Index Design Document</b>[1] and <b>The
    Multi-Pack-Index Format</b>[2] for more information on the multi-pack-index
    feature.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="GIT"><a class="permalink" href="#GIT">GIT</a></h1>
<p class="Pp">Part of the <b>git</b>(1) suite</p>
</section>
<section class="Sh">
<h1 class="Sh" id="NOTES"><a class="permalink" href="#NOTES">NOTES</a></h1>
<dl class="Bl-tag">
  <dt> 1.</dt>
  <dd>The Multi-Pack-Index Design Document</dd>
</dl>
<div class="Bd-indent">git-htmldocs/technical/multi-pack-index.html</div>
<dl class="Bl-tag">
  <dt> 2.</dt>
  <dd>The Multi-Pack-Index Format</dd>
</dl>
<div class="Bd-indent">git-htmldocs/technical/pack-format.html</div>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">06/06/2021</td>
    <td class="foot-os">Git 2.32.0</td>
  </tr>
</table>
</body>
</html>
