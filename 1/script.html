<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Copyright (c) 1980, 1990, 1993
  	The Regents of the University of California.  All rights reserved.
  
   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:
   1. Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
   3. Neither the name of the University nor the names of its contributors
      may be used to endorse or promote products derived from this software
      without specific prior written permission.
  
   THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
   FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
   OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
   HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
   OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
   SUCH DAMAGE.
  
  	@(#)script.1	8.1 (Berkeley) 6/6/93
   $FreeBSD$
   -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>SCRIPT(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">SCRIPT(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">SCRIPT(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">script</code> &#x2014; <span class="Nd">make
    typescript of terminal session</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">script</code></td>
    <td>[<code class="Fl">-aeFkqr</code>] [<code class="Fl">-t</code>
      <var class="Ar">time</var>] [<var class="Ar">file</var>
      [<var class="Ar">command ...</var>]]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">script</code></td>
    <td><code class="Fl">-p</code> [<code class="Fl">-deq</code>]
      [<code class="Fl">-T</code> <var class="Ar">fmt</var>]
      [<var class="Ar">file</var>]</td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The <code class="Nm">script</code> utility makes a typescript of
    everything printed on your terminal. It is useful for students who need a
    hardcopy record of an interactive session as proof of an assignment, as the
    typescript file can be printed out later with
    <a class="Xr" href="../1/lpr">lpr(1)</a>.</p>
<p class="Pp">If the argument <var class="Ar">file</var> is given,
    <code class="Nm">script</code> saves all dialogue in
    <var class="Ar">file</var>. If no file name is given, the typescript is
    saved in the file <span class="Pa">typescript</span>.</p>
<p class="Pp">If the argument <var class="Ar">command</var> is given,
    <code class="Nm">script</code> will run the specified command with an
    optional argument vector instead of an interactive shell.</p>
<p class="Pp">The following options are available:</p>
<dl class="Bl-tag">
  <dt id="a"><a class="permalink" href="#a"><code class="Fl">-a</code></a></dt>
  <dd>Append the output to <var class="Ar">file</var> or
      <span class="Pa">typescript</span>, retaining the prior contents.</dd>
  <dt id="d"><a class="permalink" href="#d"><code class="Fl">-d</code></a></dt>
  <dd>When playing back a session with the <code class="Fl">-p</code> flag, do
      not sleep between records when playing back a timestamped session.</dd>
  <dt id="e"><a class="permalink" href="#e"><code class="Fl">-e</code></a></dt>
  <dd>Accepted for compatibility with
      <a class="permalink" href="#util-linux"><i class="Em" id="util-linux">util-linux</i></a>
      <code class="Nm">script</code>. The child command exit status is always
      the exit status of <code class="Nm">script</code>.</dd>
  <dt id="F"><a class="permalink" href="#F"><code class="Fl">-F</code></a></dt>
  <dd>Immediately flush output after each write. This will allow a user to
      create a named pipe using <a class="Xr" href="../1/mkfifo">mkfifo(1)</a>
      and another user may watch the live session using a utility like
      <a class="Xr" href="../1/cat">cat(1)</a>.</dd>
  <dt id="k"><a class="permalink" href="#k"><code class="Fl">-k</code></a></dt>
  <dd>Log keys sent to the program as well as output.</dd>
  <dt id="p"><a class="permalink" href="#p"><code class="Fl">-p</code></a></dt>
  <dd>Play back a session recorded with the <code class="Fl">-r</code> flag in
      real time.</dd>
  <dt id="q"><a class="permalink" href="#q"><code class="Fl">-q</code></a></dt>
  <dd>Run in quiet mode, omit the start, stop and command status messages.</dd>
  <dt id="r"><a class="permalink" href="#r"><code class="Fl">-r</code></a></dt>
  <dd>Record a session with input, output, and timestamping.</dd>
  <dt id="t"><a class="permalink" href="#t"><code class="Fl">-t</code></a>
    <var class="Ar">time</var></dt>
  <dd>Specify the interval at which the script output file will be flushed to
      disk, in seconds. A value of 0 causes <code class="Nm">script</code> to
      flush after every character I/O event. The default interval is 30
    seconds.</dd>
  <dt id="T"><a class="permalink" href="#T"><code class="Fl">-T</code></a>
    <var class="Ar">fmt</var></dt>
  <dd>Implies <code class="Fl">-p</code>, but just reports the time-stamp of
      each output. This is very useful for assessing the timing of events.
    <p class="Pp">If <var class="Ar">fmt</var> does not contain any
        &#x2018;<code class="Li">%</code>&#x2019; characters, it indicates the
        default format: &#x2018;<code class="Li">%n@ %s [%Y-%m-%d
        %T]%n</code>&#x2019;, which is useful for both tools and humans to read,
        should be used. Note that time-stamps will only be output when different
        from the previous one.</p>
  </dd>
</dl>
<p class="Pp" id="exit">The script ends when the forked shell (or command) exits
    (a <i class="Em">control-D</i> to exit the Bourne shell
    (<a class="Xr" href="../1/sh">sh(1)</a>), and
    <a class="permalink" href="#exit"><i class="Em">exit</i></a>,
    <a class="permalink" href="#logout"><i class="Em" id="logout">logout</i></a>
    or <i class="Em">control-D</i> (if
    <a class="permalink" href="#ignoreeof"><i class="Em" id="ignoreeof">ignoreeof</i></a>
    is not set) for the C-shell, <a class="Xr" href="../1/csh">csh(1)</a>).</p>
<p class="Pp">Certain interactive commands, such as
    <a class="Xr" href="../1/vi">vi(1)</a>, create garbage in the typescript
    file. The <code class="Nm">script</code> utility works best with commands
    that do not manipulate the screen. The results are meant to emulate a
    hardcopy terminal, not an addressable one.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT"><a class="permalink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<p class="Pp">The following environment variables are utilized by
    <code class="Nm">script</code>:</p>
<dl class="Bl-tag">
  <dt id="SCRIPT"><a class="permalink" href="#SCRIPT"><code class="Ev">SCRIPT</code></a></dt>
  <dd>The <code class="Ev">SCRIPT</code> environment variable is added to the
      sub-shell. If <code class="Ev">SCRIPT</code> already existed in the users
      environment, its value is overwritten within the sub-shell. The value of
      <code class="Ev">SCRIPT</code> is the name of the
      <var class="Ar">typescript</var> file.</dd>
  <dt id="SHELL"><a class="permalink" href="#SHELL"><code class="Ev">SHELL</code></a></dt>
  <dd>If the variable <code class="Ev">SHELL</code> exists, the shell forked by
      <code class="Nm">script</code> will be that shell. If
      <code class="Ev">SHELL</code> is not set, the Bourne shell is assumed.
      (Most shells set this variable automatically).</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">Record a simple <a class="Xr" href="../1/csh">csh(1)</a> session
    with no additional details like input, output, and timestamping:</p>
<div class="Bd Pp Bd-indent Li">
<pre>$ SHELL=/bin/csh script
Script started, output file is typescript
% date
Tue Jan  5 15:08:10 UTC 2021
% exit
exit

Script done, output file is typescript</pre>
</div>
<p class="Pp">Now, replay the session recorded in the previous example:</p>
<div class="Bd Pp Bd-indent Li">
<pre>$ cat ./typescript
Script started on Tue Jan  5 15:08:08 2021
% date
Tue Jan  5 15:08:10 UTC 2021
% exit
exit

Script done on Tue Jan  5 15:08:13 2021</pre>
</div>
<p class="Pp">Record a <a class="Xr" href="../1/csh">csh(1)</a> session, but
    this time with additional details like timestamping:</p>
<div class="Bd Pp Bd-indent Li">
<pre>$ SHELL=/bin/csh script -r
Script started, output file is typescript
% date
Tue Jan  5 15:17:11 UTC 2021
% exit
exit

Script done, output file is typescript</pre>
</div>
<p class="Pp">In order to replay a sessions recorded with the
    <code class="Fl">-r</code> flag, it is necessary to specify
    <code class="Fl">-p</code> (<a class="Xr" href="../1/cat">cat(1)</a> will
    not work because of all the aditional information stored in the session
    file). Also, let us use <code class="Fl">-d</code> to print the whole
    session at once:</p>
<div class="Bd Pp Bd-indent Li">
<pre>$ script -dp ./typescript
Script started on Tue Jan  5 15:17:09 2021
% date
Tue Jan  5 15:17:11 UTC 2021
% exit
exit

Script done on Tue Jan  5 15:17:14 2021</pre>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr" href="../1/csh">csh(1)</a> (for the
    <a class="permalink" href="#history"><i class="Em" id="history">history</i></a>
    mechanism)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
<p class="Pp">The <code class="Nm">script</code> command appeared in
    <span class="Ux">3.0BSD</span>.</p>
<p class="Pp">The <code class="Fl">-d</code>, <code class="Fl">-p</code> and
    <code class="Fl">-r</code> options first appeared in <span class="Ux">NetBSD
    2.0</span> and were ported to <span class="Ux">FreeBSD 9.2</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">The <code class="Nm">script</code> utility places
    <a class="permalink" href="#everything"><b class="Sy" id="everything">everything</b></a>
    in the log file, including linefeeds and backspaces. This is not what the
    naive user expects.</p>
<p class="Pp">It is not possible to specify a command without also naming the
    script file because of argument parsing compatibility issues.</p>
<p class="Pp">When running in <code class="Fl">-k</code> mode, echo cancelling
    is far from ideal. The slave terminal mode is checked for ECHO mode to check
    when to avoid manual echo logging. This does not work when the terminal is
    in a raw mode where the program being run is doing manual echo.</p>
<p class="Pp">If <code class="Nm">script</code> reads zero bytes from the
    terminal, it switches to a mode when it only attempts to read once a second
    until there is data to read. This prevents <code class="Nm">script</code>
    from spinning on zero-byte reads, but might cause a 1-second delay in
    processing of user input.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">October 26, 2022</td>
    <td class="foot-os">macOS 14.4</td>
  </tr>
</table>
</body>
</html>
