<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
       $OpenBSD: nc.1,v 1.40 2005/07/17 19:18:47 jmc Exp $
  
   Copyright (c) 1996 David Sacerdote
   All rights reserved.
  
   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:
   1. Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
   3. The name of the author may not be used to endorse or promote products
      derived from this software without specific prior written permission
  
   THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
   IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
   OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
   IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
   INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
   NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
   DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
   THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
   (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
   THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>NC(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">NC(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">NC(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">nc</code> &#x2014; <span class="Nd">arbitrary TCP
    and UDP connections and listens</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">nc</code></td>
    <td>[<code class="Fl">-46AcDCdhklnrtUuvz</code>]
      [<code class="Fl">-b</code>&#x00A0;<var class="Ar">boundif</var>]
      [<code class="Fl">-i</code>&#x00A0;<var class="Ar">interval</var>]
      [<code class="Fl">-p</code>&#x00A0;<var class="Ar">source_port</var>]
      [<code class="Fl">-s</code>&#x00A0;<var class="Ar">source_ip_address</var>]
      [<code class="Fl">-w</code>&#x00A0;<var class="Ar">timeout</var>]
      [<code class="Fl">-X</code>&#x00A0;<var class="Ar">proxy_protocol</var>]
      [<code class="Fl">-x</code>
      <var class="Ar">proxy_address</var>[:<var class="Ar">port</var>]]
      [<code class="Fl">--apple-delegate-pid</code>&#x00A0;<var class="Ar">pid</var>]
      [<code class="Fl">--apple-delegate-uuid</code>&#x00A0;<var class="Ar">uuid</var>]
      [<code class="Fl">--apple-ext-bk-idle</code>]
      [<code class="Fl">--apple-nowakefromsleep</code>&#x00A0;<var class="Ar">n</var>]
      [<code class="Fl">--apple-ecn</code>&#x00A0;<var class="Ar">mode</var>]
      [<var class="Ar">hostname</var>]
      [<var class="Ar">port</var>[<var class="Ar">s</var>]]</td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The <code class="Nm">nc</code> (or <code class="Nm">netcat</code>)
    utility is used for just about anything under the sun involving TCP or UDP.
    It can open TCP connections, send UDP packets, listen on arbitrary TCP and
    UDP ports, do port scanning, and deal with both IPv4 and IPv6. Unlike
    <a class="Xr" href="../1/telnet">telnet(1)</a>, <code class="Nm">nc</code>
    scripts nicely, and separates error messages onto standard error instead of
    sending them to standard output, as
    <a class="Xr" href="../1/telnet">telnet(1)</a> does with some.</p>
<p class="Pp">Common uses include:</p>
<p class="Pp"></p>
<ul class="Bl-bullet Bd-indent Bl-compact">
  <li>simple TCP proxies</li>
  <li>shell-script based HTTP clients and servers</li>
  <li>network daemon testing</li>
  <li>a SOCKS or HTTP ProxyCommand for
    <a class="Xr" href="../1/ssh">ssh(1)</a></li>
  <li>and much, much more</li>
</ul>
<p class="Pp">The options are as follows:</p>
<dl class="Bl-tag">
  <dt id="4"><a class="permalink" href="#4"><code class="Fl">-4</code></a></dt>
  <dd>Forces <code class="Nm">nc</code> to use IPv4 addresses only.</dd>
  <dt id="6"><a class="permalink" href="#6"><code class="Fl">-6</code></a></dt>
  <dd>Forces <code class="Nm">nc</code> to use IPv6 addresses only.</dd>
  <dt id="A"><a class="permalink" href="#A"><code class="Fl">-A</code></a></dt>
  <dd>Set SO_RECV_ANYIF on socket.</dd>
  <dt id="b"><a class="permalink" href="#b"><code class="Fl">-b</code></a>
    <var class="Ar">boundif</var></dt>
  <dd>Specifies the interface to bind the socket to.</dd>
  <dt id="c"><a class="permalink" href="#c"><code class="Fl">-c</code></a></dt>
  <dd>Send CRLF as line-ending</dd>
  <dt id="D"><a class="permalink" href="#D"><code class="Fl">-D</code></a></dt>
  <dd>Enable debugging on the socket.</dd>
  <dt id="C"><a class="permalink" href="#C"><code class="Fl">-C</code></a></dt>
  <dd>Forces <code class="Nm">nc</code> not to use cellular data context.</dd>
  <dt id="d"><a class="permalink" href="#d"><code class="Fl">-d</code></a></dt>
  <dd>Do not attempt to read from stdin.</dd>
  <dt id="h"><a class="permalink" href="#h"><code class="Fl">-h</code></a></dt>
  <dd>Prints out <code class="Nm">nc</code> help.</dd>
  <dt id="i"><a class="permalink" href="#i"><code class="Fl">-i</code></a>
    <var class="Ar">interval</var></dt>
  <dd>Specifies a delay time interval between lines of text sent and received.
      Also causes a delay time between connections to multiple ports.</dd>
  <dt id="G"><a class="permalink" href="#G"><code class="Fl">-G</code></a>
    <var class="Ar">conntimeout</var></dt>
  <dd>TCP connection timeout in seconds.</dd>
  <dt id="H"><a class="permalink" href="#H"><code class="Fl">-H</code></a>
    <var class="Ar">keepidle</var></dt>
  <dd>Initial TCP keep alive timeout in seconds.</dd>
  <dt id="I"><a class="permalink" href="#I"><code class="Fl">-I</code></a>
    <var class="Ar">keepintvl</var></dt>
  <dd>Interval for repeating TCP keep alive timeouts in seconds.</dd>
  <dt id="J"><a class="permalink" href="#J"><code class="Fl">-J</code></a>
    <var class="Ar">keepcnt</var></dt>
  <dd>Number of times to repeat TCP keep alive packets.</dd>
  <dt id="k"><a class="permalink" href="#k"><code class="Fl">-k</code></a></dt>
  <dd>Forces <code class="Nm">nc</code> to stay listening for another connection
      after its current connection is completed. It is an error to use this
      option without the <code class="Fl">-l</code> option.</dd>
  <dt id="l"><a class="permalink" href="#l"><code class="Fl">-l</code></a></dt>
  <dd>Used to specify that <code class="Nm">nc</code> should listen for an
      incoming connection rather than initiate a connection to a remote host. It
      is an error to use this option in conjunction with the
      <code class="Fl">-p</code>, <code class="Fl">-s</code>, or
      <code class="Fl">-z</code> options. Additionally, any timeouts specified
      with the <code class="Fl">-w</code> option are ignored.</dd>
  <dt id="L"><a class="permalink" href="#L"><code class="Fl">-L</code></a>
    <var class="Ar">num_probes</var></dt>
  <dd>Number of probes to send to the peer before declaring that the peer is not
      reachable and generating an adpative timeout read/write event.</dd>
  <dt id="n"><a class="permalink" href="#n"><code class="Fl">-n</code></a></dt>
  <dd>Do not do any DNS or service lookups on any specified addresses, hostnames
      or ports.</dd>
  <dt id="p"><a class="permalink" href="#p"><code class="Fl">-p</code></a>
    <var class="Ar">source_port</var></dt>
  <dd>Specifies the source port <code class="Nm">nc</code> should use, subject
      to privilege restrictions and availability. It is an error to use this
      option in conjunction with the <code class="Fl">-l</code> option.</dd>
  <dt id="r"><a class="permalink" href="#r"><code class="Fl">-r</code></a></dt>
  <dd>Specifies that source and/or destination ports should be chosen randomly
      instead of sequentially within a range or in the order that the system
      assigns them.</dd>
  <dt id="s"><a class="permalink" href="#s"><code class="Fl">-s</code></a>
    <var class="Ar">source_ip_address</var></dt>
  <dd>Specifies the IP of the interface which is used to send the packets. It is
      an error to use this option in conjunction with the
      <code class="Fl">-l</code> option.</dd>
  <dt id="t"><a class="permalink" href="#t"><code class="Fl">-t</code></a></dt>
  <dd>Causes <code class="Nm">nc</code> to send RFC 854 DON'T and WON'T
      responses to RFC 854 DO and WILL requests. This makes it possible to use
      <code class="Nm">nc</code> to script telnet sessions.</dd>
  <dt id="U"><a class="permalink" href="#U"><code class="Fl">-U</code></a></dt>
  <dd>Specifies to use Unix Domain Sockets.</dd>
  <dt id="u"><a class="permalink" href="#u"><code class="Fl">-u</code></a></dt>
  <dd>Use UDP instead of the default option of TCP.</dd>
  <dt id="v"><a class="permalink" href="#v"><code class="Fl">-v</code></a></dt>
  <dd>Have <code class="Nm">nc</code> give more verbose output.</dd>
  <dt id="w"><a class="permalink" href="#w"><code class="Fl">-w</code></a>
    <var class="Ar">timeout</var></dt>
  <dd>If a connection and stdin are idle for more than
      <var class="Ar">timeout</var> seconds, then the connection is silently
      closed. The <code class="Fl">-w</code> flag has no effect on the
      <code class="Fl">-l</code> option, i.e. <code class="Nm">nc</code> will
      listen forever for a connection, with or without the
      <code class="Fl">-w</code> flag. The default is no timeout.</dd>
  <dt id="X"><a class="permalink" href="#X"><code class="Fl">-X</code></a>
    <var class="Ar">proxy_version</var></dt>
  <dd>Requests that <code class="Nm">nc</code> should use the specified protocol
      when talking to the proxy server. Supported protocols are
      &#x201C;4&#x201D; (SOCKS v.4), &#x201C;5&#x201D; (SOCKS v.5) and
      &#x201C;connect&#x201D; (HTTPS proxy). If the protocol is not specified,
      SOCKS version 5 is used.</dd>
  <dt id="x"><a class="permalink" href="#x"><code class="Fl">-x</code></a>
    <var class="Ar">proxy_address</var>[:<var class="Ar">port</var>]</dt>
  <dd>Requests that <code class="Nm">nc</code> should connect to
      <var class="Ar">hostname</var> using a proxy at
      <var class="Ar">proxy_address</var> and <var class="Ar">port</var>. If
      <var class="Ar">port</var> is not specified, the well-known port for the
      proxy protocol is used (1080 for SOCKS, 3128 for HTTPS).</dd>
  <dt id="z"><a class="permalink" href="#z"><code class="Fl">-z</code></a></dt>
  <dd>Specifies that <code class="Nm">nc</code> should just scan for listening
      daemons, without sending any data to them. It is an error to use this
      option in conjunction with the <code class="Fl">-l</code> option.</dd>
  <dt id="apple-delegate-pid"><a class="permalink" href="#apple-delegate-pid"><code class="Fl">--apple-delegate-pid</code></a></dt>
  <dd>Requests that <code class="Nm">nc</code> should delegate the socket for
      the specified PID. It is an error to use this option in conjunction with
      the <code class="Fl">--apple-delegate-uuid</code> option.</dd>
  <dt id="apple-delegate-uuid"><a class="permalink" href="#apple-delegate-uuid"><code class="Fl">--apple-delegate-uuid</code></a></dt>
  <dd>Requests that <code class="Nm">nc</code> should delegate the socket for
      the specified UUID. It is an error to use this option in conjunction with
      the <code class="Fl">--apple-delegate-pid</code> option.</dd>
  <dt id="apple-ext-bk-idle"><a class="permalink" href="#apple-ext-bk-idle"><code class="Fl">--apple-ext-bk-idle</code></a></dt>
  <dd>Requests that <code class="Nm">nc</code> marks its socket for extended
      background idle time when the process becomes suspended.</dd>
  <dt id="apple-nowakefromsleep"><a class="permalink" href="#apple-nowakefromsleep"><code class="Fl">--apple-nowakefromsleep</code></a></dt>
  <dd>When the parameter <var class="Ar">n</var> is greater than 0, requests
      that <code class="Nm">nc</code> marks its socket to exclude the local port
      from the list of opened ports that is queried by drivers when the system
      goes to sleep. When <var class="Ar">n</var> is greater than 1, set the
      socket option that generates the KEV_SOCKET_CLOSED kernel event when the
      socket gets closed.</dd>
  <dt id="ecn"><a class="permalink" href="#ecn"><code class="Fl">--ecn</code></a></dt>
  <dd>Requests that <code class="Nm">nc</code> marks to use the socket option
      TCP_ECN_MODE to set the ECN mode (default, enable, disable)</dd>
</dl>
<p class="Pp"><var class="Ar">hostname</var> can be a numerical IP address or a
    symbolic hostname (unless the <code class="Fl">-n</code> option is given).
    In general, a hostname must be specified, unless the
    <code class="Fl">-l</code> option is given (in which case the local host is
    used).</p>
<p class="Pp"><var class="Ar">port</var>[<var class="Ar">s</var>] can be single
    integers or ranges. Ranges are in the form nn-mm. In general, a destination
    port must be specified, unless the <code class="Fl">-U</code> option is
    given (in which case a socket must be specified).</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CLIENT/SERVER_MODEL"><a class="permalink" href="#CLIENT/SERVER_MODEL">CLIENT/SERVER
  MODEL</a></h1>
<p class="Pp">It is quite simple to build a very basic client/server model using
    <code class="Nm">nc</code>. On one console, start <code class="Nm">nc</code>
    listening on a specific port for a connection. For example:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">$ nc -l 1234</code></div>
<p class="Pp"><code class="Nm">nc</code> is now listening on port 1234 for a
    connection. On a second console (or a second machine), connect to the
    machine and port being listened on:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">$ nc 127.0.0.1 1234</code></div>
<p class="Pp">There should now be a connection between the ports. Anything typed
    at the second console will be concatenated to the first, and vice-versa.
    After the connection has been set up, <code class="Nm">nc</code> does not
    really care which side is being used as a &#x2018;server&#x2019; and which
    side is being used as a &#x2018;client&#x2019;. The connection may be
    terminated using an <code class="Dv">EOF</code> (&#x2018;^D&#x2019;).</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DATA_TRANSFER"><a class="permalink" href="#DATA_TRANSFER">DATA
  TRANSFER</a></h1>
<p class="Pp">The example in the previous section can be expanded to build a
    basic data transfer model. Any information input into one end of the
    connection will be output to the other end, and input and output can be
    easily captured in order to emulate file transfer.</p>
<p class="Pp">Start by using <code class="Nm">nc</code> to listen on a specific
    port, with output captured into a file:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">$ nc -l 1234 &gt;
  filename.out</code></div>
<p class="Pp">Using a second machine, connect to the listening
    <code class="Nm">nc</code> process, feeding it the file which is to be
    transferred:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">$ nc host.example.com 1234 &lt;
  filename.in</code></div>
<p class="Pp">After the file has been transferred, the connection will close
    automatically.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="TALKING_TO_SERVERS"><a class="permalink" href="#TALKING_TO_SERVERS">TALKING
  TO SERVERS</a></h1>
<p class="Pp">It is sometimes useful to talk to servers &#x201C;by hand&#x201D;
    rather than through a user interface. It can aid in troubleshooting, when it
    might be necessary to verify what data a server is sending in response to
    commands issued by the client. For example, to retrieve the home page of a
    web site:</p>
<div class="Bd Pp Bd-indent Li">
<pre>$ echo -n &quot;GET / HTTP/1.0\r\n\r\n&quot; | nc host.example.com 80</pre>
</div>
<p class="Pp">Note that this also displays the headers sent by the web server.
    They can be filtered, using a tool such as
    <a class="Xr" href="../1/sed">sed(1)</a>, if necessary.</p>
<p class="Pp">More complicated examples can be built up when the user knows the
    format of requests required by the server. As another example, an email may
    be submitted to an SMTP server using:</p>
<div class="Bd Pp Bd-indent Li">
<pre>$ nc localhost 25 &lt;&lt; EOF
HELO host.example.com
MAIL FROM: &lt;user@host.example.com&gt;
RCPT TO: &lt;user2@host.example.com&gt;
DATA
Body of email.
.
QUIT
EOF</pre>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="PORT_SCANNING"><a class="permalink" href="#PORT_SCANNING">PORT
  SCANNING</a></h1>
<p class="Pp">It may be useful to know which ports are open and running services
    on a target machine. The <code class="Fl">-z</code> flag can be used to tell
    <code class="Nm">nc</code> to report open ports, rather than initiate a
    connection. For example:</p>
<div class="Bd Pp Bd-indent Li">
<pre>$ nc -z host.example.com 20-30
Connection to host.example.com 22 port [tcp/ssh] succeeded!
Connection to host.example.com 25 port [tcp/smtp] succeeded!</pre>
</div>
<p class="Pp">The port range was specified to limit the search to ports 20 -
  30.</p>
<p class="Pp">Alternatively, it might be useful to know which server software is
    running, and which versions. This information is often contained within the
    greeting banners. In order to retrieve these, it is necessary to first make
    a connection, and then break the connection when the banner has been
    retrieved. This can be accomplished by specifying a small timeout with the
    <code class="Fl">-w</code> flag, or perhaps by issuing a
    &quot;<code class="Dv">QUIT</code>&quot; command to the server:</p>
<div class="Bd Pp Bd-indent Li">
<pre>$ echo &quot;QUIT&quot; | nc host.example.com 20-30
SSH-1.99-OpenSSH_3.6.1p2
Protocol mismatch.
220 host.example.com IMS SMTP Receiver Version 0.84 Ready</pre>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">Open a TCP connection to port 42 of host.example.com, using port
    31337 as the source port, with a timeout of 5 seconds:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">$ nc -p 31337 -w 5 host.example.com
  42</code></div>
<p class="Pp">Open a UDP connection to port 53 of host.example.com:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">$ nc -u host.example.com
  53</code></div>
<p class="Pp">Open a TCP connection to port 42 of host.example.com using
    10.1.2.3 as the IP for the local end of the connection:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">$ nc -s 10.1.2.3 host.example.com
  42</code></div>
<p class="Pp">Create and listen on a Unix Domain Socket:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">$ nc -lU
  /var/tmp/dsocket</code></div>
<p class="Pp">Connect to port 42 of host.example.com via an HTTP proxy at
    10.2.3.4, port 8080. This example could also be used by
    <a class="Xr" href="../1/ssh">ssh(1)</a>; see the
    <code class="Cm">ProxyCommand</code> directive in
    <a class="Xr" href="../5/ssh_config">ssh_config(5)</a> for more
  information.</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">$ nc -x10.2.3.4:8080 -Xconnect
  host.example.com 42</code></div>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr" href="../1/cat">cat(1)</a>,
    <a class="Xr" href="../1/ssh">ssh(1)</a></p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<p class="Pp">Original implementation by *Hobbit*
    &#x27E8;hobbit@avian.org&#x27E9;.
  <br/>
  Rewritten with IPv6 support by <span class="An">Eric Jackson</span>
    &#x27E8;ericj@monkey.org&#x27E9;.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CAVEATS"><a class="permalink" href="#CAVEATS">CAVEATS</a></h1>
<p class="Pp">UDP port scans will always succeed (i.e. report the port as open),
    rendering the <code class="Fl">-uz</code> combination of flags relatively
    useless.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">June 25, 2001</td>
    <td class="foot-os">macOS 13.3</td>
  </tr>
</table>
</body>
</html>
