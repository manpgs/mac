<!DOCTYPE html>
<html lang="en">
<!-- This is an automatically generated file.  Do not edit.
  Copyright (c) 2004-2012 Apple Inc. All rights reserved.
  
  @APPLE_LICENSE_HEADER_START@
  
  This file contains Original Code and/or Modifications of Original Code
  as defined in and that are subject to the Apple Public Source License
  Version 2.0 (the 'License'). You may not use this file except in
  compliance with the License. Please obtain a copy of the License at
  http://www.opensource.apple.com/apsl/ and read it before using this
  file.
  
  The Original Code and all software distributed under the License are
  distributed on an 'AS IS' basis, WITHOUT WARRANTY OF ANY KIND, EITHER
  EXPRESS OR IMPLIED, AND APPLE HEREBY DISCLAIMS ALL SUCH WARRANTIES,
  INCLUDING WITHOUT LIMITATION, ANY WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE, QUIET ENJOYMENT OR NON-INFRINGEMENT.
  Please see the License for the specific language governing rights and
  limitations under the License.
  
  @APPLE_LICENSE_HEADER_END@
   -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>SYSLOG(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">SYSLOG(1)</td>
    <td class="head-vol"><a href=".">General Commands Manual</a></td>
    <td class="head-rtitle">SYSLOG(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">syslog</code> &#x2014; <span class="Nd">Apple
    System Log utility</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">syslog</code></td>
    <td><code class="Fl">-help</code>
    <div class="Bd Bd-indent"></div>
    </td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">syslog</code></td>
    <td><code class="Fl">-s</code> [<code class="Fl">-r</code>
      <var class="Ar">host</var>] [<code class="Fl">-l</code>
      <var class="Ar">level</var>] message...
    <div class="Bd Bd-indent"></div>
    </td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">syslog</code></td>
    <td><code class="Fl">-s</code> [<code class="Fl">-r</code>
      <var class="Ar">host</var>] <code class="Fl">-k</code> key val [key val]
      <code class="Li">...</code>
    <div class="Bd Bd-indent"></div>
    </td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">syslog</code></td>
    <td><code class="Fl">-C</code>
    <div class="Bd Bd-indent"></div>
    </td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">syslog</code></td>
    <td>[<code class="Fl">-f</code> <var class="Ar">file ...</var>]
      [<code class="Fl">-d</code> <var class="Ar">dir ...</var>]
      [<code class="Fl">-B</code>] [<code class="Fl">-w</code>
      [<var class="Ar">n</var>]] [<code class="Fl">-F</code>
      <var class="Ar">format</var>] [<code class="Fl">-T</code>
      <var class="Ar">format</var>] [<code class="Fl">-E</code>
      <var class="Ar">format</var>] <var class="Ar">expression</var>
    <div class="Bd Bd-indent"></div>
    </td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">syslog</code></td>
    <td>[<code class="Fl">-f</code> <var class="Ar">file ...</var>]
      [<code class="Fl">-d</code> <var class="Ar">dir ...</var>]
      <code class="Fl">-x</code> <var class="Ar">file</var>
      <var class="Ar">expression</var>
    <div class="Bd Bd-indent"></div>
    </td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">syslog</code></td>
    <td><code class="Fl">-c</code> <var class="Ar">process</var> [mask]
    <div class="Bd Bd-indent"></div>
    </td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">syslog</code></td>
    <td><code class="Fl">-config</code> [options]
    <div class="Bd Bd-indent"></div>
    </td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">syslog</code></td>
    <td><code class="Fl">-module</code> [name [action]]</td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><code class="Nm">syslog</code> is a command-line utility for a
    variety of tasks relating to the Apple System Log (ASL) facility. It
    provides mechanisms for sending and viewing log messages, copying log
    messages to ASL format data store files, and for controlling the flow of log
    messages from client processes.</p>
<p class="Pp">When invoked with the <code class="Fl">-help</code> option,
    <code class="Nm">syslog</code> prints a usage message.</p>
<p class="Pp">NOTE: Most system logs have moved to a new logging system. See
    <a class="Xr" href="../1/log">log(1)</a> for more information.</p>
<section class="Ss">
<h2 class="Ss" id="SENDING_MESSAGES"><a class="permalink" href="#SENDING_MESSAGES">SENDING
  MESSAGES</a></h2>
<p class="Pp">The <code class="Fl">-s</code> option is used send log messages to
    the <a class="Xr" href="../8/syslogd">syslogd(8)</a> log message daemon,
    either locally or to a remote server if the <code class="Fl">-r</code>
    <var class="Ar">host</var> option in used.</p>
<p class="Pp">There are two main forms of the command. If the
    <code class="Fl">-k</code> option is used, then it must be followed by a
    list of keys and values. A structured message will be sent to the server
    with the keys and values given as arguments. If a key or a value has
    embedded white space, it must be enclosed in quotes.</p>
<p class="Pp">Note that the text of the log message should be supplied as a
    value following the &#x201C;Message&#x201D; key.</p>
<p class="Pp">If the <code class="Fl">-k</code> option is not specified, then
    the rest of the command line is treated as the message text. The text may be
    preceded by <code class="Fl">-l</code> <var class="Ar">level</var> to set
    the log level (priority) of the message. Levels may be an integer value
    corresponding the the log levels specified in
    <a class="Xr" href="../3/syslog">syslog(3)</a> or
    <a class="Xr" href="../3/asl">asl(3)</a>, or they may be a string. String
    values are case insensitive, and should be one of:</p>
<p class="Pp"></p>
<dl class="Bl-tag Bl-compact">
  <dt>Emergency</dt>
  <dd>(level 0)</dd>
  <dt>Alert</dt>
  <dd>(level 1)</dd>
  <dt>Critical</dt>
  <dd>(level 2)</dd>
  <dt>Error</dt>
  <dd>(level 3)</dd>
  <dt>Warning</dt>
  <dd>(level 4)</dd>
  <dt>Notice</dt>
  <dd>(level 5)</dd>
  <dt>Info</dt>
  <dd>(level 6)</dd>
  <dt>Debug</dt>
  <dd>(level 7)</dd>
</dl>
<p class="Pp">The string &#x201C;Panic&#x201D; is an alias for
    &#x201C;Emergency&#x201D;.</p>
<p class="Pp">If the <code class="Fl">-l</code> option is omitted, the log level
    defaults to 7 (Debug).</p>
<p class="Pp"><code class="Nm">syslog</code> only requires one or two leading
    characters for a level specification. A single character suffices in most
    cases. Use &#x201C;P&#x201D; or &#x201C;Em&#x201D; for Panic / Emergency,
    and &#x201C;Er&#x201D; or &#x201C;X&#x201D; for Error).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="READING_MESSAGES"><a class="permalink" href="#READING_MESSAGES">READING
  MESSAGES</a></h2>
<p class="Pp">The <code class="Nm">syslogd</code> daemon filters and saves log
    messages to different output streams. One module saves messages to files
    specified in the <a class="Xr" href="../5/syslog.conf">syslog.conf(5)</a>
    file. Those log files may be examined with any file printing or editing
    utility, e.g.</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">cat /var/log/system.log</code></div>
<p class="Pp">Another module saves messages in a data store (/var/log/asl).</p>
<p class="Pp">If invoked with no arguments, <code class="Nm">syslog</code>
    fetches all messages from the active data store. Messages are then printed
    to standard output, subject to formatting options and character encoding as
    described below. Some log messages are read-access controlled, so only
    messages that are readable by the user running
    <code class="Nm">syslog</code> will be fetched and printed.</p>
<p class="Pp">If invoked with the <code class="Fl">-C</code> option,
    <code class="Nm">syslog</code> fetches and prints console messages. The
    <code class="Fl">-C</code> option is actually an alias for the
  expression:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">-k Facility
  com.apple.console</code></div>
<p class="Pp">See the EXPRESSIONS section below for more details.</p>
<p class="Pp">Individual ASL data store files may be read by providing one or
    more file names as arguments to the <code class="Fl">-f</code> option. This
    may be useful when searching archived files, files on alternate disk
    volumes, or files created as export files with the
    <code class="Fl">-x</code> option.</p>
<p class="Pp">The <code class="Fl">-d</code> option may be followed by a list of
    directory paths. <code class="Nm">syslog</code> will read or search all ASL
    data store files in those directories. Any files that are not readable will
    be skipped. Specifying <code class="Fl">-d</code> with the name
    &#x201C;archive&#x201D; will open all readable files in the default ASL
    archive directory /var/log/asl.archive. Specifying
    <code class="Fl">-d</code> with the name &#x201C;store&#x201D; will open all
    readable files in the ASL store directory /var/log/asl.</p>
<p class="Pp">Legacy ASL database files that were written by
    <code class="Nm">syslogd</code> on Mac OS X 10.5 (Leopard) may also be read
    using the <code class="Fl">-f</code> option. However only one such legacy
    database may be read or searched at a time. Note that a legacy database may
    be read and copied into a new ASL data store format file using a combination
    of <code class="Fl">-f</code> and <code class="Fl">-x</code> options.</p>
<p class="Pp">The <code class="Fl">-B</code> option causes
    <code class="Nm">syslog</code> to start processing messages beginning at the
    time of the last system startup. If used in conjunction with
    <code class="Fl">-w</code>, all messages since the last system startup are
    displayed, or matched against an expression, before
    <code class="Nm">syslog</code> waits for new messages.</p>
<p class="Pp">The <code class="Fl">-w</code> option causes
    <code class="Nm">syslog</code> to wait for new messages. By default,
    <code class="Nm">syslog</code> prints the last 10 messages, then waits for
    new messages to be added to the data store. A number following the
    <code class="Fl">-w</code> option specifies the number of messages to print
    and overrides the default value of 10. For example:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">syslog -w 20</code></div>
<p class="Pp">Use the value &#x201C;all&#x201D; to view all messages in the data
    store before watching for new messages. The value &#x201C;boot&#x201D; will
    display messages since the last system startup before watching for new
    messages. Specifying &#x201C;-w boot&#x201D; is equivalent to using
    <code class="Fl">-w</code> and <code class="Fl">-B</code> together.</p>
<p class="Pp">Using <code class="Nm">syslog</code> with the
    <code class="Fl">-w</code> option is similar to watching a log file using,
    e.g.</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">tail -f
  /var/log/system.log</code></div>
<p class="Pp">The <code class="Fl">-w</code> option can only be used when
    reading the system's ASL data store or when reading a single data store
    file, and when printing messages to standard output.</p>
<p class="Pp">If the <code class="Fl">-x</code> <var class="Ar">file</var>
    option is specified, messages are copied to the named file rather than being
    printed. The file will be created if it does not exist.</p>
<p class="Pp">When called without the <code class="Fl">-x</code> option,
    messages are printed to standard output. Messages are printed in a format
    similar to that used in the system.log file, except that the message
    priority level is printed between angle-brackets.</p>
<p class="Pp">The output format may by changed by specifying the
    <code class="Fl">-F</code> <var class="Ar">format</var> option.
    Non-printable and control characters are encoded by default. Text encoding
    may be controlled using the <code class="Fl">-E</code> option (see below).
    The value of <var class="Ar">format</var> may be one of the following:</p>
<dl class="Bl-tag">
  <dt>bsd</dt>
  <dd>Format used by the <code class="Nm">syslogd</code> daemon for system log
      files, e.g. /var/log/system.log.</dd>
  <dt>std</dt>
  <dd>Standard (default) format. Similar to &#x201C;bsd&#x201D;, but includes
      the message priority level.</dd>
  <dt>raw</dt>
  <dd>Prints the complete message structure. Each key/value pair is enclosed in
      square brackets. Embedded closing brackets and white space are escaped.
      Time stamps are printed as seconds since the epoch by default, but may
      also be printed in local time or UTC if the <code class="Fl">-T</code>
      option is specified (see below).</dd>
  <dt>xml</dt>
  <dd>The list of messages is printed as an XML property list. Each message is
      represented as a dictionary in a array. Dictionary keys represent message
      keys. Dictionary values are strings.</dd>
</dl>
<p class="Pp">Each of the format styles above may optionally be followed by a
    dot character and an integer value, for example:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">syslog -F std.4</code></div>
<p class="Pp">This causes sub-second time values to be printed. In the example
    above, 4 decimal digits would be printed. The sub-second time values come
    from the value of the TimeNanoSec key in the ASL message. If the TimeNanoSec
    key is missing, a value of zero is used.</p>
<p class="Pp">The value of the <var class="Ar">format</var> argument may also be
    a custom print format string. A custom format should in most cases be
    enclosed in single quotes to prevent the shell from substituting special
    characters and breaking at white space.</p>
<p class="Pp">Custom format strings may include variables of the form
    &#x201C;$Name&#x201D;, &#x201C;$(Name)&#x201D;, or
    &#x201C;$((Name)(format))&#x201D;. which will be expanded to the value
    associated with the named key. For example, the command:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">syslog -F '$Time $Host
  $(Sender)[$(PID)] &lt;$((Level)(str))&gt;: $Message'</code></div>
<p class="Pp">produces output similar to the &#x201C;std&#x201D; format. The
    simple &#x201C;$Name&#x201D; form is sufficient in most cases. However, the
    second form: &#x201C;$(Name)&#x201D; must be used if the name is not
    delimited by white space. The third form allows different formats of the
    value to be printed. For example, a message priority level may appear as an
    integer value (e.g. &#x201C;3&#x201D;) or as a string (``Error''). The
    following print formats are known.</p>
<dl class="Bl-tag">
  <dt>$((Level)(str))</dt>
  <dd>Formats a Level value as a string, for example &#x201C;Error&#x201D;,
      &#x201C;Alert&#x201D;, &#x201C;Warning&#x201D;, and so on. Note that
      $(Level) or $Level formats the value as an integer 0 through 7.</dd>
  <dt>$((Time)(sec))</dt>
  <dd>Formats a Time value as the number of seconds since the Epoch.</dd>
  <dt>$((Time)(raw))</dt>
  <dd>Alias for $((Time)(sec)).</dd>
  <dt>$((Time)(local))</dt>
  <dd>Formats a Time value as a string of the form &#x201C;Mmm dd
      hh:mm:ss&#x201D;, where Mmm is the abbreviation for the month, dd is the
      date (1 - 31) and hh:mm:ss is the time. The local timezone is used.</dd>
  <dt>$((Time)(lcl))</dt>
  <dd>Alias for $((Time)(local)).</dd>
  <dt>$((Time)(utc))</dt>
  <dd>Formats a Time value as a string of the form &#x201C;yyyy-mm-dd
      hh:mm:ssZ&#x201D;, using Coordinated Universal Time, or the
      &#x201C;Zulu&#x201D; time zone.</dd>
  <dt>$((Time)(zulu))</dt>
  <dd>Alias for $((Time)(utc)).</dd>
  <dt>$((Time)(X))</dt>
  <dd>Where X may be any letter in the range A - Z or a - z. Formats the Time
      using the format &#x201C;yyyy-mm-dd hh:mm:ssX&#x201D;, using the specified
      nautical timezone. Z is the same as UTC/Zulu time. Timezones A - M (except
      J) decrease by one hour to the east of the Zulu time zone. Timezones N - Y
      increase by one hour to the west of Z. M and Y have the same clock time,
      but differ by one day. J is used to indicate the local timezone. When
      printing using $((Time)(J)), the output format is &#x201C;yyyy-mm-dd
      hh:mm:ss&#x201D;, without a trailing timezone letter.</dd>
  <dt>$((Time)(JZ))</dt>
  <dd>Specifies the local timezone. The timezone offset from UTC follows the
      date and time. The time is formatted as &#x201C;yyyy-mm-dd
      hh:mm:ss[+|-]HH[:MM]&#x201D;. Minutes in the timezone offset are only
      printed if they are non-zero.</dd>
  <dt>$((Time)(ISO8601))</dt>
  <dd>Specifies the local timezone and ISO 8601 extended format. The timezone
      offset from UTC follows the date and time. The time is formatted as
      &#x201C;yyyy-mm-ddThh:mm:ss[+|-]HH[:MM]&#x201D;. Minutes in the timezone
      offset are only printed if they are non-zero. Note that this differs from
      &#x201C;JZ&#x201D; format only in that a &#x201C;T&#x201D; character
      separates the date and time.</dd>
  <dt>$((Time)(ISO8601B))</dt>
  <dd>Specifies the local timezone and ISO 8601 basic format, in the form:
      &#x201C;yyyymmddThhmmss[+|-]HH[:MM]&#x201D;.</dd>
  <dt>$((Time)(ISO8601Z))</dt>
  <dd>Specifies UTC/Zulu time and ISO 8601 extended format, in the form:
      &#x201C;yyyy-mm-ddThh:mm:ssZ&#x201D;.</dd>
  <dt>$((Time)(ISO8601BZ))</dt>
  <dd>Specifies UTC/Zulu time and ISO 8601 basic format, in the form:
      &#x201C;yyyymmddThhmmssZ&#x201D;.</dd>
  <dt>$((Time)([+|-]HH[:MM]))</dt>
  <dd>Specifies an offset (+ or -) of the indicated number of hours (HH) and
      optionally minutes (MM) to UTC. The value is formatted as a string of the
      form &#x201C;yyyy-mm-dd hh:mm:ss[+|-]HH[:MM]&#x201D;. Minutes in the
      timezone offset are only printed if they are non-zero.</dd>
</dl>
<p class="Pp">Each of the print formats listed above for Time values may
    optionally be followed by a dot character and an integer value. In that
    case, sub-second time values will be printed. For example, the following
    line prints messages with a UTC time format, and includes 6 digits of
    sub-second time:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">syslog -F '$((Time)(utc.6)) $Host
  $(Sender)[$(PID)] &lt;$((Level)(str))&gt;: $Message</code></div>
<p class="Pp">If a custom format is not being used to specify the format for
    Time values, then Time values are generally converted to local time, except
    when the <code class="Fl">-F</code> <var class="Ar">raw</var> option is
    used, in which case times are printed as the number of seconds since the
    epoch. The <code class="Fl">-T</code> <var class="Ar">format</var> option
    may be used to control the format used for timestamps. The value of
    <var class="Ar">format</var> may be one of the following:</p>
<dl class="Bl-tag">
  <dt>sec or raw</dt>
  <dd>Times are printed as the number of seconds since the epoch.</dd>
  <dt>local or lcl</dt>
  <dd>Times are converted to the local time zone, and printed with the format
    <div class="Bd Bd-indent"><code class="Li">mmm dd hh:mm:ss</code></div>
    where mmm is the month name abbreviated as three characters.</dd>
  <dt>utc or zulu</dt>
  <dd>Times are converted to UTC, and printed with the format
    <div class="Bd Bd-indent"><code class="Li">yyyy-mm-dd hh:mm:ssZ</code></div>
  </dd>
  <dt>A-Z</dt>
  <dd>Times are converted to the indicated nautical time zone, printed in the
      same format as UTC. &#x201C;J&#x201D; is interpreted as the local timezone
      and printed in the same format, but without a trailing timezone
    letter.</dd>
  <dt>JZ</dt>
  <dd>is interpreted as the local timezone and printed with the format
    <div class="Bd Bd-indent"><code class="Li">yyyy-mm-dd
      hh:mm:ss[+|-]HH[:MM]</code></div>
    . The trailing &#x201C;[+|-]HH[:MM]&#x201D; string represents the local
      timezone offset from UTC in hours, or in hours and minutes if minutes are
      non-zero.</dd>
  <dt>ISO8601</dt>
  <dd>Times are printed with the format specified by ISO 8601:
    <div class="Bd
      Bd-indent"><code class="Li">yyyy-mm-ddThh:mm:ss[+|-]HH[:MM]</code></div>
    . This is the same as the &#x201C;JZ&#x201D; format, except a &#x201C;T
      character separates the date and time components.&#x201D;</dd>
  <dt>[+|-]hh[:mm]</dt>
  <dd>The specified offset is used to adjust time.</dd>
</dl>
<p class="Pp">Each of the time formats above may optionally be followed by a dot
    character and an integer value. In that case, sub-second time values will be
    printed. For example:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">syslog -T bsd.3</code></div>
<p class="Pp">The <code class="Fl">-u</code> option is a short form for
    <code class="Fl">-T</code> <var class="Ar">utc</var>.</p>
<p class="Pp">By default, control characters and non-printable characters are
    encoded in the output stream. In some cases this may make messages less
    natural in appearance. The encoding is designed to preserve all the
    information in the log message, and to prevent malicious users from spoofing
    or obscuring information in log messages.</p>
<p class="Pp">Text in the &#x201C;std&#x201D;, &#x201C;bsd&#x201D;, and
    &#x201C;raw&#x201D; formats is encoded as it is by the
    <code class="Nm">vis</code> utility with the <code class="Fl">-c</code>
    option. Newlines and tabs are also encoded as &quot;\n&quot; and
    &quot;\t&quot; respectively. In &#x201C;raw&#x201D; format, space characters
    embedded in log message keys are encoded as &quot;\s&quot; and embedded
    brackets are escaped to print as &quot;\[&quot; and &quot;\]&quot;.</p>
<p class="Pp">XML format output requires that keys are valid UTF8 strings. Keys
    which are not valid UTF8 are ignored, and the associated value is not
    printed.</p>
<p class="Pp">Values that contain legal UTF8 are printed as strings. Ampersand,
    less than, greater than, quotation mark, and apostrophe characters are
    encoded according to XML conventions. Embedded control characters are
    encoded as &#x201C;&amp;#xNN;&#x201D; where NN is the character's
    hexadecimal value.</p>
<p class="Pp">Values that do not contain legal UTF8 are encoded in base-64 and
    printed as data objects.</p>
<p class="Pp">The <code class="Fl">-E</code> <var class="Ar">format</var> option
    may be used to explicitly control the text encoding. The value of
    <var class="Ar">format</var> may be one of the following:</p>
<dl class="Bl-tag">
  <dt>safe</dt>
  <dd>This is the default encoding for <code class="Nm">syslog</code> output.
      Encodes backspace characters as ^H. Carriage returns are mapped to
      newlines. A tab character is appended after newlines so that message text
      is indented.</dd>
  <dt>vis</dt>
  <dd>The C-style backslash encoding similar to that produced by the &#x201C;vis
      -c&#x201D; command, as described above.</dd>
  <dt>none</dt>
  <dd>No encoding is used.</dd>
</dl>
<p class="Pp">The intent of the &#x201C;safe&#x201D; encoding is to prevent
    obvious message spoofing or damage. The appearance of messages printed will
    depend on terminal settings and UTF-8 string handling. It is possible that
    messages printed using the &#x201C;safe&#x201D; or &#x201C;none&#x201D;
    options may be garbled or subject to manipulation through the use of control
    characters and control sequences embedded in user-supplied message text. The
    &#x201C;vis&#x201D; encoding should be used to view messages if there is any
    suspicion that message text may have been used to manipulate the printed
    representation.</p>
<p class="Pp">If no further command line options are specified,
    <code class="Nm">syslog</code> displays all messages, or copies all messages
    to a data store file. However, an expression may be specified using the
    <code class="Fl">-k</code> and <code class="Fl">-o</code> options.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="EXPRESSIONS"><a class="permalink" href="#EXPRESSIONS">EXPRESSIONS</a></h2>
<p class="Pp">Expressions specify matching criteria. They may be used to search
    for messages of interest.</p>
<p class="Pp">A simple expression has the form:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">-k key [[op] val]</code></div>
<p class="Pp">The <code class="Fl">-k</code> option may be followed by one, two,
    or three arguments. A single argument causes a match to occur if a message
    has the specified key, regardless of value. If two arguments are specified,
    a match occurs when a message has exactly the specified value for a given
    key. For example, to find all messages sent by the portmap process:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">syslog -k Sender portmap</code></div>
<p class="Pp">Note that the <code class="Fl">-C</code> option is treated as an
    alias for the expression:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">-k Facility
  com.apple.console</code></div>
<p class="Pp">This provides a quick way to search for console messages.</p>
<p class="Pp">If three arguments are given, they are of the form
    <code class="Fl">-k</code> <var class="Ar">key operation value</var>.
    <code class="Nm">syslog</code> supports the following matching
  operators:</p>
<p class="Pp"></p>
<dl class="Bl-tag Bl-compact">
  <dt>eq</dt>
  <dd>equal</dd>
  <dt>ne</dt>
  <dd>not equal</dd>
  <dt>gt</dt>
  <dd>greater than</dd>
  <dt>ge</dt>
  <dd>greater than or equal to</dd>
  <dt>lt</dt>
  <dd>less than</dd>
  <dt>le</dt>
  <dd>less than or equal to</dd>
</dl>
<p class="Pp">Additionally, the operator may be preceded by one or more of the
    following modifiers:</p>
<p class="Pp"></p>
<dl class="Bl-tag Bl-compact">
  <dt>C</dt>
  <dd>case-fold</dd>
  <dt>R</dt>
  <dd>regular expression (see <a class="Xr" href="../3/regex">regex(3)</a>)</dd>
  <dt>S</dt>
  <dd>substring</dd>
  <dt>A</dt>
  <dd>prefix</dd>
  <dt>Z</dt>
  <dd>suffix</dd>
  <dt>N</dt>
  <dd>numeric comparison</dd>
</dl>
<p class="Pp">More complex search expressions may be built by combining two or
    more simple expressions. A complex expression that has more than one
    &#x201C;-k key [[op] val]&#x201D; term matches a message if all of the
    key-value operations match. Logically, the result is an AND of all of
    key-value operations. For example:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">syslog -k Sender portmap -k Time ge
  -2h</code></div>
<p class="Pp">finds all messages sent by portmap in the last 2 hours (-2h means
    &quot;two hours ago&quot;).</p>
<p class="Pp">The <code class="Fl">-o</code> option may be used to build even
    more complex searches by providing an OR operation. If two or more
    sub-expressions are given, separated by <code class="Fl">-o</code> options,
    then a match occurs is a message matches any of the sub-expressions. For
    example, to find all messages which have either a &#x201C;Sender&#x201D;
    value of &#x201C;portmap&#x201D; or that have a numeric priority level of 4
    or less:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">syslog -k Sender portmap -o -k Level
  Nle 4</code></div>
<p class="Pp">Log priority levels are internally handled as an integer value
    between 0 and 7. Level values in expressions may either be given as
    integers, or as string equivalents. See the table string values in the
    SENDING MESSAGES section for details. The example query above could also be
    specified with the command:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">syslog -k Sender portmap -o -k Level
  Nle warning</code></div>
<p class="Pp">A special convention exists for matching time stamps. An unsigned
    integer value is regarded as the given number of seconds since 0 hours, 0
    minutes, 0 seconds, January 1, 1970, Coordinated Universal Time. An negative
    integer value is regarded as the given number of seconds before the current
    time. For example, to find all messages of Error priority level (3) or less
    which were logged in the last 30 seconds:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">syslog -k Level Nle error -k Time ge
  -30</code></div>
<p class="Pp">a relative time value may be optionally followed by one of the
    characters &#x201C;s&#x201D;, &#x201C;m&#x201D;, &#x201C;h&#x201D;,
    &#x201C;d&#x201D;, or &#x201C;w&#x201D; to specify seconds, minutes, hours,
    days, or weeks respectively. Upper case may be used equivalently. A week is
    taken to be 7 complete days (i.e. 604800 seconds).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="FILTERING_CONTROLS"><a class="permalink" href="#FILTERING_CONTROLS">FILTERING
  CONTROLS</a></h2>
<p class="Pp">Clients of the Apple System Log facility using either the
    <a class="Xr" href="../3/asl">asl(3)</a> or
    <a class="Xr" href="../3/syslog">syslog(3)</a> interfaces may specify a log
    filter mask. The mask specifies which messages should be sent to the
    <code class="Nm">syslogd</code> daemon by specifying a yes/no setting for
    each priority level. Many clients set a filter mask to avoid sending
    relatively unimportant messages. Debug or Info priority level messages are
    generally only useful for debugging operations. By setting a filter mask, a
    process can improve performance by avoiding spending time sending messages
    that are in most cases unnecessary.</p>
<p class="Pp">The <code class="Fl">-c</code> option may be used to control
    filtering. In addition to the internal filter mask value that processes may
    set as described above, the system maintains a global &#x201C;master&#x201D;
    filter mask. This filter is normally &#x201C;off&#x201D;, meaning that it
    has no effect. If a value is set for the master filter mask, it overrides
    the local filter mask for all processes. Root user access is required to set
    the master filter mask value.</p>
<p class="Pp">The current setting of the master filter mask may be inspected
    using:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">syslog -c 0</code></div>
<p class="Pp">The value of the master filter mask my be set by providing a
    second argument following <code class="Fl">-c</code>
    <var class="Ar">0</var>. The value may a set of characters from the set
    &#x201C;pacewnid&#x201D;. These correspond to the priority levels Emergency
    (Panic), Alert, Critical, Error, Warning, Notice, Info, and Debug. The
    character &#x201C;x&#x201D; may be used for Error, as it is used for sending
    messages. The master filter mask may be deactivated with:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">syslog -c 0 off</code></div>
<p class="Pp">Since it is common to use the filter mask as a
    &#x201C;cutoff&#x201D; mechanism, for example to cut off messages with Debug
    and Info priority, a single character from the list above may be specified,
    preceded by a minus sign. In this case, <code class="Nm">syslog</code> uses
    a filter mask starting at level 0 (Emergency) &#x201C;up to&#x201D; the
    given level. For example, to set the master filter mask to cause all
    processes to log messages from Emergency up to Debug:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">syslog -c 0 -d</code></div>
<p class="Pp">While the master filter mask may be set to control the messages
    produced by all processes, another filter mask may be specified for an
    individual process. If a per-process filter mask is set, it overrides both
    the local filter mask and the master filter mask. The current setting for a
    per-process filter mask may be inspected using <code class="Fl">-c</code>
    <var class="Ar">process</var>, where <var class="Ar">process</var> is either
    a PID or the name of a process. If a name is used, it must uniquely identify
    a process. To set a per-process filter mask, an second argument may be
    supplied following <code class="Fl">-c</code> <var class="Ar">process</var>
    as described above for the master filter mask. Root access is required to
    set the per-process filter mask for system (UID 0) processes.</p>
<p class="Pp">The <code class="Nm">syslogd</code> server follows filtering rules
    specified in the /etc/asl.conf file. When the remote-control mechanism is
    used to change the filter of a process, <code class="Nm">syslogd</code> will
    save any messages received from that process until the remote-control filter
    is turned off.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="SERVER_CONFIGURATION"><a class="permalink" href="#SERVER_CONFIGURATION">SERVER
  CONFIGURATION</a></h2>
<p class="Pp">When <code class="Nm">syslogd</code> starts up, and when it
    receives a HUP signal, it re-reads its configuration settings from
    /etc/asl.conf. It is sometimes useful to change configuration parameters
    temporarily, without needing to make changes to the configuration file. Any
    of the configuration options that may be set in the file (following an ``=''
    character) may also be sent to syslogd using the
    <code class="Fl">-config</code> flag (without an ``='' character). For
    example, to temporarily disable the kernel message-per-second limit:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">syslog -config mps_limit
  0</code></div>
<p class="Pp">Note that only the superuser (root) may change configuration
    parameters.</p>
<p class="Pp">In addition to the parameter setting options that are described in
    the <a class="Xr" href="../5/asl.conf">asl.conf(5)</a> manual page, an
    additional option:</p>
<p class="Pp"></p>
<div class="Bd Bd-indent"><code class="Li">syslog -config reset</code></div>
<p class="Pp">will cause <code class="Nm">syslogd</code> to reset its
    configuration.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="ASL_OUTPUT_MODULES"><a class="permalink" href="#ASL_OUTPUT_MODULES">ASL
  OUTPUT MODULES</a></h2>
<p class="Pp">ASL Output Modules are named configuration bundles used by the ASL
    server <code class="Nm">syslogd</code>, and by the ASL filesystem manager
    <code class="Nm">aslmanager</code>. The /etc/asl.conf file represents the
    system's primary output module, and is given the name
    &#x201C;com.apple.asl&#x201D;. Other modules are read from files in the
    /etc/asl directory. File names serve as module names. ASL Output Modules are
    described in detail in
  <a class="Xr" href="../5/asl.conf">asl.conf(5)</a>.</p>
<p class="Pp">When invoked with <code class="Fl">-module</code>,
    <code class="Nm">syslog</code> prints a summary of all loaded ASL Output
    Modules. The summary includes the output files and ASL store directories
    used by each module, a list of the module's configuration rules, and the
    module's current enabled or disabled status. <code class="Fl">-module</code>
    <var class="Ar">name</var> prints a summary for the module with the given
    name.</p>
<p class="Pp">ASL Output Modules may be enabled or disabled using the
  command:</p>
<p class="Pp">
  <br/>
   syslog -module <var class="Ar">name</var> enable [0]</p>
<p class="Pp">Note that only the superuser (root) may enable or disable a
    module.</p>
<p class="Pp">The name '*' (including the single-quote characters) may be used
    to change the status of all ASL Output Modules, excluding the primary
    com.apple.asl module. com.apple.asl may be enabled or disabled, but only
    specifically by name.</p>
<p class="Pp">If a module includes rotated files, the command:</p>
<p class="Pp">	syslog -module <var class="Ar">name</var> checkpoint [file]</p>
<p class="Pp">Will force the module to checkpoint all of its rotated files, or
    just the single optionally named file. The name '*' (including the
    single-quote characters) may be used to force checkpointing of all rotated
    files for all ASL Output Modules, including the primary com.apple.asl
    module.</p>
<p class="Pp">Note that only the superuser (root) may force files to be
    checkpointed.</p>
<p class="Pp">The checkpoint action sends a command to
    <code class="Nm">syslogd</code> and waits for a reply to be returned. This
    means that any files currently in use will be checkpointed when the
    <code class="Nm">syslog</code> command completes.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr" href="../1/log">log(1)</a>,
    <a class="Xr" href="../1/logger">logger(1)</a>,
    <a class="Xr" href="../3/asl">asl(3)</a>,
    <a class="Xr" href="../3/syslog">syslog(3)</a>,
    <a class="Xr" href="../5/asl.conf">asl.conf(5)</a>,
    <a class="Xr" href="../8/syslogd">syslogd(8)</a></p>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
<p class="Pp">The <code class="Nm">syslog</code> utility appeared in Mac OS X
    10.4.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">October 18, 2004</td>
    <td class="foot-os"><a href="..">Mac OS X</a></td>
  </tr>
</table>
</body>
</html>
