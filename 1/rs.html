<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Copyright (c) 1993
  	The Regents of the University of California.  All rights reserved.
  
   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:
   1. Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
   3. Neither the name of the University nor the names of its contributors
      may be used to endorse or promote products derived from this software
      without specific prior written permission.
  
   THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
   FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
   OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
   HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
   OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
   SUCH DAMAGE.
  
  	@(#)rs.1	8.2 (Berkeley) 12/30/93
   $FreeBSD$
   -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>RS(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">RS(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">RS(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">rs</code> &#x2014; <span class="Nd">reshape a
    data array</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">rs</code></td>
    <td>[<code class="Fl">-</code>[<code class="Cm">csCS</code>][<var class="Ar">x</var>]
      [<code class="Cm">kKgGw</code>][<var class="Ar">N</var>]
      <code class="Cm">tTeEnyjhHmz</code>] [<var class="Ar">rows</var>
      [<var class="Ar">cols</var>]]</td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The <code class="Nm">rs</code> utility reads the standard input,
    interpreting each line as a row of blank-separated entries in an array,
    transforms the array according to the options, and writes it on the standard
    output. With no arguments it transforms stream input into a columnar format
    convenient for terminal viewing.</p>
<p class="Pp">The shape of the input array is deduced from the number of lines
    and the number of columns on the first line. If that shape is inconvenient,
    a more useful one might be obtained by skipping some of the input with the
    <code class="Fl">-k</code> option. Other options control interpretation of
    the input columns.</p>
<p class="Pp">The shape of the output array is influenced by the
    <var class="Ar">rows</var> and <var class="Ar">cols</var> specifications,
    which should be positive integers. If only one of them is a positive
    integer, <code class="Nm">rs</code> computes a value for the other which
    will accommodate all of the data. When necessary, missing data are supplied
    in a manner specified by the options and surplus data are deleted. There are
    options to control presentation of the output columns, including
    transposition of the rows and columns.</p>
<p class="Pp">The following options are available:</p>
<dl class="Bl-tag">
  <dt id="c"><a class="permalink" href="#c"><code class="Fl">-c</code></a><var class="Ar">x</var></dt>
  <dd>Input columns are delimited by the single character
      <var class="Ar">x</var>. A missing <var class="Ar">x</var> is taken to be
      `^I'.</dd>
  <dt id="s"><a class="permalink" href="#s"><code class="Fl">-s</code></a><var class="Ar">x</var></dt>
  <dd>Like <code class="Fl">-c</code>, but maximal strings of
      <var class="Ar">x</var> are delimiters.</dd>
  <dt id="C"><a class="permalink" href="#C"><code class="Fl">-C</code></a><var class="Ar">x</var></dt>
  <dd>Output columns are delimited by the single character
      <var class="Ar">x</var>. A missing <var class="Ar">x</var> is taken to be
      `^I'.</dd>
  <dt id="S"><a class="permalink" href="#S"><code class="Fl">-S</code></a><var class="Ar">x</var></dt>
  <dd>Like <code class="Fl">-C</code>, but padded strings of
      <var class="Ar">x</var> are delimiters.</dd>
  <dt id="t"><a class="permalink" href="#t"><code class="Fl">-t</code></a></dt>
  <dd>Fill in the rows of the output array using the columns of the input array,
      that is, transpose the input while honoring any <var class="Ar">rows</var>
      and <var class="Ar">cols</var> specifications.</dd>
  <dt id="T"><a class="permalink" href="#T"><code class="Fl">-T</code></a></dt>
  <dd>Print the pure transpose of the input, ignoring any
      <var class="Ar">rows</var> or <var class="Ar">cols</var>
    specification.</dd>
  <dt id="k"><a class="permalink" href="#k"><code class="Fl">-k</code></a><var class="Ar">N</var></dt>
  <dd>Ignore the first <var class="Ar">N</var> lines of input.</dd>
  <dt id="K"><a class="permalink" href="#K"><code class="Fl">-K</code></a><var class="Ar">N</var></dt>
  <dd>Like <code class="Fl">-k</code>, but print the ignored lines.</dd>
  <dt id="g"><a class="permalink" href="#g"><code class="Fl">-g</code></a><var class="Ar">N</var></dt>
  <dd>The gutter width (inter-column space), normally 2, is taken to be
      <var class="Ar">N</var>.</dd>
  <dt id="G"><a class="permalink" href="#G"><code class="Fl">-G</code></a><var class="Ar">N</var></dt>
  <dd>The gutter width has <var class="Ar">N</var> percent of the maximum column
      width added to it.</dd>
  <dt id="e"><a class="permalink" href="#e"><code class="Fl">-e</code></a></dt>
  <dd>Consider each line of input as an array entry.</dd>
  <dt id="n"><a class="permalink" href="#n"><code class="Fl">-n</code></a></dt>
  <dd>On lines having fewer entries than the first line, use null entries to pad
      out the line. Normally, missing entries are taken from the next line of
      input.</dd>
  <dt id="y"><a class="permalink" href="#y"><code class="Fl">-y</code></a></dt>
  <dd>If there are too few entries to make up the output dimensions, pad the
      output by recycling the input from the beginning. Normally, the output is
      padded with blanks.</dd>
  <dt id="h"><a class="permalink" href="#h"><code class="Fl">-h</code></a></dt>
  <dd>Print the shape of the input array and do nothing else. The shape is just
      the number of lines and the number of entries on the first line.</dd>
  <dt id="H"><a class="permalink" href="#H"><code class="Fl">-H</code></a></dt>
  <dd>Like <code class="Fl">-h</code>, but also print the length of each
    line.</dd>
  <dt id="j"><a class="permalink" href="#j"><code class="Fl">-j</code></a></dt>
  <dd>Right adjust entries within columns.</dd>
  <dt id="w"><a class="permalink" href="#w"><code class="Fl">-w</code></a><var class="Ar">N</var></dt>
  <dd>The width of the display, normally 80, is taken to be the positive integer
      <var class="Ar">N</var>.</dd>
  <dt id="m"><a class="permalink" href="#m"><code class="Fl">-m</code></a></dt>
  <dd>Do not trim excess delimiters from the ends of the output array.</dd>
  <dt id="z"><a class="permalink" href="#z"><code class="Fl">-z</code></a></dt>
  <dd>Adapt column widths to fit the largest entries appearing in them.</dd>
</dl>
<p class="Pp">With no arguments, <code class="Nm">rs</code> transposes its
    input, and assumes one array entry per input line unless the first
    non-ignored line is longer than the display width. Option letters which take
    numerical arguments interpret a missing number as zero unless otherwise
    indicated.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">The <code class="Nm">rs</code> utility can be used as a filter to
    convert the stream output of certain programs (e.g.,
    <a class="Xr" href="../1/spell">spell(1)</a>,
    <a class="Xr" href="../1/du">du(1)</a>,
    <a class="Xr" href="../1/file">file(1)</a>,
    <a class="Xr" href="../1/look">look(1)</a>,
    <a class="Xr" href="../1/nm">nm(1)</a>,
    <a class="Xr" href="../1/who">who(1)</a>, and
    <a class="Xr" href="../1/wc">wc(1)</a>) into a convenient ``window'' format,
    as in</p>
<div class="Bd Pp Bd-indent">
<pre>
% who | rs
</pre>
</div>
<p class="Pp">This function has been incorporated into the
    <a class="Xr" href="../1/ls">ls(1)</a> program, though for most programs
    with similar output <code class="Nm">rs</code> suffices.</p>
<p class="Pp">To convert stream input into vector output and back again, use</p>
<div class="Bd Pp Bd-indent">
<pre>
% rs 1 0 | rs 0 1
</pre>
</div>
<p class="Pp">A 10 by 10 array of random numbers from 1 to 100 and its transpose
    can be generated with</p>
<div class="Bd Pp Bd-indent">
<pre>
% jot -r 100 | rs 10 10 | tee array | rs -T &gt; tarray
</pre>
</div>
<p class="Pp">In the editor <a class="Xr" href="../1/vi">vi(1)</a>, a file
    consisting of a multi-line vector with 9 elements per line can undergo
    insertions and deletions, and then be neatly reshaped into 9 columns
  with</p>
<div class="Bd Pp Bd-indent">
<pre>
:1,$!rs 0 9
</pre>
</div>
<p class="Pp">Finally, to sort a database by the first line of each 4-line
    field, try</p>
<div class="Bd Pp Bd-indent">
<pre>
% rs -eC 0 4 | sort | rs -c 0 1
</pre>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr" href="../1/jot">jot(1)</a>,
    <a class="Xr" href="../1/pr">pr(1)</a>,
    <a class="Xr" href="../1/sort">sort(1)</a>,
    <a class="Xr" href="../1/vi">vi(1)</a></p>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
<p class="Pp">The <code class="Nm">rs</code> utility first appeared in
    <span class="Ux">4.2BSD</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<p class="Pp"><span class="An">John A. Kunze</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<ul class="Bl-item">
  <li>Handles only two dimensional arrays.</li>
  <li>The algorithm currently reads the whole file into memory, so files that do
      not fit in memory will not be reshaped.</li>
  <li>Fields cannot be defined yet on character positions.</li>
  <li>Re-ordering of columns is not yet possible.</li>
  <li>There are too many options.</li>
  <li>Multibyte characters are not recognized.</li>
  <li>Lines longer than <code class="Dv">LINE_MAX</code> (2048) bytes are not
      processed and result in immediate termination of
      <code class="Nm">rs</code>.</li>
</ul>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">April 7, 2015</td>
    <td class="foot-os">macOS 12.6</td>
  </tr>
</table>
</body>
</html>
