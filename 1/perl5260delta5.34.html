<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>PERL5260DELTA(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PERL5260DELTA(1)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">PERL5260DELTA(1)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">perl5260delta - what is new for perl v5.26.0</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This document describes the differences between the 5.24.0 release
    and the 5.26.0 release.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Notice"><a class="permalink" href="#Notice">Notice</a></h1>
<p class="Pp">This release includes three updates with widespread effects:</p>
<ul class="Bl-bullet">
  <li><span class="Li">&quot;.&quot;</span> no longer in
      <span class="Li">@INC</span>
    <p class="Pp">For security reasons, the current directory
        (<span class="Li">&quot;.&quot;</span>) is no longer included by default
        at the end of the module search path (<span class="Li">@INC</span>).
        This may have widespread implications for the building, testing and
        installing of modules, and for the execution of scripts. See the section
        &quot;Removal of the current directory
        (<span class="Li">&quot;.&quot;</span>) from
        <span class="Li">@INC</span>&quot; for the full details.</p>
  </li>
  <li><span class="Li">&quot;do&quot;</span> may now warn
    <p class="Pp"><span class="Li">&quot;do&quot;</span> now gives a deprecation
        warning when it fails to load a file which it would have loaded had
        <span class="Li">&quot;.&quot;</span> been in
        <span class="Li">@INC</span>.</p>
  </li>
  <li>In regular expression patterns, a literal left brace
      <span class="Li">&quot;{&quot;</span> should be escaped
    <p class="Pp">See &quot;Unescaped literal
        <span class="Li">&quot;{&quot;</span> characters in regular expression
        patterns are no longer permissible&quot;.</p>
  </li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Core_Enhancements"><a class="permalink" href="#Core_Enhancements">Core
  Enhancements</a></h1>
<section class="Ss">
<h2 class="Ss" id="Lexical_subroutines_are_no_longer_experimental"><a class="permalink" href="#Lexical_subroutines_are_no_longer_experimental">Lexical
  subroutines are no longer experimental</a></h2>
<p class="Pp">Using the <span class="Li">&quot;lexical_subs&quot;</span> feature
    introduced in v5.18 no longer emits a warning. Existing code that disables
    the <span class="Li">&quot;experimental::lexical_subs&quot;</span> warning
    category that the feature previously used will continue to work. The
    <span class="Li">&quot;lexical_subs&quot;</span> feature has no effect; all
    Perl code can use lexical subroutines, regardless of what feature
    declarations are in scope.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Indented_Here-documents"><a class="permalink" href="#Indented_Here-documents">Indented
  Here-documents</a></h2>
<p class="Pp">This adds a new modifier <span class="Li">&quot;~&quot;</span> to
    here-docs that tells the parser that it should look for
    <span class="Li">&quot;/^\s*$DELIM\n/&quot;</span> as the closing
  delimiter.</p>
<p class="Pp">These syntaxes are all supported:</p>
<p class="Pp"></p>
<pre>    &lt;&lt;~EOF;
    &lt;&lt;~\EOF;
    &lt;&lt;~'EOF';
    &lt;&lt;~&quot;EOF&quot;;
    &lt;&lt;~`EOF`;
    &lt;&lt;~ 'EOF';
    &lt;&lt;~ &quot;EOF&quot;;
    &lt;&lt;~ `EOF`;
</pre>
<p class="Pp">The <span class="Li">&quot;~&quot;</span> modifier will strip,
    from each line in the here-doc, the same whitespace that appears before the
    delimiter.</p>
<p class="Pp">Newlines will be copied as-is, and lines that don't include the
    proper beginning whitespace will cause perl to croak.</p>
<p class="Pp">For example:</p>
<p class="Pp"></p>
<pre>    if (1) {
      print &lt;&lt;~EOF;
        Hello there
        EOF
    }
</pre>
<p class="Pp">prints &quot;Hello there\n&quot; with no leading whitespace.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New_regular_expression_modifier__/xx_"><a class="permalink" href="#New_regular_expression_modifier__/xx_">New
  regular expression modifier &quot;/xx&quot;</a></h2>
<p class="Pp">Specifying two <span class="Li">&quot;x&quot;</span> characters to
    modify a regular expression pattern does everything that a single one does,
    but additionally TAB and SPACE characters within a bracketed character class
    are generally ignored and can be added to improve readability, like
    <span class="Li">&quot;/[&#x00A0;^&#x00A0;A-Z&#x00A0;d-f&#x00A0;p-x&#x00A0;]/xx&quot;</span>.
    Details are at &quot;/x and /xx&quot; in perlre.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_@__CAPTURE__,_____CAPTURE__,_and_____CAPTURE_ALL__"><a class="permalink" href="#_@__CAPTURE__,_____CAPTURE__,_and_____CAPTURE_ALL__">&quot;@{^CAPTURE}&quot;,
  &quot;%{^CAPTURE}&quot;, and &quot;%{^CAPTURE_ALL}&quot;</a></h2>
<p class="Pp"><span class="Li">&quot;@{^CAPTURE}&quot;</span> exposes the
    capture buffers of the last match as an array. So <span class="Li">$1</span>
    is <span class="Li">&quot;${^CAPTURE}[0]&quot;</span>. This is a more
    efficient equivalent to code like
    <span class="Li">&quot;substr($matched_string,$-[0],$+[0]-$-[0])&quot;</span>,
    and you don't have to keep track of the
    <span class="Li">$matched_string</span> either. This variable has no single
    character equivalent. Note that, like the other regex magic variables, the
    contents of this variable is dynamic; if you wish to store it beyond the
    lifetime of the match you must copy it to another array.</p>
<p class="Pp"><span class="Li">&quot;%{^CAPTURE}&quot;</span> is equivalent to
    <span class="Li">&quot;%+&quot;</span> (<i>i.e.</i>, named captures). Other
    than being more self-documenting there is no difference between the two
    forms.</p>
<p class="Pp"><span class="Li">&quot;%{^CAPTURE_ALL}&quot;</span> is equivalent
    to <span class="Li">&quot;%-&quot;</span> (<i>i.e.</i>, all named captures).
    Other than being more self-documenting there is no difference between the
    two forms.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Declaring_a_reference_to_a_variable"><a class="permalink" href="#Declaring_a_reference_to_a_variable">Declaring
  a reference to a variable</a></h2>
<p class="Pp">As an experimental feature, Perl now allows the referencing
    operator to come after <span class="Li">&quot;my()&quot;</span>,
    <span class="Li">&quot;state()&quot;</span>,
    <span class="Li">&quot;our()&quot;</span>, or
    <span class="Li">&quot;local()&quot;</span>. This syntax must be enabled
    with <span class="Li">&quot;use feature 'declared_refs'&quot;</span>. It is
    experimental, and will warn by default unless <span class="Li">&quot;no
    warnings 'experimental::refaliasing'&quot;</span> is in effect. It is
    intended mainly for use in assignments to references. For example:</p>
<p class="Pp"></p>
<pre>    use experimental 'refaliasing', 'declared_refs';
    my \$a = \$b;
</pre>
<p class="Pp">See &quot;Assigning to References&quot; in perlref for more
    details.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Unicode_9.0_is_now_supported"><a class="permalink" href="#Unicode_9.0_is_now_supported">Unicode
  9.0 is now supported</a></h2>
<p class="Pp">A list of changes is at
    &lt;http://www.unicode.org/versions/Unicode9.0.0/&gt;. Modules that are
    shipped with core Perl but not maintained by p5p do not necessarily support
    Unicode 9.0. Unicode::Normalize does work on 9.0.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Use_of__"><a class="permalink" href="#Use_of__">Use of
  &quot;\p{<span class="Li"><i>script</i></span>}&quot; uses the improved
  Script_Extensions property</a></h2>
<p class="Pp">Unicode 6.0 introduced an improved form of the Script
    (<span class="Li">&quot;sc&quot;</span>) property, and called it
    Script_Extensions (<span class="Li">&quot;scx&quot;</span>). Perl now uses
    this improved version when a property is specified as just
    <span class="Li">&quot;\p{</span><span class="Li"><i>script</i></span><span class="Li">}&quot;</span>.
    This should make programs more accurate when determining if a character is
    used in a given script, but there is a slight chance of breakage for
    programs that very specifically needed the old behavior. The meaning of
    compound forms, like
    <span class="Li">&quot;\p{sc=</span><span class="Li"><i>script</i></span><span class="Li">}&quot;</span>
    are unchanged. See &quot;Scripts&quot; in perlunicode.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Perl_can_now_do_default_collation_in_"><a class="permalink" href="#Perl_can_now_do_default_collation_in_">Perl
  can now do default collation in UTF-8 locales on platforms that support
  it</a></h2>
<p class="Pp">Some platforms natively do a reasonable job of collating and
    sorting in UTF-8 locales. Perl now works with those. For portability and
    full control, Unicode::Collate is still recommended, but now you may not
    need to do anything special to get good-enough results, depending on your
    application. See &quot;Category
    <span class="Li">&quot;LC_COLLATE&quot;</span>: Collation: Text Comparisons
    and Sorting&quot; in perllocale.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Better_locale_collation_of_strings_containing_embedded__NUL__characters"><a class="permalink" href="#Better_locale_collation_of_strings_containing_embedded__NUL__characters">Better
  locale collation of strings containing embedded &quot;NUL&quot;
  characters</a></h2>
<p class="Pp">In locales that have multi-level character weights,
    <span class="Li">&quot;NUL&quot;</span>s are now ignored at the higher
    priority ones. There are still some gotchas in some strings, though. See
    &quot;Collation of strings containing embedded
    <span class="Li">&quot;NUL&quot;</span> characters&quot; in perllocale.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_CORE__subroutines_for_hash_and_array_functions_callable_via_reference"><a class="permalink" href="#_CORE__subroutines_for_hash_and_array_functions_callable_via_reference">&quot;CORE&quot;
  subroutines for hash and array functions callable via reference</a></h2>
<p class="Pp">The hash and array functions in the
    <span class="Li">&quot;CORE&quot;</span> namespace
    (<span class="Li">&quot;keys&quot;</span>,
    <span class="Li">&quot;each&quot;</span>,
    <span class="Li">&quot;values&quot;</span>,
    <span class="Li">&quot;push&quot;</span>,
    <span class="Li">&quot;pop&quot;</span>,
    <span class="Li">&quot;shift&quot;</span>,
    <span class="Li">&quot;unshift&quot;</span> and
    <span class="Li">&quot;splice&quot;</span>) can now be called with ampersand
    syntax (<span class="Li">&quot;&amp;CORE::keys(\%hash&quot;</span>) and via
    reference (<span class="Li">&quot;my $k = \&amp;CORE::keys;
    $k-&gt;(\%hash)&quot;</span>). Previously they could only be used when
    inlined.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New_Hash_Function_For_64"><a class="permalink" href="#New_Hash_Function_For_64">New
  Hash Function For 64-bit Builds</a></h2>
<p class="Pp">We have switched to a hybrid hash function to better balance
    performance for short and long keys.</p>
<p class="Pp">For short keys, 16 bytes and under, we use an optimised variant of
    One At A Time Hard, and for longer keys we use Siphash 1-3. For very long
    keys this is a big improvement in performance. For shorter keys there is a
    modest improvement.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Security"><a class="permalink" href="#Security">Security</a></h1>
<section class="Ss">
<h2 class="Ss" id="Removal_of_the_current_directory_(_._)_from_@INC"><a class="permalink" href="#Removal_of_the_current_directory_(_._)_from_@INC">Removal
  of the current directory (&quot;.&quot;) from @INC</a></h2>
<p class="Pp">The perl binary includes a default set of paths in
    <span class="Li">@INC</span>. Historically it has also included the current
    directory (<span class="Li">&quot;.&quot;</span>) as the final entry, unless
    run with taint mode enabled (<span class="Li">&quot;perl -T&quot;</span>).
    While convenient, this has security implications: for example, where a
    script attempts to load an optional module when its current directory is
    untrusted (such as <i>/tmp</i>), it could load and execute code from under
    that directory.</p>
<p class="Pp">Starting with v5.26, <span class="Li">&quot;.&quot;</span> is
    always removed by default, not just under tainting. This has major
    implications for installing modules and executing scripts.</p>
<p class="Pp">The following new features have been added to help ameliorate
    these issues.</p>
<ul class="Bl-bullet">
  <li><i>Configure -Udefault_inc_excludes_dot</i>
    <p class="Pp">There is a new <i>Configure</i> option,
        <span class="Li">&quot;default_inc_excludes_dot&quot;</span> (enabled by
        default) which builds a perl executable without
        <span class="Li">&quot;.&quot;</span>; unsetting this option using
        <span class="Li">&quot;-U&quot;</span> reverts perl to the old
        behaviour. This may fix your path issues but will reintroduce all the
        security concerns, so don't build a perl executable like this unless
        you're <i>really</i> confident that such issues are not a concern in
        your environment.</p>
  </li>
  <li><span class="Li">&quot;PERL_USE_UNSAFE_INC&quot;</span>
    <p class="Pp">There is a new environment variable recognised by the perl
        interpreter. If this variable has the value 1 when the perl interpreter
        starts up, then <span class="Li">&quot;.&quot;</span> will be
        automatically appended to <span class="Li">@INC</span> (except under
        tainting).</p>
    <p class="Pp">This allows you restore the old perl interpreter behaviour on
        a case-by-case basis. But note that this is intended to be a temporary
        crutch, and this feature will likely be removed in some future perl
        version. It is currently set by the
        <span class="Li">&quot;cpan&quot;</span> utility and
        <span class="Li">&quot;Test::Harness&quot;</span> to ease installation
        of CPAN modules which have not been updated to handle the lack of dot.
        Once again, don't use this unless you are sure that this will not
        reintroduce any security concerns.</p>
  </li>
  <li>A new deprecation warning issued by
      <span class="Li">&quot;do&quot;</span>.
    <p class="Pp">While it is well-known that
        <span class="Li">&quot;use&quot;</span> and
        <span class="Li">&quot;require&quot;</span> use
        <span class="Li">@INC</span> to search for the file to load, many people
        don't realise that <span class="Li">&quot;do
        &quot;file&quot;&quot;</span> also searches <span class="Li">@INC</span>
        if the file is a relative path. With the removal of
        <span class="Li">&quot;.&quot;</span>, a simple
        <span class="Li">&quot;do &quot;file.pl&quot;&quot;</span> will fail to
        read in and execute <span class="Li">&quot;file.pl&quot;</span> from the
        current directory. Since this is commonly expected behaviour, a new
        deprecation warning is now issued whenever
        <span class="Li">&quot;do&quot;</span> fails to load a file which it
        otherwise would have found if a dot had been in
        <span class="Li">@INC</span>.</p>
  </li>
</ul>
<p class="Pp">Here are some things script and module authors may need to do to
    make their software work in the new regime.</p>
<ul class="Bl-bullet">
  <li>Script authors
    <p class="Pp">If the issue is within your own code (rather than within
        included modules), then you have two main options. Firstly, if you are
        confident that your script will only be run within a trusted directory
        (under which you expect to find trusted files and modules), then add
        <span class="Li">&quot;.&quot;</span> back into the path;
      <i>e.g.</i>:</p>
    <p class="Pp"></p>
    <pre>    BEGIN {
        my $dir = &quot;/some/trusted/directory&quot;;
        chdir $dir or die &quot;Can't chdir to $dir: $!\n&quot;;
        # safe now
        push @INC, '.';
    }
    use &quot;Foo::Bar&quot;; # may load /some/trusted/directory/Foo/Bar.pm
    do &quot;config.pl&quot;; # may load /some/trusted/directory/config.pl
    </pre>
    <p class="Pp">On the other hand, if your script is intended to be run from
        within untrusted directories (such as <i>/tmp</i>), then your script
        suddenly failing to load files may be indicative of a security issue.
        You most likely want to replace any relative paths with full paths; for
        example,</p>
    <p class="Pp"></p>
    <pre>    do &quot;foo_config.pl&quot;
    </pre>
    <p class="Pp">might become</p>
    <p class="Pp"></p>
    <pre>    do &quot;$ENV{HOME}/foo_config.pl&quot;
    </pre>
    <p class="Pp">If you are absolutely certain that you want your script to
        load and execute a file from the current directory, then use a
        <span class="Li">&quot;./&quot;</span> prefix; for example:</p>
    <p class="Pp"></p>
    <pre>    do &quot;./foo_config.pl&quot;
    </pre>
  </li>
  <li>Installing and using CPAN modules
    <p class="Pp">If you install a CPAN module using an automatic tool like
        <span class="Li">&quot;cpan&quot;</span>, then this tool will itself set
        the <span class="Li">&quot;PERL_USE_UNSAFE_INC&quot;</span> environment
        variable while building and testing the module, which may be sufficient
        to install a distribution which hasn't been updated to be dot-aware. If
        you want to install such a module manually, then you'll need to replace
        the traditional invocation:</p>
    <p class="Pp"></p>
    <pre>    perl Makefile.PL &amp;&amp; make &amp;&amp; make test &amp;&amp; make install
    </pre>
    <p class="Pp">with something like</p>
    <p class="Pp"></p>
    <pre>    (export PERL_USE_UNSAFE_INC=1; \
     perl Makefile.PL &amp;&amp; make &amp;&amp; make test &amp;&amp; make install)
    </pre>
    <p class="Pp">Note that this only helps build and install an unfixed module.
        It's possible for the tests to pass (since they were run under
        <span class="Li">&quot;PERL_USE_UNSAFE_INC=1&quot;</span>), but for the
        module itself to fail to perform correctly in production. In this case,
        you may have to temporarily modify your script until a fixed version of
        the module is released. For example:</p>
    <p class="Pp"></p>
    <pre>    use Foo::Bar;
    {
        local @INC = (@INC, '.');
        # assuming read_config() needs '.' in @INC
        $config = Foo::Bar-&gt;read_config();
    }
    </pre>
    <p class="Pp">This is only rarely expected to be necessary. Again, if doing
        this, assess the resultant risks first.</p>
  </li>
  <li>Module Authors
    <p class="Pp">If you maintain a CPAN distribution, it may need updating to
        run in a dotless environment. Although
        <span class="Li">&quot;cpan&quot;</span> and other such tools will
        currently set the
        <span class="Li">&quot;PERL_USE_UNSAFE_INC&quot;</span> during module
        build, this is a temporary workaround for the set of modules which rely
        on <span class="Li">&quot;.&quot;</span> being in
        <span class="Li">@INC</span> for installation and testing, and this may
        mask deeper issues. It could result in a module which passes tests and
        installs, but which fails at run time.</p>
    <p class="Pp">During build, test, and install, it will normally be the case
        that any perl processes will be executing directly within the root
        directory of the untarred distribution, or a known subdirectory of that,
        such as <i>t/</i>. It may well be that <i>Makefile.PL</i> or
        <i>t/foo.t</i> will attempt to include local modules and configuration
        files using their direct relative filenames, which will now fail.</p>
    <p class="Pp">However, as described above, automatic tools like <i>cpan</i>
        will (for now) set the
        <span class="Li">&quot;PERL_USE_UNSAFE_INC&quot;</span> environment
        variable, which introduces dot during a build.</p>
    <p class="Pp">This makes it likely that your existing build and test code
        will work, but this may mask issues with your code which only manifest
        when used after install. It is prudent to try and run your build process
        with that variable explicitly disabled:</p>
    <p class="Pp"></p>
    <pre>    (export PERL_USE_UNSAFE_INC=0; \
     perl Makefile.PL &amp;&amp; make &amp;&amp; make test &amp;&amp; make install)
    </pre>
    <p class="Pp">This is more likely to show up any potential problems with
        your module's build process, or even with the module itself. Fixing such
        issues will ensure both that your module can again be installed
        manually, and that it will still build once the
        <span class="Li">&quot;PERL_USE_UNSAFE_INC&quot;</span> crutch goes
        away.</p>
    <p class="Pp">When fixing issues in tests due to the removal of dot from
        <span class="Li">@INC</span>, reinsertion of dot into
        <span class="Li">@INC</span> should be performed with caution, for this
        too may suppress real errors in your runtime code. You are encouraged
        wherever possible to apply the aforementioned approaches with explicit
        absolute/relative paths, or to relocate your needed files into a
        subdirectory and insert that subdirectory into
        <span class="Li">@INC</span> instead.</p>
    <p class="Pp">If your runtime code has problems under the dotless
        <span class="Li">@INC</span>, then the comments above on how to fix for
        script authors will mostly apply here too. Bear in mind though that it
        is considered bad form for a module to globally add a dot to
        <span class="Li">@INC</span>, since it introduces both a security risk
        and hides issues of accidentally requiring dot in
        <span class="Li">@INC</span>, as explained above.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Escaped_colons_and_relative_paths_in_"><a class="permalink" href="#Escaped_colons_and_relative_paths_in_">Escaped
  colons and relative paths in PATH</a></h2>
<p class="Pp">On Unix systems, Perl treats any relative paths in the
    <span class="Li">&quot;PATH&quot;</span> environment variable as tainted
    when starting a new process. Previously, it was allowing a backslash to
    escape a colon (unlike the OS), consequently allowing relative paths to be
    considered safe if the PATH was set to something like
    <span class="Li">&quot;/\:.&quot;</span>. The check has been fixed to treat
    <span class="Li">&quot;.&quot;</span> as tainted in that example.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New__"><a class="permalink" href="#New__">New &quot;-Di&quot;
  switch is now required for PerlIO debugging output</a></h2>
<p class="Pp">This is used for debugging of code within PerlIO to avoid
    recursive calls. Previously this output would be sent to the file specified
    by the <span class="Li">&quot;PERLIO_DEBUG&quot;</span> environment variable
    if perl wasn't running setuid and the <span class="Li">&quot;-T&quot;</span>
    or <span class="Li">&quot;-t&quot;</span> switches hadn't been parsed
  yet.</p>
<p class="Pp">If perl performed output at a point where it hadn't yet parsed its
    switches this could result in perl creating or overwriting the file named by
    <span class="Li">&quot;PERLIO_DEBUG&quot;</span> even when the
    <span class="Li">&quot;-T&quot;</span> switch had been supplied.</p>
<p class="Pp">Perl now requires the <span class="Li">&quot;-Di&quot;</span>
    switch to be present before it will produce PerlIO debugging output. By
    default this is written to <span class="Li">&quot;stderr&quot;</span>, but
    can optionally be redirected to a file by setting the
    <span class="Li">&quot;PERLIO_DEBUG&quot;</span> environment variable.</p>
<p class="Pp">If perl is running setuid or the
    <span class="Li">&quot;-T&quot;</span> switch was supplied,
    <span class="Li">&quot;PERLIO_DEBUG&quot;</span> is ignored and the
    debugging output is sent to <span class="Li">&quot;stderr&quot;</span> as
    for any other <span class="Li">&quot;-D&quot;</span> switch.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Incompatible_Changes"><a class="permalink" href="#Incompatible_Changes">Incompatible
  Changes</a></h1>
<section class="Ss">
<h2 class="Ss" id="Unescaped_literal_____characters_in_regular_expression_patterns_are_no_longer_permissible"><a class="permalink" href="#Unescaped_literal_____characters_in_regular_expression_patterns_are_no_longer_permissible">Unescaped
  literal &quot;{&quot; characters in regular expression patterns are no longer
  permissible</a></h2>
<p class="Pp">You have to now say something like
    <span class="Li">&quot;\{&quot;</span> or
    <span class="Li">&quot;[{]&quot;</span> to specify to match a LEFT CURLY
    BRACKET; otherwise, it is a fatal pattern compilation error. This change
    will allow future extensions to the language.</p>
<p class="Pp">These have been deprecated since v5.16, with a deprecation message
    raised for some uses starting in v5.22. Unfortunately, the code added to
    raise the message was buggy and failed to warn in some cases where it should
    have. Therefore, enforcement of this ban for these cases is deferred until
    Perl 5.30, but the code has been fixed to raise a default-on deprecation
    message for them in the meantime.</p>
<p class="Pp">Some uses of literal <span class="Li">&quot;{&quot;</span> occur
    in contexts where we do not foresee the meaning ever being anything but the
    literal, such as the very first character in the pattern, or after a
    <span class="Li">&quot;|&quot;</span> meaning alternation. Thus</p>
<p class="Pp"></p>
<pre> qr/{fee|{fie/
</pre>
<p class="Pp">matches either of the strings
    <span class="Li">&quot;{fee&quot;</span> or
    <span class="Li">&quot;{fie&quot;</span>. To avoid forcing unnecessary code
    changes, these uses do not need to be escaped, and no warning is raised
    about them, and there are no current plans to change this.</p>
<p class="Pp">But it is always correct to escape
    <span class="Li">&quot;{&quot;</span>, and the simple rule to remember is to
    always do so.</p>
<p class="Pp">See Unescaped left brace in regex is illegal here.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_scalar(_hash)__return_signature_changed"><a class="permalink" href="#_scalar(_hash)__return_signature_changed">&quot;scalar(%hash)&quot;
  return signature changed</a></h2>
<p class="Pp">The value returned for
    <span class="Li">&quot;scalar(%hash)&quot;</span> will no longer show
    information about the buckets allocated in the hash. It will simply return
    the count of used keys. It is thus equivalent to
    <span class="Li">&quot;0+keys(%hash)&quot;</span>.</p>
<p class="Pp">A form of backward compatibility is provided via
    <span class="Li">&quot;Hash::Util::bucket_ratio()&quot;</span> which
    provides the same behavior as
    <span class="Li">&quot;scalar(%hash)&quot;</span> provided in Perl 5.24 and
    earlier.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_keys__returned_from_an_lvalue_subroutine"><a class="permalink" href="#_keys__returned_from_an_lvalue_subroutine">&quot;keys&quot;
  returned from an lvalue subroutine</a></h2>
<p class="Pp"><span class="Li">&quot;keys&quot;</span> returned from an lvalue
    subroutine can no longer be assigned to in list context.</p>
<p class="Pp"></p>
<pre>    sub foo : lvalue { keys(%INC) }
    (foo) = 3; # death
    sub bar : lvalue { keys(@_) }
    (bar) = 3; # also an error
</pre>
<p class="Pp">This makes the lvalue sub case consistent with
    <span class="Li">&quot;(keys %hash) = ...&quot;</span> and
    <span class="Li">&quot;(keys @_) = ...&quot;</span>, which are also errors.
    [GH #15339] &lt;https://github.com/Perl/perl5/issues/15339&gt;</p>
</section>
<section class="Ss">
<h2 class="Ss" id="The__$__ENCODING___facility_has_been_removed"><a class="permalink" href="#The__$__ENCODING___facility_has_been_removed">The
  &quot;${^ENCODING}&quot; facility has been removed</a></h2>
<p class="Pp">The special behaviour associated with assigning a value to this
    variable has been removed. As a consequence, the encoding pragma's default
    mode is no longer supported. If you still need to write your source code in
    encodings other than UTF-8, use a source filter such as Filter::Encoding on
    CPAN or encoding's <span class="Li">&quot;Filter&quot;</span> option.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_POSIX::tmpnam()__has_been_removed"><a class="permalink" href="#_POSIX::tmpnam()__has_been_removed">&quot;POSIX::tmpnam()&quot;
  has been removed</a></h2>
<p class="Pp">The fundamentally unsafe
    <span class="Li">&quot;tmpnam()&quot;</span> interface was deprecated in
    Perl 5.22 and has now been removed. In its place, you can use, for example,
    the File::Temp interfaces.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="require_::Foo::Bar_is_now_illegal."><a class="permalink" href="#require_::Foo::Bar_is_now_illegal.">require
  ::Foo::Bar is now illegal.</a></h2>
<p class="Pp">Formerly, <span class="Li">&quot;require ::Foo::Bar&quot;</span>
    would try to read <i>/Foo/Bar.pm</i>. Now any bareword require which starts
    with a double colon dies instead.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Literal_control_character_variable_names_are_no_longer_permissible"><a class="permalink" href="#Literal_control_character_variable_names_are_no_longer_permissible">Literal
  control character variable names are no longer permissible</a></h2>
<p class="Pp">A variable name may no longer contain a literal control character
    under any circumstances. These previously were allowed in single-character
    names on ASCII platforms, but have been deprecated there since Perl 5.20.
    This affects things like
    <span class="Li">&quot;$</span><span class="Li"><i>\cT</i></span><span class="Li">&quot;</span>,
    where <i>\cT</i> is a literal control (such as a
    <span class="Li">&quot;NAK&quot;</span> or <span class="Li">&quot;NEGATIVE
    ACKNOWLEDGE&quot;</span> character) in the source code.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_NBSP__is_no_longer_permissible_in__"><a class="permalink" href="#_NBSP__is_no_longer_permissible_in__">&quot;NBSP&quot;
  is no longer permissible in &quot;\N{...}&quot;</a></h2>
<p class="Pp">The name of a character may no longer contain non-breaking spaces.
    It has been deprecated to do so since Perl 5.22.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Deprecations"><a class="permalink" href="#Deprecations">Deprecations</a></h1>
<section class="Ss">
<h2 class="Ss" id="String_delimiters_that_aren't_stand-alone_graphemes_are_now_deprecated"><a class="permalink" href="#String_delimiters_that_aren't_stand-alone_graphemes_are_now_deprecated">String
  delimiters that aren't stand-alone graphemes are now deprecated</a></h2>
<p class="Pp">For Perl to eventually allow string delimiters to be Unicode
    grapheme clusters (which look like a single character, but may be a sequence
    of several ones), we have to stop allowing a single character delimiter that
    isn't a grapheme by itself. These are unlikely to exist in actual code, as
    they would typically display as attached to the character in front of
  them.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_"><a class="permalink" href="#_">&quot;\c<span class="Li"><i>X</i></span>&quot;
  that maps to a printable is no longer deprecated</a></h2>
<p class="Pp">This means we have no plans to remove this feature. It still
    raises a warning, but only if syntax warnings are enabled. The feature was
    originally intended to be a way to express non-printable characters that
    don't have a mnemonic (<span class="Li">&quot;\t&quot;</span> and
    <span class="Li">&quot;\n&quot;</span> are mnemonics for two non-printable
    characters, but most non-printables don't have a mnemonic.) But the feature
    can be used to specify a few printable characters, though those are more
    clearly expressed as the printable itself. See
    &lt;http://www.nntp.perl.org/group/perl.perl5.porters/2017/02/msg242944.html&gt;.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Performance_Enhancements"><a class="permalink" href="#Performance_Enhancements">Performance
  Enhancements</a></h1>
<ul class="Bl-bullet">
  <li>A hash in boolean context is now sometimes faster, <i>e.g.</i>
    <p class="Pp"></p>
    <pre>    if (!%h) { ... }
    </pre>
    <p class="Pp">This was already special-cased, but some cases were missed
        (such as <span class="Li">&quot;grep %$_, @AoH&quot;</span>), and even
        the ones which weren't have been improved.</p>
  </li>
  <li>New Faster Hash Function on 64 bit builds
    <p class="Pp">We use a different hash function for short and long keys. This
        should improve performance and security, especially for long keys.</p>
  </li>
  <li>readline is faster
    <p class="Pp">Reading from a file line-by-line with
        <span class="Li">&quot;readline()&quot;</span> or
        <span class="Li">&quot;&lt;&gt;&quot;</span> should now typically be
        faster due to a better implementation of the code that searches for the
        next newline character.</p>
  </li>
  <li>Assigning one reference to another, <i>e.g.</i>
      <span class="Li">&quot;$ref1 = $ref2&quot;</span> has been optimized in
      some cases.</li>
  <li>Remove some exceptions to creating Copy-on-Write strings. The string
      buffer growth algorithm has been slightly altered so that you're less
      likely to encounter a string which can't be COWed.</li>
  <li>Better optimise array and hash assignment: where an array or hash appears
      in the LHS of a list assignment, such as <span class="Li">&quot;(..., @a)
      = (...);&quot;</span>, it's likely to be considerably faster, especially
      if it involves emptying the array/hash. For example, this code runs about
      a third faster compared to Perl 5.24.0:
    <p class="Pp"></p>
    <pre>    my @a;
    for my $i (1..10_000_000) {
        @a = (1,2,3);
        @a = ();
    }
    </pre>
  </li>
  <li>Converting a single-digit string to a number is now substantially
    faster.</li>
  <li>The <span class="Li">&quot;split&quot;</span> builtin is now slightly
      faster in many cases: in particular for the two specially-handled forms
    <p class="Pp"></p>
    <pre>    my    @a = split ...;
    local @a = split ...;
    </pre>
  </li>
  <li>The rather slow implementation for the experimental subroutine signatures
      feature has been made much faster; it is now comparable in speed with the
      traditional <span class="Li">&quot;my ($a, $b, @c) = @_&quot;</span>.</li>
  <li>Bareword constant strings are now permitted to take part in constant
      folding. They were originally exempted from constant folding in August
      1999, during the development of Perl 5.6, to ensure that
      <span class="Li">&quot;use strict &quot;subs&quot;&quot;</span> would
      still apply to bareword constants. That has now been accomplished a
      different way, so barewords, like other constants, now gain the
      performance benefits of constant folding.
    <p class="Pp">This also means that void-context warnings on constant
        expressions of barewords now report the folded constant operand, rather
        than the operation; this matches the behaviour for non-bareword
        constants.</p>
  </li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Modules_and_Pragmata"><a class="permalink" href="#Modules_and_Pragmata">Modules
  and Pragmata</a></h1>
<section class="Ss">
<h2 class="Ss" id="Updated_Modules_and_Pragmata"><a class="permalink" href="#Updated_Modules_and_Pragmata">Updated
  Modules and Pragmata</a></h2>
<ul class="Bl-bullet">
  <li>IO::Compress has been upgraded from version 2.069 to 2.074.</li>
  <li>Archive::Tar has been upgraded from version 2.04 to 2.24.</li>
  <li>arybase has been upgraded from version 0.11 to 0.12.</li>
  <li>attributes has been upgraded from version 0.27 to 0.29.
    <p class="Pp">The deprecation message for the
        <span class="Li">&quot;:unique&quot;</span> and
        <span class="Li">&quot;:locked&quot;</span> attributes now mention that
        they will disappear in Perl 5.28.</p>
  </li>
  <li>B has been upgraded from version 1.62 to 1.68.</li>
  <li>B::Concise has been upgraded from version 0.996 to 0.999.
    <p class="Pp">Its output is now more descriptive for
        <span class="Li">&quot;op_private&quot;</span> flags.</p>
  </li>
  <li>B::Debug has been upgraded from version 1.23 to 1.24.</li>
  <li>B::Deparse has been upgraded from version 1.37 to 1.40.</li>
  <li>B::Xref has been upgraded from version 1.05 to 1.06.
    <p class="Pp">It now uses 3-arg <span class="Li">&quot;open()&quot;</span>
        instead of 2-arg <span class="Li">&quot;open()&quot;</span>. [GH #15721]
        &lt;https://github.com/Perl/perl5/issues/15721&gt;</p>
  </li>
  <li>base has been upgraded from version 2.23 to 2.25.</li>
  <li>bignum has been upgraded from version 0.42 to 0.47.</li>
  <li>Carp has been upgraded from version 1.40 to 1.42.</li>
  <li>charnames has been upgraded from version 1.43 to 1.44.</li>
  <li>Compress::Raw::Bzip2 has been upgraded from version 2.069 to 2.074.</li>
  <li>Compress::Raw::Zlib has been upgraded from version 2.069 to 2.074.</li>
  <li>Config::Perl::V has been upgraded from version 0.25 to 0.28.</li>
  <li>CPAN has been upgraded from version 2.11 to 2.18.</li>
  <li>CPAN::Meta has been upgraded from version 2.150005 to 2.150010.</li>
  <li>Data::Dumper has been upgraded from version 2.160 to 2.167.
    <p class="Pp">The XS implementation now supports Deparse.</p>
  </li>
  <li>DB_File has been upgraded from version 1.835 to 1.840.</li>
  <li>Devel::Peek has been upgraded from version 1.23 to 1.26.</li>
  <li>Devel::PPPort has been upgraded from version 3.32 to 3.35.</li>
  <li>Devel::SelfStubber has been upgraded from version 1.05 to 1.06.
    <p class="Pp">It now uses 3-arg <span class="Li">&quot;open()&quot;</span>
        instead of 2-arg <span class="Li">&quot;open()&quot;</span>. [GH #15721]
        &lt;https://github.com/Perl/perl5/issues/15721&gt;</p>
  </li>
  <li>diagnostics has been upgraded from version 1.34 to 1.36.
    <p class="Pp">It now uses 3-arg <span class="Li">&quot;open()&quot;</span>
        instead of 2-arg <span class="Li">&quot;open()&quot;</span>. [GH #15721]
        &lt;https://github.com/Perl/perl5/issues/15721&gt;</p>
  </li>
  <li>Digest has been upgraded from version 1.17 to 1.17_01.</li>
  <li>Digest::MD5 has been upgraded from version 2.54 to 2.55.</li>
  <li>Digest::SHA has been upgraded from version 5.95 to 5.96.</li>
  <li>DynaLoader has been upgraded from version 1.38 to 1.42.</li>
  <li>Encode has been upgraded from version 2.80 to 2.88.</li>
  <li>encoding has been upgraded from version 2.17 to 2.19.
    <p class="Pp">This module's default mode is no longer supported. It now dies
        when imported, unless the <span class="Li">&quot;Filter&quot;</span>
        option is being used.</p>
  </li>
  <li>encoding::warnings has been upgraded from version 0.12 to 0.13.
    <p class="Pp">This module is no longer supported. It emits a warning to that
        effect and then does nothing.</p>
  </li>
  <li>Errno has been upgraded from version 1.25 to 1.28.
    <p class="Pp">It now documents that using
        <span class="Li">&quot;%!&quot;</span> automatically loads Errno for
        you.</p>
    <p class="Pp">It now uses 3-arg <span class="Li">&quot;open()&quot;</span>
        instead of 2-arg <span class="Li">&quot;open()&quot;</span>. [GH #15721]
        &lt;https://github.com/Perl/perl5/issues/15721&gt;</p>
  </li>
  <li>ExtUtils::Embed has been upgraded from version 1.33 to 1.34.
    <p class="Pp">It now uses 3-arg <span class="Li">&quot;open()&quot;</span>
        instead of 2-arg <span class="Li">&quot;open()&quot;</span>. [GH #15721]
        &lt;https://github.com/Perl/perl5/issues/15721&gt;</p>
  </li>
  <li>ExtUtils::MakeMaker has been upgraded from version 7.10_01 to 7.24.</li>
  <li>ExtUtils::Miniperl has been upgraded from version 1.05 to 1.06.</li>
  <li>ExtUtils::ParseXS has been upgraded from version 3.31 to 3.34.</li>
  <li>ExtUtils::Typemaps has been upgraded from version 3.31 to 3.34.</li>
  <li>feature has been upgraded from version 1.42 to 1.47.</li>
  <li>File::Copy has been upgraded from version 2.31 to 2.32.</li>
  <li>File::Fetch has been upgraded from version 0.48 to 0.52.</li>
  <li>File::Glob has been upgraded from version 1.26 to 1.28.
    <p class="Pp">It now Issues a deprecation message for
        <span class="Li">&quot;File::Glob::glob()&quot;</span>.</p>
  </li>
  <li>File::Spec has been upgraded from version 3.63 to 3.67.</li>
  <li>FileHandle has been upgraded from version 2.02 to 2.03.</li>
  <li>Filter::Simple has been upgraded from version 0.92 to 0.93.
    <p class="Pp">It no longer treats <span class="Li">&quot;no
        MyFilter&quot;</span> immediately following <span class="Li">&quot;use
        MyFilter&quot;</span> as end-of-file. [GH #11853]
        &lt;https://github.com/Perl/perl5/issues/11853&gt;</p>
  </li>
  <li>Getopt::Long has been upgraded from version 2.48 to 2.49.</li>
  <li>Getopt::Std has been upgraded from version 1.11 to 1.12.</li>
  <li>Hash::Util has been upgraded from version 0.19 to 0.22.</li>
  <li>HTTP::Tiny has been upgraded from version 0.056 to 0.070.
    <p class="Pp">Internal 599-series errors now include the redirect
      history.</p>
  </li>
  <li>I18N::LangTags has been upgraded from version 0.40 to 0.42.
    <p class="Pp">It now uses 3-arg <span class="Li">&quot;open()&quot;</span>
        instead of 2-arg <span class="Li">&quot;open()&quot;</span>. [GH #15721]
        &lt;https://github.com/Perl/perl5/issues/15721&gt;</p>
  </li>
  <li>IO has been upgraded from version 1.36 to 1.38.</li>
  <li>IO::Socket::IP has been upgraded from version 0.37 to 0.38.</li>
  <li>IPC::Cmd has been upgraded from version 0.92 to 0.96.</li>
  <li>IPC::SysV has been upgraded from version 2.06_01 to 2.07.</li>
  <li>JSON::PP has been upgraded from version 2.27300 to 2.27400_02.</li>
  <li>lib has been upgraded from version 0.63 to 0.64.
    <p class="Pp">It now uses 3-arg <span class="Li">&quot;open()&quot;</span>
        instead of 2-arg <span class="Li">&quot;open()&quot;</span>. [GH #15721]
        &lt;https://github.com/Perl/perl5/issues/15721&gt;</p>
  </li>
  <li>List::Util has been upgraded from version 1.42_02 to 1.46_02.</li>
  <li>Locale::Codes has been upgraded from version 3.37 to 3.42.</li>
  <li>Locale::Maketext has been upgraded from version 1.26 to 1.28.</li>
  <li>Locale::Maketext::Simple has been upgraded from version 0.21 to
    0.21_01.</li>
  <li>Math::BigInt has been upgraded from version 1.999715 to 1.999806.</li>
  <li>Math::BigInt::FastCalc has been upgraded from version 0.40 to 0.5005.</li>
  <li>Math::BigRat has been upgraded from version 0.260802 to 0.2611.</li>
  <li>Math::Complex has been upgraded from version 1.59 to 1.5901.</li>
  <li>Memoize has been upgraded from version 1.03 to 1.03_01.</li>
  <li>Module::CoreList has been upgraded from version 5.20170420 to
    5.20170530.</li>
  <li>Module::Load::Conditional has been upgraded from version 0.64 to
    0.68.</li>
  <li>Module::Metadata has been upgraded from version 1.000031 to 1.000033.</li>
  <li>mro has been upgraded from version 1.18 to 1.20.</li>
  <li>Net::Ping has been upgraded from version 2.43 to 2.55.
    <p class="Pp">IPv6 addresses and
        <span class="Li">&quot;AF_INET6&quot;</span> sockets are now supported,
        along with several other enhancements.</p>
  </li>
  <li>NEXT has been upgraded from version 0.65 to 0.67.</li>
  <li>Opcode has been upgraded from version 1.34 to 1.39.</li>
  <li>open has been upgraded from version 1.10 to 1.11.</li>
  <li>OS2::Process has been upgraded from version 1.11 to 1.12.
    <p class="Pp">It now uses 3-arg <span class="Li">&quot;open()&quot;</span>
        instead of 2-arg <span class="Li">&quot;open()&quot;</span>. [GH #15721]
        &lt;https://github.com/Perl/perl5/issues/15721&gt;</p>
  </li>
  <li>overload has been upgraded from version 1.26 to 1.28.
    <p class="Pp">Its compilation speed has been improved slightly.</p>
  </li>
  <li>parent has been upgraded from version 0.234 to 0.236.</li>
  <li>perl5db.pl has been upgraded from version 1.50 to 1.51.
    <p class="Pp">It now ignores <i>/dev/tty</i> on non-Unix systems. [GH
        #12244] &lt;https://github.com/Perl/perl5/issues/12244&gt;</p>
  </li>
  <li>Perl::OSType has been upgraded from version 1.009 to 1.010.</li>
  <li>perlfaq has been upgraded from version 5.021010 to 5.021011.</li>
  <li>PerlIO has been upgraded from version 1.09 to 1.10.</li>
  <li>PerlIO::encoding has been upgraded from version 0.24 to 0.25.</li>
  <li>PerlIO::scalar has been upgraded from version 0.24 to 0.26.</li>
  <li>Pod::Checker has been upgraded from version 1.60 to 1.73.</li>
  <li>Pod::Functions has been upgraded from version 1.10 to 1.11.</li>
  <li>Pod::Html has been upgraded from version 1.22 to 1.2202.</li>
  <li>Pod::Perldoc has been upgraded from version 3.25_02 to 3.28.</li>
  <li>Pod::Simple has been upgraded from version 3.32 to 3.35.</li>
  <li>Pod::Usage has been upgraded from version 1.68 to 1.69.</li>
  <li>POSIX has been upgraded from version 1.65 to 1.76.
    <p class="Pp">This remedies several defects in making its symbols
        exportable. [GH #15260]
        &lt;https://github.com/Perl/perl5/issues/15260&gt;</p>
    <p class="Pp">The <span class="Li">&quot;POSIX::tmpnam()&quot;</span>
        interface has been removed, see &quot;<b>POSIX::tmpnam()</b> has been
        removed&quot;.</p>
    <p class="Pp">The following deprecated functions have been removed:</p>
    <p class="Pp"></p>
    <pre>    POSIX::isalnum
    POSIX::isalpha
    POSIX::iscntrl
    POSIX::isdigit
    POSIX::isgraph
    POSIX::islower
    POSIX::isprint
    POSIX::ispunct
    POSIX::isspace
    POSIX::isupper
    POSIX::isxdigit
    POSIX::tolower
    POSIX::toupper
    </pre>
    <p class="Pp">Trying to import POSIX subs that have no real implementations
        (like <span class="Li">&quot;POSIX::atend()&quot;</span>) now fails at
        import time, instead of waiting until runtime.</p>
  </li>
  <li>re has been upgraded from version 0.32 to 0.34
    <p class="Pp">This adds support for the new
        <span class="Li">&quot;/xx&quot;</span> regular expression pattern
        modifier, and a change to the
        <span class="Li">&quot;use&#x00A0;re&#x00A0;'strict'&quot;</span>
        experimental feature. When
        <span class="Li">&quot;re&#x00A0;'strict'&quot;</span> is enabled, a
        warning now will be generated for all unescaped uses of the two
        characters <span class="Li">&quot;}&quot;</span> and
        <span class="Li">&quot;]&quot;</span> in regular expression patterns
        (outside bracketed character classes) that are taken literally. This
        brings them more in line with the <span class="Li">&quot;)&quot;</span>
        character which is always a metacharacter unless escaped. Being a
        metacharacter only sometimes, depending on an action at a distance, can
        lead to silently having the pattern mean something quite different than
        was intended, which the
        <span class="Li">&quot;re&#x00A0;'strict'&quot;</span> mode is intended
        to minimize.</p>
  </li>
  <li>Safe has been upgraded from version 2.39 to 2.40.</li>
  <li>Scalar::Util has been upgraded from version 1.42_02 to 1.46_02.</li>
  <li>Storable has been upgraded from version 2.56 to 2.62.
    <p class="Pp">Fixes [GH #15714]
        &lt;https://github.com/Perl/perl5/issues/15714&gt;.</p>
  </li>
  <li>Symbol has been upgraded from version 1.07 to 1.08.</li>
  <li>Sys::Syslog has been upgraded from version 0.33 to 0.35.</li>
  <li>Term::ANSIColor has been upgraded from version 4.04 to 4.06.</li>
  <li>Term::ReadLine has been upgraded from version 1.15 to 1.16.
    <p class="Pp">It now uses 3-arg <span class="Li">&quot;open()&quot;</span>
        instead of 2-arg <span class="Li">&quot;open()&quot;</span>. [GH #15721]
        &lt;https://github.com/Perl/perl5/issues/15721&gt;</p>
  </li>
  <li>Test has been upgraded from version 1.28 to 1.30.
    <p class="Pp">It now uses 3-arg <span class="Li">&quot;open()&quot;</span>
        instead of 2-arg <span class="Li">&quot;open()&quot;</span>. [GH #15721]
        &lt;https://github.com/Perl/perl5/issues/15721&gt;</p>
  </li>
  <li>Test::Harness has been upgraded from version 3.36 to 3.38.</li>
  <li>Test::Simple has been upgraded from version 1.001014 to 1.302073.</li>
  <li>Thread::Queue has been upgraded from version 3.09 to 3.12.</li>
  <li>Thread::Semaphore has been upgraded from 2.12 to 2.13.
    <p class="Pp">Added the <span class="Li">&quot;down_timed&quot;</span>
        method.</p>
  </li>
  <li>threads has been upgraded from version 2.07 to 2.15.</li>
  <li>threads::shared has been upgraded from version 1.51 to 1.56.</li>
  <li>Tie::Hash::NamedCapture has been upgraded from version 0.09 to 0.10.</li>
  <li>Time::HiRes has been upgraded from version 1.9733 to 1.9741.
    <p class="Pp">It now builds on systems with C++11 compilers (such as G++ 6
        and Clang++ 3.9).</p>
    <p class="Pp">Now uses <span class="Li">&quot;clockid_t&quot;</span>.</p>
  </li>
  <li>Time::Local has been upgraded from version 1.2300 to 1.25.</li>
  <li>Unicode::Collate has been upgraded from version 1.14 to 1.19.</li>
  <li>Unicode::UCD has been upgraded from version 0.64 to 0.68.
    <p class="Pp">It now uses 3-arg <span class="Li">&quot;open()&quot;</span>
        instead of 2-arg <span class="Li">&quot;open()&quot;</span>. [GH #15721]
        &lt;https://github.com/Perl/perl5/issues/15721&gt;</p>
  </li>
  <li>version has been upgraded from version 0.9916 to 0.9917.</li>
  <li>VMS::DCLsym has been upgraded from version 1.06 to 1.08.
    <p class="Pp">It now uses 3-arg <span class="Li">&quot;open()&quot;</span>
        instead of 2-arg <span class="Li">&quot;open()&quot;</span>. [GH #15721]
        &lt;https://github.com/Perl/perl5/issues/15721&gt;</p>
  </li>
  <li>warnings has been upgraded from version 1.36 to 1.37.</li>
  <li>XS::Typemap has been upgraded from version 0.14 to 0.15.</li>
  <li>XSLoader has been upgraded from version 0.21 to 0.27.
    <p class="Pp">Fixed a security hole in which binary files could be loaded
        from a path outside of <span class="Li">@INC</span>.</p>
    <p class="Pp">It now uses 3-arg <span class="Li">&quot;open()&quot;</span>
        instead of 2-arg <span class="Li">&quot;open()&quot;</span>. [GH #15721]
        &lt;https://github.com/Perl/perl5/issues/15721&gt;</p>
  </li>
</ul>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Documentation"><a class="permalink" href="#Documentation">Documentation</a></h1>
<section class="Ss">
<h2 class="Ss" id="New_Documentation"><a class="permalink" href="#New_Documentation">New
  Documentation</a></h2>
<p class="Pp"><i>perldeprecation</i></p>
<p class="Pp">This file documents all upcoming deprecations, and some of the
    deprecations which already have been removed. The purpose of this
    documentation is two-fold: document what will disappear, and by which
    version, and serve as a guide for people dealing with code which has
    features that no longer work after an upgrade of their perl.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Changes_to_Existing_Documentation"><a class="permalink" href="#Changes_to_Existing_Documentation">Changes
  to Existing Documentation</a></h2>
<p class="Pp">We have attempted to update the documentation to reflect the
    changes listed in this document. If you find any we have missed, send email
    to perlbug@perl.org &lt;mailto:perlbug@perl.org&gt;.</p>
<p class="Pp">Additionally, all references to Usenet have been removed, and the
    following selected changes have been made:</p>
<p class="Pp"><i>perlfunc</i></p>
<ul class="Bl-bullet">
  <li>Removed obsolete text about <span class="Li">&quot;defined()&quot;</span>
      on aggregates that should have been deleted earlier, when the feature was
      removed.</li>
  <li>Corrected documentation of <span class="Li">&quot;eval()&quot;</span>, and
      <span class="Li">&quot;evalbytes()&quot;</span>.</li>
  <li>Clarified documentation of <span class="Li">&quot;seek()&quot;</span>,
      <span class="Li">&quot;tell()&quot;</span> and
      <span class="Li">&quot;sysseek()&quot;</span> emphasizing that positions
      are in bytes and not characters. [GH #15438]
      &lt;https://github.com/Perl/perl5/issues/15438&gt;</li>
  <li>Clarified documentation of <span class="Li">&quot;sort()&quot;</span>
      concerning the variables <span class="Li">$a</span> and
      <span class="Li">$b</span>.</li>
  <li>In <span class="Li">&quot;split()&quot;</span> noted that certain pattern
      modifiers are legal, and added a caution about its use in Perls before
      v5.11.</li>
  <li>Removed obsolete documentation of
      <span class="Li">&quot;study()&quot;</span>, noting that it is now a
      no-op.</li>
  <li>Noted that <span class="Li">&quot;vec()&quot;</span> doesn't work well
      when the string contains characters whose code points are above 255.</li>
</ul>
<p class="Pp"><i>perlguts</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Added advice on formatted printing of operands of
      <span class="Li">&quot;Size_t&quot;</span> and
      <span class="Li">&quot;SSize_t&quot;</span></dd>
</dl>
<p class="Pp"><i>perlhack</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Clarify what editor tab stop rules to use, and note that we are migrating
      away from using tabs, replacing them with sequences of SPACE
    characters.</dd>
</dl>
<p class="Pp"><i>perlhacktips</i></p>
<ul class="Bl-bullet">
  <li>Give another reason to use <span class="Li">&quot;cBOOL&quot;</span> to
      cast an expression to boolean.</li>
  <li>Note that the macros <span class="Li">&quot;TRUE&quot;</span> and
      <span class="Li">&quot;FALSE&quot;</span> are available to express boolean
      values.</li>
</ul>
<p class="Pp"><i>perlinterp</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>perlinterp has been expanded to give a more detailed example of how to
      hunt around in the parser for how a given operator is handled.</dd>
</dl>
<p class="Pp"><i>perllocale</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Some locales aren't compatible with Perl. Note that these can cause core
      dumps.</dd>
</dl>
<p class="Pp"><i>perlmod</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Various clarifications have been added.</dd>
</dl>
<p class="Pp"><i>perlmodlib</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Updated the site mirror list.</dd>
</dl>
<p class="Pp"><i>perlobj</i></p>
<ul class="Bl-bullet">
  <li>Added a section on calling methods using their fully qualified names.</li>
  <li>Do not discourage manual <span class="Li">@ISA</span>.</li>
</ul>
<p class="Pp"><i>perlootut</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Mention <span class="Li">&quot;Moo&quot;</span> more.</dd>
</dl>
<p class="Pp"><i>perlop</i></p>
<ul class="Bl-bullet">
  <li>Note that white space must be used for quoting operators if the delimiter
      is a word character (<i>i.e.</i>, matches
      <span class="Li">&quot;\w&quot;</span>).</li>
  <li>Clarify that in regular expression patterns delimited by single quotes, no
      variable interpolation is done.</li>
</ul>
<p class="Pp"><i>perlre</i></p>
<ul class="Bl-bullet">
  <li>The first part was extensively rewritten to incorporate various basic
      points, that in earlier versions were mentioned in sort of an appendix on
      Version 8 regular expressions.</li>
  <li>Note that it is common to have the <span class="Li">&quot;/x&quot;</span>
      modifier and forget that this means that
      <span class="Li">&quot;#&quot;</span> has to be escaped.</li>
</ul>
<p class="Pp"><i>perlretut</i></p>
<ul class="Bl-bullet">
  <li>Add introductory material.</li>
  <li>Note that a metacharacter occurring in a context where it can't mean that,
      silently loses its meta-ness and matches literally.
      <span class="Li">&quot;use re 'strict'&quot;</span> can catch some of
      these.</li>
</ul>
<p class="Pp"><i>perlunicode</i></p>
<ul class="Bl-bullet">
  <li>Corrected the text about Unicode BYTE ORDER MARK handling.</li>
  <li>Updated the text to correspond with changes in Unicode UTS#18, concerning
      regular expressions, and Perl compatibility with what it says.</li>
</ul>
<p class="Pp"><i>perlvar</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Document <span class="Li">@ISA</span>. It was documented in other places,
      but not in perlvar.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Diagnostics"><a class="permalink" href="#Diagnostics">Diagnostics</a></h1>
<section class="Ss">
<h2 class="Ss" id="New_Diagnostics"><a class="permalink" href="#New_Diagnostics">New
  Diagnostics</a></h2>
<p class="Pp"><i>New Errors</i></p>
<ul class="Bl-bullet">
  <li>A signature parameter must start with <span class="Li">'$'</span>,
      <span class="Li">'@'</span> or <span class="Li">'%'</span></li>
  <li>Bareword in require contains &quot;%s&quot;</li>
  <li>Bareword in require maps to empty filename</li>
  <li>Bareword in require maps to disallowed filename &quot;%s&quot;</li>
  <li>Bareword in require must not start with a double-colon:
    &quot;%s&quot;</li>
  <li><span class="Li">%s:</span> command not found
    <p class="Pp">(A) You've accidentally run your script through <b>bash</b> or
        another shell instead of Perl. Check the
        <span class="Li">&quot;#!&quot;</span> line, or manually feed your
        script into Perl yourself. The <span class="Li">&quot;#!&quot;</span>
        line at the top of your file could look like:</p>
    <p class="Pp"></p>
    <pre>  #!/usr/bin/perl
    </pre>
  </li>
  <li><span class="Li">%s:</span> command not found: <span class="Li">%s</span>
    <p class="Pp">(A) You've accidentally run your script through <b>zsh</b> or
        another shell instead of Perl. Check the
        <span class="Li">&quot;#!&quot;</span> line, or manually feed your
        script into Perl yourself. The <span class="Li">&quot;#!&quot;</span>
        line at the top of your file could look like:</p>
    <p class="Pp"></p>
    <pre>  #!/usr/bin/perl
    </pre>
  </li>
  <li>The experimental declared_refs feature is not enabled
    <p class="Pp">(F) To declare references to variables, as in
        <span class="Li">&quot;my \%x&quot;</span>, you must first enable the
        feature:</p>
    <p class="Pp"></p>
    <pre>    no warnings &quot;experimental::declared_refs&quot;;
    use feature &quot;declared_refs&quot;;
    </pre>
    <p class="Pp">See &quot;Declaring a reference to a variable&quot;.</p>
  </li>
  <li>Illegal character following sigil in a subroutine signature</li>
  <li>Indentation on line <span class="Li">%d</span> of here-doc doesn't match
      delimiter</li>
  <li>Infinite recursion via empty pattern.
    <p class="Pp">Using the empty pattern (which re-executes the last
        successfully-matched pattern) inside a code block in another regex, as
        in <span class="Li">&quot;/(?{ s!!new! })/&quot;</span>, has always
        previously yielded a segfault. It now produces this error.</p>
  </li>
  <li>Malformed UTF-8 string in &quot;%s&quot;</li>
  <li>Multiple slurpy parameters not allowed</li>
  <li><span class="Li">'#'</span> not allowed immediately following a sigil in a
      subroutine signature</li>
  <li>panic: unknown OA_*: <span class="Li">%x</span></li>
  <li>Unescaped left brace in regex is illegal here
    <p class="Pp">Unescaped left braces are now illegal in some contexts in
        regular expression patterns. In other contexts, they are still just
        deprecated; they will be illegal in Perl 5.30.</p>
  </li>
  <li>Version control conflict marker
    <p class="Pp">(F) The parser found a line starting with
        <span class="Li">&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;</span>,
        <span class="Li">&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;</span>, or
        <span class="Li">&quot;=======&quot;</span>. These may be left by a
        version control system to mark conflicts after a failed merge
      operation.</p>
  </li>
</ul>
<p class="Pp"><i>New Warnings</i></p>
<ul class="Bl-bullet">
  <li>Can't determine class of operator <span class="Li">%s</span>, assuming
      <span class="Li">&quot;BASEOP&quot;</span></li>
  <li>Declaring references is experimental
    <p class="Pp">(S experimental::declared_refs) This warning is emitted if you
        use a reference constructor on the right-hand side of
        <span class="Li">&quot;my()&quot;</span>,
        <span class="Li">&quot;state()&quot;</span>,
        <span class="Li">&quot;our()&quot;</span>, or
        <span class="Li">&quot;local()&quot;</span>. Simply suppress the warning
        if you want to use the feature, but know that in doing so you are taking
        the risk of using an experimental feature which may change or be removed
        in a future Perl version:</p>
    <p class="Pp"></p>
    <pre>    no warnings &quot;experimental::declared_refs&quot;;
    use feature &quot;declared_refs&quot;;
    $fooref = my \$foo;
    </pre>
    <p class="Pp">See &quot;Declaring a reference to a variable&quot;.</p>
  </li>
  <li>do &quot;%s&quot; failed, '.' is no longer in <span class="Li">@INC</span>
    <p class="Pp">Since <span class="Li">&quot;.&quot;</span> is now removed
        from <span class="Li">@INC</span> by default,
        <span class="Li">&quot;do&quot;</span> will now trigger a warning
        recommending to fix the <span class="Li">&quot;do&quot;</span>
        statement.</p>
  </li>
  <li><span class="Li">&quot;File::Glob::glob()&quot;</span> will disappear in
      perl 5.30. Use <span class="Li">&quot;File::Glob::bsd_glob()&quot;</span>
      instead.</li>
  <li>Unescaped literal '%c' in regex; marked by &lt;-- HERE in m/%s/</li>
  <li>Use of unassigned code point or non-standalone grapheme for a delimiter
      will be a fatal error starting in Perl 5.30
    <p class="Pp">See &quot;Deprecations&quot;</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Changes_to_Existing_Diagnostics"><a class="permalink" href="#Changes_to_Existing_Diagnostics">Changes
  to Existing Diagnostics</a></h2>
<ul class="Bl-bullet">
  <li>When a <span class="Li">&quot;require&quot;</span> fails, we now do not
      provide <span class="Li">@INC</span> when the
      <span class="Li">&quot;require&quot;</span> is for a file instead of a
      module.</li>
  <li>When <span class="Li">@INC</span> is not scanned for a
      <span class="Li">&quot;require&quot;</span> call, we no longer display
      <span class="Li">@INC</span> to avoid confusion.</li>
  <li>Attribute &quot;locked&quot; is deprecated, and will disappear in Perl
      5.28
    <p class="Pp">This existing warning has had the <i>and will disappear</i>
        text added in this release.</p>
  </li>
  <li>Attribute &quot;unique&quot; is deprecated, and will disappear in Perl
      5.28
    <p class="Pp">This existing warning has had the <i>and will disappear</i>
        text added in this release.</p>
  </li>
  <li>Calling POSIX::%s() is deprecated
    <p class="Pp">This warning has been removed, as the deprecated functions
        have been removed from POSIX.</p>
  </li>
  <li>Constants from lexical variables potentially modified elsewhere are
      deprecated. This will not be allowed in Perl 5.32
    <p class="Pp">This existing warning has had the <i>this will not be
        allowed</i> text added in this release.</p>
  </li>
  <li>Deprecated use of <span class="Li">&quot;my()&quot;</span> in false
      conditional. This will be a fatal error in Perl 5.30
    <p class="Pp">This existing warning has had the <i>this will be a fatal
        error</i> text added in this release.</p>
  </li>
  <li><span class="Li">&quot;dump()&quot;</span> better written as
      <span class="Li">&quot;CORE::dump()&quot;</span>.
      <span class="Li">&quot;dump()&quot;</span> will no longer be available in
      Perl 5.30
    <p class="Pp">This existing warning has had the <i>no longer be
        available</i> text added in this release.</p>
  </li>
  <li>Experimental <span class="Li">%s</span> on scalar is now forbidden
    <p class="Pp">This message is now followed by more helpful text. [GH #15291]
        &lt;https://github.com/Perl/perl5/issues/15291&gt;</p>
  </li>
  <li>Experimental &quot;%s&quot; subs not enabled
    <p class="Pp">This warning was been removed, as lexical subs are no longer
        experimental.</p>
  </li>
  <li>Having more than one /%c regexp modifier is deprecated
    <p class="Pp">This deprecation warning has been removed, since
        <span class="Li">&quot;/xx&quot;</span> now has a new meaning.</p>
  </li>
  <li>%s() is deprecated on <span class="Li">&quot;:utf8&quot;</span> handles.
      This will be a fatal error in Perl 5.30 .
    <p class="Pp">where &quot;%s&quot; is one of
        <span class="Li">&quot;sysread&quot;</span>,
        <span class="Li">&quot;recv&quot;</span>,
        <span class="Li">&quot;syswrite&quot;</span>, or
        <span class="Li">&quot;send&quot;</span>.</p>
    <p class="Pp">This existing warning has had the <i>this will be a fatal
        error</i> text added in this release.</p>
    <p class="Pp">This warning is now enabled by default, as all
        <span class="Li">&quot;deprecated&quot;</span> category warnings should
        be.</p>
  </li>
  <li><span class="Li">$*</span> is no longer supported. Its use will be fatal
      in Perl 5.30
    <p class="Pp">This existing warning has had the <i>its use will be fatal</i>
        text added in this release.</p>
  </li>
  <li><span class="Li">$#</span> is no longer supported. Its use will be fatal
      in Perl 5.30
    <p class="Pp">This existing warning has had the <i>its use will be fatal</i>
        text added in this release.</p>
  </li>
  <li>Malformed UTF-8 character%s
    <p class="Pp">Details as to the exact problem have been added at the end of
        this message</p>
  </li>
  <li>Missing or undefined argument to <span class="Li">%s</span>
    <p class="Pp">This warning used to warn about
        <span class="Li">&quot;require&quot;</span>, even if it was actually
        <span class="Li">&quot;do&quot;</span> which being executed. It now gets
        the operation name right.</p>
  </li>
  <li>NO-BREAK SPACE in a charnames alias definition is deprecated
    <p class="Pp">This warning has been removed as the behavior is now an
      error.</p>
  </li>
  <li>Odd name/value argument for subroutine '%s'
    <p class="Pp">This warning now includes the name of the offending
        subroutine.</p>
  </li>
  <li>Opening dirhandle <span class="Li">%s</span> also as a file. This will be
      a fatal error in Perl 5.28
    <p class="Pp">This existing warning has had the <i>this will be a fatal
        error</i> text added in this release.</p>
  </li>
  <li>Opening filehandle <span class="Li">%s</span> also as a directory. This
      will be a fatal error in Perl 5.28
    <p class="Pp">This existing warning has had the <i>this will be a fatal
        error</i> text added in this release.</p>
  </li>
  <li>panic: ck_split, type=%u
    <p class="Pp">panic: pp_split, pm=%p, s=%p</p>
    <p class="Pp">These panic errors have been removed.</p>
  </li>
  <li>Passing malformed UTF-8 to &quot;%s&quot; is deprecated
    <p class="Pp">This warning has been changed to the fatal Malformed UTF-8
        string in &quot;%s&quot;</p>
  </li>
  <li>Setting <span class="Li">$/</span> to a reference to
      <span class="Li">%s</span> as a form of slurp is deprecated, treating as
      undef. This will be fatal in Perl 5.28
    <p class="Pp">This existing warning has had the <i>this will be fatal</i>
        text added in this release.</p>
  </li>
  <li><span class="Li">&quot;${^ENCODING}&quot;</span> is no longer supported.
      Its use will be fatal in Perl 5.28
    <p class="Pp">This warning used to be: &quot;Setting
        <span class="Li">&quot;${^ENCODING}&quot;</span> is
      deprecated&quot;.</p>
    <p class="Pp">The special action of the variable
        <span class="Li">&quot;${^ENCODING}&quot;</span> was formerly used to
        implement the <span class="Li">&quot;encoding&quot;</span> pragma. As of
        Perl 5.26, rather than being deprecated, assigning to this variable now
        has no effect except to issue the warning.</p>
  </li>
  <li>Too few arguments for subroutine '%s'
    <p class="Pp">This warning now includes the name of the offending
        subroutine.</p>
  </li>
  <li>Too many arguments for subroutine '%s'
    <p class="Pp">This warning now includes the name of the offending
        subroutine.</p>
  </li>
  <li>Unescaped left brace in regex is deprecated here (and will be fatal in
      Perl 5.30), passed through in regex; marked by &lt;--&#x00A0;HERE in m/%s/
    <p class="Pp">This existing warning has had the <i>here (and will be
        fatal...)</i> text added in this release.</p>
  </li>
  <li>Unknown charname '' is deprecated. Its use will be fatal in Perl 5.28
    <p class="Pp">This existing warning has had the <i>its use will be fatal</i>
        text added in this release.</p>
  </li>
  <li>Use of bare &lt;&lt; to mean &lt;&lt;&quot;&quot; is deprecated. Its use
      will be fatal in Perl 5.28
    <p class="Pp">This existing warning has had the <i>its use will be fatal</i>
        text added in this release.</p>
  </li>
  <li>Use of code point 0x%s is deprecated; the permissible max is 0x%s. This
      will be fatal in Perl 5.28
    <p class="Pp">This existing warning has had the <i>this will be fatal</i>
        text added in this release.</p>
  </li>
  <li>Use of comma-less variable list is deprecated. Its use will be fatal in
      Perl 5.28
    <p class="Pp">This existing warning has had the <i>its use will be fatal</i>
        text added in this release.</p>
  </li>
  <li>Use of inherited <span class="Li">&quot;AUTOLOAD&quot;</span> for
      non-method %s() is deprecated. This will be fatal in Perl 5.28
    <p class="Pp">This existing warning has had the <i>this will be fatal</i>
        text added in this release.</p>
  </li>
  <li>Use of strings with code points over 0xFF as arguments to
      <span class="Li">%s</span> operator is deprecated. This will be a fatal
      error in Perl 5.28
    <p class="Pp">This existing warning has had the <i>this will be a fatal
        error</i> text added in this release.</p>
  </li>
</ul>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Utility_Changes"><a class="permalink" href="#Utility_Changes">Utility
  Changes</a></h1>
<section class="Ss">
<h2 class="Ss"><i>c2ph</i> and <i>pstruct</i></h2>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>These old utilities have long since superceded by h2xs, and are now gone
      from the distribution.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss"><i>Porting/pod_lib.pl</i></h2>
<ul class="Bl-bullet">
  <li>Removed spurious executable bit.</li>
  <li>Account for the possibility of DOS file endings.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss"><i>Porting/sync-with-cpan</i></h2>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Many improvements.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss"><i>perf/benchmarks</i></h2>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Tidy file, rename some symbols.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss"><i>Porting/checkAUTHORS.pl</i></h2>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Replace obscure character range with
      <span class="Li">&quot;\w&quot;</span>.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss"><i>t/porting/regen.t</i></h2>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Try to be more helpful when tests fail.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss"><i>utils/h2xs.PL</i></h2>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Avoid infinite loop for enums.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="perlbug"><a class="permalink" href="#perlbug">perlbug</a></h2>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Long lines in the message body are now wrapped at 900 characters, to stay
      well within the 1000-character limit imposed by SMTP mail transfer agents.
      This is particularly likely to be important for the list of arguments to
      <i>Configure</i>, which can readily exceed the limit if, for example, it
      names several non-default installation paths. This change also adds the
      first unit tests for perlbug. [perl #128020]
      &lt;https://rt.perl.org/Public/Bug/Display.html?id=128020&gt;</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Configuration_and_Compilation"><a class="permalink" href="#Configuration_and_Compilation">Configuration
  and Compilation</a></h1>
<ul class="Bl-bullet">
  <li><span class="Li">&quot;-Ddefault_inc_excludes_dot&quot;</span> has added,
      and enabled by default.</li>
  <li>The <span class="Li">&quot;dtrace&quot;</span> build process has further
      changes [GH #15718]
    &lt;https://github.com/Perl/perl5/issues/15718&gt;:</li>
</ul>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>If the <span class="Li">&quot;-xnolibs&quot;</span> is available, use that
      so a <i>dtrace</i> perl can be built within a FreeBSD jail.</li>
  <li>On systems that build a <i>dtrace</i> object file (FreeBSD, Solaris, and
      SystemTap's dtrace emulation), copy the input objects to a separate
      directory and process them there, and use those objects in the link, since
      <span class="Li">&quot;dtrace -G&quot;</span> also modifies these
    objects.</li>
  <li>Add <i>libelf</i> to the build on FreeBSD 10.x, since <i>dtrace</i> adds
      references to <i>libelf</i> symbols.</li>
  <li>Generate a dummy <i>dtrace_main.o</i> if <span class="Li">&quot;dtrace
      -G&quot;</span> fails to build it. A default build on Solaris generates
      probes from the unused inline functions, while they don't on FreeBSD,
      which causes <span class="Li">&quot;dtrace -G&quot;</span> to fail.</li>
</ul>
</div>
<div class="Bd-indent"></div>
<ul class="Bl-bullet">
  <li>You can now disable perl's use of the
      <span class="Li">&quot;PERL_HASH_SEED&quot;</span> and
      <span class="Li">&quot;PERL_PERTURB_KEYS&quot;</span> environment
      variables by configuring perl with
      <span class="Li">&quot;-Accflags=NO_PERL_HASH_ENV&quot;</span>.</li>
  <li>You can now disable perl's use of the
      <span class="Li">&quot;PERL_HASH_SEED_DEBUG&quot;</span> environment
      variable by configuring perl with
      <span class="Li">&quot;-Accflags=-DNO_PERL_HASH_SEED_DEBUG&quot;</span>.</li>
  <li><i>Configure</i> now zeroes out the alignment bytes when calculating the
      bytes for 80-bit <span class="Li">&quot;NaN&quot;</span> and
      <span class="Li">&quot;Inf&quot;</span> to make builds more reproducible.
      [GH #15725] &lt;https://github.com/Perl/perl5/issues/15725&gt;</li>
  <li>Since v5.18, for testing purposes we have included support for building
      perl with a variety of non-standard, and non-recommended hash functions.
      Since we do not recommend the use of these functions, we have removed them
      and their corresponding build options. Specifically this includes the
      following build options:
    <p class="Pp"></p>
    <pre>    PERL_HASH_FUNC_SDBM
    PERL_HASH_FUNC_DJB2
    PERL_HASH_FUNC_SUPERFAST
    PERL_HASH_FUNC_MURMUR3
    PERL_HASH_FUNC_ONE_AT_A_TIME
    PERL_HASH_FUNC_ONE_AT_A_TIME_OLD
    PERL_HASH_FUNC_MURMUR_HASH_64A
    PERL_HASH_FUNC_MURMUR_HASH_64B
    </pre>
  </li>
  <li>Remove &quot;Warning: perl appears in your path&quot;
    <p class="Pp">This install warning is more or less obsolete, since most
        platforms already <b>will</b> have a <i>/usr/bin/perl</i> or similar
        provided by the OS.</p>
  </li>
  <li>Reduce verbosity of <span class="Li">&quot;make install.man&quot;</span>
    <p class="Pp">Previously, two progress messages were emitted for each
        manpage: one by installman itself, and one by the function in
        <i>install_lib.pl</i> that it calls to actually install the file.
        Disabling the second of those in each case saves over 750 lines of
        unhelpful output.</p>
  </li>
  <li>Cleanup for <span class="Li">&quot;clang -Weverything&quot;</span>
      support. [GH #15683]
    &lt;https://github.com/Perl/perl5/issues/15683&gt;</li>
  <li><i>Configure</i>: signbit scan was assuming too much, stop assuming
      negative 0.</li>
  <li>Various compiler warnings have been silenced.</li>
  <li>Several smaller changes have been made to remove impediments to compiling
      under C++11.</li>
  <li>Builds using <span class="Li">&quot;USE_PAD_RESET&quot;</span> now work
      again; this configuration had bit-rotted.</li>
  <li>A probe for <span class="Li">&quot;gai_strerror&quot;</span> was added to
      <i>Configure</i> that checks if the
      <span class="Li">&quot;gai_strerror()&quot;</span> routine is available
      and can be used to translate error codes returned by
      <span class="Li">&quot;getaddrinfo()&quot;</span> into human readable
      strings.</li>
  <li><i>Configure</i> now aborts if both
      <span class="Li">&quot;-Duselongdouble&quot;</span> and
      <span class="Li">&quot;-Dusequadmath&quot;</span> are requested. [GH
      #14944] &lt;https://github.com/Perl/perl5/issues/14944&gt;</li>
  <li>Fixed a bug in which <i>Configure</i> could append
      <span class="Li">&quot;-quadmath&quot;</span> to the archname even if it
      was already present. [GH #15423]
      &lt;https://github.com/Perl/perl5/issues/15423&gt;</li>
  <li>Clang builds with <span class="Li">&quot;-DPERL_GLOBAL_STRUCT&quot;</span>
      or <span class="Li">&quot;-DPERL_GLOBAL_STRUCT_PRIVATE&quot;</span> have
      been fixed (by disabling Thread Safety Analysis for these
    configurations).</li>
  <li><i>make_ext.pl</i> no longer updates a module's <i>pm_to_blib</i> file
      when no files require updates. This could cause dependencies,
      <i>perlmain.c</i> in particular, to be rebuilt unnecessarily. [GH #15060]
      &lt;https://github.com/Perl/perl5/issues/15060&gt;</li>
  <li>The output of <span class="Li">&quot;perl -V&quot;</span> has been
      reformatted so that each configuration and compile-time option is now
      listed one per line, to improve readability.</li>
  <li><i>Configure</i> now builds <span class="Li">&quot;miniperl&quot;</span>
      and <span class="Li">&quot;generate_uudmap&quot;</span> if you invoke it
      with <span class="Li">&quot;-Dusecrosscompiler&quot;</span> but not
      <span class="Li">&quot;-Dtargethost=somehost&quot;</span>. This means you
      can supply your target platform
      <span class="Li">&quot;config.sh&quot;</span>, generate the headers and
      proceed to build your cross-target perl. [GH #15126]
      &lt;https://github.com/Perl/perl5/issues/15126&gt;</li>
  <li>Perl built with
      <span class="Li">&quot;-Accflags=-DPERL_TRACE_OPS&quot;</span> now only
      dumps the operator counts when the environment variable
      <span class="Li">&quot;PERL_TRACE_OPS&quot;</span> is set to a non-zero
      integer. This allows <span class="Li">&quot;make test&quot;</span> to pass
      on such a build.</li>
  <li>When building with GCC 6 and link-time optimization (the
      <span class="Li">&quot;-flto&quot;</span> option to
      <span class="Li">&quot;gcc&quot;</span>), <i>Configure</i> was treating
      all probed symbols as present on the system, regardless of whether they
      actually exist. This has been fixed. [GH #15322]
      &lt;https://github.com/Perl/perl5/issues/15322&gt;</li>
  <li>The <i>t/test.pl</i> library is used for internal testing of Perl itself,
      and also copied by several CPAN modules. Some of those modules must work
      on older versions of Perl, so <i>t/test.pl</i> must in turn avoid newer
      Perl features. Compatibility with Perl 5.8 was inadvertently removed some
      time ago; it has now been restored. [GH #15302]
      &lt;https://github.com/Perl/perl5/issues/15302&gt;</li>
  <li>The build process no longer emits an extra blank line before building each
      &quot;simple&quot; extension (those with only <i>*.pm</i> and <i>*.pod</i>
      files).</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Testing"><a class="permalink" href="#Testing">Testing</a></h1>
<p class="Pp">Tests were added and changed to reflect the other additions and
    changes in this release. Furthermore, these substantive changes were
  made:</p>
<ul class="Bl-bullet">
  <li>A new test script, <i>comp/parser_run.t</i>, has been added that is like
      <i>comp/parser.t</i> but with <i>test.pl</i> included so that
      <span class="Li">&quot;runperl()&quot;</span> and the like are available
      for use.</li>
  <li>Tests for locales were erroneously using locales incompatible with
    Perl.</li>
  <li>Some parts of the test suite that try to exhaustively test edge cases in
      the regex implementation have been restricted to running for a maximum of
      five minutes. On slow systems they could otherwise take several hours,
      without significantly improving our understanding of the correctness of
      the code under test.</li>
  <li>A new internal facility allows analysing the time taken by the individual
      tests in Perl's own test suite; see
      <i>Porting/harness-timer-report.pl</i>.</li>
  <li><i>t/re/regexp_nonull.t</i> has been added to test that the regular
      expression engine can handle scalars that do not have a null byte just
      past the end of the string.</li>
  <li>A new test script, <i>t/op/decl-refs.t</i>, has been added to test the new
      feature &quot;Declaring a reference to a variable&quot;.</li>
  <li>A new test script, <i>t/re/keep_tabs.t</i> has been added to contain tests
      where <span class="Li">&quot;\t&quot;</span> characters should not be
      expanded into spaces.</li>
  <li>A new test script, <i>t/re/anyof.t</i>, has been added to test that the
      ANYOF nodes generated by bracketed character classes are as expected.</li>
  <li>There is now more extensive testing of the Unicode-related API macros and
      functions.</li>
  <li>Several of the longer running API test files have been split into multiple
      test files so that they can be run in parallel.</li>
  <li><i>t/harness</i> now tries really hard not to run tests which are located
      outside of the Perl source tree. [GH #14578]
      &lt;https://github.com/Perl/perl5/issues/14578&gt;</li>
  <li>Prevent debugger tests (<i>lib/perl5db.t</i>) from failing due to the
      contents of <span class="Li">$ENV{PERLDB_OPTS}</span>. [GH #15782]
      &lt;https://github.com/Perl/perl5/issues/15782&gt;</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Platform_Support"><a class="permalink" href="#Platform_Support">Platform
  Support</a></h1>
<section class="Ss">
<h2 class="Ss" id="New_Platforms"><a class="permalink" href="#New_Platforms">New
  Platforms</a></h2>
<dl class="Bl-tag">
  <dt id="NetBSD/VAX"><a class="permalink" href="#NetBSD/VAX">NetBSD/VAX</a></dt>
  <dd>Perl now compiles under NetBSD on VAX machines. However, it's not possible
      for that platform to implement floating-point infinities and NaNs
      compatible with most modern systems, which implement the IEEE-754 floating
      point standard. The hexadecimal floating point
      (<span class="Li">&quot;0x...p[+-]n&quot;</span> literals,
      <span class="Li">&quot;printf %a&quot;</span>) is not implemented, either.
      The <span class="Li">&quot;make test&quot;</span> passes 98% of
    tests.</dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>Test fixes and minor updates.</li>
  <li>Account for lack of <span class="Li">&quot;inf&quot;</span>,
      <span class="Li">&quot;nan&quot;</span>, and
      <span class="Li">&quot;-0.0&quot;</span> support.</li>
</ul>
</div>
<div class="Bd-indent"></div>
</section>
<section class="Ss">
<h2 class="Ss" id="Platform-Specific_Notes"><a class="permalink" href="#Platform-Specific_Notes">Platform-Specific
  Notes</a></h2>
<dl class="Bl-tag">
  <dt id="Darwin"><a class="permalink" href="#Darwin">Darwin</a></dt>
  <dd></dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>Don't treat <span class="Li">&quot;-Dprefix=/usr&quot;</span> as special:
      instead require an extra option
      <span class="Li">&quot;-Ddarwin_distribution&quot;</span> to produce the
      same results.</li>
  <li>OS X El Capitan doesn't implement the
      <span class="Li">&quot;clock_gettime()&quot;</span> or
      <span class="Li">&quot;clock_getres()&quot;</span> APIs; emulate them as
      necessary.</li>
  <li>Deprecated <span class="Li">syscall(2)</span> on macOS 10.12.</li>
</ul>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt id="EBCDIC"><a class="permalink" href="#EBCDIC">EBCDIC</a></dt>
  <dd>Several tests have been updated to work (or be skipped) on EBCDIC
      platforms.</dd>
  <dt id="HP-UX"><a class="permalink" href="#HP-UX">HP-UX</a></dt>
  <dd>The Net::Ping UDP test is now skipped on HP-UX.</dd>
  <dt id="Hurd"><a class="permalink" href="#Hurd">Hurd</a></dt>
  <dd>The hints for Hurd have been improved, enabling malloc wrap and reporting
      the GNU libc used (previously it was an empty string when reported).</dd>
  <dt id="VAX"><a class="permalink" href="#VAX">VAX</a></dt>
  <dd>VAX floating point formats are now supported on NetBSD.</dd>
  <dt id="VMS"><a class="permalink" href="#VMS">VMS</a></dt>
  <dd></dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>The path separator for the <span class="Li">&quot;PERL5LIB&quot;</span>
      and <span class="Li">&quot;PERLLIB&quot;</span> environment entries is now
      a colon (<span class="Li">&quot;:&quot;</span>) when running under a Unix
      shell. There is no change when running under DCL (it's still
      <span class="Li">&quot;|&quot;</span>).</li>
  <li><i>configure.com</i> now recognizes the VSI-branded C compiler and no
      longer recognizes the &quot;DEC&quot;-branded C compiler (as there hasn't
      been such a thing for 15 or more years).</li>
</ul>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt id="Windows"><a class="permalink" href="#Windows">Windows</a></dt>
  <dd></dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>Support for compiling perl on Windows using Microsoft Visual Studio 2015
      (containing Visual C++ 14.0) has been added.
    <p class="Pp">This version of VC++ includes a completely rewritten C
        run-time library, some of the changes in which mean that work done to
        resolve a socket <span class="Li">&quot;close()&quot;</span> bug in perl
        #120091 and perl #118059 is not workable in its current state with this
        version of VC++. Therefore, we have effectively reverted that bug fix
        for VS2015 onwards on the basis that being able to build with VS2015
        onwards is more important than keeping the bug fix. We may revisit this
        in the future to attempt to fix the bug again in a way that is
        compatible with VS2015.</p>
    <p class="Pp">These changes do not affect compilation with GCC or with
        Visual Studio versions up to and including VS2013, <i>i.e.</i>, the bug
        fix is retained (unchanged) for those compilers.</p>
    <p class="Pp">Note that you may experience compatibility problems if you mix
        a perl built with GCC or VS &lt;= VS2013 with XS modules built with
        VS2015, or if you mix a perl built with VS2015 with XS modules built
        with GCC or VS &lt;= VS2013. Some incompatibility may arise because of
        the bug fix that has been reverted for VS2015 builds of perl, but there
        may well be incompatibility anyway because of the rewritten CRT in
        VS2015 (<i>e.g.</i>, see discussion at
        &lt;http://stackoverflow.com/questions/30412951&gt;).</p>
  </li>
  <li>It now automatically detects GCC versus Visual C and sets the VC version
      number on Win32.</li>
</ul>
</div>
<div class="Bd-indent"></div>
<dl class="Bl-tag">
  <dt id="Linux"><a class="permalink" href="#Linux">Linux</a></dt>
  <dd>Drop support for Linux <i>a.out</i> executable format. Linux has used ELF
      for over twenty years.</dd>
  <dt id="OpenBSD"><a class="permalink" href="#OpenBSD">OpenBSD 6</a></dt>
  <dd>OpenBSD 6 still does not support returning
      <span class="Li">&quot;pid&quot;</span>,
      <span class="Li">&quot;gid&quot;</span>, or
      <span class="Li">&quot;uid&quot;</span> with
      <span class="Li">&quot;SA_SIGINFO&quot;</span>. Make sure to account for
      it.</dd>
  <dt id="FreeBSD"><a class="permalink" href="#FreeBSD">FreeBSD</a></dt>
  <dd><i>t/uni/overload.t</i>: Skip hanging test on FreeBSD.</dd>
  <dt id="DragonFly"><a class="permalink" href="#DragonFly">DragonFly
    BSD</a></dt>
  <dd>DragonFly BSD now has support for
      <span class="Li">&quot;setproctitle()&quot;</span>. [GH #15703]
      &lt;https://github.com/Perl/perl5/issues/15703&gt;.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Internal_Changes"><a class="permalink" href="#Internal_Changes">Internal
  Changes</a></h1>
<ul class="Bl-bullet">
  <li>A new API function <span class="Li">&quot;sv_setpv_bufsize()&quot;</span>
      allows simultaneously setting the length and the allocated size of the
      buffer in an <span class="Li">&quot;SV&quot;</span>, growing the buffer if
      necessary.</li>
  <li>A new API macro <span class="Li">&quot;SvPVCLEAR()&quot;</span> sets its
      <span class="Li">&quot;SV&quot;</span> argument to an empty string, like
      Perl-space <span class="Li">&quot;$x = ''&quot;</span>, but with several
      optimisations.</li>
  <li>Several new macros and functions for dealing with Unicode and
      UTF-8-encoded strings have been added to the API, as well as some changes
      in the functionality of existing functions (see &quot;Unicode
      Support&quot; in perlapi for more details):</li>
</ul>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>New versions of the API macros like
      <span class="Li">&quot;isALPHA_utf8&quot;</span> and
      <span class="Li">&quot;toLOWER_utf8&quot;</span> have been added, each
      with the suffix <span class="Li">&quot;_safe&quot;</span>, like
      <span class="Li">&quot;isSPACE_utf8_safe&quot;</span>. These take an extra
      parameter, giving an upper limit of how far into the string it is safe to
      read. Using the old versions could cause attempts to read beyond the end
      of the input buffer if the UTF-8 is not well-formed, and their use now
      raises a deprecation warning. Details are at &quot;Character
      classification&quot; in perlapi.</li>
  <li>Macros like <span class="Li">&quot;isALPHA_utf8&quot;</span> and
      <span class="Li">&quot;toLOWER_utf8&quot;</span> now die if they detect
      that their input UTF-8 is malformed. A deprecation warning had been issued
      since Perl 5.18.</li>
  <li>Several new macros for analysing the validity of utf8 sequences. These
      are:
    <p class="Pp"><span class="Li">&quot;UTF8_GOT_ABOVE_31_BIT&quot;</span>
        <span class="Li">&quot;UTF8_GOT_CONTINUATION&quot;</span>
        <span class="Li">&quot;UTF8_GOT_EMPTY&quot;</span>
        <span class="Li">&quot;UTF8_GOT_LONG&quot;</span>
        <span class="Li">&quot;UTF8_GOT_NONCHAR&quot;</span>
        <span class="Li">&quot;UTF8_GOT_NON_CONTINUATION&quot;</span>
        <span class="Li">&quot;UTF8_GOT_OVERFLOW&quot;</span>
        <span class="Li">&quot;UTF8_GOT_SHORT&quot;</span>
        <span class="Li">&quot;UTF8_GOT_SUPER&quot;</span>
        <span class="Li">&quot;UTF8_GOT_SURROGATE&quot;</span>
        <span class="Li">&quot;UTF8_IS_INVARIANT&quot;</span>
        <span class="Li">&quot;UTF8_IS_NONCHAR&quot;</span>
        <span class="Li">&quot;UTF8_IS_SUPER&quot;</span>
        <span class="Li">&quot;UTF8_IS_SURROGATE&quot;</span>
        <span class="Li">&quot;UVCHR_IS_INVARIANT&quot;</span>
        <span class="Li">&quot;isUTF8_CHAR_flags&quot;</span>
        <span class="Li">&quot;isSTRICT_UTF8_CHAR&quot;</span>
        <span class="Li">&quot;isC9_STRICT_UTF8_CHAR&quot;</span></p>
  </li>
  <li>Functions that are all extensions of the
      <span class="Li">&quot;is_utf8_string_</span><span class="Li"><i>*</i></span><span class="Li">()&quot;</span>
      functions, that apply various restrictions to the UTF-8 recognized as
      valid:
    <p class="Pp"><span class="Li">&quot;is_strict_utf8_string&quot;</span>,
        <span class="Li">&quot;is_strict_utf8_string_loc&quot;</span>,
        <span class="Li">&quot;is_strict_utf8_string_loclen&quot;</span>,</p>
    <p class="Pp"><span class="Li">&quot;is_c9strict_utf8_string&quot;</span>,
        <span class="Li">&quot;is_c9strict_utf8_string_loc&quot;</span>,
        <span class="Li">&quot;is_c9strict_utf8_string_loclen&quot;</span>,</p>
    <p class="Pp"><span class="Li">&quot;is_utf8_string_flags&quot;</span>,
        <span class="Li">&quot;is_utf8_string_loc_flags&quot;</span>,
        <span class="Li">&quot;is_utf8_string_loclen_flags&quot;</span>,</p>
    <p class="Pp"><span class="Li">&quot;is_utf8_fixed_width_buf_flags&quot;</span>,
        <span class="Li">&quot;is_utf8_fixed_width_buf_loc_flags&quot;</span>,
        <span class="Li">&quot;is_utf8_fixed_width_buf_loclen_flags&quot;</span>.</p>
    <p class="Pp"><span class="Li">&quot;is_utf8_invariant_string&quot;</span>.
        <span class="Li">&quot;is_utf8_valid_partial_char&quot;</span>.
        <span class="Li">&quot;is_utf8_valid_partial_char_flags&quot;</span>.</p>
  </li>
  <li>The functions <span class="Li">&quot;utf8n_to_uvchr&quot;</span> and its
      derivatives have had several changes of behaviour.
    <p class="Pp">Calling them, while passing a string length of 0 is now
        asserted against in DEBUGGING builds, and otherwise, returns the Unicode
        REPLACEMENT CHARACTER. If you have nothing to decode, you shouldn't call
        the decode function.</p>
    <p class="Pp">They now return the Unicode REPLACEMENT CHARACTER if called
        with UTF-8 that has the overlong malformation and that malformation is
        allowed by the input parameters. This malformation is where the UTF-8
        looks valid syntactically, but there is a shorter sequence that yields
        the same code point. This has been forbidden since Unicode version
      3.1.</p>
    <p class="Pp">They now accept an input flag to allow the overflow
        malformation. This malformation is when the UTF-8 may be syntactically
        valid, but the code point it represents is not capable of being
        represented in the word length on the platform. What &quot;allowed&quot;
        means, in this case, is that the function doesn't return an error, and
        it advances the parse pointer to beyond the UTF-8 in question, but it
        returns the Unicode REPLACEMENT CHARACTER as the value of the code point
        (since the real value is not representable).</p>
    <p class="Pp">They no longer abandon searching for other malformations when
        the first one is encountered. A call to one of these functions thus can
        generate multiple diagnostics, instead of just one.</p>
  </li>
  <li><span class="Li">&quot;valid_utf8_to_uvchr()&quot;</span> has been added
      to the API (although it was present in core earlier). Like
      <span class="Li">&quot;utf8_to_uvchr_buf()&quot;</span>, but assumes that
      the next character is well-formed. Use with caution.</li>
  <li>A new function, <span class="Li">&quot;utf8n_to_uvchr_error&quot;</span>,
      has been added for use by modules that need to know the details of UTF-8
      malformations beyond pass/fail. Previously, the only ways to know why a
      sequence was ill-formed was to capture and parse the generated diagnostics
      or to do your own analysis.</li>
  <li>There is now a safer version of <b>utf8_hop()</b>, called
      <span class="Li">&quot;utf8_hop_safe()&quot;</span>. Unlike
      <b>utf8_hop()</b>, <b>utf8_hop_safe()</b> won't navigate before the
      beginning or after the end of the supplied buffer.</li>
  <li>Two new functions, <span class="Li">&quot;utf8_hop_forward()&quot;</span>
      and <span class="Li">&quot;utf8_hop_back()&quot;</span> are similar to
      <span class="Li">&quot;utf8_hop_safe()&quot;</span> but are for when you
      know which direction you wish to travel.</li>
  <li>Two new macros which return useful utf8 byte sequences:
    <p class="Pp"><span class="Li">&quot;BOM_UTF8&quot;</span></p>
    <p class="Pp"><span class="Li">&quot;REPLACEMENT_CHARACTER_UTF8&quot;</span></p>
  </li>
</ul>
</div>
<div class="Bd-indent"></div>
<ul class="Bl-bullet">
  <li>Perl is now built with the
      <span class="Li">&quot;PERL_OP_PARENT&quot;</span> compiler define enabled
      by default. To disable it, use the
      <span class="Li">&quot;PERL_NO_OP_PARENT&quot;</span> compiler define.
      This flag alters how the <span class="Li">&quot;op_sibling&quot;</span>
      field is used in <span class="Li">&quot;OP&quot;</span> structures, and
      has been available optionally since perl 5.22.
    <p class="Pp">See &quot;Internal Changes&quot; in perl5220delta for more
        details of what this build option does.</p>
  </li>
  <li>Three new ops, <span class="Li">&quot;OP_ARGELEM&quot;</span>,
      <span class="Li">&quot;OP_ARGDEFELEM&quot;</span>, and
      <span class="Li">&quot;OP_ARGCHECK&quot;</span> have been added. These are
      intended principally to implement the individual elements of a subroutine
      signature, plus any overall checking required.</li>
  <li>The <span class="Li">&quot;OP_PUSHRE&quot;</span> op has been eliminated
      and the <span class="Li">&quot;OP_SPLIT&quot;</span> op has been changed
      from class <span class="Li">&quot;LISTOP&quot;</span> to
      <span class="Li">&quot;PMOP&quot;</span>.
    <p class="Pp">Formerly the first child of a split would be a
        <span class="Li">&quot;pushre&quot;</span>, which would have the
        <span class="Li">&quot;split&quot;</span>'s regex attached to it. Now
        the regex is attached directly to the
        <span class="Li">&quot;split&quot;</span> op, and the
        <span class="Li">&quot;pushre&quot;</span> has been eliminated.</p>
  </li>
  <li>The <span class="Li">&quot;op_class()&quot;</span> API function has been
      added. This is like the existing
      <span class="Li">&quot;OP_CLASS()&quot;</span> macro, but can more
      accurately determine what struct an op has been allocated as. For example
      <span class="Li">&quot;OP_CLASS()&quot;</span> might return
      <span class="Li">&quot;OA_BASEOP_OR_UNOP&quot;</span> indicating that ops
      of this type are usually allocated as an
      <span class="Li">&quot;OP&quot;</span> or
      <span class="Li">&quot;UNOP&quot;</span>; while
      <span class="Li">&quot;op_class()&quot;</span> will return
      <span class="Li">&quot;OPclass_BASEOP&quot;</span> or
      <span class="Li">&quot;OPclass_UNOP&quot;</span> as appropriate.</li>
  <li>All parts of the internals now agree that the
      <span class="Li">&quot;sassign&quot;</span> op is a
      <span class="Li">&quot;BINOP&quot;</span>; previously it was listed as a
      <span class="Li">&quot;BASEOP&quot;</span> in <i>regen/opcodes</i>, which
      meant that several parts of the internals had to be special-cased to
      accommodate it. This oddity's original motivation was to handle code like
      <span class="Li">&quot;$x ||= 1&quot;</span>; that is now handled in a
      simpler way.</li>
  <li>The output format of the <span class="Li">&quot;op_dump()&quot;</span>
      function (as used by <span class="Li">&quot;perl -Dx&quot;</span>) has
      changed: it now displays an &quot;ASCII-art&quot; tree structure, and
      shows more low-level details about each op, such as its address and
    class.</li>
  <li>The <span class="Li">&quot;PADOFFSET&quot;</span> type has changed from
      being unsigned to signed, and several pad-related variables such as
      <span class="Li">&quot;PL_padix&quot;</span> have changed from being of
      type <span class="Li">&quot;I32&quot;</span> to type
      <span class="Li">&quot;PADOFFSET&quot;</span>.</li>
  <li>The <span class="Li">&quot;DEBUGGING&quot;</span>-mode output for regex
      compilation and execution has been enhanced.</li>
  <li>Several obscure SV flags have been eliminated, sometimes along with the
      macros which manipulate them:
      <span class="Li">&quot;SVpbm_VALID&quot;</span>,
      <span class="Li">&quot;SVpbm_TAIL&quot;</span>,
      <span class="Li">&quot;SvTAIL_on&quot;</span>,
      <span class="Li">&quot;SvTAIL_off&quot;</span>,
      <span class="Li">&quot;SVrepl_EVAL&quot;</span>,
      <span class="Li">&quot;SvEVALED&quot;</span>.</li>
  <li>An OP <span class="Li">&quot;op_private&quot;</span> flag has been
      eliminated: <span class="Li">&quot;OPpRUNTIME&quot;</span>. This used to
      often get set on <span class="Li">&quot;PMOP&quot;</span> ops, but had
      become meaningless over time.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Selected_Bug_Fixes"><a class="permalink" href="#Selected_Bug_Fixes">Selected
  Bug Fixes</a></h1>
<ul class="Bl-bullet">
  <li>Perl no longer panics when switching into some locales on machines with
      buggy <span class="Li">&quot;strxfrm()&quot;</span> implementations in
      their <i>libc</i>. [GH #13768]
      &lt;https://github.com/Perl/perl5/issues/13768&gt;</li>
  <li><span class="Li">&quot; $-{$name} &quot;</span> would leak an
      <span class="Li">&quot;AV&quot;</span> on each access if the regular
      expression had no named captures. The same applies to access to any hash
      tied with Tie::Hash::NamedCapture and <span class="Li">&quot;all =&gt;
      1&quot;</span>. [GH #15882]
      &lt;https://github.com/Perl/perl5/issues/15882&gt;</li>
  <li>Attempting to use the deprecated variable <span class="Li">$#</span> as
      the object in an indirect object method call could cause a heap use after
      free or buffer overflow. [GH #15599]
      &lt;https://github.com/Perl/perl5/issues/15599&gt;</li>
  <li>When checking for an indirect object method call, in some rare cases the
      parser could reallocate the line buffer but then continue to use pointers
      to the old buffer. [GH #15585]
      &lt;https://github.com/Perl/perl5/issues/15585&gt;</li>
  <li>Supplying a glob as the format argument to
      <span class="Li">&quot;formline&quot;</span> would cause an assertion
      failure. [GH #15862]
    &lt;https://github.com/Perl/perl5/issues/15862&gt;</li>
  <li>Code like <span class="Li">&quot; $value1 =~ qr/.../ ~~ $value2
      &quot;</span> would have the match converted into a
      <span class="Li">&quot;qr//&quot;</span> operator, leaving extra elements
      on the stack to confuse any surrounding expression. [GH #15859]
      &lt;https://github.com/Perl/perl5/issues/15859&gt;</li>
  <li>Since v5.24 in some obscure cases, a regex which included code blocks from
      multiple sources (<i>e.g.</i>, via embedded via
      <span class="Li">&quot;qr//&quot;</span> objects) could end up with the
      wrong current pad and crash or give weird results. [GH #15657]
      &lt;https://github.com/Perl/perl5/issues/15657&gt;</li>
  <li>Occasionally <span class="Li">&quot;local()&quot;</span>s in a code block
      within a patterns weren't being undone when the pattern matching
      backtracked over the code block. [GH #15056]
      &lt;https://github.com/Perl/perl5/issues/15056&gt;</li>
  <li>Using <span class="Li">&quot;substr()&quot;</span> to modify a magic
      variable could access freed memory in some cases. [GH #15871]
      &lt;https://github.com/Perl/perl5/issues/15871&gt;</li>
  <li>Under <span class="Li">&quot;use utf8&quot;</span>, the entire source code
      is now checked for being UTF-8 well formed, not just quoted strings as
      before. [GH #14973]
    &lt;https://github.com/Perl/perl5/issues/14973&gt;.</li>
  <li>The range operator <span class="Li">&quot;..&quot;</span> on strings now
      handles its arguments correctly when in the scope of the
      <span class="Li">&quot;unicode_strings&quot;</span> feature. The previous
      behaviour was sufficiently unexpected that we believe no correct program
      could have made use of it.</li>
  <li>The <span class="Li">&quot;split&quot;</span> operator did not ensure
      enough space was allocated for its return value in scalar context. It
      could then write a single pointer immediately beyond the end of the memory
      block allocated for the stack. [GH #15749]
      &lt;https://github.com/Perl/perl5/issues/15749&gt;</li>
  <li>Using a large code point with the <span class="Li">&quot;W&quot;</span>
      pack template character with the current output position aligned at just
      the right point could cause a write of a single zero byte immediately
      beyond the end of an allocated buffer. [GH #15572]
      &lt;https://github.com/Perl/perl5/issues/15572&gt;</li>
  <li>Supplying a format's picture argument as part of the format argument list
      where the picture specifies modifying the argument could cause an access
      to the new freed compiled format. [GH #15566]
      &lt;https://github.com/Perl/perl5/issues/15566&gt;</li>
  <li>The <b>sort()</b> operator's built-in numeric comparison function didn't
      handle large integers that weren't exactly representable by a double. This
      now uses the same code used to implement the
      <span class="Li">&quot;&lt;=&gt;&quot;</span> operator. [GH #15768]
      &lt;https://github.com/Perl/perl5/issues/15768&gt;</li>
  <li>Fix issues with <span class="Li">&quot;/(?{ ... &lt;&lt;EOF
      })/&quot;</span> that broke Method::Signatures. [GH #15779]
      &lt;https://github.com/Perl/perl5/issues/15779&gt;</li>
  <li>Fixed an assertion failure with <span class="Li">&quot;chop&quot;</span>
      and <span class="Li">&quot;chomp&quot;</span>, which could be triggered by
      <span class="Li">&quot;chop(@x =~ tr/1/1/)&quot;</span>. [GH #15738]
      &lt;https://github.com/Perl/perl5/issues/15738&gt;.</li>
  <li>Fixed a comment skipping error in patterns under
      <span class="Li">&quot;/x&quot;</span>; it could stop skipping a byte
      early, which could be in the middle of a UTF-8 character. [GH #15790]
      &lt;https://github.com/Perl/perl5/issues/15790&gt;.</li>
  <li><i>perldb</i> now ignores <i>/dev/tty</i> on non-Unix systems. [GH #12244]
      &lt;https://github.com/Perl/perl5/issues/12244&gt;;</li>
  <li>Fix assertion failure for <span class="Li">&quot;{}-&gt;$x&quot;</span>
      when <span class="Li">$x</span> isn't defined. [GH #15791]
      &lt;https://github.com/Perl/perl5/issues/15791&gt;.</li>
  <li>Fix an assertion error which could be triggered when a lookahead string in
      patterns exceeded a minimum length. [GH #15796]
      &lt;https://github.com/Perl/perl5/issues/15796&gt;.</li>
  <li>Only warn once per literal number about a misplaced
      <span class="Li">&quot;_&quot;</span>. [GH #9989]
      &lt;https://github.com/Perl/perl5/issues/9989&gt;.</li>
  <li>The <span class="Li">&quot;tr///&quot;</span> parse code could be looking
      at uninitialized data after a perse error. [GH #15624]
      &lt;https://github.com/Perl/perl5/issues/15624&gt;.</li>
  <li>In a pattern match, a back-reference
      (<span class="Li">&quot;\1&quot;</span>) to an unmatched capture could
      read back beyond the start of the string being matched. [GH #15634]
      &lt;https://github.com/Perl/perl5/issues/15634&gt;.</li>
  <li><span class="Li">&quot;use re 'strict'&quot;</span> is supposed to warn if
      you use a range (such as <span class="Li">&quot;/(?[ [ X-Y ]
      ])/&quot;</span>) whose start and end digit aren't from the same group of
      10. It didn't do that for five groups of mathematical digits starting at
      <span class="Li">&quot;U+1D7E&quot;</span>.</li>
  <li>A sub containing a &quot;forward&quot; declaration with the same name
      (<i>e.g.</i>, <span class="Li">&quot;sub c { sub c; }&quot;</span>) could
      sometimes crash or loop infinitely. [GH #15557]
      &lt;https://github.com/Perl/perl5/issues/15557&gt;</li>
  <li>A crash in executing a regex with a non-anchored UTF-8 substring against a
      target string that also used UTF-8 has been fixed. [GH #15628]
      &lt;https://github.com/Perl/perl5/issues/15628&gt;</li>
  <li>Previously, a shebang line like <span class="Li">&quot;#!perl -i
      u&quot;</span> could be erroneously interpreted as requesting the
      <span class="Li">&quot;-u&quot;</span> option. This has been fixed. [GH
      #15623] &lt;https://github.com/Perl/perl5/issues/15623&gt;</li>
  <li>The regex engine was previously producing incorrect results in some rare
      situations when backtracking past an alternation that matches only one
      thing; this showed up as capture buffers (<span class="Li">$1</span>,
      <span class="Li">$2</span>, <i>etc.</i>) erroneously containing data from
      regex execution paths that weren't actually executed for the final match.
      [GH #15666] &lt;https://github.com/Perl/perl5/issues/15666&gt;</li>
  <li>Certain regexes making use of the experimental
      <span class="Li">&quot;regex_sets&quot;</span> feature could trigger an
      assertion failure. This has been fixed. [GH #15620]
      &lt;https://github.com/Perl/perl5/issues/15620&gt;</li>
  <li>Invalid assignments to a reference constructor (<i>e.g.</i>,
      <span class="Li">&quot;\eval=time&quot;</span>) could sometimes crash in
      addition to giving a syntax error. [GH #14815]
      &lt;https://github.com/Perl/perl5/issues/14815&gt;</li>
  <li>The parser could sometimes crash if a bareword came after
      <span class="Li">&quot;evalbytes&quot;</span>. [GH #15586]
      &lt;https://github.com/Perl/perl5/issues/15586&gt;</li>
  <li>Autoloading via a method call would warn erroneously (&quot;Use of
      inherited AUTOLOAD for non-method&quot;) if there was a stub present in
      the package into which the invocant had been blessed. The warning is no
      longer emitted in such circumstances. [GH #9094]
      &lt;https://github.com/Perl/perl5/issues/9094&gt;</li>
  <li>The use of <span class="Li">&quot;splice&quot;</span> on arrays with
      non-existent elements could cause other operators to crash. [GH #15577]
      &lt;https://github.com/Perl/perl5/issues/15577&gt;</li>
  <li>A possible buffer overrun when a pattern contains a fixed utf8 substring.
      [GH #15534] &lt;https://github.com/Perl/perl5/issues/15534&gt;</li>
  <li>Fixed two possible use-after-free bugs in perl's lexer. [GH #15549]
      &lt;https://github.com/Perl/perl5/issues/15549&gt;</li>
  <li>Fixed a crash with <span class="Li">&quot;s///l&quot;</span> where it
      thought it was dealing with UTF-8 when it wasn't. [GH #15543]
      &lt;https://github.com/Perl/perl5/issues/15543&gt;</li>
  <li>Fixed a place where the regex parser was not setting the syntax error
      correctly on a syntactically incorrect pattern. [GH #15565]
      &lt;https://github.com/Perl/perl5/issues/15565&gt;</li>
  <li>The <span class="Li">&quot;&amp;.&quot;</span> operator (and the
      <span class="Li">&quot;&amp;&quot;</span> operator, when it treats its
      arguments as strings) were failing to append a trailing null byte if at
      least one string was marked as utf8 internally. Many code paths (system
      calls, regexp compilation) still expect there to be a null byte in the
      string buffer just past the end of the logical string. An assertion
      failure was the result. [GH #15606]
      &lt;https://github.com/Perl/perl5/issues/15606&gt;</li>
  <li>Avoid a heap-after-use error in the parser when creating an error messge
      for a syntactically invalid heredoc. [GH #15527]
      &lt;https://github.com/Perl/perl5/issues/15527&gt;</li>
  <li>Fix a segfault when run with <span class="Li">&quot;-DC&quot;</span>
      options on DEBUGGING builds. [GH #15563]
      &lt;https://github.com/Perl/perl5/issues/15563&gt;</li>
  <li>Fixed the parser error handling in subroutine attributes for an
      '<span class="Li">&quot;:attr(foo&quot;</span>' that does not have an
      ending '<span class="Li">&quot;)&quot;</span>'.</li>
  <li>Fix the perl lexer to correctly handle a backslash as the last char in
      quoted-string context. This actually fixed two bugs, [GH #15546]
      &lt;https://github.com/Perl/perl5/issues/15546&gt; and [GH #15582]
      &lt;https://github.com/Perl/perl5/issues/15582&gt;.</li>
  <li>In the API function
      <span class="Li">&quot;gv_fetchmethod_pvn_flags&quot;</span>, rework
      separator parsing to prevent possible string overrun with an invalid
      <span class="Li">&quot;len&quot;</span> argument. [GH #15598]
      &lt;https://github.com/Perl/perl5/issues/15598&gt;</li>
  <li>Problems with in-place array sorts: code like <span class="Li">&quot;@a =
      sort { ... } @a&quot;</span>, where the source and destination of the sort
      are the same plain array, are optimised to do less copying around. Two
      side-effects of this optimisation were that the contents of
      <span class="Li">@a</span> as seen by sort routines were partially sorted;
      and under some circumstances accessing <span class="Li">@a</span> during
      the sort could crash the interpreter. Both these issues have been fixed,
      and Sort functions see the original value of <span class="Li">@a</span>.
      [GH #15387] &lt;https://github.com/Perl/perl5/issues/15387&gt;</li>
  <li>Non-ASCII string delimiters are now reported correctly in error messages
      for unterminated strings. [GH #15469]
      &lt;https://github.com/Perl/perl5/issues/15469&gt;</li>
  <li><span class="Li">&quot;pack(&quot;p&quot;, ...)&quot;</span> used to emit
      its warning (&quot;Attempt to pack pointer to temporary value&quot;)
      erroneously in some cases, but has been fixed.</li>
  <li><span class="Li">@DB::args</span> is now exempt from &quot;used once&quot;
      warnings. The warnings only occurred under <b>-w</b>, because
      <i>warnings.pm</i> itself uses <span class="Li">@DB::args</span> multiple
      times.</li>
  <li>The use of built-in arrays or hash slices in a double-quoted string no
      longer issues a warning (&quot;Possible unintended interpolation...&quot;)
      if the variable has not been mentioned before. This affected code like
      <span class="Li">&quot;qq|@DB::args|&quot;</span> and
      <span class="Li">&quot;qq|@SIG{'CHLD', 'HUP'}|&quot;</span>. (The special
      variables <span class="Li">&quot;@-&quot;</span> and
      <span class="Li">&quot;@+&quot;</span> were already exempt from the
      warning.)</li>
  <li><span class="Li">&quot;gethostent&quot;</span> and similar functions now
      perform a null check internally, to avoid crashing with the torsocks
      library. This was a regression from v5.22. [GH #15478]
      &lt;https://github.com/Perl/perl5/issues/15478&gt;</li>
  <li><span class="Li">&quot;defined *{'!'}&quot;</span>,
      <span class="Li">&quot;defined *{'['}&quot;</span>, and
      <span class="Li">&quot;defined *{'-'}&quot;</span> no longer leak memory
      if the typeglob in question has never been accessed before.</li>
  <li>Mentioning the same constant twice in a row (which is a syntax error) no
      longer fails an assertion under debugging builds. This was a regression
      from v5.20. [GH #15017]
    &lt;https://github.com/Perl/perl5/issues/15017&gt;</li>
  <li>Many issues relating to <span class="Li">&quot;printf
      &quot;%a&quot;&quot;</span> of hexadecimal floating point were fixed. In
      addition, the &quot;subnormals&quot; (formerly known as
      &quot;denormals&quot;) floating point numbers are now supported both with
      the plain IEEE 754 floating point numbers (64-bit or 128-bit) and the x86
      80-bit &quot;extended precision&quot;. Note that subnormal hexadecimal
      floating point literals will give a warning about &quot;exponent
      underflow&quot;. [GH #15495]
      &lt;https://github.com/Perl/perl5/issues/15495&gt; [GH #15503]
      &lt;https://github.com/Perl/perl5/issues/15503&gt; [GH #15504]
      &lt;https://github.com/Perl/perl5/issues/15504&gt; [GH #15505]
      &lt;https://github.com/Perl/perl5/issues/15505&gt; [GH #15510]
      &lt;https://github.com/Perl/perl5/issues/15510&gt; [GH #15512]
      &lt;https://github.com/Perl/perl5/issues/15512&gt;</li>
  <li>A regression in v5.24 with
      <span class="Li">&quot;tr/\N{U+...}/foo/&quot;</span> when the code point
      was between 128 and 255 has been fixed. [GH #15475]
      &lt;https://github.com/Perl/perl5/issues/15475&gt;.</li>
  <li>Use of a string delimiter whose code point is above 2**31 now works
      correctly on platforms that allow this. Previously, certain characters,
      due to truncation, would be confused with other delimiter characters with
      special meaning (such as <span class="Li">&quot;?&quot;</span> in
      <span class="Li">&quot;m?...?&quot;</span>), resulting in inconsistent
      behaviour. Note that this is non-portable, and is based on Perl's
      extension to UTF-8, and is probably not displayable nor enterable by any
      editor. [GH #15477]
    &lt;https://github.com/Perl/perl5/issues/15477&gt;</li>
  <li><span class="Li">&quot;@{x&quot;</span> followed by a newline where
      <span class="Li">&quot;x&quot;</span> represents a control or non-ASCII
      character no longer produces a garbled syntax error message or a crash.
      [GH #15518] &lt;https://github.com/Perl/perl5/issues/15518&gt;</li>
  <li>An assertion failure with <span class="Li">&quot;%: = 0&quot;</span> has
      been fixed. [GH #15358]
    &lt;https://github.com/Perl/perl5/issues/15358&gt;</li>
  <li>In Perl 5.18, the parsing of
      <span class="Li">&quot;$foo::$bar&quot;</span> was accidentally changed,
      such that it would be treated as
      <span class="Li">&quot;$foo.&quot;::&quot;.$bar&quot;</span>. The previous
      behavior, which was to parse it as <span class="Li">&quot;$foo:: .
      $bar&quot;</span>, has been restored. [GH #15408]
      &lt;https://github.com/Perl/perl5/issues/15408&gt;</li>
  <li>Since Perl 5.20, line numbers have been off by one when perl is invoked
      with the <b>-x</b> switch. This has been fixed. [GH #15413]
      &lt;https://github.com/Perl/perl5/issues/15413&gt;</li>
  <li>Vivifying a subroutine stub in a deleted stash (<i>e.g.</i>,
      <span class="Li">&quot;delete $My::{&quot;Foo::&quot;};
      \&amp;My::Foo::foo&quot;</span>) no longer crashes. It had begun crashing
      in Perl 5.18. [GH #15420]
      &lt;https://github.com/Perl/perl5/issues/15420&gt;</li>
  <li>Some obscure cases of subroutines and file handles being freed at the same
      time could result in crashes, but have been fixed. The crash was
      introduced in Perl 5.22. [GH #15435]
      &lt;https://github.com/Perl/perl5/issues/15435&gt;</li>
  <li>Code that looks for a variable name associated with an uninitialized value
      could cause an assertion failure in cases where magic is involved, such as
      <span class="Li">$ISA[0][0]</span>. This has now been fixed. [GH #15364]
      &lt;https://github.com/Perl/perl5/issues/15364&gt;</li>
  <li>A crash caused by code generating the warning &quot;Subroutine STASH::NAME
      redefined&quot; in cases such as <span class="Li">&quot;sub P::f{} undef
      *P::; *P::f =sub{};&quot;</span> has been fixed. In these cases, where the
      STASH is missing, the warning will now appear as &quot;Subroutine NAME
      redefined&quot;. [GH #15368]
      &lt;https://github.com/Perl/perl5/issues/15368&gt;</li>
  <li>Fixed an assertion triggered by some code that handles deprecated behavior
      in formats, <i>e.g.</i>, in cases like this:
    <p class="Pp"></p>
    <pre>    format STDOUT =
    @
    0&quot;$x&quot;
    </pre>
    <p class="Pp">[GH #15366]
      &lt;https://github.com/Perl/perl5/issues/15366&gt;</p>
  </li>
  <li>A possible divide by zero in string transformation code on Windows has
      been avoided, fixing a crash when collating an empty string. [GH #15439]
      &lt;https://github.com/Perl/perl5/issues/15439&gt;</li>
  <li>Some regular expression parsing glitches could lead to assertion failures
      with regular expressions such as
      <span class="Li">&quot;/(?&lt;=/&quot;</span> and
      <span class="Li">&quot;/(?&lt;!/&quot;</span>. This has now been fixed.
      [GH #15332] &lt;https://github.com/Perl/perl5/issues/15332&gt;</li>
  <li><span class="Li">&quot; until ($x = 1) { ... } &quot;</span> and
      <span class="Li">&quot; ... until $x = 1 &quot;</span> now properly warn
      when syntax warnings are enabled. [GH #15138]
      &lt;https://github.com/Perl/perl5/issues/15138&gt;</li>
  <li><b>socket()</b> now leaves the error code returned by the system in
      <span class="Li">$!</span> on failure. [GH #15383]
      &lt;https://github.com/Perl/perl5/issues/15383&gt;</li>
  <li>Assignment variants of any bitwise ops under the
      <span class="Li">&quot;bitwise&quot;</span> feature would crash if the
      left-hand side was an array or hash. [GH #15346]
      &lt;https://github.com/Perl/perl5/issues/15346&gt;</li>
  <li><span class="Li">&quot;require&quot;</span> followed by a single colon (as
      in <span class="Li">&quot;foo() ? require : ...&quot;</span> is now parsed
      correctly as <span class="Li">&quot;require&quot;</span> with implicit
      <span class="Li">$_</span>, rather than <span class="Li">&quot;require
      &quot;&quot;&quot;</span>. [GH #15380]
      &lt;https://github.com/Perl/perl5/issues/15380&gt;</li>
  <li>Scalar <span class="Li">&quot;keys %hash&quot;</span> can now be assigned
      to consistently in all scalar lvalue contexts. Previously it worked for
      some contexts but not others.</li>
  <li>List assignment to <span class="Li">&quot;vec&quot;</span> or
      <span class="Li">&quot;substr&quot;</span> with an array or hash for its
      first argument used to result in crashes or &quot;Can't coerce&quot; error
      messages at run time, unlike scalar assignment, which would give an error
      at compile time. List assignment now gives a compile-time error, too. [GH
      #15370] &lt;https://github.com/Perl/perl5/issues/15370&gt;</li>
  <li>Expressions containing an <span class="Li">&quot;&amp;&amp;&quot;</span>
      or <span class="Li">&quot;||&quot;</span> operator (or their synonyms
      <span class="Li">&quot;and&quot;</span> and
      <span class="Li">&quot;or&quot;</span>) were being compiled incorrectly in
      some cases. If the left-hand side consisted of either a negated bareword
      constant or a negated <span class="Li">&quot;do {}&quot;</span> block
      containing a constant expression, and the right-hand side consisted of a
      negated non-foldable expression, one of the negations was effectively
      ignored. The same was true of <span class="Li">&quot;if&quot;</span> and
      <span class="Li">&quot;unless&quot;</span> statement modifiers, though
      with the left-hand and right-hand sides swapped. This long-standing bug
      has now been fixed. [GH #15285]
      &lt;https://github.com/Perl/perl5/issues/15285&gt;</li>
  <li><span class="Li">&quot;reset&quot;</span> with an argument no longer
      crashes when encountering stash entries other than globs. [GH #15314]
      &lt;https://github.com/Perl/perl5/issues/15314&gt;</li>
  <li>Assignment of hashes to, and deletion of, typeglobs named
      <span class="Li">*::::::</span> no longer causes crashes. [GH #15307]
      &lt;https://github.com/Perl/perl5/issues/15307&gt;</li>
  <li>Perl wasn't correctly handling true/false values in the LHS of a list
      assign; specifically the truth values returned by boolean operators. This
      could trigger an assertion failure in something like the following:
    <p class="Pp"></p>
    <pre>    for ($x &gt; $y) {
        ($_, ...) = (...); # here $_ is aliased to a truth value
    }
    </pre>
    <p class="Pp">This was a regression from v5.24. [GH #15690]
        &lt;https://github.com/Perl/perl5/issues/15690&gt;</p>
  </li>
  <li>Assertion failure with user-defined Unicode-like properties. [GH #15696]
      &lt;https://github.com/Perl/perl5/issues/15696&gt;</li>
  <li>Fix error message for unclosed <span class="Li">&quot;\N{&quot;</span> in
      a regex. An unclosed <span class="Li">&quot;\N{&quot;</span> could give
      the wrong error message: <span class="Li">&quot;\N{NAME} must be resolved
      by the lexer&quot;</span>.</li>
  <li>List assignment in list context where the LHS contained aggregates and
      where there were not enough RHS elements, used to skip scalar lvalues.
      Previously, <span class="Li">&quot;(($a,$b,@c,$d) = (1))&quot;</span> in
      list context returned <span class="Li">&quot;($a)&quot;</span>; now it
      returns <span class="Li">&quot;($a,$b,$d)&quot;</span>.
      <span class="Li">&quot;(($a,$b,$c) = (1))&quot;</span> is unchanged: it
      still returns <span class="Li">&quot;($a,$b,$c)&quot;</span>. This can be
      seen in the following:
    <p class="Pp"></p>
    <pre>    sub inc { $_++ for @_ }
    inc(($a,$b,@c,$d) = (10))
    </pre>
    <p class="Pp">Formerly, the values of
        <span class="Li">&quot;($a,$b,$d)&quot;</span> would be left as
        <span class="Li">&quot;(11,undef,undef)&quot;</span>; now they are
        <span class="Li">&quot;(11,1,1)&quot;</span>.</p>
  </li>
  <li>Code like this: <span class="Li">&quot;/(?{ s!!! })/&quot;</span> could
      trigger infinite recursion on the C stack (not the normal perl stack) when
      the last successful pattern in scope is itself. We avoid the segfault by
      simply forbidding the use of the empty pattern when it would resolve to
      the currently executing pattern. [GH #15669]
      &lt;https://github.com/Perl/perl5/issues/15669&gt;</li>
  <li>Avoid reading beyond the end of the line buffer in perl's lexer when
      there's a short UTF-8 character at the end. [GH #15531]
      &lt;https://github.com/Perl/perl5/issues/15531&gt;</li>
  <li>Alternations in regular expressions were sometimes failing to match a utf8
      string against a utf8 alternate. [GH #15680]
      &lt;https://github.com/Perl/perl5/issues/15680&gt;</li>
  <li>Make <span class="Li">&quot;do &quot;a\0b&quot;&quot;</span> fail silently
      (and return <span class="Li">&quot;undef&quot;</span> and set
      <span class="Li">$!</span>) instead of throwing an error. [GH #15676]
      &lt;https://github.com/Perl/perl5/issues/15676&gt;</li>
  <li><span class="Li">&quot;chdir&quot;</span> with no argument didn't ensure
      that there was stack space available for returning its result. [GH #15569]
      &lt;https://github.com/Perl/perl5/issues/15569&gt;</li>
  <li>All error messages related to <span class="Li">&quot;do&quot;</span> now
      refer to <span class="Li">&quot;do&quot;</span>; some formerly claimed to
      be from <span class="Li">&quot;require&quot;</span> instead.</li>
  <li>Executing <span class="Li">&quot;undef $x&quot;</span> where
      <span class="Li">$x</span> is tied or magical no longer incorrectly blames
      the variable for an uninitialized-value warning encountered by the
      tied/magical code.</li>
  <li>Code like <span class="Li">&quot;$x = $x . &quot;a&quot;&quot;</span> was
      incorrectly failing to yield a use of uninitialized value warning when
      <span class="Li">$x</span> was a lexical variable with an undefined value.
      That has now been fixed. [GH #15269]
      &lt;https://github.com/Perl/perl5/issues/15269&gt;</li>
  <li><span class="Li">&quot;undef *_; shift&quot;</span> or
      <span class="Li">&quot;undef *_; pop&quot;</span> inside a subroutine,
      with no argument to <span class="Li">&quot;shift&quot;</span> or
      <span class="Li">&quot;pop&quot;</span>, began crashing in Perl 5.14, but
      has now been fixed.</li>
  <li><span class="Li">&quot;string$scalar-&gt;$*&quot;</span> now correctly
      prefers concatenation overloading to string overloading if
      <span class="Li">&quot;$scalar-&gt;$*&quot;</span> returns an overloaded
      object, bringing it into consistency with
      <span class="Li">$$scalar</span>.</li>
  <li><span class="Li">&quot;/@0{0*-&gt;@*/*0&quot;</span> and similar
      contortions used to crash, but no longer do, but merely produce a syntax
      error. [GH #15333] &lt;https://github.com/Perl/perl5/issues/15333&gt;</li>
  <li><span class="Li">&quot;do&quot;</span> or
      <span class="Li">&quot;require&quot;</span> with an argument which is a
      reference or typeglob which, when stringified, contains a null character,
      started crashing in Perl 5.20, but has now been fixed. [GH #15337]
      &lt;https://github.com/Perl/perl5/issues/15337&gt;</li>
  <li>Improve the error message for a missing
      <span class="Li">&quot;tie()&quot;</span> package/method. This brings the
      error messages in line with the ones used for normal method calls.</li>
  <li>Parsing bad POSIX charclasses no longer leaks memory. [GH #15382]
      &lt;https://github.com/Perl/perl5/issues/15382&gt;</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Known_Problems"><a class="permalink" href="#Known_Problems">Known
  Problems</a></h1>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>G++ 6 handles subnormal (denormal) floating point values differently than
      gcc 6 or g++ 5 resulting in &quot;flush-to-zero&quot;. The end result is
      that if you specify very small values using the hexadecimal floating point
      format, like <span class="Li">&quot;0x1.fffffffffffffp-1022&quot;</span>,
      they become zeros. [GH #15990]
      &lt;https://github.com/Perl/perl5/issues/15990&gt;</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="Errata_From_Previous_Releases"><a class="permalink" href="#Errata_From_Previous_Releases">Errata
  From Previous Releases</a></h1>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Fixed issues with recursive regexes. The behavior was fixed in Perl 5.24.
      [GH #14935] &lt;https://github.com/Perl/perl5/issues/14935&gt;</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="Obituary"><a class="permalink" href="#Obituary">Obituary</a></h1>
<p class="Pp">Jon Portnoy (AVENJ), a prolific Perl author and admired Gentoo
    community member, has passed away on August 10, 2016. He will be remembered
    and missed by all those who he came in contact with, and enriched with his
    intellect, wit, and spirit.</p>
<p class="Pp">It is with great sadness that we also note Kip Hampton's passing.
    Probably best known as the author of the Perl &amp; XML column on XML.com,
    he was a core contributor to AxKit, an XML server platform that became an
    Apache Foundation project. He was a frequent speaker in the early days at
    OSCON, and most recently at YAPC::NA in Madison. He was frequently on
    irc.perl.org as ubu, generally in the #axkit-dahut community, the group
    responsible for YAPC::NA Asheville in 2011.</p>
<p class="Pp">Kip and his constant contributions to the community will be
    greatly missed.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Acknowledgements"><a class="permalink" href="#Acknowledgements">Acknowledgements</a></h1>
<p class="Pp">Perl 5.26.0 represents approximately 13 months of development
    since Perl 5.24.0 and contains approximately 360,000 lines of changes across
    2,600 files from 86 authors.</p>
<p class="Pp">Excluding auto-generated files, documentation and release tools,
    there were approximately 230,000 lines of changes to 1,800 .pm, .t, .c and
    .h files.</p>
<p class="Pp">Perl continues to flourish into its third decade thanks to a
    vibrant community of users and developers. The following people are known to
    have contributed the improvements that became Perl 5.26.0:</p>
<p class="Pp">Aaron Crane, Abigail, AEvar Arnfjoerd` Bjarmason, Alex Vandiver,
    Andreas Koenig, Andreas Voegele, Andrew Fresh, Andy Lester, Aristotle
    Pagaltzis, Chad Granum, Chase Whitener, Chris 'BinGOs' Williams, Chris Lamb,
    Christian Hansen, Christian Millour, Colin Newell, Craig A. Berry, Dagfinn
    Ilmari Mannsaaker, Dan Collins, Daniel Dragan, Dave Cross, Dave Rolsky,
    David Golden, David H. Gutteridge, David Mitchell, Dominic Hargreaves, Doug
    Bell, E. Choroba, Ed Avis, Father Chrysostomos, Francois Perrad, Hauke D,
    H.Merijn Brand, Hugo van der Sanden, Ivan Pozdeev, James E Keenan, James
    Raspass, Jarkko Hietaniemi, Jerry D. Hedden, Jim Cromie, J. Nick Koston,
    John Lightsey, Karen Etheridge, Karl Williamson, Leon Timmermans, Lukas Mai,
    Matthew Horsfall, Maxwell Carey, Misty De Meo, Neil Bowers, Nicholas Clark,
    Nicolas R., Niko Tyni, Pali, Paul Marquess, Peter Avalos, Petr PisaX, Pino
    Toscano, Rafael Garcia-Suarez, Reini Urban, Renee Baecker, Ricardo Signes,
    Richard Levitte, Rick Delaney, Salvador Fandin~o, Samuel Thibault, Sawyer X,
    Sebastien Aperghis-Tramoni, Sergey Aleynikov, Shlomi Fish, Smylers, Stefan
    Seifert, Steffen Mueller, Stevan Little, Steve Hay, Steven Humphrey,
    Sullivan Beck, Theo Buehler, Thomas Sibley, Todd Rinaldo, Tomasz Konojacki,
    Tony Cook, Unicode Consortium, Yaroslav Kuzmin, Yves Orton, Zefram.</p>
<p class="Pp">The list above is almost certainly incomplete as it is
    automatically generated from version control history. In particular, it does
    not include the names of the (very much appreciated) contributors who
    reported issues to the Perl bug tracker.</p>
<p class="Pp">Many of the changes included in this version originated in the
    CPAN modules included in Perl's core. We're grateful to the entire CPAN
    community for helping Perl to flourish.</p>
<p class="Pp">For a more complete list of all of Perl's historical contributors,
    please see the <i>AUTHORS</i> file in the Perl source distribution.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Reporting_Bugs"><a class="permalink" href="#Reporting_Bugs">Reporting
  Bugs</a></h1>
<p class="Pp">If you find what you think is a bug, you might check the perl bug
    database at &lt;https://rt.perl.org/&gt;. There may also be information at
    &lt;http://www.perl.org/&gt;, the Perl Home Page.</p>
<p class="Pp">If you believe you have an unreported bug, please run the perlbug
    program included with your release. Be sure to trim your bug down to a tiny
    but sufficient test case. Your bug report, along with the output of
    <span class="Li">&quot;perl -V&quot;</span>, will be sent off to
    <span class="Li">&quot;perlbug@perl.org&quot;</span> to be analysed by the
    Perl porting team.</p>
<p class="Pp">If the bug you are reporting has security implications which make
    it inappropriate to send to a publicly archived mailing list, then see
    &quot;SECURITY VULNERABILITY CONTACT INFORMATION&quot; in perlsec for
    details of how to report the issue.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Give_Thanks"><a class="permalink" href="#Give_Thanks">Give
  Thanks</a></h1>
<p class="Pp">If you wish to thank the Perl 5 Porters for the work we had done
    in Perl 5, you can do so by running the
    <span class="Li">&quot;perlthanks&quot;</span> program:</p>
<p class="Pp"></p>
<pre>    perlthanks
</pre>
<p class="Pp">This will send an email to the Perl 5 Porters list with your show
    of thanks.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">The <i>Changes</i> file for an explanation of how to view
    exhaustive details on what changed.</p>
<p class="Pp">The <i>INSTALL</i> file for how to build Perl.</p>
<p class="Pp">The <i>README</i> file for general stuff.</p>
<p class="Pp">The <i>Artistic</i> and <i>Copying</i> files for copyright
    information.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2022-02-19</td>
    <td class="foot-os">perl v5.34.1</td>
  </tr>
</table>
</body>
</html>
