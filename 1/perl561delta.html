<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>PERL561DELTA(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PERL561DELTA(1)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">PERL561DELTA(1)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">perl561delta - what's new for perl v5.6.1</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This document describes differences between the 5.005 release and
    the 5.6.1 release.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Summary_of_changes_between_5.6.0_and_5.6.1"><a class="permalink" href="#Summary_of_changes_between_5.6.0_and_5.6.1">Summary
  of changes between 5.6.0 and 5.6.1</a></h1>
<p class="Pp">This section contains a summary of the changes between the 5.6.0
    release and the 5.6.1 release. More details about the changes mentioned here
    may be found in the <i>Changes</i> files that accompany the Perl source
    distribution. See perlhack for pointers to online resources where you can
    inspect the individual patches described by these changes.</p>
<section class="Ss">
<h2 class="Ss" id="Security_Issues"><a class="permalink" href="#Security_Issues">Security
  Issues</a></h2>
<p class="Pp">suidperl will not run /bin/mail anymore, because some platforms
    have a /bin/mail that is vulnerable to buffer overflow attacks.</p>
<p class="Pp">Note that suidperl is neither built nor installed by default in
    any recent version of perl. Use of suidperl is highly discouraged. If you
    think you need it, try alternatives such as sudo first. See
    http://www.courtesan.com/sudo/ .</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Core_bug_fixes"><a class="permalink" href="#Core_bug_fixes">Core
  bug fixes</a></h2>
<p class="Pp">This is not an exhaustive list. It is intended to cover only the
    significant user-visible changes.</p>
<dl class="Bl-tag">
  <dt>&quot;UNIVERSAL::isa()&quot;</dt>
  <dd>A bug in the caching mechanism used by
      <span class="Li">&quot;UNIVERSAL::isa()&quot;</span> that affected base.pm
      has been fixed. The bug has existed since the 5.005 releases, but wasn't
      tickled by base.pm in those releases.</dd>
  <dt id="Memory"><a class="permalink" href="#Memory">Memory leaks</a></dt>
  <dd>Various cases of memory leaks and attempts to access uninitialized memory
      have been cured. See &quot;Known Problems&quot; below for further
    issues.</dd>
  <dt id="Numeric"><a class="permalink" href="#Numeric">Numeric
    conversions</a></dt>
  <dd>Numeric conversions did not recognize changes in the string value properly
      in certain circumstances.
    <p class="Pp">In other situations, large unsigned numbers (those above
        2**31) could sometimes lose their unsignedness, causing bogus results in
        arithmetic operations.</p>
    <p class="Pp">Integer modulus on large unsigned integers sometimes returned
        incorrect values.</p>
    <p class="Pp">Perl 5.6.0 generated &quot;not a number&quot; warnings on
        certain conversions where previous versions didn't.</p>
    <p class="Pp">These problems have all been rectified.</p>
    <p class="Pp">Infinity is now recognized as a number.</p>
  </dd>
  <dt id="qw(a"><a class="permalink" href="#qw(a">qw(a\\b)</a></dt>
  <dd>In Perl 5.6.0, qw(a\\b) produced a string with two backslashes instead of
      one, in a departure from the behavior in previous versions. The older
      behavior has been reinstated.</dd>
  <dt id="caller()"><a class="permalink" href="#caller()"><b>caller()</b></a></dt>
  <dd><b>caller()</b> could cause core dumps in certain situations. Carp was
      sometimes affected by this problem.</dd>
  <dt id="Bugs"><a class="permalink" href="#Bugs">Bugs in regular
    expressions</a></dt>
  <dd>Pattern matches on overloaded values are now handled correctly.
    <p class="Pp">Perl 5.6.0 parsed m/\x{ab}/ incorrectly, leading to spurious
        warnings. This has been corrected.</p>
    <p class="Pp">The RE engine found in Perl 5.6.0 accidentally pessimised
        certain kinds of simple pattern matches. These are now handled
      better.</p>
    <p class="Pp">Regular expression debug output (whether through
        <span class="Li">&quot;use re 'debug'&quot;</span> or via
        <span class="Li">&quot;-Dr&quot;</span>) now looks better.</p>
    <p class="Pp">Multi-line matches like
        <span class="Li">&quot;&quot;a\nxb\n&quot; =~ /(?!\A)x/m&quot;</span>
        were flawed. The bug has been fixed.</p>
    <p class="Pp">Use of $&amp; could trigger a core dump under some situations.
        This is now avoided.</p>
    <p class="Pp">Match variables <span class="Li">$1</span> et al., weren't
        being unset when a pattern match was backtracking, and the anomaly
        showed up inside <span class="Li">&quot;/...(?{ ... }).../&quot;</span>
        etc. These variables are now tracked correctly.</p>
    <p class="Pp"><b>pos()</b> did not return the correct value within s///ge in
        earlier versions. This is now handled correctly.</p>
  </dd>
  <dt>&quot;slurp&quot; mode</dt>
  <dd><b>readline()</b> on files opened in &quot;slurp&quot; mode could return
      an extra &quot;&quot; at the end in certain situations. This has been
      corrected.</dd>
  <dt id="Autovivification"><a class="permalink" href="#Autovivification">Autovivification
    of symbolic references to special variables</a></dt>
  <dd>Autovivification of symbolic references of special variables described in
      perlvar (as in <span class="Li">&quot;${$num}&quot;</span>) was
      accidentally disabled. This works again now.</dd>
  <dt id="Lexical"><a class="permalink" href="#Lexical">Lexical
    warnings</a></dt>
  <dd>Lexical warnings now propagate correctly into <span class="Li">&quot;eval
      &quot;...&quot;&quot;</span>.
    <p class="Pp"><span class="Li">&quot;use warnings qw(FATAL all)&quot;</span>
        did not work as intended. This has been corrected.</p>
    <p class="Pp">Lexical warnings could leak into other scopes in some
        situations. This is now fixed.</p>
    <p class="Pp"><b>warnings::enabled()</b> now reports the state of $^W
        correctly if the caller isn't using lexical warnings.</p>
  </dd>
  <dt id="Spurious"><a class="permalink" href="#Spurious">Spurious warnings and
    errors</a></dt>
  <dd>Perl 5.6.0 could emit spurious warnings about redefinition of
      <b>dl_error()</b> when statically building extensions into perl. This has
      been corrected.
    <p class="Pp">&quot;our&quot; variables could result in bogus &quot;Variable
        will not stay shared&quot; warnings. This is now fixed.</p>
    <p class="Pp">&quot;our&quot; variables of the same name declared in two
        sibling blocks resulted in bogus warnings about
        &quot;redeclaration&quot; of the variables. The problem has been
        corrected.</p>
  </dd>
  <dt id="glob()"><a class="permalink" href="#glob()"><b>glob()</b></a></dt>
  <dd>Compatibility of the builtin <b>glob()</b> with old csh-based glob has
      been improved with the addition of GLOB_ALPHASORT option. See
      <span class="Li">&quot;File::Glob&quot;</span>.
    <p class="Pp"><b>File::Glob::glob()</b> has been renamed to
        <b>File::Glob::bsd_glob()</b> because the name clashes with the builtin
        <b>glob()</b>. The older name is still available for compatibility, but
        is deprecated.</p>
    <p class="Pp">Spurious syntax errors generated in certain situations, when
        <b>glob()</b> caused File::Glob to be loaded for the first time, have
        been fixed.</p>
  </dd>
  <dt id="Tainting"><a class="permalink" href="#Tainting">Tainting</a></dt>
  <dd>Some cases of inconsistent taint propagation (such as within hash values)
      have been fixed.
    <p class="Pp">The tainting behavior of <b>sprintf()</b> has been
        rationalized. It does not taint the result of floating point formats
        anymore, making the behavior consistent with that of string
        interpolation.</p>
  </dd>
  <dt id="sort()"><a class="permalink" href="#sort()"><b>sort()</b></a></dt>
  <dd>Arguments to <b>sort()</b> weren't being provided the right
      <b>wantarray()</b> context. The comparison block is now run in scalar
      context, and the arguments to be sorted are always provided list context.
    <p class="Pp"><b>sort()</b> is also fully reentrant, in the sense that the
        sort function can itself call <b>sort()</b>. This did not work reliably
        in previous releases.</p>
  </dd>
  <dt>#line directives</dt>
  <dd>#line directives now work correctly when they appear at the very beginning
      of <span class="Li">&quot;eval &quot;...&quot;&quot;</span>.</dd>
  <dt id="Subroutine"><a class="permalink" href="#Subroutine">Subroutine
    prototypes</a></dt>
  <dd>The (\&amp;) prototype now works properly.</dd>
  <dt id="map()"><a class="permalink" href="#map()"><b>map()</b></a></dt>
  <dd><b>map()</b> could get pathologically slow when the result list it
      generates is larger than the source list. The performance has been
      improved for common scenarios.</dd>
  <dt id="Debugger"><a class="permalink" href="#Debugger">Debugger</a></dt>
  <dd>Debugger exit code now reflects the script exit code.
    <p class="Pp">Condition <span class="Li">&quot;0&quot;</span> in breakpoints
        is now treated correctly.</p>
    <p class="Pp">The <span class="Li">&quot;d&quot;</span> command now checks
        the line number.</p>
    <p class="Pp"><span class="Li">$.</span> is no longer corrupted by the
        debugger.</p>
    <p class="Pp">All debugger output now correctly goes to the socket if
        RemotePort is set.</p>
  </dd>
  <dt id="PERL5OPT"><a class="permalink" href="#PERL5OPT">PERL5OPT</a></dt>
  <dd>PERL5OPT can be set to more than one switch group. Previously, it used to
      be limited to one group of options only.</dd>
  <dt id="chop()"><a class="permalink" href="#chop()"><b>chop()</b></a></dt>
  <dd>chop(@list) in list context returned the characters chopped in reverse
      order. This has been reversed to be in the right order.</dd>
  <dt>Unicode support</dt>
  <dd>Unicode support has seen a large number of incremental improvements, but
      continues to be highly experimental. It is not expected to be fully
      supported in the 5.6.x maintenance releases.
    <p class="Pp"><b>substr()</b>, <b>join()</b>, <b>repeat()</b>,
        <b>reverse()</b>, <b>quotemeta()</b> and string concatenation were all
        handling Unicode strings incorrectly in Perl 5.6.0. This has been
        corrected.</p>
    <p class="Pp">Support for <span class="Li">&quot;tr///CU&quot;</span> and
        <span class="Li">&quot;tr///UC&quot;</span> etc., have been removed
        since we realized the interface is broken. For similar functionality,
        see &quot;pack&quot; in perlfunc.</p>
    <p class="Pp">The Unicode Character Database has been updated to version
        3.0.1 with additions made available to the public as of August 30,
      2000.</p>
    <p class="Pp">The Unicode character classes \p{Blank} and \p{SpacePerl} have
        been added. &quot;Blank&quot; is like C <b>isblank()</b>, that is, it
        contains only &quot;horizontal whitespace&quot; (the space character is,
        the newline isn't), and the &quot;SpacePerl&quot; is the Unicode
        equivalent of <span class="Li">&quot;\s&quot;</span> (\p{Space} isn't,
        since that includes the vertical tabulator character, whereas
        <span class="Li">&quot;\s&quot;</span> doesn't.)</p>
    <p class="Pp">If you are experimenting with Unicode support in perl, the
        development versions of Perl may have more to offer. In particular, I/O
        layers are now available in the development track, but not in the
        maintenance track, primarily to do backward compatibility issues.
        Unicode support is also evolving rapidly on a daily basis in the
        development track--the maintenance track only reflects the most
        conservative of these changes.</p>
  </dd>
  <dt>64-bit support</dt>
  <dd>Support for 64-bit platforms has been improved, but continues to be
      experimental. The level of support varies greatly among platforms.</dd>
  <dt id="Compiler"><a class="permalink" href="#Compiler">Compiler</a></dt>
  <dd>The B Compiler and its various backends have had many incremental
      improvements, but they continue to remain highly experimental. Use in
      production environments is discouraged.
    <p class="Pp">The perlcc tool has been rewritten so that the user interface
        is much more like that of a C compiler.</p>
    <p class="Pp">The perlbc tools has been removed. Use
        <span class="Li">&quot;perlcc -B&quot;</span> instead.</p>
  </dd>
  <dt id="Lvalue"><a class="permalink" href="#Lvalue">Lvalue
    subroutines</a></dt>
  <dd>There have been various bugfixes to support lvalue subroutines better.
      However, the feature still remains experimental.</dd>
  <dt id="IO::Socket"><a class="permalink" href="#IO::Socket">IO::Socket</a></dt>
  <dd>IO::Socket::INET failed to open the specified port if the service name was
      not known. It now correctly uses the supplied port number as is.</dd>
  <dt id="File::Find"><a class="permalink" href="#File::Find">File::Find</a></dt>
  <dd>File::Find now <b>chdir()</b>s correctly when chasing symbolic links.</dd>
  <dt id="xsubpp"><a class="permalink" href="#xsubpp">xsubpp</a></dt>
  <dd>xsubpp now tolerates embedded POD sections.</dd>
  <dt>&quot;no Module;&quot;</dt>
  <dd><span class="Li">&quot;no Module;&quot;</span> does not produce an error
      even if Module does not have an <b>unimport()</b> method. This parallels
      the behavior of <span class="Li">&quot;use&quot;</span> vis-a-vis
      <span class="Li">&quot;import&quot;</span>.</dd>
  <dt id="Tests"><a class="permalink" href="#Tests">Tests</a></dt>
  <dd>A large number of tests have been added.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Core_features"><a class="permalink" href="#Core_features">Core
  features</a></h2>
<p class="Pp"><b>untie()</b> will now call an <b>UNTIE()</b> hook if it exists.
    See perltie for details.</p>
<p class="Pp">The <span class="Li">&quot;-DT&quot;</span> command line switch
    outputs copious tokenizing information. See perlrun.</p>
<p class="Pp">Arrays are now always interpolated in double-quotish strings.
    Previously, <span class="Li">&quot;foo@bar.com&quot;</span> used to be a
    fatal error at compile time, if an array <span class="Li">@bar</span> was
    not used or declared. This transitional behavior was intended to help
    migrate perl4 code, and is deemed to be no longer useful. See &quot;Arrays
    now always interpolate into double-quoted strings&quot;.</p>
<p class="Pp"><b>keys()</b>, <b>each()</b>, <b>pop()</b>, <b>push()</b>,
    <b>shift()</b>, <b>splice()</b> and <b>unshift()</b> can all be overridden
    now.</p>
<p class="Pp"><span class="Li">&quot;my __PACKAGE__ $obj&quot;</span> now does
    the expected thing.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Configuration_issues"><a class="permalink" href="#Configuration_issues">Configuration
  issues</a></h2>
<p class="Pp">On some systems (IRIX and Solaris among them) the system malloc is
    demonstrably better. While the defaults haven't been changed in order to
    retain binary compatibility with earlier releases, you may be better off
    building perl with <span class="Li">&quot;Configure -Uusemymalloc
    ...&quot;</span> as discussed in the <i>INSTALL</i> file.</p>
<p class="Pp"><span class="Li">&quot;Configure&quot;</span> has been enhanced in
    various ways:</p>
<ul class="Bl-bullet">
  <li>Minimizes use of temporary files.</li>
  <li>By default, does not link perl with libraries not used by it, such as the
      various dbm libraries. SunOS 4.x hints preserve behavior on that
    platform.</li>
  <li>Support for pdp11-style memory models has been removed due to
      obsolescence.</li>
  <li>Building outside the source tree is supported on systems that have
      symbolic links. This is done by running
    <p class="Pp"></p>
    <pre>
    sh /path/to/source/Configure -Dmksymlinks ...
    make all test install
    </pre>
    <p class="Pp">in a directory other than the perl source directory. See
        <i>INSTALL</i>.</p>
  </li>
  <li><span class="Li">&quot;Configure -S&quot;</span> can be run
      non-interactively.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Documentation"><a class="permalink" href="#Documentation">Documentation</a></h2>
<p class="Pp">README.aix, README.solaris and README.macos have been added.
    README.posix-bc has been renamed to README.bs2000. These are installed as
    perlaix, perlsolaris, perlmacos, and perlbs2000 respectively.</p>
<p class="Pp">The following pod documents are brand new:</p>
<p class="Pp"></p>
<pre>
    perlclib    Internal replacements for standard C library functions
    perldebtut  Perl debugging tutorial
    perlebcdic  Considerations for running Perl on EBCDIC platforms
    perlnewmod  Perl modules: preparing a new module for distribution
    perlrequick Perl regular expressions quick start
    perlretut   Perl regular expressions tutorial
    perlutil    utilities packaged with the Perl distribution
</pre>
<p class="Pp">The <i>INSTALL</i> file has been expanded to cover various issues,
    such as 64-bit support.</p>
<p class="Pp">A longer list of contributors has been added to the source
    distribution. See the file <span class="Li">&quot;AUTHORS&quot;</span>.</p>
<p class="Pp">Numerous other changes have been made to the included
    documentation and FAQs.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Bundled_modules"><a class="permalink" href="#Bundled_modules">Bundled
  modules</a></h2>
<p class="Pp">The following modules have been added.</p>
<dl class="Bl-tag">
  <dt id="B::Concise"><a class="permalink" href="#B::Concise">B::Concise</a></dt>
  <dd>Walks Perl syntax tree, printing concise info about ops. See
    B::Concise.</dd>
  <dt id="File::Temp"><a class="permalink" href="#File::Temp">File::Temp</a></dt>
  <dd>Returns name and handle of a temporary file safely. See File::Temp.</dd>
  <dt id="Pod::LaTeX"><a class="permalink" href="#Pod::LaTeX">Pod::LaTeX</a></dt>
  <dd>Converts Pod data to formatted LaTeX. See Pod::LaTeX.</dd>
  <dt id="Pod::Text::Overstrike"><a class="permalink" href="#Pod::Text::Overstrike">Pod::Text::Overstrike</a></dt>
  <dd>Converts POD data to formatted overstrike text. See
    Pod::Text::Overstrike.</dd>
</dl>
<p class="Pp">The following modules have been upgraded.</p>
<dl class="Bl-tag">
  <dt id="CGI"><a class="permalink" href="#CGI">CGI</a></dt>
  <dd>CGI v2.752 is now included.</dd>
  <dt id="CPAN"><a class="permalink" href="#CPAN">CPAN</a></dt>
  <dd>CPAN v1.59_54 is now included.</dd>
  <dt id="Class::Struct"><a class="permalink" href="#Class::Struct">Class::Struct</a></dt>
  <dd>Various bugfixes have been added.</dd>
  <dt id="DB_File"><a class="permalink" href="#DB_File">DB_File</a></dt>
  <dd>DB_File v1.75 supports newer Berkeley DB versions, among other
      improvements.</dd>
  <dt id="Devel::Peek"><a class="permalink" href="#Devel::Peek">Devel::Peek</a></dt>
  <dd>Devel::Peek has been enhanced to support dumping of memory statistics,
      when perl is built with the included <b>malloc()</b>.</dd>
  <dt id="File::Find~2"><a class="permalink" href="#File::Find~2">File::Find</a></dt>
  <dd>File::Find now supports pre and post-processing of the files in order to
      <b>sort()</b> them, etc.</dd>
  <dt id="Getopt::Long"><a class="permalink" href="#Getopt::Long">Getopt::Long</a></dt>
  <dd>Getopt::Long v2.25 is included.</dd>
  <dt id="IO::Poll"><a class="permalink" href="#IO::Poll">IO::Poll</a></dt>
  <dd>Various bug fixes have been included.</dd>
  <dt id="IPC::Open3"><a class="permalink" href="#IPC::Open3">IPC::Open3</a></dt>
  <dd>IPC::Open3 allows use of numeric file descriptors.</dd>
  <dt id="Math::BigFloat"><a class="permalink" href="#Math::BigFloat">Math::BigFloat</a></dt>
  <dd>The <b>fmod()</b> function supports modulus operations. Various bug fixes
      have also been included.</dd>
  <dt id="Math::Complex"><a class="permalink" href="#Math::Complex">Math::Complex</a></dt>
  <dd>Math::Complex handles inf, NaN etc., better.</dd>
  <dt id="Net::Ping"><a class="permalink" href="#Net::Ping">Net::Ping</a></dt>
  <dd><b>ping()</b> could fail on odd number of data bytes, and when the echo
      service isn't running. This has been corrected.</dd>
  <dt id="Opcode"><a class="permalink" href="#Opcode">Opcode</a></dt>
  <dd>A memory leak has been fixed.</dd>
  <dt id="Pod::Parser"><a class="permalink" href="#Pod::Parser">Pod::Parser</a></dt>
  <dd>Version 1.13 of the Pod::Parser suite is included.</dd>
  <dt id="Pod::Text"><a class="permalink" href="#Pod::Text">Pod::Text</a></dt>
  <dd>Pod::Text and related modules have been upgraded to the versions in
      podlators suite v2.08.</dd>
  <dt id="SDBM_File"><a class="permalink" href="#SDBM_File">SDBM_File</a></dt>
  <dd>On dosish platforms, some keys went missing because of lack of support for
      files with &quot;holes&quot;. A workaround for the problem has been
    added.</dd>
  <dt id="Sys::Syslog"><a class="permalink" href="#Sys::Syslog">Sys::Syslog</a></dt>
  <dd>Various bug fixes have been included.</dd>
  <dt id="Tie::RefHash"><a class="permalink" href="#Tie::RefHash">Tie::RefHash</a></dt>
  <dd>Now supports Tie::RefHash::Nestable to automagically tie hashref
    values.</dd>
  <dt id="Tie::SubstrHash"><a class="permalink" href="#Tie::SubstrHash">Tie::SubstrHash</a></dt>
  <dd>Various bug fixes have been included.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Platform-specific_improvements"><a class="permalink" href="#Platform-specific_improvements">Platform-specific
  improvements</a></h2>
<p class="Pp">The following new ports are now available.</p>
<dl class="Bl-tag">
  <dt id="NCR"><a class="permalink" href="#NCR">NCR MP-RAS</a></dt>
  <dd></dd>
  <dt id="NonStop-UX"><a class="permalink" href="#NonStop-UX">NonStop-UX</a></dt>
  <dd></dd>
</dl>
<p class="Pp">Perl now builds under Amdahl UTS.</p>
<p class="Pp">Perl has also been verified to build under Amiga OS.</p>
<p class="Pp">Support for EPOC has been much improved. See README.epoc.</p>
<p class="Pp">Building perl with -Duseithreads or -Duse5005threads now works
    under HP-UX 10.20 (previously it only worked under 10.30 or later). You will
    need a thread library package installed. See README.hpux.</p>
<p class="Pp">Long doubles should now work under Linux.</p>
<p class="Pp">Mac OS Classic is now supported in the mainstream source package.
    See README.macos.</p>
<p class="Pp">Support for MPE/iX has been updated. See README.mpeix.</p>
<p class="Pp">Support for OS/2 has been improved. See
    <span class="Li">&quot;os2/Changes&quot;</span> and README.os2.</p>
<p class="Pp">Dynamic loading on z/OS (formerly OS/390) has been improved. See
    README.os390.</p>
<p class="Pp">Support for VMS has seen many incremental improvements, including
    better support for operators like backticks and <b>system()</b>, and better
    <span class="Li">%ENV</span> handling. See
    <span class="Li">&quot;README.vms&quot;</span> and perlvms.</p>
<p class="Pp">Support for Stratus VOS has been improved. See
    <span class="Li">&quot;vos/Changes&quot;</span> and README.vos.</p>
<p class="Pp">Support for Windows has been improved.</p>
<ul class="Bl-bullet">
  <li><b>fork()</b> emulation has been improved in various ways, but still
      continues to be experimental. See perlfork for known bugs and
    caveats.</li>
  <li><span class="Li">%SIG</span> has been enabled under USE_ITHREADS, but its
      use is completely unsupported under all configurations.</li>
  <li>Borland C++ v5.5 is now a supported compiler that can build Perl. However,
      the generated binaries continue to be incompatible with those generated by
      the other supported compilers (GCC and Visual C++).</li>
  <li>Non-blocking waits for child processes (or pseudo-processes) are supported
      via <span class="Li">&quot;waitpid($pid,
      &amp;POSIX::WNOHANG)&quot;</span>.</li>
  <li>A memory leak in <b>accept()</b> has been fixed.</li>
  <li><b>wait()</b>, <b>waitpid()</b> and backticks now return the correct exit
      status under Windows 9x.</li>
  <li>Trailing new <span class="Li">%ENV</span> entries weren't propagated to
      child processes. This is now fixed.</li>
  <li>Current directory entries in <span class="Li">%ENV</span> are now
      correctly propagated to child processes.</li>
  <li>Duping socket handles with open(F, &quot;&gt;&amp;MYSOCK&quot;) now works
      under Windows 9x.</li>
  <li>The makefiles now provide a single switch to bulk-enable all the features
      enabled in ActiveState ActivePerl (a popular binary distribution).</li>
  <li><b>Win32::GetCwd()</b> correctly returns C:\ instead of C: when at the
      drive root. Other bugs in <b>chdir()</b> and <b>Cwd::cwd()</b> have also
      been fixed.</li>
  <li><b>fork()</b> correctly returns undef and sets EAGAIN when it runs out of
      pseudo-process handles.</li>
  <li>ExtUtils::MakeMaker now uses <span class="Li">$ENV</span>{LIB} to search
      for libraries.</li>
  <li>UNC path handling is better when perl is built to support
    <b>fork()</b>.</li>
  <li>A handle leak in socket handling has been fixed.</li>
  <li><b>send()</b> works from within a pseudo-process.</li>
</ul>
<p class="Pp">Unless specifically qualified otherwise, the remainder of this
    document covers changes between the 5.005 and 5.6.0 releases.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Core_Enhancements"><a class="permalink" href="#Core_Enhancements">Core
  Enhancements</a></h1>
<section class="Ss">
<h2 class="Ss" id="Interpreter_cloning,_threads,_and_concurrency"><a class="permalink" href="#Interpreter_cloning,_threads,_and_concurrency">Interpreter
  cloning, threads, and concurrency</a></h2>
<p class="Pp">Perl 5.6.0 introduces the beginnings of support for running
    multiple interpreters concurrently in different threads. In conjunction with
    the <b>perl_clone()</b> API call, which can be used to selectively duplicate
    the state of any given interpreter, it is possible to compile a piece of
    code once in an interpreter, clone that interpreter one or more times, and
    run all the resulting interpreters in distinct threads.</p>
<p class="Pp">On the Windows platform, this feature is used to emulate
    <b>fork()</b> at the interpreter level. See perlfork for details about
  that.</p>
<p class="Pp">This feature is still in evolution. It is eventually meant to be
    used to selectively clone a subroutine and data reachable from that
    subroutine in a separate interpreter and run the cloned subroutine in a
    separate thread. Since there is no shared data between the interpreters,
    little or no locking will be needed (unless parts of the symbol table are
    explicitly shared). This is obviously intended to be an easy-to-use
    replacement for the existing threads support.</p>
<p class="Pp">Support for cloning interpreters and interpreter concurrency can
    be enabled using the -Dusethreads Configure option (see win32/Makefile for
    how to enable it on Windows.) The resulting perl executable will be
    functionally identical to one that was built with -Dmultiplicity, but the
    <b>perl_clone()</b> API call will only be available in the former.</p>
<p class="Pp">-Dusethreads enables the cpp macro USE_ITHREADS by default, which
    in turn enables Perl source code changes that provide a clear separation
    between the op tree and the data it operates with. The former is immutable,
    and can therefore be shared between an interpreter and all of its clones,
    while the latter is considered local to each interpreter, and is therefore
    copied for each clone.</p>
<p class="Pp">Note that building Perl with the -Dusemultiplicity Configure
    option is adequate if you wish to run multiple <b>independent</b>
    interpreters concurrently in different threads. -Dusethreads only provides
    the additional functionality of the <b>perl_clone()</b> API call and other
    support for running <b>cloned</b> interpreters concurrently.</p>
<p class="Pp"></p>
<pre>
    NOTE: This is an experimental feature.  Implementation details are
    subject to change.
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Lexically_scoped_warning_categories"><a class="permalink" href="#Lexically_scoped_warning_categories">Lexically
  scoped warning categories</a></h2>
<p class="Pp">You can now control the granularity of warnings emitted by perl at
    a finer level using the <span class="Li">&quot;use warnings&quot;</span>
    pragma. warnings and perllexwarn have copious documentation on this
  feature.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Unicode_and_"><a class="permalink" href="#Unicode_and_">Unicode
  and UTF-8 support</a></h2>
<p class="Pp">Perl now uses UTF-8 as its internal representation for character
    strings. The <span class="Li">&quot;utf8&quot;</span> and
    <span class="Li">&quot;bytes&quot;</span> pragmas are used to control this
    support in the current lexical scope. See perlunicode, utf8 and bytes for
    more information.</p>
<p class="Pp">This feature is expected to evolve quickly to support some form of
    I/O disciplines that can be used to specify the kind of input and output
    data (bytes or characters). Until that happens, additional modules from CPAN
    will be needed to complete the toolkit for dealing with Unicode.</p>
<p class="Pp"></p>
<pre>
    NOTE: This should be considered an experimental feature.  Implementation
    details are subject to change.
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Support_for_interpolating_named_characters"><a class="permalink" href="#Support_for_interpolating_named_characters">Support
  for interpolating named characters</a></h2>
<p class="Pp">The new <span class="Li">&quot;\N&quot;</span> escape interpolates
    named characters within strings. For example, <span class="Li">&quot;Hi!
    \N{WHITE SMILING FACE}&quot;</span> evaluates to a string with a Unicode
    smiley face at the end.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_our__declarations"><a class="permalink" href="#_our__declarations">&quot;our&quot;
  declarations</a></h2>
<p class="Pp">An &quot;our&quot; declaration introduces a value that can be best
    understood as a lexically scoped symbolic alias to a global variable in the
    package that was current where the variable was declared. This is mostly
    useful as an alternative to the <span class="Li">&quot;vars&quot;</span>
    pragma, but also provides the opportunity to introduce typing and other
    attributes for such variables. See &quot;our&quot; in perlfunc.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Support_for_strings_represented_as_a_vector_of_ordinals"><a class="permalink" href="#Support_for_strings_represented_as_a_vector_of_ordinals">Support
  for strings represented as a vector of ordinals</a></h2>
<p class="Pp">Literals of the form <span class="Li">&quot;v1.2.3.4&quot;</span>
    are now parsed as a string composed of characters with the specified
    ordinals. This is an alternative, more readable way to construct (possibly
    Unicode) strings instead of interpolating characters, as in
    <span class="Li">&quot;\x{1}\x{2}\x{3}\x{4}&quot;</span>. The leading
    <span class="Li">&quot;v&quot;</span> may be omitted if there are more than
    two ordinals, so <span class="Li">1.2.3</span> is parsed the same as
    <span class="Li">&quot;v1.2.3&quot;</span>.</p>
<p class="Pp">Strings written in this form are also useful to represent version
    &quot;numbers&quot;. It is easy to compare such version &quot;numbers&quot;
    (which are really just plain strings) using any of the usual string
    comparison operators <span class="Li">&quot;eq&quot;</span>,
    <span class="Li">&quot;ne&quot;</span>,
    <span class="Li">&quot;lt&quot;</span>,
    <span class="Li">&quot;gt&quot;</span>, etc., or perform bitwise string
    operations on them using <span class="Li">&quot;|&quot;</span>,
    <span class="Li">&quot;&amp;&quot;</span>, etc.</p>
<p class="Pp">In conjunction with the new <span class="Li">$^V</span> magic
    variable (which contains the perl version as a string), such literals can be
    used as a readable way to check if you're running a particular version of
    Perl:</p>
<p class="Pp"></p>
<pre>
    # this will parse in older versions of Perl also
    if ($^V and $^V gt v5.6.0) {
        # new features supported
    }
</pre>
<p class="Pp"><span class="Li">&quot;require&quot;</span> and
    <span class="Li">&quot;use&quot;</span> also have some special magic to
    support such literals. They will be interpreted as a version rather than as
    a module name:</p>
<p class="Pp"></p>
<pre>
    require v5.6.0;             # croak if $^V lt v5.6.0
    use v5.6.0;                 # same, but croaks at compile-time
</pre>
<p class="Pp">Alternatively, the <span class="Li">&quot;v&quot;</span> may be
    omitted if there is more than one dot:</p>
<p class="Pp"></p>
<pre>
    require 5.6.0;
    use 5.6.0;
</pre>
<p class="Pp">Also, <span class="Li">&quot;sprintf&quot;</span> and
    <span class="Li">&quot;printf&quot;</span> support the Perl-specific format
    flag <span class="Li">%v</span> to print ordinals of characters in arbitrary
    strings:</p>
<p class="Pp"></p>
<pre>
    printf &quot;v%vd&quot;, $^V;         # prints current version, such as &quot;v5.5.650&quot;
    printf &quot;%*vX&quot;, &quot;:&quot;, $addr;  # formats IPv6 address
    printf &quot;%*vb&quot;, &quot; &quot;, $bits;  # displays bitstring
</pre>
<p class="Pp">See &quot;Scalar value constructors&quot; in perldata for
    additional information.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Improved_Perl_version_numbering_system"><a class="permalink" href="#Improved_Perl_version_numbering_system">Improved
  Perl version numbering system</a></h2>
<p class="Pp">Beginning with Perl version 5.6.0, the version number convention
    has been changed to a &quot;dotted integer&quot; scheme that is more
    commonly found in open source projects.</p>
<p class="Pp">Maintenance versions of v5.6.0 will be released as v5.6.1, v5.6.2
    etc. The next development series following v5.6.0 will be numbered v5.7.x,
    beginning with v5.7.0, and the next major production release following
    v5.6.0 will be v5.8.0.</p>
<p class="Pp">The English module now sets <span class="Li">$PERL_VERSION</span>
    to $^V (a string value) rather than <span class="Li">$]</span> (a numeric
    value). (This is a potential incompatibility. Send us a report via perlbug
    if you are affected by this.)</p>
<p class="Pp">The v1.2.3 syntax is also now legal in Perl. See &quot;Support for
    strings represented as a vector of ordinals&quot; for more on that.</p>
<p class="Pp">To cope with the new versioning system's use of at least three
    significant digits for each version component, the method used for
    incrementing the subversion number has also changed slightly. We assume that
    versions older than v5.6.0 have been incrementing the subversion component
    in multiples of 10. Versions after v5.6.0 will increment them by 1. Thus,
    using the new notation, 5.005_03 is the &quot;same&quot; as v5.5.30, and the
    first maintenance version following v5.6.0 will be v5.6.1 (which should be
    read as being equivalent to a floating point value of 5.006_001 in the older
    format, stored in <span class="Li">$]</span>).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New_syntax_for_declaring_subroutine_attributes"><a class="permalink" href="#New_syntax_for_declaring_subroutine_attributes">New
  syntax for declaring subroutine attributes</a></h2>
<p class="Pp">Formerly, if you wanted to mark a subroutine as being a method
    call or as requiring an automatic <b>lock()</b> when it is entered, you had
    to declare that with a <span class="Li">&quot;use attrs&quot;</span> pragma
    in the body of the subroutine. That can now be accomplished with declaration
    syntax, like this:</p>
<p class="Pp"></p>
<pre>
    sub mymethod : locked method;
    ...
    sub mymethod : locked method {
        ...
    }

    sub othermethod :locked :method;
    ...
    sub othermethod :locked :method {
        ...
    }
</pre>
<p class="Pp">(Note how only the first <span class="Li">&quot;:&quot;</span> is
    mandatory, and whitespace surrounding the
    <span class="Li">&quot;:&quot;</span> is optional.)</p>
<p class="Pp"><i>AutoSplit.pm</i> and <i>SelfLoader.pm</i> have been updated to
    keep the attributes with the stubs they provide. See attributes.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="File_and_directory_handles_can_be_autovivified"><a class="permalink" href="#File_and_directory_handles_can_be_autovivified">File
  and directory handles can be autovivified</a></h2>
<p class="Pp">Similar to how constructs such as
    <span class="Li">&quot;$x-&gt;[0]&quot;</span> autovivify a reference,
    handle constructors (<b>open()</b>, <b>opendir()</b>, <b>pipe()</b>,
    <b>socketpair()</b>, <b>sysopen()</b>, <b>socket()</b>, and <b>accept()</b>)
    now autovivify a file or directory handle if the handle passed to them is an
    uninitialized scalar variable. This allows the constructs such as
    <span class="Li">&quot;open(my $fh, ...)&quot;</span> and
    <span class="Li">&quot;open(local $fh,...)&quot;</span> to be used to create
    filehandles that will conveniently be closed automatically when the scope
    ends, provided there are no other references to them. This largely
    eliminates the need for typeglobs when opening filehandles that must be
    passed around, as in the following example:</p>
<p class="Pp"></p>
<pre>
    sub myopen {
        open my $fh, &quot;@_&quot;
             or die &quot;Can't open '@_': $!&quot;;
        return $fh;
    }

    {
        my $f = myopen(&quot;&lt;/etc/motd&quot;);
        print &lt;$f&gt;;
        # $f implicitly closed here
    }
</pre>
</section>
<section class="Ss">
<h2 class="Ss"><b>open()</b> with more than two arguments</h2>
<p class="Pp">If <b>open()</b> is passed three arguments instead of two, the
    second argument is used as the mode and the third argument is taken to be
    the file name. This is primarily useful for protecting against unintended
    magic behavior of the traditional two-argument form. See &quot;open&quot; in
    perlfunc.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="64"><a class="permalink" href="#64">64-bit support</a></h2>
<p class="Pp">Any platform that has 64-bit integers either</p>
<p class="Pp"></p>
<pre>
        (1) natively as longs or ints
        (2) via special compiler flags
        (3) using long long or int64_t
</pre>
<p class="Pp">is able to use &quot;quads&quot; (64-bit integers) as follows:</p>
<ul class="Bl-bullet">
  <li>constants (decimal, hexadecimal, octal, binary) in the code</li>
  <li>arguments to <b>oct()</b> and <b>hex()</b></li>
  <li>arguments to <b>print()</b>, <b>printf()</b> and <b>sprintf()</b> (flag
      prefixes ll, L, q)</li>
  <li>printed as such</li>
  <li><b>pack()</b> and <b>unpack()</b> &quot;q&quot; and &quot;Q&quot;
    formats</li>
  <li>in basic arithmetics: + - * / % (NOTE: operating close to the limits of
      the integer values may produce surprising results)</li>
  <li>in bit arithmetics: &amp; | ^ ~ &lt;&lt; &gt;&gt; (NOTE: these used to be
      forced to be 32 bits wide but now operate on the full native width.)</li>
  <li><b>vec()</b></li>
</ul>
<p class="Pp">Note that unless you have the case (a) you will have to configure
    and compile Perl using the -Duse64bitint Configure flag.</p>
<p class="Pp"></p>
<pre>
    NOTE: The Configure flags -Duselonglong and -Duse64bits have been
    deprecated.  Use -Duse64bitint instead.
</pre>
<p class="Pp">There are actually two modes of 64-bitness: the first one is
    achieved using Configure -Duse64bitint and the second one using Configure
    -Duse64bitall. The difference is that the first one is minimal and the
    second one maximal. The first works in more places than the second.</p>
<p class="Pp">The <span class="Li">&quot;use64bitint&quot;</span> does only as
    much as is required to get 64-bit integers into Perl (this may mean, for
    example, using &quot;long longs&quot;) while your memory may still be
    limited to 2 gigabytes (because your pointers could still be 32-bit). Note
    that the name <span class="Li">&quot;64bitint&quot;</span> does not imply
    that your C compiler will be using 64-bit
    <span class="Li">&quot;int&quot;</span>s (it might, but it doesn't have to):
    the <span class="Li">&quot;use64bitint&quot;</span> means that you will be
    able to have 64 bits wide scalar values.</p>
<p class="Pp">The <span class="Li">&quot;use64bitall&quot;</span> goes all the
    way by attempting to switch also integers (if it can), longs (and pointers)
    to being 64-bit. This may create an even more binary incompatible Perl than
    -Duse64bitint: the resulting executable may not run at all in a 32-bit box,
    or you may have to reboot/reconfigure/rebuild your operating system to be
    64-bit aware.</p>
<p class="Pp">Natively 64-bit systems like Alpha and Cray need neither
    -Duse64bitint nor -Duse64bitall.</p>
<p class="Pp">Last but not least: note that due to Perl's habit of always using
    floating point numbers, the quads are still not true integers. When quads
    overflow their limits (0...18_446_744_073_709_551_615 unsigned,
    -9_223_372_036_854_775_808...9_223_372_036_854_775_807 signed), they are
    silently promoted to floating point numbers, after which they will start
    losing precision (in their lower digits).</p>
<p class="Pp"></p>
<pre>
    NOTE: 64-bit support is still experimental on most platforms.
    Existing support only covers the LP64 data model.  In particular, the
    LLP64 data model is not yet supported.  64-bit libraries and system
    APIs on many platforms have not stabilized--your mileage may vary.
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Large_file_support"><a class="permalink" href="#Large_file_support">Large
  file support</a></h2>
<p class="Pp">If you have filesystems that support &quot;large files&quot;
    (files larger than 2 gigabytes), you may now also be able to create and
    access them from Perl.</p>
<p class="Pp"></p>
<pre>
    NOTE: The default action is to enable large file support, if
    available on the platform.
</pre>
<p class="Pp">If the large file support is on, and you have a Fcntl constant
    O_LARGEFILE, the O_LARGEFILE is automatically added to the flags of
    <b>sysopen()</b>.</p>
<p class="Pp">Beware that unless your filesystem also supports &quot;sparse
    files&quot; seeking to umpteen petabytes may be inadvisable.</p>
<p class="Pp">Note that in addition to requiring a proper file system to do
    large files you may also need to adjust your per-process (or your
    per-system, or per-process-group, or per-user-group) maximum filesize limits
    before running Perl scripts that try to handle large files, especially if
    you intend to write such files.</p>
<p class="Pp">Finally, in addition to your process/process group maximum
    filesize limits, you may have quota limits on your filesystems that stop you
    (your user id or your user group id) from using large files.</p>
<p class="Pp">Adjusting your process/user/group/file system/operating system
    limits is outside the scope of Perl core language. For process limits, you
    may try increasing the limits using your shell's limits/limit/ulimit command
    before running Perl. The BSD::Resource extension (not included with the
    standard Perl distribution) may also be of use, it offers the
    getrlimit/setrlimit interface that can be used to adjust process resource
    usage limits, including the maximum filesize limit.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Long_doubles"><a class="permalink" href="#Long_doubles">Long
  doubles</a></h2>
<p class="Pp">In some systems you may be able to use long doubles to enhance the
    range and precision of your double precision floating point numbers (that
    is, Perl's numbers). Use Configure -Duselongdouble to enable this support
    (if it is available).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_more_bits_"><a class="permalink" href="#_more_bits_">&quot;more
  bits&quot;</a></h2>
<p class="Pp">You can &quot;Configure -Dusemorebits&quot; to turn on both the
    64-bit support and the long double support.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Enhanced_support_for_"><a class="permalink" href="#Enhanced_support_for_">Enhanced
  support for <b>sort()</b> subroutines</a></h2>
<p class="Pp">Perl subroutines with a prototype of
    <span class="Li">&quot;($$)&quot;</span>, and XSUBs in general, can now be
    used as sort subroutines. In either case, the two elements to be compared
    are passed as normal parameters in <span class="Li">@_</span>. See
    &quot;sort&quot; in perlfunc.</p>
<p class="Pp">For unprototyped sort subroutines, the historical behavior of
    passing the elements to be compared as the global variables
    <span class="Li">$a</span> and <span class="Li">$b</span> remains
  unchanged.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_sort_$coderef_@foo__allowed"><a class="permalink" href="#_sort_$coderef_@foo__allowed">&quot;sort
  $coderef @foo&quot; allowed</a></h2>
<p class="Pp"><b>sort()</b> did not accept a subroutine reference as the
    comparison function in earlier versions. This is now permitted.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="File_globbing_implemented_internally"><a class="permalink" href="#File_globbing_implemented_internally">File
  globbing implemented internally</a></h2>
<p class="Pp">Perl now uses the File::Glob implementation of the <b>glob()</b>
    operator automatically. This avoids using an external csh process and the
    problems associated with it.</p>
<p class="Pp"></p>
<pre>
    NOTE: This is currently an experimental feature.  Interfaces and
    implementation are subject to change.
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Support_for_"><a class="permalink" href="#Support_for_">Support
  for CHECK blocks</a></h2>
<p class="Pp">In addition to <span class="Li">&quot;BEGIN&quot;</span>,
    <span class="Li">&quot;INIT&quot;</span>,
    <span class="Li">&quot;END&quot;</span>,
    <span class="Li">&quot;DESTROY&quot;</span> and
    <span class="Li">&quot;AUTOLOAD&quot;</span>, subroutines named
    <span class="Li">&quot;CHECK&quot;</span> are now special. These are queued
    up during compilation and behave similar to END blocks, except they are
    called at the end of compilation rather than at the end of execution. They
    cannot be called directly.</p>
</section>
<section class="Ss">
<h2 class="Ss">POSIX character class syntax [: :] supported</h2>
<p class="Pp">For example to match alphabetic characters use /[[:alpha:]]/. See
    perlre for details.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Better_pseudo-random_number_generator"><a class="permalink" href="#Better_pseudo-random_number_generator">Better
  pseudo-random number generator</a></h2>
<p class="Pp">In 5.005_0x and earlier, perl's <b>rand()</b> function used the C
    library <b>rand</b>(3) function. As of 5.005_52, Configure tests for
    <b>drand48()</b>, <b>random()</b>, and <b>rand()</b> (in that order) and
    picks the first one it finds.</p>
<p class="Pp">These changes should result in better random numbers from
    <b>rand()</b>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Improved__qw//__operator"><a class="permalink" href="#Improved__qw//__operator">Improved
  &quot;qw//&quot; operator</a></h2>
<p class="Pp">The <span class="Li">&quot;qw//&quot;</span> operator is now
    evaluated at compile time into a true list instead of being replaced with a
    run time call to <span class="Li">&quot;split()&quot;</span>. This removes
    the confusing misbehaviour of <span class="Li">&quot;qw//&quot;</span> in
    scalar context, which had inherited that behaviour from <b>split()</b>.</p>
<p class="Pp">Thus:</p>
<p class="Pp"></p>
<pre>
    $foo = ($bar) = qw(a b c); print &quot;$foo|$bar\n&quot;;
</pre>
<p class="Pp">now correctly prints &quot;3|a&quot;, instead of
  &quot;2|a&quot;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Better_worst-case_behavior_of_hashes"><a class="permalink" href="#Better_worst-case_behavior_of_hashes">Better
  worst-case behavior of hashes</a></h2>
<p class="Pp">Small changes in the hashing algorithm have been implemented in
    order to improve the distribution of lower order bits in the hashed value.
    This is expected to yield better performance on keys that are repeated
    sequences.</p>
</section>
<section class="Ss">
<h2 class="Ss"><b>pack()</b> format 'Z' supported</h2>
<p class="Pp">The new format type 'Z' is useful for packing and unpacking
    null-terminated strings. See &quot;pack&quot; in perlfunc.</p>
</section>
<section class="Ss">
<h2 class="Ss"><b>pack()</b> format modifier '!' supported</h2>
<p class="Pp">The new format type modifier '!' is useful for packing and
    unpacking native shorts, ints, and longs. See &quot;pack&quot; in
  perlfunc.</p>
</section>
<section class="Ss">
<h2 class="Ss"><b>pack()</b> and <b>unpack()</b> support counted strings</h2>
<p class="Pp">The template character '/' can be used to specify a counted string
    type to be packed or unpacked. See &quot;pack&quot; in perlfunc.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Comments_in_"><a class="permalink" href="#Comments_in_">Comments
  in <b>pack()</b> templates</a></h2>
<p class="Pp">The '#' character in a template introduces a comment up to end of
    the line. This facilitates documentation of <b>pack()</b> templates.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Weak_references"><a class="permalink" href="#Weak_references">Weak
  references</a></h2>
<p class="Pp">In previous versions of Perl, you couldn't cache objects so as to
    allow them to be deleted if the last reference from outside the cache is
    deleted. The reference in the cache would hold a reference count on the
    object and the objects would never be destroyed.</p>
<p class="Pp">Another familiar problem is with circular references. When an
    object references itself, its reference count would never go down to zero,
    and it would not get destroyed until the program is about to exit.</p>
<p class="Pp">Weak references solve this by allowing you to &quot;weaken&quot;
    any reference, that is, make it not count towards the reference count. When
    the last non-weak reference to an object is deleted, the object is destroyed
    and all the weak references to the object are automatically undef-ed.</p>
<p class="Pp">To use this feature, you need the Devel::WeakRef package from
    CPAN, which contains additional documentation.</p>
<p class="Pp"></p>
<pre>
    NOTE: This is an experimental feature.  Details are subject to change.
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Binary_numbers_supported"><a class="permalink" href="#Binary_numbers_supported">Binary
  numbers supported</a></h2>
<p class="Pp">Binary numbers are now supported as literals, in s?printf formats,
    and <span class="Li">&quot;oct()&quot;</span>:</p>
<p class="Pp"></p>
<pre>
    $answer = 0b101010;
    printf &quot;The answer is: %b\n&quot;, oct(&quot;0b101010&quot;);
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Lvalue_subroutines"><a class="permalink" href="#Lvalue_subroutines">Lvalue
  subroutines</a></h2>
<p class="Pp">Subroutines can now return modifiable lvalues. See &quot;Lvalue
    subroutines&quot; in perlsub.</p>
<p class="Pp"></p>
<pre>
    NOTE: This is an experimental feature.  Details are subject to change.
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Some_arrows_may_be_omitted_in_calls_through_references"><a class="permalink" href="#Some_arrows_may_be_omitted_in_calls_through_references">Some
  arrows may be omitted in calls through references</a></h2>
<p class="Pp">Perl now allows the arrow to be omitted in many constructs
    involving subroutine calls through references. For example,
    <span class="Li">&quot;$foo[10]-&gt;('foo')&quot;</span> may now be written
    <span class="Li">&quot;$foo[10]('foo')&quot;</span>. This is rather similar
    to how the arrow may be omitted from
    <span class="Li">&quot;$foo[10]-&gt;{'foo'}&quot;</span>. Note however, that
    the arrow is still required for
    <span class="Li">&quot;foo(10)-&gt;('bar')&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Boolean_assignment_operators_are_legal_lvalues"><a class="permalink" href="#Boolean_assignment_operators_are_legal_lvalues">Boolean
  assignment operators are legal lvalues</a></h2>
<p class="Pp">Constructs such as <span class="Li">&quot;($a ||= 2) +=
    1&quot;</span> are now allowed.</p>
</section>
<section class="Ss">
<h2 class="Ss"><b>exists()</b> is supported on subroutine names</h2>
<p class="Pp">The <b>exists()</b> builtin now works on subroutine names. A
    subroutine is considered to exist if it has been declared (even if
    implicitly). See &quot;exists&quot; in perlfunc for examples.</p>
</section>
<section class="Ss">
<h2 class="Ss"><b>exists()</b> and <b>delete()</b> are supported on array
  elements</h2>
<p class="Pp">The <b>exists()</b> and <b>delete()</b> builtins now work on
    simple arrays as well. The behavior is similar to that on hash elements.</p>
<p class="Pp"><b>exists()</b> can be used to check whether an array element has
    been initialized. This avoids autovivifying array elements that don't exist.
    If the array is tied, the <b>EXISTS()</b> method in the corresponding tied
    package will be invoked.</p>
<p class="Pp"><b>delete()</b> may be used to remove an element from the array
    and return it. The array element at that position returns to its
    uninitialized state, so that testing for the same element with
    <b>exists()</b> will return false. If the element happens to be the one at
    the end, the size of the array also shrinks up to the highest element that
    tests true for <b>exists()</b>, or 0 if none such is found. If the array is
    tied, the <b>DELETE()</b> method in the corresponding tied package will be
    invoked.</p>
<p class="Pp">See &quot;exists&quot; in perlfunc and &quot;delete&quot; in
    perlfunc for examples.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Pseudo-hashes_work_better"><a class="permalink" href="#Pseudo-hashes_work_better">Pseudo-hashes
  work better</a></h2>
<p class="Pp">Dereferencing some types of reference values in a pseudo-hash,
    such as <span class="Li">&quot;$ph-&gt;{foo}[1]&quot;</span>, was
    accidentally disallowed. This has been corrected.</p>
<p class="Pp">When applied to a pseudo-hash element, <b>exists()</b> now reports
    whether the specified value exists, not merely if the key is valid.</p>
<p class="Pp"><b>delete()</b> now works on pseudo-hashes. When given a
    pseudo-hash element or slice it deletes the values corresponding to the keys
    (but not the keys themselves). See &quot;Pseudo-hashes: Using an array as a
    hash&quot; in perlref.</p>
<p class="Pp">Pseudo-hash slices with constant keys are now optimized to array
    lookups at compile-time.</p>
<p class="Pp">List assignments to pseudo-hash slices are now supported.</p>
<p class="Pp">The <span class="Li">&quot;fields&quot;</span> pragma now provides
    ways to create pseudo-hashes, via <b>fields::new()</b> and
    <b>fields::phash()</b>. See fields.</p>
<p class="Pp"></p>
<pre>
    NOTE: The pseudo-hash data type continues to be experimental.
    Limiting oneself to the interface elements provided by the
    fields pragma will provide protection from any future changes.
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Automatic_flushing_of_output_buffers"><a class="permalink" href="#Automatic_flushing_of_output_buffers">Automatic
  flushing of output buffers</a></h2>
<p class="Pp"><b>fork()</b>, <b>exec()</b>, <b>system()</b>, qx//, and pipe
    <b>open()</b>s now flush buffers of all files opened for output when the
    operation was attempted. This mostly eliminates confusing buffering mishaps
    suffered by users unaware of how Perl internally handles I/O.</p>
<p class="Pp">This is not supported on some platforms like Solaris where a
    suitably correct implementation of fflush(NULL) isn't available.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Better_diagnostics_on_meaningless_filehandle_operations"><a class="permalink" href="#Better_diagnostics_on_meaningless_filehandle_operations">Better
  diagnostics on meaningless filehandle operations</a></h2>
<p class="Pp">Constructs such as
    <span class="Li">&quot;open(&lt;FH&gt;)&quot;</span> and
    <span class="Li">&quot;close(&lt;FH&gt;)&quot;</span> are compile time
    errors. Attempting to read from filehandles that were opened only for
    writing will now produce warnings (just as writing to read-only filehandles
    does).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Where_possible,_buffered_data_discarded_from_duped_input_filehandle"><a class="permalink" href="#Where_possible,_buffered_data_discarded_from_duped_input_filehandle">Where
  possible, buffered data discarded from duped input filehandle</a></h2>
<p class="Pp"><span class="Li">&quot;open(NEW,
    &quot;&lt;&amp;OLD&quot;)&quot;</span> now attempts to discard any data that
    was previously read and buffered in <span class="Li">&quot;OLD&quot;</span>
    before duping the handle. On platforms where doing this is allowed, the next
    read operation on <span class="Li">&quot;NEW&quot;</span> will return the
    same data as the corresponding operation on
    <span class="Li">&quot;OLD&quot;</span>. Formerly, it would have returned
    the data from the start of the following disk block instead.</p>
</section>
<section class="Ss">
<h2 class="Ss"><b>eof()</b> has the same old magic as &lt;&gt;</h2>
<p class="Pp"><span class="Li">&quot;eof()&quot;</span> would return true if no
    attempt to read from <span class="Li">&quot;&lt;&gt;&quot;</span> had yet
    been made. <span class="Li">&quot;eof()&quot;</span> has been changed to
    have a little magic of its own, it now opens the
    <span class="Li">&quot;&lt;&gt;&quot;</span> files.</p>
</section>
<section class="Ss">
<h2 class="Ss"><b>binmode()</b> can be used to set :crlf and :raw modes</h2>
<p class="Pp"><b>binmode()</b> now accepts a second argument that specifies a
    discipline for the handle in question. The two pseudo-disciplines
    &quot;:raw&quot; and &quot;:crlf&quot; are currently supported on
    DOS-derivative platforms. See &quot;binmode&quot; in perlfunc and open.</p>
</section>
<section class="Ss">
<h2 class="Ss">&quot;-T&quot; filetest recognizes UTF-8 encoded files as
  &quot;text&quot;</h2>
<p class="Pp">The algorithm used for the <span class="Li">&quot;-T&quot;</span>
    filetest has been enhanced to correctly identify UTF-8 content as
    &quot;text&quot;.</p>
</section>
<section class="Ss">
<h2 class="Ss"><b>system()</b>, backticks and pipe open now reflect
  <b>exec()</b> failure</h2>
<p class="Pp">On Unix and similar platforms, <b>system()</b>, <b>qx()</b> and
    open(FOO, &quot;cmd |&quot;) etc., are implemented via <b>fork()</b> and
    <b>exec()</b>. When the underlying <b>exec()</b> fails, earlier versions did
    not report the error properly, since the <b>exec()</b> happened to be in a
    different process.</p>
<p class="Pp">The child process now communicates with the parent about the error
    in launching the external command, which allows these constructs to return
    with their usual error value and set $!.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Improved_diagnostics"><a class="permalink" href="#Improved_diagnostics">Improved
  diagnostics</a></h2>
<p class="Pp">Line numbers are no longer suppressed (under most likely
    circumstances) during the global destruction phase.</p>
<p class="Pp">Diagnostics emitted from code running in threads other than the
    main thread are now accompanied by the thread ID.</p>
<p class="Pp">Embedded null characters in diagnostics now actually show up. They
    used to truncate the message in prior versions.</p>
<p class="Pp"><span class="Li">$foo::a</span> and
    <span class="Li">$foo::b</span> are now exempt from &quot;possible
    typo&quot; warnings only if <b>sort()</b> is encountered in package
    <span class="Li">&quot;foo&quot;</span>.</p>
<p class="Pp">Unrecognized alphabetic escapes encountered when parsing quote
    constructs now generate a warning, since they may take on new semantics in
    later versions of Perl.</p>
<p class="Pp">Many diagnostics now report the internal operation in which the
    warning was provoked, like so:</p>
<p class="Pp"></p>
<pre>
    Use of uninitialized value in concatenation (.) at (eval 1) line 1.
    Use of uninitialized value in print at (eval 1) line 1.
</pre>
<p class="Pp">Diagnostics that occur within eval may also report the file and
    line number where the eval is located, in addition to the eval sequence
    number and the line number within the evaluated text itself. For
  example:</p>
<p class="Pp"></p>
<pre>
    Not enough arguments for scalar at (eval 4)[newlib/perl5db.pl:1411] line 2, at EOF
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Diagnostics_follow_"><a class="permalink" href="#Diagnostics_follow_">Diagnostics
  follow STDERR</a></h2>
<p class="Pp">Diagnostic output now goes to whichever file the
    <span class="Li">&quot;STDERR&quot;</span> handle is pointing at, instead of
    always going to the underlying C runtime library's
    <span class="Li">&quot;stderr&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="More_consistent_close-on-exec_behavior"><a class="permalink" href="#More_consistent_close-on-exec_behavior">More
  consistent close-on-exec behavior</a></h2>
<p class="Pp">On systems that support a close-on-exec flag on filehandles, the
    flag is now set for any handles created by <b>pipe()</b>,
    <b>socketpair()</b>, <b>socket()</b>, and <b>accept()</b>, if that is
    warranted by the value of $^F that may be in effect. Earlier versions
    neglected to set the flag for handles created with these operators. See
    &quot;pipe&quot; in perlfunc, &quot;socketpair&quot; in perlfunc,
    &quot;socket&quot; in perlfunc, &quot;accept&quot; in perlfunc, and
    &quot;$^F&quot; in perlvar.</p>
</section>
<section class="Ss">
<h2 class="Ss"><b>syswrite()</b> ease-of-use</h2>
<p class="Pp">The length argument of
    <span class="Li">&quot;syswrite()&quot;</span> has become optional.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Better_syntax_checks_on_parenthesized_unary_operators"><a class="permalink" href="#Better_syntax_checks_on_parenthesized_unary_operators">Better
  syntax checks on parenthesized unary operators</a></h2>
<p class="Pp">Expressions such as:</p>
<p class="Pp"></p>
<pre>
    print defined(&amp;foo,&amp;bar,&amp;baz);
    print uc(&quot;foo&quot;,&quot;bar&quot;,&quot;baz&quot;);
    undef($foo,&amp;bar);
</pre>
<p class="Pp">used to be accidentally allowed in earlier versions, and produced
    unpredictable behaviour. Some produced ancillary warnings when used in this
    way; others silently did the wrong thing.</p>
<p class="Pp">The parenthesized forms of most unary operators that expect a
    single argument now ensure that they are not called with more than one
    argument, making the cases shown above syntax errors. The usual behaviour
    of:</p>
<p class="Pp"></p>
<pre>
    print defined &amp;foo, &amp;bar, &amp;baz;
    print uc &quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;;
    undef $foo, &amp;bar;
</pre>
<p class="Pp">remains unchanged. See perlop.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Bit_operators_support_full_native_integer_width"><a class="permalink" href="#Bit_operators_support_full_native_integer_width">Bit
  operators support full native integer width</a></h2>
<p class="Pp">The bit operators (&amp; | ^ ~ &lt;&lt; &gt;&gt;) now operate on
    the full native integral width (the exact size of which is available in
    <span class="Li">$Config</span>{ivsize}). For example, if your platform is
    either natively 64-bit or if Perl has been configured to use 64-bit
    integers, these operations apply to 8 bytes (as opposed to 4 bytes on 32-bit
    platforms). For portability, be sure to mask off the excess bits in the
    result of unary <span class="Li">&quot;~&quot;</span>, e.g.,
    <span class="Li">&quot;~$x &amp; 0xffffffff&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Improved_security_features"><a class="permalink" href="#Improved_security_features">Improved
  security features</a></h2>
<p class="Pp">More potentially unsafe operations taint their results for
    improved security.</p>
<p class="Pp">The <span class="Li">&quot;passwd&quot;</span> and
    <span class="Li">&quot;shell&quot;</span> fields returned by the
    <b>getpwent()</b>, <b>getpwnam()</b>, and <b>getpwuid()</b> are now tainted,
    because the user can affect their own encrypted password and login
  shell.</p>
<p class="Pp">The variable modified by <b>shmread()</b>, and messages returned
    by <b>msgrcv()</b> (and its object-oriented interface IPC::SysV::Msg::rcv)
    are also tainted, because other untrusted processes can modify messages and
    shared memory segments for their own nefarious purposes.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="More_functional_bareword_prototype_(*)"><a class="permalink" href="#More_functional_bareword_prototype_(*)">More
  functional bareword prototype (*)</a></h2>
<p class="Pp">Bareword prototypes have been rationalized to enable them to be
    used to override builtins that accept barewords and interpret them in a
    special way, such as <span class="Li">&quot;require&quot;</span> or
    <span class="Li">&quot;do&quot;</span>.</p>
<p class="Pp">Arguments prototyped as <span class="Li">&quot;*&quot;</span> will
    now be visible within the subroutine as either a simple scalar or as a
    reference to a typeglob. See &quot;Prototypes&quot; in perlsub.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_require__and__do__may_be_overridden"><a class="permalink" href="#_require__and__do__may_be_overridden">&quot;require&quot;
  and &quot;do&quot; may be overridden</a></h2>
<p class="Pp"><span class="Li">&quot;require&quot;</span> and
    <span class="Li">&quot;do 'file'&quot;</span> operations may be overridden
    locally by importing subroutines of the same name into the current package
    (or globally by importing them into the CORE::GLOBAL:: namespace).
    Overriding <span class="Li">&quot;require&quot;</span> will also affect
    <span class="Li">&quot;use&quot;</span>, provided the override is visible at
    compile-time. See &quot;Overriding Built-in Functions&quot; in perlsub.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="$_X_variables_may_now_have_names_longer_than_one_character"><a class="permalink" href="#$_X_variables_may_now_have_names_longer_than_one_character">$^X
  variables may now have names longer than one character</a></h2>
<p class="Pp">Formerly, $^X was synonymous with ${&quot;\cX&quot;}, but $^XY was
    a syntax error. Now variable names that begin with a control character may
    be arbitrarily long. However, for compatibility reasons, these variables
    <i>must</i> be written with explicit braces, as
    <span class="Li">&quot;${^XY}&quot;</span> for example.
    <span class="Li">&quot;${^XYZ}&quot;</span> is synonymous with
    ${&quot;\cXYZ&quot;}. Variable names with more than one control character,
    such as <span class="Li">&quot;${^XY^Z}&quot;</span>, are illegal.</p>
<p class="Pp">The old syntax has not changed. As before, `^X' may be either a
    literal control-X character or the two-character sequence `caret' plus `X'.
    When braces are omitted, the variable name stops after the control
    character. Thus <span class="Li">&quot;$^XYZ&quot;</span> continues to be
    synonymous with <span class="Li">&quot;$^X . &quot;YZ&quot;&quot;</span> as
    before.</p>
<p class="Pp">As before, lexical variables may not have names beginning with
    control characters. As before, variables whose names begin with a control
    character are always forced to be in package `main'. All such variables are
    reserved for future extensions, except those that begin with
    <span class="Li">&quot;^_&quot;</span>, which may be used by user programs
    and are guaranteed not to acquire special meaning in any future version of
    Perl.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New_variable_$_C_reflects__"><a class="permalink" href="#New_variable_$_C_reflects__">New
  variable $^C reflects &quot;-c&quot; switch</a></h2>
<p class="Pp"><span class="Li">$^C</span> has a boolean value that reflects
    whether perl is being run in compile-only mode (i.e. via the
    <span class="Li">&quot;-c&quot;</span> switch). Since BEGIN blocks are
    executed under such conditions, this variable enables perl code to determine
    whether actions that make sense only during normal running are warranted.
    See perlvar.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New_variable_$_V_contains_Perl_version_as_a_string"><a class="permalink" href="#New_variable_$_V_contains_Perl_version_as_a_string">New
  variable $^V contains Perl version as a string</a></h2>
<p class="Pp"><span class="Li">$^V</span> contains the Perl version number as a
    string composed of characters whose ordinals match the version numbers, i.e.
    v5.6.0. This may be used in string comparisons.</p>
<p class="Pp">See <span class="Li">&quot;Support for strings represented as a
    vector of ordinals&quot;</span> for an example.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Optional_Y2K_warnings"><a class="permalink" href="#Optional_Y2K_warnings">Optional
  Y2K warnings</a></h2>
<p class="Pp">If Perl is built with the cpp macro
    <span class="Li">&quot;PERL_Y2KWARN&quot;</span> defined, it emits optional
    warnings when concatenating the number 19 with another number.</p>
<p class="Pp">This behavior must be specifically enabled when running Configure.
    See <i>INSTALL</i> and <i>README.Y2K</i>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Arrays_now_always_interpolate_into_double-quoted_strings"><a class="permalink" href="#Arrays_now_always_interpolate_into_double-quoted_strings">Arrays
  now always interpolate into double-quoted strings</a></h2>
<p class="Pp">In double-quoted strings, arrays now interpolate, no matter what.
    The behavior in earlier versions of perl 5 was that arrays would interpolate
    into strings if the array had been mentioned before the string was compiled,
    and otherwise Perl would raise a fatal compile-time error. In versions 5.000
    through 5.003, the error was</p>
<p class="Pp"></p>
<pre>
        Literal @example now requires backslash
</pre>
<p class="Pp">In versions 5.004_01 through 5.6.0, the error was</p>
<p class="Pp"></p>
<pre>
        In string, @example now must be written as \@example
</pre>
<p class="Pp">The idea here was to get people into the habit of writing
    <span class="Li">&quot;fred\@example.com&quot;</span> when they wanted a
    literal <span class="Li">&quot;@&quot;</span> sign, just as they have always
    written <span class="Li">&quot;Give me back my \$5&quot;</span> when they
    wanted a literal <span class="Li">&quot;$&quot;</span> sign.</p>
<p class="Pp">Starting with 5.6.1, when Perl now sees an
    <span class="Li">&quot;@&quot;</span> sign in a double-quoted string, it
    <i>always</i> attempts to interpolate an array, regardless of whether or not
    the array has been used or declared already. The fatal error has been
    downgraded to an optional warning:</p>
<p class="Pp"></p>
<pre>
        Possible unintended interpolation of @example in string
</pre>
<p class="Pp">This warns you that
    <span class="Li">&quot;fred@example.com&quot;</span> is going to turn into
    <span class="Li">&quot;fred.com&quot;</span> if you don't backslash the
    <span class="Li">&quot;@&quot;</span>. See
    http://perl.plover.com/at-error.html for more details about the history
    here.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="@"><a class="permalink" href="#@">@- and @+ provide
  starting/ending offsets of regex submatches</a></h2>
<p class="Pp">The new magic variables @- and @+ provide the starting and ending
    offsets, respectively, of $&amp;, <span class="Li">$1</span>,
    <span class="Li">$2</span>, etc. See perlvar for details.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Modules_and_Pragmata"><a class="permalink" href="#Modules_and_Pragmata">Modules
  and Pragmata</a></h1>
<section class="Ss">
<h2 class="Ss" id="Modules"><a class="permalink" href="#Modules">Modules</a></h2>
<dl class="Bl-tag">
  <dt id="attributes"><a class="permalink" href="#attributes">attributes</a></dt>
  <dd>While used internally by Perl as a pragma, this module also provides a way
      to fetch subroutine and variable attributes. See attributes.</dd>
  <dt id="B"><a class="permalink" href="#B">B</a></dt>
  <dd>The Perl Compiler suite has been extensively reworked for this release.
      More of the standard Perl test suite passes when run under the Compiler,
      but there is still a significant way to go to achieve production quality
      compiled executables.
    <p class="Pp"></p>
    <pre>
    NOTE: The Compiler suite remains highly experimental.  The
    generated code may not be correct, even when it manages to execute
    without errors.
    </pre>
  </dd>
  <dt id="Benchmark"><a class="permalink" href="#Benchmark">Benchmark</a></dt>
  <dd>Overall, Benchmark results exhibit lower average error and better timing
      accuracy.
    <p class="Pp">You can now run tests for <i>n</i> seconds instead of guessing
        the right number of tests to run: e.g., timethese(-5, ...) will run each
        code for at least 5 CPU seconds. Zero as the &quot;number of
        repetitions&quot; means &quot;for at least 3 CPU seconds&quot;. The
        output format has also changed. For example:</p>
    <p class="Pp"></p>
    <pre>
   use Benchmark;$x=3;timethese(-5,{a=&gt;sub{$x*$x},b=&gt;sub{$x**2}})
    </pre>
    <p class="Pp">will now output something like this:</p>
    <p class="Pp"></p>
    <pre>
   Benchmark: running a, b, each for at least 5 CPU seconds...
            a:  5 wallclock secs ( 5.77 usr +  0.00 sys =  5.77 CPU) @ 200551.91/s (n=1156516)
            b:  4 wallclock secs ( 5.00 usr +  0.02 sys =  5.02 CPU) @ 159605.18/s (n=800686)
    </pre>
    <p class="Pp">New features: &quot;each for at least N CPU seconds...&quot;,
        &quot;wallclock secs&quot;, and the &quot;@ operations/CPU second
        (n=operations)&quot;.</p>
    <p class="Pp"><b>timethese()</b> now returns a reference to a hash of
        Benchmark objects containing the test results, keyed on the names of the
        tests.</p>
    <p class="Pp"><b>timethis()</b> now returns the iterations field in the
        Benchmark result object instead of 0.</p>
    <p class="Pp"><b>timethese()</b>, <b>timethis()</b>, and the new
        <b>cmpthese()</b> (see below) can also take a format specifier of 'none'
        to suppress output.</p>
    <p class="Pp">A new function <b>countit()</b> is just like <b>timeit()</b>
        except that it takes a TIME instead of a COUNT.</p>
    <p class="Pp">A new function <b>cmpthese()</b> prints a chart comparing the
        results of each test returned from a <b>timethese()</b> call. For each
        possible pair of tests, the percentage speed difference (iters/sec or
        seconds/iter) is shown.</p>
    <p class="Pp">For other details, see Benchmark.</p>
  </dd>
  <dt id="ByteLoader"><a class="permalink" href="#ByteLoader">ByteLoader</a></dt>
  <dd>The ByteLoader is a dedicated extension to generate and run Perl bytecode.
      See ByteLoader.</dd>
  <dt id="constant"><a class="permalink" href="#constant">constant</a></dt>
  <dd>References can now be used.
    <p class="Pp">The new version also allows a leading underscore in constant
        names, but disallows a double leading underscore (as in
        &quot;__LINE__&quot;). Some other names are disallowed or warned
        against, including BEGIN, END, etc. Some names which were forced into
        main:: used to fail silently in some cases; now they're fatal (outside
        of main::) and an optional warning (inside of main::). The ability to
        detect whether a constant had been set with a given name has been
      added.</p>
    <p class="Pp">See constant.</p>
  </dd>
  <dt id="charnames"><a class="permalink" href="#charnames">charnames</a></dt>
  <dd>This pragma implements the <span class="Li">&quot;\N&quot;</span> string
      escape. See charnames.</dd>
  <dt id="Data::Dumper"><a class="permalink" href="#Data::Dumper">Data::Dumper</a></dt>
  <dd>A <span class="Li">&quot;Maxdepth&quot;</span> setting can be specified to
      avoid venturing too deeply into deep data structures. See Data::Dumper.
    <p class="Pp">The XSUB implementation of <b>Dump()</b> is now automatically
        called if the <span class="Li">&quot;Useqq&quot;</span> setting is not
        in use.</p>
    <p class="Pp">Dumping <span class="Li">&quot;qr//&quot;</span> objects works
        correctly.</p>
  </dd>
  <dt id="DB"><a class="permalink" href="#DB">DB</a></dt>
  <dd><span class="Li">&quot;DB&quot;</span> is an experimental module that
      exposes a clean abstraction to Perl's debugging API.</dd>
  <dt id="DB_File~2"><a class="permalink" href="#DB_File~2">DB_File</a></dt>
  <dd>DB_File can now be built with Berkeley DB versions 1, 2 or 3. See
      <span class="Li">&quot;ext/DB_File/Changes&quot;</span>.</dd>
  <dt id="Devel::DProf"><a class="permalink" href="#Devel::DProf">Devel::DProf</a></dt>
  <dd>Devel::DProf, a Perl source code profiler has been added. See Devel::DProf
      and dprofpp.</dd>
  <dt id="Devel::Peek~2"><a class="permalink" href="#Devel::Peek~2">Devel::Peek</a></dt>
  <dd>The Devel::Peek module provides access to the internal representation of
      Perl variables and data. It is a data debugging tool for the XS
      programmer.</dd>
  <dt id="Dumpvalue"><a class="permalink" href="#Dumpvalue">Dumpvalue</a></dt>
  <dd>The Dumpvalue module provides screen dumps of Perl data.</dd>
  <dt id="DynaLoader"><a class="permalink" href="#DynaLoader">DynaLoader</a></dt>
  <dd>DynaLoader now supports a <b>dl_unload_file()</b> function on platforms
      that support unloading shared objects using <b>dlclose()</b>.
    <p class="Pp">Perl can also optionally arrange to unload all extension
        shared objects loaded by Perl. To enable this, build Perl with the
        Configure option
        <span class="Li">&quot;-Accflags=-DDL_UNLOAD_ALL_AT_EXIT&quot;</span>.
        (This maybe useful if you are using Apache with mod_perl.)</p>
  </dd>
  <dt id="English"><a class="permalink" href="#English">English</a></dt>
  <dd><span class="Li">$PERL_VERSION</span> now stands for
      <span class="Li">$^V</span> (a string value) rather than for
      <span class="Li">$]</span> (a numeric value).</dd>
  <dt id="Env"><a class="permalink" href="#Env">Env</a></dt>
  <dd>Env now supports accessing environment variables like PATH as array
      variables.</dd>
  <dt id="Fcntl"><a class="permalink" href="#Fcntl">Fcntl</a></dt>
  <dd>More Fcntl constants added: F_SETLK64, F_SETLKW64, O_LARGEFILE for large
      file (more than 4GB) access (NOTE: the O_LARGEFILE is automatically added
      to <b>sysopen()</b> flags if large file support has been configured, as is
      the default), Free/Net/OpenBSD locking behaviour flags F_FLOCK, F_POSIX,
      Linux F_SHLCK, and O_ACCMODE: the combined mask of O_RDONLY, O_WRONLY, and
      O_RDWR. The <b>seek()</b>/<b>sysseek()</b> constants SEEK_SET, SEEK_CUR,
      and SEEK_END are available via the
      <span class="Li">&quot;:seek&quot;</span> tag. The
      <b>chmod()</b>/<b>stat()</b> S_IF* constants and S_IS* functions are
      available via the <span class="Li">&quot;:mode&quot;</span> tag.</dd>
  <dt id="File::Compare"><a class="permalink" href="#File::Compare">File::Compare</a></dt>
  <dd>A <b>compare_text()</b> function has been added, which allows custom
      comparison functions. See File::Compare.</dd>
  <dt id="File::Find~3"><a class="permalink" href="#File::Find~3">File::Find</a></dt>
  <dd>File::Find now works correctly when the <b>wanted()</b> function is either
      autoloaded or is a symbolic reference.
    <p class="Pp">A bug that caused File::Find to lose track of the working
        directory when pruning top-level directories has been fixed.</p>
    <p class="Pp">File::Find now also supports several other options to control
        its behavior. It can follow symbolic links if the
        <span class="Li">&quot;follow&quot;</span> option is specified. Enabling
        the <span class="Li">&quot;no_chdir&quot;</span> option will make
        File::Find skip changing the current directory when walking directories.
        The <span class="Li">&quot;untaint&quot;</span> flag can be useful when
        running with taint checks enabled.</p>
    <p class="Pp">See File::Find.</p>
  </dd>
  <dt id="File::Glob"><a class="permalink" href="#File::Glob">File::Glob</a></dt>
  <dd>This extension implements BSD-style file globbing. By default, it will
      also be used for the internal implementation of the <b>glob()</b>
      operator. See File::Glob.</dd>
  <dt id="File::Spec"><a class="permalink" href="#File::Spec">File::Spec</a></dt>
  <dd>New methods have been added to the File::Spec module: <b>devnull()</b>
      returns the name of the null device (/dev/null on Unix) and
      <b>tmpdir()</b> the name of the temp directory (normally /tmp on Unix).
      There are now also methods to convert between absolute and relative
      filenames: <b>abs2rel()</b> and <b>rel2abs()</b>. For compatibility with
      operating systems that specify volume names in file paths, the
      <b>splitpath()</b>, <b>splitdir()</b>, and <b>catdir()</b> methods have
      been added.</dd>
  <dt id="File::Spec::Functions"><a class="permalink" href="#File::Spec::Functions">File::Spec::Functions</a></dt>
  <dd>The new File::Spec::Functions modules provides a function interface to the
      File::Spec module. Allows shorthand
    <p class="Pp"></p>
    <pre>
    $fullname = catfile($dir1, $dir2, $file);
    </pre>
    <p class="Pp">instead of</p>
    <p class="Pp"></p>
    <pre>
    $fullname = File::Spec-&gt;catfile($dir1, $dir2, $file);
    </pre>
  </dd>
  <dt id="Getopt::Long~2"><a class="permalink" href="#Getopt::Long~2">Getopt::Long</a></dt>
  <dd>Getopt::Long licensing has changed to allow the Perl Artistic License as
      well as the GPL. It used to be GPL only, which got in the way of non-GPL
      applications that wanted to use Getopt::Long.
    <p class="Pp">Getopt::Long encourages the use of Pod::Usage to produce help
        messages. For example:</p>
    <p class="Pp"></p>
    <pre>
    use Getopt::Long;
    use Pod::Usage;
    my $man = 0;
    my $help = 0;
    GetOptions('help|?' =&gt; \$help, man =&gt; \$man) or pod2usage(2);
    pod2usage(1) if $help;
    pod2usage(-exitstatus =&gt; 0, -verbose =&gt; 2) if $man;

    __END__

    =head1 NAME

    sample - Using Getopt::Long and Pod::Usage

    =head1 SYNOPSIS

    sample [options] [file ...]

     Options:
       -help            brief help message
       -man             full documentation

    =head1 OPTIONS

    =over 8

    =item B&lt;-help&gt;

    Print a brief help message and exits.

    =item B&lt;-man&gt;

    Prints the manual page and exits.

    =back

    =head1 DESCRIPTION

    B&lt;This program&gt; will read the given input file(s) and do something
    useful with the contents thereof.

    =cut
    </pre>
    <p class="Pp">See Pod::Usage for details.</p>
    <p class="Pp">A bug that prevented the non-option call-back &lt;&gt; from
        being specified as the first argument has been fixed.</p>
    <p class="Pp">To specify the characters &lt; and &gt; as option starters,
        use &gt;&lt;. Note, however, that changing option starters is strongly
        deprecated.</p>
  </dd>
  <dt id="IO"><a class="permalink" href="#IO">IO</a></dt>
  <dd><b>write()</b> and <b>syswrite()</b> will now accept a single-argument
      form of the call, for consistency with Perl's <b>syswrite()</b>.
    <p class="Pp">You can now create a TCP-based IO::Socket::INET without
        forcing a connect attempt. This allows you to configure its options
        (like making it non-blocking) and then call <b>connect()</b>
      manually.</p>
    <p class="Pp">A bug that prevented the <b>IO::Socket::protocol()</b>
        accessor from ever returning the correct value has been corrected.</p>
    <p class="Pp">IO::Socket::connect now uses non-blocking IO instead of
        <b>alarm()</b> to do connect timeouts.</p>
    <p class="Pp">IO::Socket::accept now uses <b>select()</b> instead of
        <b>alarm()</b> for doing timeouts.</p>
    <p class="Pp">IO::Socket::INET-&gt;new now sets $! correctly on failure. $@
        is still set for backwards compatibility.</p>
  </dd>
  <dt id="JPL"><a class="permalink" href="#JPL">JPL</a></dt>
  <dd>Java Perl Lingo is now distributed with Perl. See jpl/README for more
      information.</dd>
  <dt id="lib"><a class="permalink" href="#lib">lib</a></dt>
  <dd><span class="Li">&quot;use lib&quot;</span> now weeds out any trailing
      duplicate entries. <span class="Li">&quot;no lib&quot;</span> removes all
      named entries.</dd>
  <dt id="Math::BigInt"><a class="permalink" href="#Math::BigInt">Math::BigInt</a></dt>
  <dd>The bitwise operations <span class="Li">&quot;&lt;&lt;&quot;</span>,
      <span class="Li">&quot;&gt;&gt;&quot;</span>,
      <span class="Li">&quot;&amp;&quot;</span>,
      <span class="Li">&quot;|&quot;</span>, and
      <span class="Li">&quot;~&quot;</span> are now supported on bigints.</dd>
  <dt id="Math::Complex~2"><a class="permalink" href="#Math::Complex~2">Math::Complex</a></dt>
  <dd>The accessor methods Re, Im, arg, abs, rho, and theta can now also act as
      mutators (accessor <span class="Li">$z</span>-&gt;<b>Re()</b>, mutator
      <span class="Li">$z</span>-&gt;<b>Re</b>(3)).
    <p class="Pp">The class method
        <span class="Li">&quot;display_format&quot;</span> and the corresponding
        object method <span class="Li">&quot;display_format&quot;</span>, in
        addition to accepting just one argument, now can also accept a parameter
        hash. Recognized keys of a parameter hash are
        <span class="Li">&quot;style&quot;</span>, which corresponds to the old
        one parameter case, and two new parameters:
        <span class="Li">&quot;format&quot;</span>, which is a
        <b>printf()</b>-style format string (defaults usually to
        <span class="Li">&quot;%.15g&quot;</span>, you can revert to the default
        by setting the format string to
        <span class="Li">&quot;undef&quot;</span>) used for both parts of a
        complex number, and
        <span class="Li">&quot;polar_pretty_print&quot;</span> (defaults to
        true), which controls whether an attempt is made to try to recognize
        small multiples and rationals of pi (2pi, pi/2) at the argument (angle)
        of a polar complex number.</p>
    <p class="Pp">The potentially disruptive change is that in list context both
        methods now <i>return the parameter hash</i>, instead of only the value
        of the <span class="Li">&quot;style&quot;</span> parameter.</p>
  </dd>
  <dt id="Math::Trig"><a class="permalink" href="#Math::Trig">Math::Trig</a></dt>
  <dd>A little bit of radial trigonometry (cylindrical and spherical), radial
      coordinate conversions, and the great circle distance were added.</dd>
  <dt id="Pod::Parser,"><a class="permalink" href="#Pod::Parser,">Pod::Parser,
    Pod::InputObjects</a></dt>
  <dd>Pod::Parser is a base class for parsing and selecting sections of pod
      documentation from an input stream. This module takes care of identifying
      pod paragraphs and commands in the input and hands off the parsed
      paragraphs and commands to user-defined methods which are free to
      interpret or translate them as they see fit.
    <p class="Pp">Pod::InputObjects defines some input objects needed by
        Pod::Parser, and for advanced users of Pod::Parser that need more about
        a command besides its name and text.</p>
    <p class="Pp">As of release 5.6.0 of Perl, Pod::Parser is now the officially
        sanctioned &quot;base parser code&quot; recommended for use by all
        pod2xxx translators. Pod::Text (pod2text) and Pod::Man (pod2man) have
        already been converted to use Pod::Parser and efforts to convert
        Pod::HTML (pod2html) are already underway. For any questions or comments
        about pod parsing and translating issues and utilities, please use the
        pod-people@perl.org mailing list.</p>
    <p class="Pp">For further information, please see Pod::Parser and
        Pod::InputObjects.</p>
  </dd>
  <dt id="Pod::Checker,"><a class="permalink" href="#Pod::Checker,">Pod::Checker,
    podchecker</a></dt>
  <dd>This utility checks pod files for correct syntax, according to perlpod.
      Obvious errors are flagged as such, while warnings are printed for
      mistakes that can be handled gracefully. The checklist is not complete
      yet. See Pod::Checker.</dd>
  <dt id="Pod::ParseUtils,"><a class="permalink" href="#Pod::ParseUtils,">Pod::ParseUtils,
    Pod::Find</a></dt>
  <dd>These modules provide a set of gizmos that are useful mainly for pod
      translators. Pod::Find traverses directory structures and returns found
      pod files, along with their canonical names (like
      <span class="Li">&quot;File::Spec::Unix&quot;</span>). Pod::ParseUtils
      contains <b>Pod::List</b> (useful for storing pod list information),
      <b>Pod::Hyperlink</b> (for parsing the contents of
      <span class="Li">&quot;L&lt;&gt;&quot;</span> sequences) and
      <b>Pod::Cache</b> (for caching information about pod files, e.g., link
      nodes).</dd>
  <dt id="Pod::Select,"><a class="permalink" href="#Pod::Select,">Pod::Select,
    podselect</a></dt>
  <dd>Pod::Select is a subclass of Pod::Parser which provides a function named
      &quot;<b>podselect()</b>&quot; to filter out user-specified sections of
      raw pod documentation from an input stream. podselect is a script that
      provides access to Pod::Select from other scripts to be used as a filter.
      See Pod::Select.</dd>
  <dt id="Pod::Usage,"><a class="permalink" href="#Pod::Usage,">Pod::Usage,
    pod2usage</a></dt>
  <dd>Pod::Usage provides the function &quot;<b>pod2usage()</b>&quot; to print
      usage messages for a Perl script based on its embedded pod documentation.
      The <b>pod2usage()</b> function is generally useful to all script authors
      since it lets them write and maintain a single source (the pods) for
      documentation, thus removing the need to create and maintain redundant
      usage message text consisting of information already in the pods.
    <p class="Pp">There is also a pod2usage script which can be used from other
        kinds of scripts to print usage messages from pods (even for non-Perl
        scripts with pods embedded in comments).</p>
    <p class="Pp">For details and examples, please see Pod::Usage.</p>
  </dd>
  <dt>Pod::Text and Pod::Man</dt>
  <dd>Pod::Text has been rewritten to use Pod::Parser. While <b>pod2text()</b>
      is still available for backwards compatibility, the module now has a new
      preferred interface. See Pod::Text for the details. The new Pod::Text
      module is easily subclassed for tweaks to the output, and two such
      subclasses (Pod::Text::Termcap for man-page-style bold and underlining
      using termcap information, and Pod::Text::Color for markup with ANSI color
      sequences) are now standard.
    <p class="Pp">pod2man has been turned into a module, Pod::Man, which also
        uses Pod::Parser. In the process, several outstanding bugs related to
        quotes in section headers, quoting of code escapes, and nested lists
        have been fixed. pod2man is now a wrapper script around this module.</p>
  </dd>
  <dt id="SDBM_File~2"><a class="permalink" href="#SDBM_File~2">SDBM_File</a></dt>
  <dd>An EXISTS method has been added to this module (and <b>sdbm_exists()</b>
      has been added to the underlying sdbm library), so one can now call exists
      on an SDBM_File tied hash and get the correct result, rather than a
      runtime error.
    <p class="Pp">A bug that may have caused data loss when more than one disk
        block happens to be read from the database in a single <b>FETCH()</b>
        has been fixed.</p>
  </dd>
  <dt id="Sys::Syslog~2"><a class="permalink" href="#Sys::Syslog~2">Sys::Syslog</a></dt>
  <dd>Sys::Syslog now uses XSUBs to access facilities from syslog.h so it no
      longer requires syslog.ph to exist.</dd>
  <dt id="Sys::Hostname"><a class="permalink" href="#Sys::Hostname">Sys::Hostname</a></dt>
  <dd>Sys::Hostname now uses XSUBs to call the C library's <b>gethostname()</b>
      or <b>uname()</b> if they exist.</dd>
  <dt id="Term::ANSIColor"><a class="permalink" href="#Term::ANSIColor">Term::ANSIColor</a></dt>
  <dd>Term::ANSIColor is a very simple module to provide easy and readable
      access to the ANSI color and highlighting escape sequences, supported by
      most ANSI terminal emulators. It is now included standard.</dd>
  <dt id="Time::Local"><a class="permalink" href="#Time::Local">Time::Local</a></dt>
  <dd>The <b>timelocal()</b> and <b>timegm()</b> functions used to silently
      return bogus results when the date fell outside the machine's integer
      range. They now consistently <b>croak()</b> if the date falls in an
      unsupported range.</dd>
  <dt id="Win32"><a class="permalink" href="#Win32">Win32</a></dt>
  <dd>The error return value in list context has been changed for all functions
      that return a list of values. Previously these functions returned a list
      with a single element <span class="Li">&quot;undef&quot;</span> if an
      error occurred. Now these functions return the empty list in these
      situations. This applies to the following functions:
    <p class="Pp"></p>
    <pre>
    Win32::FsType
    Win32::GetOSVersion
    </pre>
    <p class="Pp">The remaining functions are unchanged and continue to return
        <span class="Li">&quot;undef&quot;</span> on error even in list
      context.</p>
    <p class="Pp">The Win32::SetLastError(ERROR) function has been added as a
        complement to the <b>Win32::GetLastError()</b> function.</p>
    <p class="Pp">The new Win32::GetFullPathName(FILENAME) returns the full
        absolute pathname for FILENAME in scalar context. In list context it
        returns a two-element list containing the fully qualified directory name
        and the filename. See Win32.</p>
  </dd>
  <dt id="XSLoader"><a class="permalink" href="#XSLoader">XSLoader</a></dt>
  <dd>The XSLoader extension is a simpler alternative to DynaLoader. See
      XSLoader.</dd>
  <dt id="DBM"><a class="permalink" href="#DBM">DBM Filters</a></dt>
  <dd>A new feature called &quot;DBM Filters&quot; has been added to all the DBM
      modules--DB_File, GDBM_File, NDBM_File, ODBM_File, and SDBM_File. DBM
      Filters add four new methods to each DBM module:
    <p class="Pp"></p>
    <pre>
    filter_store_key
    filter_store_value
    filter_fetch_key
    filter_fetch_value
    </pre>
    <p class="Pp">These can be used to filter key-value pairs before the pairs
        are written to the database or just after they are read from the
        database. See perldbmfilter for further information.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Pragmata"><a class="permalink" href="#Pragmata">Pragmata</a></h2>
<p class="Pp"><span class="Li">&quot;use attrs&quot;</span> is now obsolete, and
    is only provided for backward-compatibility. It's been replaced by the
    <span class="Li">&quot;sub : attributes&quot;</span> syntax. See
    &quot;Subroutine Attributes&quot; in perlsub and attributes.</p>
<p class="Pp">Lexical warnings pragma, <span class="Li">&quot;use
    warnings;&quot;</span>, to control optional warnings. See perllexwarn.</p>
<p class="Pp"><span class="Li">&quot;use filetest&quot;</span> to control the
    behaviour of filetests (<span class="Li">&quot;-r&quot;</span>
    <span class="Li">&quot;-w&quot;</span> ...). Currently only one subpragma
    implemented, &quot;use filetest 'access';&quot;, that uses <b>access</b>(2)
    or equivalent to check permissions instead of using <b>stat</b>(2) as usual.
    This matters in filesystems where there are ACLs (access control lists): the
    <b>stat</b>(2) might lie, but <b>access</b>(2) knows better.</p>
<p class="Pp">The <span class="Li">&quot;open&quot;</span> pragma can be used to
    specify default disciplines for handle constructors (e.g. <b>open()</b>) and
    for qx//. The two pseudo-disciplines
    <span class="Li">&quot;:raw&quot;</span> and
    <span class="Li">&quot;:crlf&quot;</span> are currently supported on
    DOS-derivative platforms (i.e. where binmode is not a no-op). See also
    &quot;<b>binmode()</b> can be used to set :crlf and :raw modes&quot;.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Utility_Changes"><a class="permalink" href="#Utility_Changes">Utility
  Changes</a></h1>
<section class="Ss">
<h2 class="Ss" id="dprofpp"><a class="permalink" href="#dprofpp">dprofpp</a></h2>
<p class="Pp"><span class="Li">&quot;dprofpp&quot;</span> is used to display
    profile data generated using
    <span class="Li">&quot;Devel::DProf&quot;</span>. See dprofpp.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="find2perl"><a class="permalink" href="#find2perl">find2perl</a></h2>
<p class="Pp">The <span class="Li">&quot;find2perl&quot;</span> utility now uses
    the enhanced features of the File::Find module. The -depth and -follow
    options are supported. Pod documentation is also included in the script.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="h2xs"><a class="permalink" href="#h2xs">h2xs</a></h2>
<p class="Pp">The <span class="Li">&quot;h2xs&quot;</span> tool can now work in
    conjunction with <span class="Li">&quot;C::Scan&quot;</span> (available from
    CPAN) to automatically parse real-life header files. The
    <span class="Li">&quot;-M&quot;</span>,
    <span class="Li">&quot;-a&quot;</span>,
    <span class="Li">&quot;-k&quot;</span>, and
    <span class="Li">&quot;-o&quot;</span> options are new.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="perlcc"><a class="permalink" href="#perlcc">perlcc</a></h2>
<p class="Pp"><span class="Li">&quot;perlcc&quot;</span> now supports the C and
    Bytecode backends. By default, it generates output from the simple C backend
    rather than the optimized C backend.</p>
<p class="Pp">Support for non-Unix platforms has been improved.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="perldoc"><a class="permalink" href="#perldoc">perldoc</a></h2>
<p class="Pp"><span class="Li">&quot;perldoc&quot;</span> has been reworked to
    avoid possible security holes. It will not by default let itself be run as
    the superuser, but you may still use the <b>-U</b> switch to try to make it
    drop privileges first.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="The_Perl_Debugger"><a class="permalink" href="#The_Perl_Debugger">The
  Perl Debugger</a></h2>
<p class="Pp">Many bug fixes and enhancements were added to <i>perl5db.pl</i>,
    the Perl debugger. The help documentation was rearranged. New commands
    include <span class="Li">&quot;&lt; ?&quot;</span>,
    <span class="Li">&quot;&gt; ?&quot;</span>, and <span class="Li">&quot;{
    ?&quot;</span> to list out current actions, <span class="Li">&quot;man
    </span><i>docpage</i><span class="Li">&quot;</span> to run your doc viewer
    on some perl docset, and support for quoted options. The help information
    was rearranged, and should be viewable once again if you're using
    <b>less</b> as your pager. A serious security hole was plugged--you should
    immediately remove all older versions of the Perl debugger as installed in
    previous releases, all the way back to perl3, from your system to avoid
    being bitten by this.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Improved_Documentation"><a class="permalink" href="#Improved_Documentation">Improved
  Documentation</a></h1>
<p class="Pp">Many of the platform-specific README files are now part of the
    perl installation. See perl for the complete list.</p>
<dl class="Bl-tag">
  <dt id="perlapi.pod"><a class="permalink" href="#perlapi.pod">perlapi.pod</a></dt>
  <dd>The official list of public Perl API functions.</dd>
  <dt id="perlboot.pod"><a class="permalink" href="#perlboot.pod">perlboot.pod</a></dt>
  <dd>A tutorial for beginners on object-oriented Perl.</dd>
  <dt id="perlcompile.pod"><a class="permalink" href="#perlcompile.pod">perlcompile.pod</a></dt>
  <dd>An introduction to using the Perl Compiler suite.</dd>
  <dt id="perldbmfilter.pod"><a class="permalink" href="#perldbmfilter.pod">perldbmfilter.pod</a></dt>
  <dd>A howto document on using the DBM filter facility.</dd>
  <dt id="perldebug.pod"><a class="permalink" href="#perldebug.pod">perldebug.pod</a></dt>
  <dd>All material unrelated to running the Perl debugger, plus all low-level
      guts-like details that risked crushing the casual user of the debugger,
      have been relocated from the old manpage to the next entry below.</dd>
  <dt id="perldebguts.pod"><a class="permalink" href="#perldebguts.pod">perldebguts.pod</a></dt>
  <dd>This new manpage contains excessively low-level material not related to
      the Perl debugger, but slightly related to debugging Perl itself. It also
      contains some arcane internal details of how the debugging process works
      that may only be of interest to developers of Perl debuggers.</dd>
  <dt id="perlfork.pod"><a class="permalink" href="#perlfork.pod">perlfork.pod</a></dt>
  <dd>Notes on the <b>fork()</b> emulation currently available for the Windows
      platform.</dd>
  <dt id="perlfilter.pod"><a class="permalink" href="#perlfilter.pod">perlfilter.pod</a></dt>
  <dd>An introduction to writing Perl source filters.</dd>
  <dt id="perlhack.pod"><a class="permalink" href="#perlhack.pod">perlhack.pod</a></dt>
  <dd>Some guidelines for hacking the Perl source code.</dd>
  <dt id="perlintern.pod"><a class="permalink" href="#perlintern.pod">perlintern.pod</a></dt>
  <dd>A list of internal functions in the Perl source code. (List is currently
      empty.)</dd>
  <dt id="perllexwarn.pod"><a class="permalink" href="#perllexwarn.pod">perllexwarn.pod</a></dt>
  <dd>Introduction and reference information about lexically scoped warning
      categories.</dd>
  <dt id="perlnumber.pod"><a class="permalink" href="#perlnumber.pod">perlnumber.pod</a></dt>
  <dd>Detailed information about numbers as they are represented in Perl.</dd>
  <dt id="perlopentut.pod"><a class="permalink" href="#perlopentut.pod">perlopentut.pod</a></dt>
  <dd>A tutorial on using <b>open()</b> effectively.</dd>
  <dt id="perlreftut.pod"><a class="permalink" href="#perlreftut.pod">perlreftut.pod</a></dt>
  <dd>A tutorial that introduces the essentials of references.</dd>
  <dt id="perltootc.pod"><a class="permalink" href="#perltootc.pod">perltootc.pod</a></dt>
  <dd>A tutorial on managing class data for object modules.</dd>
  <dt id="perltodo.pod"><a class="permalink" href="#perltodo.pod">perltodo.pod</a></dt>
  <dd>Discussion of the most often wanted features that may someday be supported
      in Perl.</dd>
  <dt id="perlunicode.pod"><a class="permalink" href="#perlunicode.pod">perlunicode.pod</a></dt>
  <dd>An introduction to Unicode support features in Perl.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="Performance_enhancements"><a class="permalink" href="#Performance_enhancements">Performance
  enhancements</a></h1>
<section class="Ss">
<h2 class="Ss" id="Simple_"><a class="permalink" href="#Simple_">Simple
  <b>sort()</b> using { $a &lt;=&gt; $b } and the like are optimized</a></h2>
<p class="Pp">Many common <b>sort()</b> operations using a simple inlined block
    are now optimized for faster performance.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Optimized_assignments_to_lexical_variables"><a class="permalink" href="#Optimized_assignments_to_lexical_variables">Optimized
  assignments to lexical variables</a></h2>
<p class="Pp">Certain operations in the RHS of assignment statements have been
    optimized to directly set the lexical variable on the LHS, eliminating
    redundant copying overheads.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Faster_subroutine_calls"><a class="permalink" href="#Faster_subroutine_calls">Faster
  subroutine calls</a></h2>
<p class="Pp">Minor changes in how subroutine calls are handled internally
    provide marginal improvements in performance.</p>
</section>
<section class="Ss">
<h2 class="Ss"><b>delete()</b>, <b>each()</b>, <b>values()</b> and hash
  iteration are faster</h2>
<p class="Pp">The hash values returned by <b>delete()</b>, <b>each()</b>,
    <b>values()</b> and hashes in a list context are the actual values in the
    hash, instead of copies. This results in significantly better performance,
    because it eliminates needless copying in most situations.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Installation_and_Configuration_Improvements"><a class="permalink" href="#Installation_and_Configuration_Improvements">Installation
  and Configuration Improvements</a></h1>
<section class="Ss">
<h2 class="Ss">-Dusethreads means something different</h2>
<p class="Pp">The -Dusethreads flag now enables the experimental
    interpreter-based thread support by default. To get the flavor of
    experimental threads that was in 5.005 instead, you need to run Configure
    with &quot;-Dusethreads -Duse5005threads&quot;.</p>
<p class="Pp">As of v5.6.0, interpreter-threads support is still lacking a way
    to create new threads from Perl (i.e., <span class="Li">&quot;use
    Thread;&quot;</span> will not work with interpreter threads).
    <span class="Li">&quot;use Thread;&quot;</span> continues to be available
    when you specify the -Duse5005threads option to Configure, bugs and all.</p>
<p class="Pp"></p>
<pre>
    NOTE: Support for threads continues to be an experimental feature.
    Interfaces and implementation are subject to sudden and drastic changes.
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="New_Configure_flags"><a class="permalink" href="#New_Configure_flags">New
  Configure flags</a></h2>
<p class="Pp">The following new flags may be enabled on the Configure command
    line by running Configure with
  <span class="Li">&quot;-Dflag&quot;</span>.</p>
<p class="Pp"></p>
<pre>
    usemultiplicity
    usethreads useithreads      (new interpreter threads: no Perl API yet)
    usethreads use5005threads   (threads as they were in 5.005)

    use64bitint                 (equal to now deprecated 'use64bits')
    use64bitall

    uselongdouble
    usemorebits
    uselargefiles
    usesocks                    (only SOCKS v5 supported)
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Threadedness_and_64"><a class="permalink" href="#Threadedness_and_64">Threadedness
  and 64-bitness now more daring</a></h2>
<p class="Pp">The Configure options enabling the use of threads and the use of
    64-bitness are now more daring in the sense that they no more have an
    explicit list of operating systems of known threads/64-bit capabilities. In
    other words: if your operating system has the necessary APIs and datatypes,
    you should be able just to go ahead and use them, for threads by Configure
    -Dusethreads, and for 64 bits either explicitly by Configure -Duse64bitint
    or implicitly if your system has 64-bit wide datatypes. See also
    &quot;64-bit support&quot;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Long_Doubles"><a class="permalink" href="#Long_Doubles">Long
  Doubles</a></h2>
<p class="Pp">Some platforms have &quot;long doubles&quot;, floating point
    numbers of even larger range than ordinary &quot;doubles&quot;. To enable
    using long doubles for Perl's scalars, use -Duselongdouble.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Dusemorebits"><a class="permalink" href="#Dusemorebits">-Dusemorebits</a></h2>
<p class="Pp">You can enable both -Duse64bitint and -Duselongdouble with
    -Dusemorebits. See also &quot;64-bit support&quot;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Duselargefiles"><a class="permalink" href="#Duselargefiles">-Duselargefiles</a></h2>
<p class="Pp">Some platforms support system APIs that are capable of handling
    large files (typically, files larger than two gigabytes). Perl will try to
    use these APIs if you ask for -Duselargefiles.</p>
<p class="Pp">See &quot;Large file support&quot; for more information.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="installusrbinperl"><a class="permalink" href="#installusrbinperl">installusrbinperl</a></h2>
<p class="Pp">You can use &quot;Configure -Uinstallusrbinperl&quot; which causes
    installperl to skip installing perl also as /usr/bin/perl. This is useful if
    you prefer not to modify /usr/bin for some reason or another but harmful
    because many scripts assume to find Perl in /usr/bin/perl.</p>
</section>
<section class="Ss">
<h2 class="Ss">SOCKS support</h2>
<p class="Pp">You can use &quot;Configure -Dusesocks&quot; which causes Perl to
    probe for the SOCKS proxy protocol library (v5, not v4). For more
    information on SOCKS, see:</p>
<p class="Pp"></p>
<pre>
    http://www.socks.nec.com/
</pre>
</section>
<section class="Ss">
<h2 class="Ss">&quot;-A&quot; flag</h2>
<p class="Pp">You can &quot;post-edit&quot; the Configure variables using the
    Configure <span class="Li">&quot;-A&quot;</span> switch. The editing happens
    immediately after the platform specific hints files have been processed but
    before the actual configuration process starts. Run
    <span class="Li">&quot;Configure -h&quot;</span> to find out the full
    <span class="Li">&quot;-A&quot;</span> syntax.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Enhanced_Installation_Directories"><a class="permalink" href="#Enhanced_Installation_Directories">Enhanced
  Installation Directories</a></h2>
<p class="Pp">The installation structure has been enriched to improve the
    support for maintaining multiple versions of perl, to provide locations for
    vendor-supplied modules, scripts, and manpages, and to ease maintenance of
    locally-added modules, scripts, and manpages. See the section on
    Installation Directories in the INSTALL file for complete details. For most
    users building and installing from source, the defaults should be fine.</p>
<p class="Pp">If you previously used <span class="Li">&quot;Configure
    -Dsitelib&quot;</span> or <span class="Li">&quot;-Dsitearch&quot;</span> to
    set special values for library directories, you might wish to consider using
    the new <span class="Li">&quot;-Dsiteprefix&quot;</span> setting instead.
    Also, if you wish to re-use a config.sh file from an earlier version of
    perl, you should be sure to check that Configure makes sensible choices for
    the new directories. See INSTALL for complete details.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="gcc_automatically_tried_if_'cc'_does_not_seem_to_be_working"><a class="permalink" href="#gcc_automatically_tried_if_'cc'_does_not_seem_to_be_working">gcc
  automatically tried if 'cc' does not seem to be working</a></h2>
<p class="Pp">In many platforms the vendor-supplied 'cc' is too stripped-down to
    build Perl (basically, the 'cc' doesn't do ANSI C). If this seems to be the
    case and the 'cc' does not seem to be the GNU C compiler 'gcc', an automatic
    attempt is made to find and use 'gcc' instead.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Platform_specific_changes"><a class="permalink" href="#Platform_specific_changes">Platform
  specific changes</a></h1>
<section class="Ss">
<h2 class="Ss" id="Supported_platforms"><a class="permalink" href="#Supported_platforms">Supported
  platforms</a></h2>
<ul class="Bl-bullet">
  <li>The Mach CThreads (NEXTSTEP, OPENSTEP) are now supported by the Thread
      extension.</li>
  <li>GNU/Hurd is now supported.</li>
  <li>Rhapsody/Darwin is now supported.</li>
  <li>EPOC is now supported (on Psion 5).</li>
  <li>The cygwin port (formerly cygwin32) has been greatly improved.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss">DOS</h2>
<ul class="Bl-bullet">
  <li>Perl now works with djgpp 2.02 (and 2.03 alpha).</li>
  <li>Environment variable names are not converted to uppercase any more.</li>
  <li>Incorrect exit codes from backticks have been fixed.</li>
  <li>This port continues to use its own builtin globbing (not File::Glob).</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss">OS390 (OpenEdition MVS)</h2>
<p class="Pp">Support for this EBCDIC platform has not been renewed in this
    release. There are difficulties in reconciling Perl's standardization on
    UTF-8 as its internal representation for characters with the EBCDIC
    character set, because the two are incompatible.</p>
<p class="Pp">It is unclear whether future versions will renew support for this
    platform, but the possibility exists.</p>
</section>
<section class="Ss">
<h2 class="Ss">VMS</h2>
<p class="Pp">Numerous revisions and extensions to configuration, build,
    testing, and installation process to accommodate core changes and
    VMS-specific options.</p>
<p class="Pp">Expand <span class="Li">%ENV</span>-handling code to allow runtime
    mapping to logical names, CLI symbols, and CRTL environ array.</p>
<p class="Pp">Extension of subprocess invocation code to accept filespecs as
    command &quot;verbs&quot;.</p>
<p class="Pp">Add to Perl command line processing the ability to use default
    file types and to recognize Unix-style
    <span class="Li">&quot;2&gt;&amp;1&quot;</span>.</p>
<p class="Pp">Expansion of File::Spec::VMS routines, and integration into
    ExtUtils::MM_VMS.</p>
<p class="Pp">Extension of ExtUtils::MM_VMS to handle complex extensions more
    flexibly.</p>
<p class="Pp">Barewords at start of Unix-syntax paths may be treated as text
    rather than only as logical names.</p>
<p class="Pp">Optional secure translation of several logical names used
    internally by Perl.</p>
<p class="Pp">Miscellaneous bugfixing and porting of new core code to VMS.</p>
<p class="Pp">Thanks are gladly extended to the many people who have contributed
    VMS patches, testing, and ideas.</p>
</section>
<section class="Ss">
<h2 class="Ss">Win32</h2>
<p class="Pp">Perl can now emulate <b>fork()</b> internally, using multiple
    interpreters running in different concurrent threads. This support must be
    enabled at build time. See perlfork for detailed information.</p>
<p class="Pp">When given a pathname that consists only of a drivename, such as
    <span class="Li">&quot;A:&quot;</span>, <b>opendir()</b> and <b>stat()</b>
    now use the current working directory for the drive rather than the drive
    root.</p>
<p class="Pp">The builtin XSUB functions in the Win32:: namespace are
    documented. See Win32.</p>
<p class="Pp">$^X now contains the full path name of the running executable.</p>
<p class="Pp">A <b>Win32::GetLongPathName()</b> function is provided to
    complement <b>Win32::GetFullPathName()</b> and
    <b>Win32::GetShortPathName()</b>. See Win32.</p>
<p class="Pp"><b>POSIX::uname()</b> is supported.</p>
<p class="Pp">system(1,...) now returns true process IDs rather than process
    handles. <b>kill()</b> accepts any real process id, rather than strictly
    return values from system(1,...).</p>
<p class="Pp">For better compatibility with Unix, <span class="Li">&quot;kill(0,
    $pid)&quot;</span> can now be used to test whether a process exists.</p>
<p class="Pp">The <span class="Li">&quot;Shell&quot;</span> module is
  supported.</p>
<p class="Pp">Better support for building Perl under command.com in Windows 95
    has been added.</p>
<p class="Pp">Scripts are read in binary mode by default to allow ByteLoader
    (and the filter mechanism in general) to work properly. For compatibility,
    the DATA filehandle will be set to text mode if a carriage return is
    detected at the end of the line containing the __END__ or __DATA__ token; if
    not, the DATA filehandle will be left open in binary mode. Earlier versions
    always opened the DATA filehandle in text mode.</p>
<p class="Pp">The <b>glob()</b> operator is implemented via the
    <span class="Li">&quot;File::Glob&quot;</span> extension, which supports
    glob syntax of the C shell. This increases the flexibility of the
    <b>glob()</b> operator, but there may be compatibility issues for programs
    that relied on the older globbing syntax. If you want to preserve
    compatibility with the older syntax, you might want to run perl with
    <span class="Li">&quot;-MFile::DosGlob&quot;</span>. For details and
    compatibility information, see File::Glob.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Significant_bug_fixes"><a class="permalink" href="#Significant_bug_fixes">Significant
  bug fixes</a></h1>
<section class="Ss">
<h2 class="Ss" id="_"><a class="permalink" href="#_">&lt;HANDLE&gt; on empty
  files</a></h2>
<p class="Pp">With <span class="Li">$/</span> set to
    <span class="Li">&quot;undef&quot;</span>, &quot;slurping&quot; an empty
    file returns a string of zero length (instead of
    <span class="Li">&quot;undef&quot;</span>, as it used to) the first time the
    HANDLE is read after <span class="Li">$/</span> is set to
    <span class="Li">&quot;undef&quot;</span>. Further reads yield
    <span class="Li">&quot;undef&quot;</span>.</p>
<p class="Pp">This means that the following will append &quot;foo&quot; to an
    empty file (it used to do nothing):</p>
<p class="Pp"></p>
<pre>
    perl -0777 -pi -e 's/^/foo/' empty_file
</pre>
<p class="Pp">The behaviour of:</p>
<p class="Pp"></p>
<pre>
    perl -pi -e 's/^/foo/' empty_file
</pre>
<p class="Pp">is unchanged (it continues to leave the file empty).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_eval_"><a class="permalink" href="#_eval_">&quot;eval
  '...'&quot; improvements</a></h2>
<p class="Pp">Line numbers (as reflected by <b>caller()</b> and most
    diagnostics) within <span class="Li">&quot;eval '...'&quot;</span> were
    often incorrect where here documents were involved. This has been
  corrected.</p>
<p class="Pp">Lexical lookups for variables appearing in
    <span class="Li">&quot;eval '...'&quot;</span> within functions that were
    themselves called within an <span class="Li">&quot;eval '...'&quot;</span>
    were searching the wrong place for lexicals. The lexical search now
    correctly ends at the subroutine's block boundary.</p>
<p class="Pp">The use of <span class="Li">&quot;return&quot;</span> within
    <span class="Li">&quot;eval {...}&quot;</span> caused $@ not to be reset
    correctly when no exception occurred within the eval. This has been
  fixed.</p>
<p class="Pp">Parsing of here documents used to be flawed when they appeared as
    the replacement expression in <span class="Li">&quot;eval
    's/.../.../e'&quot;</span>. This has been fixed.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="All_compilation_errors_are_true_errors"><a class="permalink" href="#All_compilation_errors_are_true_errors">All
  compilation errors are true errors</a></h2>
<p class="Pp">Some &quot;errors&quot; encountered at compile time were by
    necessity generated as warnings followed by eventual termination of the
    program. This enabled more such errors to be reported in a single run,
    rather than causing a hard stop at the first error that was encountered.</p>
<p class="Pp">The mechanism for reporting such errors has been reimplemented to
    queue compile-time errors and report them at the end of the compilation as
    true errors rather than as warnings. This fixes cases where error messages
    leaked through in the form of warnings when code was compiled at run time
    using <span class="Li">&quot;eval STRING&quot;</span>, and also allows such
    errors to be reliably trapped using <span class="Li">&quot;eval
    &quot;...&quot;&quot;</span>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Implicitly_closed_filehandles_are_safer"><a class="permalink" href="#Implicitly_closed_filehandles_are_safer">Implicitly
  closed filehandles are safer</a></h2>
<p class="Pp">Sometimes implicitly closed filehandles (as when they are
    localized, and Perl automatically closes them on exiting the scope) could
    inadvertently set $? or $!. This has been corrected.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Behavior_of_list_slices_is_more_consistent"><a class="permalink" href="#Behavior_of_list_slices_is_more_consistent">Behavior
  of list slices is more consistent</a></h2>
<p class="Pp">When taking a slice of a literal list (as opposed to a slice of an
    array or hash), Perl used to return an empty list if the result happened to
    be composed of all undef values.</p>
<p class="Pp">The new behavior is to produce an empty list if (and only if) the
    original list was empty. Consider the following example:</p>
<p class="Pp"></p>
<pre>
    @a = (1,undef,undef,2)[2,1,2];
</pre>
<p class="Pp">The old behavior would have resulted in <span class="Li">@a</span>
    having no elements. The new behavior ensures it has three undefined
    elements.</p>
<p class="Pp">Note in particular that the behavior of slices of the following
    cases remains unchanged:</p>
<p class="Pp"></p>
<pre>
    @a = ()[1,2];
    @a = (getpwent)[7,0];
    @a = (anything_returning_empty_list())[2,1,2];
    @a = @b[2,1,2];
    @a = @c{'a','b','c'};
</pre>
<p class="Pp">See perldata.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_("><a class="permalink" href="#_(">&quot;(\$)&quot;
  prototype and $foo{a}</a></h2>
<p class="Pp">A scalar reference prototype now correctly allows a hash or array
    element in that slot.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_goto_&amp;sub__and_"><a class="permalink" href="#_goto_&amp;sub__and_">&quot;goto
  &amp;sub&quot; and AUTOLOAD</a></h2>
<p class="Pp">The <span class="Li">&quot;goto &amp;sub&quot;</span> construct
    works correctly when <span class="Li">&amp;sub</span> happens to be
    autoloaded.</p>
</section>
<section class="Ss">
<h2 class="Ss">&quot;-bareword&quot; allowed under &quot;use integer&quot;</h2>
<p class="Pp">The autoquoting of barewords preceded by
    <span class="Li">&quot;-&quot;</span> did not work in prior versions when
    the <span class="Li">&quot;integer&quot;</span> pragma was enabled. This has
    been fixed.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Failures_in_"><a class="permalink" href="#Failures_in_">Failures
  in <b>DESTROY()</b></a></h2>
<p class="Pp">When code in a destructor threw an exception, it went unnoticed in
    earlier versions of Perl, unless someone happened to be looking in $@ just
    after the point the destructor happened to run. Such failures are now
    visible as warnings when warnings are enabled.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Locale_bugs_fixed"><a class="permalink" href="#Locale_bugs_fixed">Locale
  bugs fixed</a></h2>
<p class="Pp"><b>printf()</b> and <b>sprintf()</b> previously reset the numeric
    locale back to the default &quot;C&quot; locale. This has been fixed.</p>
<p class="Pp">Numbers formatted according to the local numeric locale (such as
    using a decimal comma instead of a decimal dot) caused &quot;isn't
    numeric&quot; warnings, even while the operations accessing those numbers
    produced correct results. These warnings have been discontinued.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Memory_leaks"><a class="permalink" href="#Memory_leaks">Memory
  leaks</a></h2>
<p class="Pp">The <span class="Li">&quot;eval 'return sub {...}'&quot;</span>
    construct could sometimes leak memory. This has been fixed.</p>
<p class="Pp">Operations that aren't filehandle constructors used to leak memory
    when used on invalid filehandles. This has been fixed.</p>
<p class="Pp">Constructs that modified <span class="Li">@_</span> could fail to
    deallocate values in <span class="Li">@_</span> and thus leak memory. This
    has been corrected.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Spurious_subroutine_stubs_after_failed_subroutine_calls"><a class="permalink" href="#Spurious_subroutine_stubs_after_failed_subroutine_calls">Spurious
  subroutine stubs after failed subroutine calls</a></h2>
<p class="Pp">Perl could sometimes create empty subroutine stubs when a
    subroutine was not found in the package. Such cases stopped later method
    lookups from progressing into base packages. This has been corrected.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Taint_failures_under__"><a class="permalink" href="#Taint_failures_under__">Taint
  failures under &quot;-U&quot;</a></h2>
<p class="Pp">When running in unsafe mode, taint violations could sometimes
    cause silent failures. This has been fixed.</p>
</section>
<section class="Ss">
<h2 class="Ss">END blocks and the &quot;-c&quot; switch</h2>
<p class="Pp">Prior versions used to run BEGIN <b>and</b> END blocks when Perl
    was run in compile-only mode. Since this is typically not the expected
    behavior, END blocks are not executed anymore when the
    <span class="Li">&quot;-c&quot;</span> switch is used, or if compilation
    fails.</p>
<p class="Pp">See &quot;Support for CHECK blocks&quot; for how to run things
    when the compile phase ends.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Potential_to_leak_"><a class="permalink" href="#Potential_to_leak_">Potential
  to leak DATA filehandles</a></h2>
<p class="Pp">Using the <span class="Li">&quot;__DATA__&quot;</span> token
    creates an implicit filehandle to the file that contains the token. It is
    the program's responsibility to close it when it is done reading from
  it.</p>
<p class="Pp">This caveat is now better explained in the documentation. See
    perldata.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="New_or_Changed_Diagnostics"><a class="permalink" href="#New_or_Changed_Diagnostics">New
  or Changed Diagnostics</a></h1>
<dl class="Bl-tag">
  <dt>&quot;%s&quot; variable %s masks earlier declaration in same %s</dt>
  <dd>(W misc) A &quot;my&quot; or &quot;our&quot; variable has been redeclared
      in the current scope or statement, effectively eliminating all access to
      the previous instance. This is almost always a typographical error. Note
      that the earlier variable will still exist until the end of the scope or
      until all closure referents to it are destroyed.</dd>
  <dt>&quot;my sub&quot; not yet implemented</dt>
  <dd>(F) Lexically scoped subroutines are not yet implemented. Don't try that
      yet.</dd>
  <dt>&quot;our&quot; variable %s redeclared</dt>
  <dd>(W misc) You seem to have already declared the same global once before in
      the current lexical scope.</dd>
  <dt>'!' allowed only after types %s</dt>
  <dd>(F) The '!' is allowed in <b>pack()</b> and <b>unpack()</b> only after
      certain types. See &quot;pack&quot; in perlfunc.</dd>
  <dt>/ cannot take a count</dt>
  <dd>(F) You had an unpack template indicating a counted-length string, but you
      have also specified an explicit size for the string. See &quot;pack&quot;
      in perlfunc.</dd>
  <dt>/ must be followed by a, A or Z</dt>
  <dd>(F) You had an unpack template indicating a counted-length string, which
      must be followed by one of the letters a, A or Z to indicate what sort of
      string is to be unpacked. See &quot;pack&quot; in perlfunc.</dd>
  <dt>/ must be followed by a*, A* or Z*</dt>
  <dd>(F) You had a pack template indicating a counted-length string, Currently
      the only things that can have their length counted are a*, A* or Z*. See
      &quot;pack&quot; in perlfunc.</dd>
  <dt>/ must follow a numeric type</dt>
  <dd>(F) You had an unpack template that contained a '#', but this did not
      follow some numeric unpack specification. See &quot;pack&quot; in
      perlfunc.</dd>
  <dt>/%s/: Unrecognized escape \\%c passed through</dt>
  <dd>(W regexp) You used a backslash-character combination which is not
      recognized by Perl. This combination appears in an interpolated variable
      or a <span class="Li">&quot;'&quot;</span>-delimited regular expression.
      The character was understood literally.</dd>
  <dt>/%s/: Unrecognized escape \\%c in character class passed through</dt>
  <dd>(W regexp) You used a backslash-character combination which is not
      recognized by Perl inside character classes. The character was understood
      literally.</dd>
  <dt>/%s/ should probably be written as &quot;%s&quot;</dt>
  <dd>(W syntax) You have used a pattern where Perl expected to find a string,
      as in the first argument to <span class="Li">&quot;join&quot;</span>. Perl
      will treat the true or false result of matching the pattern against
      <span class="Li">$_</span> as the string, which is probably not what you
      had in mind.</dd>
  <dt>%s() called too early to check prototype</dt>
  <dd>(W prototype) You've called a function that has a prototype before the
      parser saw a definition or declaration for it, and Perl could not check
      that the call conforms to the prototype. You need to either add an early
      prototype declaration for the subroutine in question, or move the
      subroutine definition ahead of the call to get proper prototype checking.
      Alternatively, if you are certain that you're calling the function
      correctly, you may put an ampersand before the name to avoid the warning.
      See perlsub.</dd>
  <dt>%s argument is not a HASH or ARRAY element</dt>
  <dd>(F) The argument to <b>exists()</b> must be a hash or array element, such
      as:
    <p class="Pp"></p>
    <pre>
    $foo{$bar}
    $ref-&gt;{&quot;susie&quot;}[12]
    </pre>
  </dd>
  <dt>%s argument is not a HASH or ARRAY element or slice</dt>
  <dd>(F) The argument to <b>delete()</b> must be either a hash or array
      element, such as:
    <p class="Pp"></p>
    <pre>
    $foo{$bar}
    $ref-&gt;{&quot;susie&quot;}[12]
    </pre>
    <p class="Pp">or a hash or array slice, such as:</p>
    <p class="Pp"></p>
    <pre>
    @foo[$bar, $baz, $xyzzy]
    @{$ref-&gt;[12]}{&quot;susie&quot;, &quot;queue&quot;}
    </pre>
  </dd>
  <dt>%s argument is not a subroutine name</dt>
  <dd>(F) The argument to <b>exists()</b> for <span class="Li">&quot;exists
      &amp;sub&quot;</span> must be a subroutine name, and not a subroutine
      call. <span class="Li">&quot;exists &amp;sub()&quot;</span> will generate
      this error.</dd>
  <dt>%s package attribute may clash with future reserved word: %s</dt>
  <dd>(W reserved) A lowercase attribute name was used that had a
      package-specific handler. That name might have a meaning to Perl itself
      some day, even though it doesn't yet. Perhaps you should use a mixed-case
      attribute name, instead. See attributes.</dd>
  <dt>(in cleanup) %s</dt>
  <dd>(W misc) This prefix usually indicates that a <b>DESTROY()</b> method
      raised the indicated exception. Since destructors are usually called by
      the system at arbitrary points during execution, and often a vast number
      of times, the warning is issued only once for any number of failures that
      would otherwise result in the same message being repeated.
    <p class="Pp">Failure of user callbacks dispatched using the
        <span class="Li">&quot;G_KEEPERR&quot;</span> flag could also result in
        this warning. See &quot;G_KEEPERR&quot; in perlcall.</p>
  </dd>
  <dt>&lt;&gt; should be quotes</dt>
  <dd>(F) You wrote <span class="Li">&quot;require &lt;file&gt;&quot;</span>
      when you should have written <span class="Li">&quot;require
      'file'&quot;</span>.</dd>
  <dt id="Attempt"><a class="permalink" href="#Attempt">Attempt to join
    self</a></dt>
  <dd>(F) You tried to join a thread from within itself, which is an impossible
      task. You may be joining the wrong thread, or you may need to move the
      <b>join()</b> to some other thread.</dd>
  <dt id="Bad"><a class="permalink" href="#Bad">Bad evalled substitution
    pattern</a></dt>
  <dd>(F) You've used the /e switch to evaluate the replacement for a
      substitution, but perl found a syntax error in the code to evaluate, most
      likely an unexpected right brace '}'.</dd>
  <dt id="Bad~2"><a class="permalink" href="#Bad~2">Bad <b>realloc()</b>
    ignored</a></dt>
  <dd>(S) An internal routine called <b>realloc()</b> on something that had
      never been <b>malloc()</b>ed in the first place. Mandatory, but can be
      disabled by setting environment variable
      <span class="Li">&quot;PERL_BADFREE&quot;</span> to 1.</dd>
  <dt id="Bareword"><a class="permalink" href="#Bareword">Bareword found in
    conditional</a></dt>
  <dd>(W bareword) The compiler found a bareword where it expected a
      conditional, which often indicates that an || or &amp;&amp; was parsed as
      part of the last argument of the previous construct, for example:
    <p class="Pp"></p>
    <pre>
    open FOO || die;
    </pre>
    <p class="Pp">It may also indicate a misspelled constant that has been
        interpreted as a bareword:</p>
    <p class="Pp"></p>
    <pre>
    use constant TYPO =&gt; 1;
    if (TYOP) { print &quot;foo&quot; }
    </pre>
    <p class="Pp">The <span class="Li">&quot;strict&quot;</span> pragma is
        useful in avoiding such errors.</p>
  </dd>
  <dt id="Binary"><a class="permalink" href="#Binary">Binary number &gt;
    0b11111111111111111111111111111111 non-portable</a></dt>
  <dd>(W portable) The binary number you specified is larger than 2**32-1
      (4294967295) and therefore non-portable between systems. See perlport for
      more on portability concerns.</dd>
  <dt id="Bit"><a class="permalink" href="#Bit">Bit vector size &gt; 32
    non-portable</a></dt>
  <dd>(W portable) Using bit vector sizes larger than 32 is non-portable.</dd>
  <dt id="Buffer"><a class="permalink" href="#Buffer">Buffer overflow in
    prime_env_iter: %s</a></dt>
  <dd>(W internal) A warning peculiar to VMS. While Perl was preparing to
      iterate over <span class="Li">%ENV</span>, it encountered a logical name
      or symbol definition which was too long, so it was truncated to the string
      shown.</dd>
  <dt id="Can't"><a class="permalink" href="#Can't">Can't check filesystem of
    script &quot;%s&quot;</a></dt>
  <dd>(P) For some reason you can't check the filesystem of the script for
      nosuid.</dd>
  <dt id="Can't~2"><a class="permalink" href="#Can't~2">Can't declare class for
    non-scalar %s in &quot;%s&quot;</a></dt>
  <dd>(S) Currently, only scalar variables can declared with a specific class
      qualifier in a &quot;my&quot; or &quot;our&quot; declaration. The
      semantics may be extended for other types of variables in future.</dd>
  <dt id="Can't~3"><a class="permalink" href="#Can't~3">Can't declare %s in
    &quot;%s&quot;</a></dt>
  <dd>(F) Only scalar, array, and hash variables may be declared as
      &quot;my&quot; or &quot;our&quot; variables. They must have ordinary
      identifiers as names.</dd>
  <dt id="Can't~4"><a class="permalink" href="#Can't~4">Can't ignore signal
    CHLD, forcing to default</a></dt>
  <dd>(W signal) Perl has detected that it is being run with the SIGCHLD signal
      (sometimes known as SIGCLD) disabled. Since disabling this signal will
      interfere with proper determination of exit status of child processes,
      Perl has reset the signal to its default value. This situation typically
      indicates that the parent program under which Perl may be running (e.g.,
      cron) is being very careless.</dd>
  <dt id="Can't~5"><a class="permalink" href="#Can't~5">Can't modify non-lvalue
    subroutine call</a></dt>
  <dd>(F) Subroutines meant to be used in lvalue context should be declared as
      such, see &quot;Lvalue subroutines&quot; in perlsub.</dd>
  <dt id="Can't~6"><a class="permalink" href="#Can't~6">Can't read CRTL
    environ</a></dt>
  <dd>(S) A warning peculiar to VMS. Perl tried to read an element of
      <span class="Li">%ENV</span> from the CRTL's internal environment array
      and discovered the array was missing. You need to figure out where your
      CRTL misplaced its environ or define <i>PERL_ENV_TABLES</i> (see perlvms)
      so that environ is not searched.</dd>
  <dt id="Can't~7"><a class="permalink" href="#Can't~7">Can't remove %s: %s,
    skipping file</a></dt>
  <dd>(S) You requested an inplace edit without creating a backup file. Perl was
      unable to remove the original file to replace it with the modified file.
      The file was left unmodified.</dd>
  <dt id="Can't~8"><a class="permalink" href="#Can't~8">Can't return %s from
    lvalue subroutine</a></dt>
  <dd>(F) Perl detected an attempt to return illegal lvalues (such as temporary
      or readonly values) from a subroutine used as an lvalue. This is not
      allowed.</dd>
  <dt id="Can't~9"><a class="permalink" href="#Can't~9">Can't weaken a
    nonreference</a></dt>
  <dd>(F) You attempted to weaken something that was not a reference. Only
      references can be weakened.</dd>
  <dt id="Character"><a class="permalink" href="#Character">Character class
    [:%s:] unknown</a></dt>
  <dd>(F) The class in the character class [: :] syntax is unknown. See
    perlre.</dd>
  <dt id="Character~2"><a class="permalink" href="#Character~2">Character class
    syntax [%s] belongs inside character classes</a></dt>
  <dd>(W unsafe) The character class constructs [: :], [= =], and [. .] go
      <i>inside</i> character classes, the [] are part of the construct, for
      example: /[012[:alpha:]345]/. Note that [= =] and [. .] are not currently
      implemented; they are simply placeholders for future extensions.</dd>
  <dt id="Constant"><a class="permalink" href="#Constant">Constant is not %s
    reference</a></dt>
  <dd>(F) A constant value (perhaps declared using the
      <span class="Li">&quot;use constant&quot;</span> pragma) is being
      dereferenced, but it amounts to the wrong type of reference. The message
      indicates the type of reference that was expected. This usually indicates
      a syntax error in dereferencing the constant value. See &quot;Constant
      Functions&quot; in perlsub and constant.</dd>
  <dt id="constant(_s):"><a class="permalink" href="#constant(_s):">constant(%s):
    %s</a></dt>
  <dd>(F) The parser found inconsistencies either while attempting to define an
      overloaded constant, or when trying to find the character name specified
      in the <span class="Li">&quot;\N{...}&quot;</span> escape. Perhaps you
      forgot to load the corresponding
      <span class="Li">&quot;overload&quot;</span> or
      <span class="Li">&quot;charnames&quot;</span> pragma? See charnames and
      overload.</dd>
  <dt id="CORE::_s"><a class="permalink" href="#CORE::_s">CORE::%s is not a
    keyword</a></dt>
  <dd>(F) The CORE:: namespace is reserved for Perl keywords.</dd>
  <dt id="defined(@array)"><a class="permalink" href="#defined(@array)">defined(@array)
    is deprecated</a></dt>
  <dd>(D) <b>defined()</b> is not usually useful on arrays because it checks for
      an undefined <i>scalar</i> value. If you want to see if the array is
      empty, just use <span class="Li">&quot;if (@array) { # not empty
      }&quot;</span> for example.</dd>
  <dt id="defined(_hash)"><a class="permalink" href="#defined(_hash)">defined(%hash)
    is deprecated</a></dt>
  <dd>(D) <b>defined()</b> is not usually useful on hashes because it checks for
      an undefined <i>scalar</i> value. If you want to see if the hash is empty,
      just use <span class="Li">&quot;if (%hash) { # not empty }&quot;</span>
      for example.</dd>
  <dt id="Did"><a class="permalink" href="#Did">Did not produce a valid
    header</a></dt>
  <dd>See Server error.</dd>
  <dt>(Did you mean &quot;local&quot; instead of &quot;our&quot;?)</dt>
  <dd>(W misc) Remember that &quot;our&quot; does not localize the declared
      global variable. You have declared it again in the same lexical scope,
      which seems superfluous.</dd>
  <dt id="Document"><a class="permalink" href="#Document">Document contains no
    data</a></dt>
  <dd>See Server error.</dd>
  <dt id="entering"><a class="permalink" href="#entering">entering effective %s
    failed</a></dt>
  <dd>(F) While under the <span class="Li">&quot;use filetest&quot;</span>
      pragma, switching the real and effective uids or gids failed.</dd>
  <dt id="false"><a class="permalink" href="#false">false [] range
    &quot;%s&quot; in regexp</a></dt>
  <dd>(W regexp) A character class range must start and end at a literal
      character, not another character class like
      <span class="Li">&quot;\d&quot;</span> or
      <span class="Li">&quot;[:alpha:]&quot;</span>. The &quot;-&quot; in your
      false range is interpreted as a literal &quot;-&quot;. Consider quoting
      the &quot;-&quot;, &quot;\-&quot;. See perlre.</dd>
  <dt id="Filehandle"><a class="permalink" href="#Filehandle">Filehandle %s
    opened only for output</a></dt>
  <dd>(W io) You tried to read from a filehandle opened only for writing. If you
      intended it to be a read/write filehandle, you needed to open it with
      &quot;+&lt;&quot; or &quot;+&gt;&quot; or &quot;+&gt;&gt;&quot; instead of
      with &quot;&lt;&quot; or nothing. If you intended only to read from the
      file, use &quot;&lt;&quot;. See &quot;open&quot; in perlfunc.</dd>
  <dt id="flock()"><a class="permalink" href="#flock()"><b>flock()</b> on closed
    filehandle %s</a></dt>
  <dd>(W closed) The filehandle you're attempting to <b>flock()</b> got itself
      closed some time before now. Check your logic flow. <b>flock()</b>
      operates on filehandles. Are you attempting to call <b>flock()</b> on a
      dirhandle by the same name?</dd>
  <dt id="Global"><a class="permalink" href="#Global">Global symbol
    &quot;%s&quot; requires explicit package name</a></dt>
  <dd>(F) You've said &quot;use strict vars&quot;, which indicates that all
      variables must either be lexically scoped (using &quot;my&quot;), declared
      beforehand using &quot;our&quot;, or explicitly qualified to say which
      package the global variable is in (using &quot;::&quot;).</dd>
  <dt id="Hexadecimal"><a class="permalink" href="#Hexadecimal">Hexadecimal
    number &gt; 0xffffffff non-portable</a></dt>
  <dd>(W portable) The hexadecimal number you specified is larger than 2**32-1
      (4294967295) and therefore non-portable between systems. See perlport for
      more on portability concerns.</dd>
  <dt id="Ill-formed"><a class="permalink" href="#Ill-formed">Ill-formed CRTL
    environ value &quot;%s&quot;</a></dt>
  <dd>(W internal) A warning peculiar to VMS. Perl tried to read the CRTL's
      internal environ array, and encountered an element without the
      <span class="Li">&quot;=&quot;</span> delimiter used to separate keys from
      values. The element is ignored.</dd>
  <dt id="Ill-formed~2"><a class="permalink" href="#Ill-formed~2">Ill-formed
    message in prime_env_iter: |%s|</a></dt>
  <dd>(W internal) A warning peculiar to VMS. Perl tried to read a logical name
      or CLI symbol definition when preparing to iterate over
      <span class="Li">%ENV</span>, and didn't see the expected delimiter
      between key and value, so the line was ignored.</dd>
  <dt id="Illegal"><a class="permalink" href="#Illegal">Illegal binary digit
    %s</a></dt>
  <dd>(F) You used a digit other than 0 or 1 in a binary number.</dd>
  <dt id="Illegal~2"><a class="permalink" href="#Illegal~2">Illegal binary digit
    %s ignored</a></dt>
  <dd>(W digit) You may have tried to use a digit other than 0 or 1 in a binary
      number. Interpretation of the binary number stopped before the offending
      digit.</dd>
  <dt id="Illegal~3"><a class="permalink" href="#Illegal~3">Illegal number of
    bits in vec</a></dt>
  <dd>(F) The number of bits in <b>vec()</b> (the third argument) must be a
      power of two from 1 to 32 (or 64, if your platform supports that).</dd>
  <dt id="Integer"><a class="permalink" href="#Integer">Integer overflow in %s
    number</a></dt>
  <dd>(W overflow) The hexadecimal, octal or binary number you have specified
      either as a literal or as an argument to <b>hex()</b> or <b>oct()</b> is
      too big for your architecture, and has been converted to a floating point
      number. On a 32-bit architecture the largest hexadecimal, octal or binary
      number representable without overflow is 0xFFFFFFFF, 037777777777, or
      0b11111111111111111111111111111111 respectively. Note that Perl
      transparently promotes all numbers to a floating point representation
      internally--subject to loss of precision errors in subsequent
    operations.</dd>
  <dt id="Invalid"><a class="permalink" href="#Invalid">Invalid %s attribute:
    %s</a></dt>
  <dd>The indicated attribute for a subroutine or variable was not recognized by
      Perl or by a user-supplied handler. See attributes.</dd>
  <dt id="Invalid~2"><a class="permalink" href="#Invalid~2">Invalid %s
    attributes: %s</a></dt>
  <dd>The indicated attributes for a subroutine or variable were not recognized
      by Perl or by a user-supplied handler. See attributes.</dd>
  <dt id="invalid"><a class="permalink" href="#invalid">invalid [] range
    &quot;%s&quot; in regexp</a></dt>
  <dd>The offending range is now explicitly displayed.</dd>
  <dt id="Invalid~3"><a class="permalink" href="#Invalid~3">Invalid separator
    character %s in attribute list</a></dt>
  <dd>(F) Something other than a colon or whitespace was seen between the
      elements of an attribute list. If the previous attribute had a
      parenthesised parameter list, perhaps that list was terminated too soon.
      See attributes.</dd>
  <dt id="Invalid~4"><a class="permalink" href="#Invalid~4">Invalid separator
    character %s in subroutine attribute list</a></dt>
  <dd>(F) Something other than a colon or whitespace was seen between the
      elements of a subroutine attribute list. If the previous attribute had a
      parenthesised parameter list, perhaps that list was terminated too
    soon.</dd>
  <dt id="leaving"><a class="permalink" href="#leaving">leaving effective %s
    failed</a></dt>
  <dd>(F) While under the <span class="Li">&quot;use filetest&quot;</span>
      pragma, switching the real and effective uids or gids failed.</dd>
  <dt id="Lvalue~2"><a class="permalink" href="#Lvalue~2">Lvalue subs returning
    %s not implemented yet</a></dt>
  <dd>(F) Due to limitations in the current implementation, array and hash
      values cannot be returned in subroutines used in lvalue context. See
      &quot;Lvalue subroutines&quot; in perlsub.</dd>
  <dt id="Method"><a class="permalink" href="#Method">Method %s not
    permitted</a></dt>
  <dd>See Server error.</dd>
  <dt id="Missing"><a class="permalink" href="#Missing">Missing %sbrace%s on
    \N{}</a></dt>
  <dd>(F) Wrong syntax of character name literal
      <span class="Li">&quot;\N{charname}&quot;</span> within double-quotish
      context.</dd>
  <dt id="Missing~2"><a class="permalink" href="#Missing~2">Missing command in
    piped open</a></dt>
  <dd>(W pipe) You used the <span class="Li">&quot;open(FH, &quot;|
      command&quot;)&quot;</span> or <span class="Li">&quot;open(FH,
      &quot;command |&quot;)&quot;</span> construction, but the command was
      missing or blank.</dd>
  <dt id="Missing~3"><a class="permalink" href="#Missing~3">Missing name in
    &quot;my sub&quot;</a></dt>
  <dd>(F) The reserved syntax for lexically scoped subroutines requires that
      they have a name with which they can be found.</dd>
  <dt id="No"><a class="permalink" href="#No">No %s specified for -%c</a></dt>
  <dd>(F) The indicated command line switch needs a mandatory argument, but you
      haven't specified one.</dd>
  <dt id="No~2"><a class="permalink" href="#No~2">No package name allowed for
    variable %s in &quot;our&quot;</a></dt>
  <dd>(F) Fully qualified variable names are not allowed in &quot;our&quot;
      declarations, because that doesn't make much sense under existing
      semantics. Such syntax is reserved for future extensions.</dd>
  <dt id="No~3"><a class="permalink" href="#No~3">No space allowed after
    -%c</a></dt>
  <dd>(F) The argument to the indicated command line switch must follow
      immediately after the switch, without intervening spaces.</dd>
  <dt id="no"><a class="permalink" href="#no">no UTC offset information;
    assuming local time is UTC</a></dt>
  <dd>(S) A warning peculiar to VMS. Perl was unable to find the local timezone
      offset, so it's assuming that local system time is equivalent to UTC. If
      it's not, define the logical name <i>SYS$TIMEZONE_DIFFERENTIAL</i> to
      translate to the number of seconds which need to be added to UTC to get
      local time.</dd>
  <dt id="Octal"><a class="permalink" href="#Octal">Octal number &gt;
    037777777777 non-portable</a></dt>
  <dd>(W portable) The octal number you specified is larger than 2**32-1
      (4294967295) and therefore non-portable between systems. See perlport for
      more on portability concerns.
    <p class="Pp">See also perlport for writing portable code.</p>
  </dd>
  <dt id="panic:"><a class="permalink" href="#panic:">panic:
    del_backref</a></dt>
  <dd>(P) Failed an internal consistency check while trying to reset a weak
      reference.</dd>
  <dt id="panic:~2"><a class="permalink" href="#panic:~2">panic: kid popen errno
    read</a></dt>
  <dd>(F) forked child returned an incomprehensible message about its
    errno.</dd>
  <dt id="panic:~3"><a class="permalink" href="#panic:~3">panic:
    magic_killbackrefs</a></dt>
  <dd>(P) Failed an internal consistency check while trying to reset all weak
      references to an object.</dd>
  <dt id="Parentheses"><a class="permalink" href="#Parentheses">Parentheses
    missing around &quot;%s&quot; list</a></dt>
  <dd>(W parenthesis) You said something like
    <p class="Pp"></p>
    <pre>
    my $foo, $bar = @_;
    </pre>
    <p class="Pp">when you meant</p>
    <p class="Pp"></p>
    <pre>
    my ($foo, $bar) = @_;
    </pre>
    <p class="Pp">Remember that &quot;my&quot;, &quot;our&quot;, and
        &quot;local&quot; bind tighter than comma.</p>
  </dd>
  <dt id="Possible"><a class="permalink" href="#Possible">Possible unintended
    interpolation of %s in string</a></dt>
  <dd>(W ambiguous) It used to be that Perl would try to guess whether you
      wanted an array interpolated or a literal @. It no longer does this;
      arrays are now <i>always</i> interpolated into strings. This means that if
      you try something like:
    <p class="Pp"></p>
    <pre>
        print &quot;fred@example.com&quot;;
    </pre>
    <p class="Pp">and the array <span class="Li">@example</span> doesn't exist,
        Perl is going to print <span class="Li">&quot;fred.com&quot;</span>,
        which is probably not what you wanted. To get a literal
        <span class="Li">&quot;@&quot;</span> sign in a string, put a backslash
        before it, just as you would to get a literal
        <span class="Li">&quot;$&quot;</span> sign.</p>
  </dd>
  <dt id="Possible~2"><a class="permalink" href="#Possible~2">Possible Y2K bug:
    %s</a></dt>
  <dd>(W y2k) You are concatenating the number 19 with another number, which
      could be a potential Year 2000 problem.</dd>
  <dt id="pragma"><a class="permalink" href="#pragma">pragma &quot;attrs&quot;
    is deprecated, use &quot;sub NAME : ATTRS&quot; instead</a></dt>
  <dd>(W deprecated) You have written something like this:
    <p class="Pp"></p>
    <pre>
    sub doit
    {
        use attrs qw(locked);
    }
    </pre>
    <p class="Pp">You should use the new declaration syntax instead.</p>
    <p class="Pp"></p>
    <pre>
    sub doit : locked
    {
        ...
    </pre>
    <p class="Pp">The <span class="Li">&quot;use attrs&quot;</span> pragma is
        now obsolete, and is only provided for backward-compatibility. See
        &quot;Subroutine Attributes&quot; in perlsub.</p>
  </dd>
  <dt id="Premature"><a class="permalink" href="#Premature">Premature end of
    script headers</a></dt>
  <dd>See Server error.</dd>
  <dt id="Repeat"><a class="permalink" href="#Repeat">Repeat count in pack
    overflows</a></dt>
  <dd>(F) You can't specify a repeat count so large that it overflows your
      signed integers. See &quot;pack&quot; in perlfunc.</dd>
  <dt id="Repeat~2"><a class="permalink" href="#Repeat~2">Repeat count in unpack
    overflows</a></dt>
  <dd>(F) You can't specify a repeat count so large that it overflows your
      signed integers. See &quot;unpack&quot; in perlfunc.</dd>
  <dt id="realloc()"><a class="permalink" href="#realloc()"><b>realloc()</b> of
    freed memory ignored</a></dt>
  <dd>(S) An internal routine called <b>realloc()</b> on something that had
      already been freed.</dd>
  <dt id="Reference"><a class="permalink" href="#Reference">Reference is already
    weak</a></dt>
  <dd>(W misc) You have attempted to weaken a reference that is already weak.
      Doing so has no effect.</dd>
  <dt id="setpgrp"><a class="permalink" href="#setpgrp">setpgrp can't take
    arguments</a></dt>
  <dd>(F) Your system has the <b>setpgrp()</b> from BSD 4.2, which takes no
      arguments, unlike POSIX <b>setpgid()</b>, which takes a process ID and
      process group ID.</dd>
  <dt id="Strange"><a class="permalink" href="#Strange">Strange *+?{} on
    zero-length expression</a></dt>
  <dd>(W regexp) You applied a regular expression quantifier in a place where it
      makes no sense, such as on a zero-width assertion. Try putting the
      quantifier inside the assertion instead. For example, the way to match
      &quot;abc&quot; provided that it is followed by three repetitions of
      &quot;xyz&quot; is
      <span class="Li">&quot;/abc(?=(?:xyz){3})/&quot;</span>, not
      <span class="Li">&quot;/abc(?=xyz){3}/&quot;</span>.</dd>
  <dt id="switching"><a class="permalink" href="#switching">switching effective
    %s is not implemented</a></dt>
  <dd>(F) While under the <span class="Li">&quot;use filetest&quot;</span>
      pragma, we cannot switch the real and effective uids or gids.</dd>
  <dt id="This"><a class="permalink" href="#This">This Perl can't reset CRTL
    environ elements (%s)</a></dt>
  <dd></dd>
  <dt id="This~2"><a class="permalink" href="#This~2">This Perl can't set CRTL
    environ elements (%s=%s)</a></dt>
  <dd>(W internal) Warnings peculiar to VMS. You tried to change or delete an
      element of the CRTL's internal environ array, but your copy of Perl wasn't
      built with a CRTL that contained the <b>setenv()</b> function. You'll need
      to rebuild Perl with a CRTL that does, or redefine <i>PERL_ENV_TABLES</i>
      (see perlvms) so that the environ array isn't the target of the change to
      <span class="Li">%ENV</span> which produced the warning.</dd>
  <dt id="Too"><a class="permalink" href="#Too">Too late to run %s
    block</a></dt>
  <dd>(W void) A CHECK or INIT block is being defined during run time proper,
      when the opportunity to run them has already passed. Perhaps you are
      loading a file with <span class="Li">&quot;require&quot;</span> or
      <span class="Li">&quot;do&quot;</span> when you should be using
      <span class="Li">&quot;use&quot;</span> instead. Or perhaps you should put
      the <span class="Li">&quot;require&quot;</span> or
      <span class="Li">&quot;do&quot;</span> inside a BEGIN block.</dd>
  <dt id="Unknown"><a class="permalink" href="#Unknown">Unknown <b>open()</b>
    mode '%s'</a></dt>
  <dd>(F) The second argument of 3-argument <b>open()</b> is not among the list
      of valid modes: <span class="Li">&quot;&lt;&quot;</span>,
      <span class="Li">&quot;&gt;&quot;</span>,
      <span class="Li">&quot;&gt;&gt;&quot;</span>,
      <span class="Li">&quot;+&lt;&quot;</span>,
      <span class="Li">&quot;+&gt;&quot;</span>,
      <span class="Li">&quot;+&gt;&gt;&quot;</span>,
      <span class="Li">&quot;-|&quot;</span>,
      <span class="Li">&quot;|-&quot;</span>.</dd>
  <dt id="Unknown~2"><a class="permalink" href="#Unknown~2">Unknown process %x
    sent message to prime_env_iter: %s</a></dt>
  <dd>(P) An error peculiar to VMS. Perl was reading values for
      <span class="Li">%ENV</span> before iterating over it, and someone else
      stuck a message in the stream of data Perl expected. Someone's very
      confused, or perhaps trying to subvert Perl's population of
      <span class="Li">%ENV</span> for nefarious purposes.</dd>
  <dt id="Unrecognized"><a class="permalink" href="#Unrecognized">Unrecognized
    escape \\%c passed through</a></dt>
  <dd>(W misc) You used a backslash-character combination which is not
      recognized by Perl. The character was understood literally.</dd>
  <dt id="Unterminated"><a class="permalink" href="#Unterminated">Unterminated
    attribute parameter in attribute list</a></dt>
  <dd>(F) The lexer saw an opening (left) parenthesis character while parsing an
      attribute list, but the matching closing (right) parenthesis character was
      not found. You may need to add (or remove) a backslash character to get
      your parentheses to balance. See attributes.</dd>
  <dt id="Unterminated~2"><a class="permalink" href="#Unterminated~2">Unterminated
    attribute list</a></dt>
  <dd>(F) The lexer found something other than a simple identifier at the start
      of an attribute, and it wasn't a semicolon or the start of a block.
      Perhaps you terminated the parameter list of the previous attribute too
      soon. See attributes.</dd>
  <dt id="Unterminated~3"><a class="permalink" href="#Unterminated~3">Unterminated
    attribute parameter in subroutine attribute list</a></dt>
  <dd>(F) The lexer saw an opening (left) parenthesis character while parsing a
      subroutine attribute list, but the matching closing (right) parenthesis
      character was not found. You may need to add (or remove) a backslash
      character to get your parentheses to balance.</dd>
  <dt id="Unterminated~4"><a class="permalink" href="#Unterminated~4">Unterminated
    subroutine attribute list</a></dt>
  <dd>(F) The lexer found something other than a simple identifier at the start
      of a subroutine attribute, and it wasn't a semicolon or the start of a
      block. Perhaps you terminated the parameter list of the previous attribute
      too soon.</dd>
  <dt id="Value"><a class="permalink" href="#Value">Value of CLI symbol
    &quot;%s&quot; too long</a></dt>
  <dd>(W misc) A warning peculiar to VMS. Perl tried to read the value of an
      <span class="Li">%ENV</span> element from a CLI symbol table, and found a
      resultant string longer than 1024 characters. The return value has been
      truncated to 1024 characters.</dd>
  <dt id="Version"><a class="permalink" href="#Version">Version number must be a
    constant number</a></dt>
  <dd>(P) The attempt to translate a <span class="Li">&quot;use Module n.n
      LIST&quot;</span> statement into its equivalent
      <span class="Li">&quot;BEGIN&quot;</span> block found an internal
      inconsistency with the version number.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="New_tests"><a class="permalink" href="#New_tests">New
  tests</a></h1>
<dl class="Bl-tag">
  <dt id="lib/attrs"><a class="permalink" href="#lib/attrs">lib/attrs</a></dt>
  <dd>Compatibility tests for <span class="Li">&quot;sub : attrs&quot;</span> vs
      the older <span class="Li">&quot;use attrs&quot;</span>.</dd>
  <dt id="lib/env"><a class="permalink" href="#lib/env">lib/env</a></dt>
  <dd>Tests for new environment scalar capability (e.g.,
      <span class="Li">&quot;use Env qw($BAR);&quot;</span>).</dd>
  <dt>lib/env-array</dt>
  <dd>Tests for new environment array capability (e.g.,
      <span class="Li">&quot;use Env qw(@PATH);&quot;</span>).</dd>
  <dt id="lib/io_const"><a class="permalink" href="#lib/io_const">lib/io_const</a></dt>
  <dd>IO constants (SEEK_*, _IO*).</dd>
  <dt id="lib/io_dir"><a class="permalink" href="#lib/io_dir">lib/io_dir</a></dt>
  <dd>Directory-related IO methods (new, read, close, rewind, tied delete).</dd>
  <dt id="lib/io_multihomed"><a class="permalink" href="#lib/io_multihomed">lib/io_multihomed</a></dt>
  <dd>INET sockets with multi-homed hosts.</dd>
  <dt id="lib/io_poll"><a class="permalink" href="#lib/io_poll">lib/io_poll</a></dt>
  <dd>IO <b>poll()</b>.</dd>
  <dt id="lib/io_unix"><a class="permalink" href="#lib/io_unix">lib/io_unix</a></dt>
  <dd>UNIX sockets.</dd>
  <dt id="op/attrs"><a class="permalink" href="#op/attrs">op/attrs</a></dt>
  <dd>Regression tests for <span class="Li">&quot;my ($x,@y,%z) :
      attrs&quot;</span> and &lt;sub : attrs&gt;.</dd>
  <dt id="op/filetest"><a class="permalink" href="#op/filetest">op/filetest</a></dt>
  <dd>File test operators.</dd>
  <dt id="op/lex_assign"><a class="permalink" href="#op/lex_assign">op/lex_assign</a></dt>
  <dd>Verify operations that access pad objects (lexicals and temporaries).</dd>
  <dt id="op/exists_sub"><a class="permalink" href="#op/exists_sub">op/exists_sub</a></dt>
  <dd>Verify <span class="Li">&quot;exists &amp;sub&quot;</span>
    operations.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="Incompatible_Changes"><a class="permalink" href="#Incompatible_Changes">Incompatible
  Changes</a></h1>
<section class="Ss">
<h2 class="Ss" id="Perl_Source_Incompatibilities"><a class="permalink" href="#Perl_Source_Incompatibilities">Perl
  Source Incompatibilities</a></h2>
<p class="Pp">Beware that any new warnings that have been added or old ones that
    have been enhanced are <b>not</b> considered incompatible changes.</p>
<p class="Pp">Since all new warnings must be explicitly requested via the
    <span class="Li">&quot;-w&quot;</span> switch or the
    <span class="Li">&quot;warnings&quot;</span> pragma, it is ultimately the
    programmer's responsibility to ensure that warnings are enabled
  judiciously.</p>
<dl class="Bl-tag">
  <dt id="CHECK"><a class="permalink" href="#CHECK">CHECK is a new
    keyword</a></dt>
  <dd>All subroutine definitions named CHECK are now special. See
      <span class="Li">&quot;/&quot;Support for CHECK blocks&quot;&quot;</span>
      for more information.</dd>
  <dt id="Treatment"><a class="permalink" href="#Treatment">Treatment of list
    slices of undef has changed</a></dt>
  <dd>There is a potential incompatibility in the behavior of list slices that
      are comprised entirely of undefined values. See &quot;Behavior of list
      slices is more consistent&quot;.</dd>
  <dt id="Format"><a class="permalink" href="#Format">Format of
    $English::PERL_VERSION is different</a></dt>
  <dd>The English module now sets <span class="Li">$PERL_VERSION</span> to $^V
      (a string value) rather than <span class="Li">$]</span> (a numeric value).
      This is a potential incompatibility. Send us a report via perlbug if you
      are affected by this.
    <p class="Pp">See &quot;Improved Perl version numbering system&quot; for the
        reasons for this change.</p>
  </dd>
  <dt id="Literals"><a class="permalink" href="#Literals">Literals of the form
    1.2.3 parse differently</a></dt>
  <dd>Previously, numeric literals with more than one dot in them were
      interpreted as a floating point number concatenated with one or more
      numbers. Such &quot;numbers&quot; are now parsed as strings composed of
      the specified ordinals.
    <p class="Pp">For example, <span class="Li">&quot;print
        97.98.99&quot;</span> used to output <span class="Li">97.9899</span> in
        earlier versions, but now prints
        <span class="Li">&quot;abc&quot;</span>.</p>
    <p class="Pp">See &quot;Support for strings represented as a vector of
        ordinals&quot;.</p>
  </dd>
  <dt id="Possibly"><a class="permalink" href="#Possibly">Possibly changed
    pseudo-random number generator</a></dt>
  <dd>Perl programs that depend on reproducing a specific set of pseudo-random
      numbers may now produce different output due to improvements made to the
      <b>rand()</b> builtin. You can use <span class="Li">&quot;sh Configure
      -Drandfunc=rand&quot;</span> to obtain the old behavior.
    <p class="Pp">See &quot;Better pseudo-random number generator&quot;.</p>
  </dd>
  <dt id="Hashing"><a class="permalink" href="#Hashing">Hashing function for
    hash keys has changed</a></dt>
  <dd>Even though Perl hashes are not order preserving, the apparently random
      order encountered when iterating on the contents of a hash is actually
      determined by the hashing algorithm used. Improvements in the algorithm
      may yield a random order that is <b>different</b> from that of previous
      versions, especially when iterating on hashes.
    <p class="Pp">See &quot;Better worst-case behavior of hashes&quot; for
        additional information.</p>
  </dd>
  <dt>&quot;undef&quot; fails on read only values</dt>
  <dd>Using the <span class="Li">&quot;undef&quot;</span> operator on a readonly
      value (such as <span class="Li">$1</span>) has the same effect as
      assigning <span class="Li">&quot;undef&quot;</span> to the readonly
      value--it throws an exception.</dd>
  <dt id="Close-on-exec"><a class="permalink" href="#Close-on-exec">Close-on-exec
    bit may be set on pipe and socket handles</a></dt>
  <dd>Pipe and socket handles are also now subject to the close-on-exec behavior
      determined by the special variable $^F.
    <p class="Pp">See &quot;More consistent close-on-exec behavior&quot;.</p>
  </dd>
  <dt id="Writing"><a class="permalink" href="#Writing">Writing &quot;$$1&quot;
    to mean &quot;${$}1&quot; is unsupported</a></dt>
  <dd>Perl 5.004 deprecated the interpretation of <span class="Li">$$1</span>
      and similar within interpolated strings to mean <span class="Li">&quot;$$
      . &quot;1&quot;&quot;</span>, but still allowed it.
    <p class="Pp">In Perl 5.6.0 and later,
        <span class="Li">&quot;$$1&quot;</span> always means
        <span class="Li">&quot;${$1}&quot;</span>.</p>
  </dd>
  <dt id="delete()"><a class="permalink" href="#delete()"><b>delete()</b>,
    <b>each()</b>, <b>values()</b> and &quot;\(%h)&quot;</a></dt>
  <dd>operate on aliases to values, not copies
    <p class="Pp"><b>delete()</b>, <b>each()</b>, <b>values()</b> and hashes
        (e.g. <span class="Li">&quot;\(%h)&quot;</span>) in a list context
        return the actual values in the hash, instead of copies (as they used to
        in earlier versions). Typical idioms for using these constructs copy the
        returned values, but this can make a significant difference when
        creating references to the returned values. Keys in the hash are still
        returned as copies when iterating on a hash.</p>
    <p class="Pp">See also &quot;<b>delete()</b>, <b>each()</b>, <b>values()</b>
        and hash iteration are faster&quot;.</p>
  </dd>
  <dt id="vec("><a class="permalink" href="#vec(">vec(EXPR,OFFSET,BITS) enforces
    powers-of-two BITS</a></dt>
  <dd><b>vec()</b> generates a run-time error if the BITS argument is not a
      valid power-of-two integer.</dd>
  <dt id="Text"><a class="permalink" href="#Text">Text of some diagnostic output
    has changed</a></dt>
  <dd>Most references to internal Perl operations in diagnostics have been
      changed to be more descriptive. This may be an issue for programs that may
      incorrectly rely on the exact text of diagnostics for proper
    functioning.</dd>
  <dt>&quot;%@&quot; has been removed</dt>
  <dd>The undocumented special variable <span class="Li">&quot;%@&quot;</span>
      that used to accumulate &quot;background&quot; errors (such as those that
      happen in <b>DESTROY()</b>) has been removed, because it could potentially
      result in memory leaks.</dd>
  <dt id="Parenthesized"><a class="permalink" href="#Parenthesized">Parenthesized
    <b>not()</b> behaves like a list operator</a></dt>
  <dd>The <span class="Li">&quot;not&quot;</span> operator now falls under the
      &quot;if it looks like a function, it behaves like a function&quot; rule.
    <p class="Pp">As a result, the parenthesized form can be used with
        <span class="Li">&quot;grep&quot;</span> and
        <span class="Li">&quot;map&quot;</span>. The following construct used to
        be a syntax error before, but it works as expected now:</p>
    <p class="Pp"></p>
    <pre>
    grep not($_), @things;
    </pre>
    <p class="Pp">On the other hand, using
        <span class="Li">&quot;not&quot;</span> with a literal list slice may
        not work. The following previously allowed construct:</p>
    <p class="Pp"></p>
    <pre>
    print not (1,2,3)[0];
    </pre>
    <p class="Pp">needs to be written with additional parentheses now:</p>
    <p class="Pp"></p>
    <pre>
    print not((1,2,3)[0]);
    </pre>
    <p class="Pp">The behavior remains unaffected when
        <span class="Li">&quot;not&quot;</span> is not followed by
      parentheses.</p>
  </dd>
  <dt id="Semantics"><a class="permalink" href="#Semantics">Semantics of
    bareword prototype &quot;(*)&quot; have changed</a></dt>
  <dd>The semantics of the bareword prototype
      <span class="Li">&quot;*&quot;</span> have changed. Perl 5.005 always
      coerced simple scalar arguments to a typeglob, which wasn't useful in
      situations where the subroutine must distinguish between a simple scalar
      and a typeglob. The new behavior is to not coerce bareword arguments to a
      typeglob. The value will always be visible as either a simple scalar or as
      a reference to a typeglob.
    <p class="Pp">See &quot;More functional bareword prototype (*)&quot;.</p>
  </dd>
  <dt id="Semantics~2"><a class="permalink" href="#Semantics~2">Semantics of bit
    operators may have changed on 64-bit platforms</a></dt>
  <dd>If your platform is either natively 64-bit or if Perl has been configured
      to used 64-bit integers, i.e., <span class="Li">$Config</span>{ivsize} is
      8, there may be a potential incompatibility in the behavior of bitwise
      numeric operators (&amp; | ^ ~ &lt;&lt; &gt;&gt;). These operators used to
      strictly operate on the lower 32 bits of integers in previous versions,
      but now operate over the entire native integral width. In particular, note
      that unary <span class="Li">&quot;~&quot;</span> will produce different
      results on platforms that have different
      <span class="Li">$Config</span>{ivsize}. For portability, be sure to mask
      off the excess bits in the result of unary
      <span class="Li">&quot;~&quot;</span>, e.g., <span class="Li">&quot;~$x
      &amp; 0xffffffff&quot;</span>.
    <p class="Pp">See &quot;Bit operators support full native integer
        width&quot;.</p>
  </dd>
  <dt id="More"><a class="permalink" href="#More">More builtins taint their
    results</a></dt>
  <dd>As described in &quot;Improved security features&quot;, there may be more
      sources of taint in a Perl program.
    <p class="Pp">To avoid these new tainting behaviors, you can build Perl with
        the Configure option
        <span class="Li">&quot;-Accflags=-DINCOMPLETE_TAINTS&quot;</span>.
        Beware that the ensuing perl binary may be insecure.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="C_Source_Incompatibilities"><a class="permalink" href="#C_Source_Incompatibilities">C
  Source Incompatibilities</a></h2>
<dl class="Bl-tag">
  <dt>&quot;PERL_POLLUTE&quot;</dt>
  <dd>Release 5.005 grandfathered old global symbol names by providing
      preprocessor macros for extension source compatibility. As of release
      5.6.0, these preprocessor definitions are not available by default. You
      need to explicitly compile perl with
      <span class="Li">&quot;-DPERL_POLLUTE&quot;</span> to get these
      definitions. For extensions still using the old symbols, this option can
      be specified via MakeMaker:
    <p class="Pp"></p>
    <pre>
    perl Makefile.PL POLLUTE=1
    </pre>
  </dd>
  <dt>&quot;PERL_IMPLICIT_CONTEXT&quot;</dt>
  <dd>This new build option provides a set of macros for all API functions such
      that an implicit interpreter/thread context argument is passed to every
      API function. As a result of this, something like
      <span class="Li">&quot;sv_setsv(foo,bar)&quot;</span> amounts to a macro
      invocation that actually translates to something like
      <span class="Li">&quot;Perl_sv_setsv(my_perl,foo,bar)&quot;</span>. While
      this is generally expected to not have any significant source
      compatibility issues, the difference between a macro and a real function
      call will need to be considered.
    <p class="Pp">This means that there <b>is</b> a source compatibility issue
        as a result of this if your extensions attempt to use pointers to any of
        the Perl API functions.</p>
    <p class="Pp">Note that the above issue is not relevant to the default build
        of Perl, whose interfaces continue to match those of prior versions (but
        subject to the other options described here).</p>
    <p class="Pp">See &quot;Background and PERL_IMPLICIT_CONTEXT&quot; in
        perlguts for detailed information on the ramifications of building Perl
        with this option.</p>
    <p class="Pp"></p>
    <pre>
    NOTE: PERL_IMPLICIT_CONTEXT is automatically enabled whenever Perl is built
    with one of -Dusethreads, -Dusemultiplicity, or both.  It is not
    intended to be enabled by users at this time.
    </pre>
  </dd>
  <dt>&quot;PERL_POLLUTE_MALLOC&quot;</dt>
  <dd>Enabling Perl's malloc in release 5.005 and earlier caused the namespace
      of the system's malloc family of functions to be usurped by the Perl
      versions, since by default they used the same names. Besides causing
      problems on platforms that do not allow these functions to be cleanly
      replaced, this also meant that the system versions could not be called in
      programs that used Perl's malloc. Previous versions of Perl have allowed
      this behaviour to be suppressed with the HIDEMYMALLOC and EMBEDMYMALLOC
      preprocessor definitions.
    <p class="Pp">As of release 5.6.0, Perl's malloc family of functions have
        default names distinct from the system versions. You need to explicitly
        compile perl with
        <span class="Li">&quot;-DPERL_POLLUTE_MALLOC&quot;</span> to get the
        older behaviour. HIDEMYMALLOC and EMBEDMYMALLOC have no effect, since
        the behaviour they enabled is now the default.</p>
    <p class="Pp">Note that these functions do <b>not</b> constitute Perl's
        memory allocation API. See &quot;Memory Allocation&quot; in perlguts for
        further information about that.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Compatible_C_Source_"><a class="permalink" href="#Compatible_C_Source_">Compatible
  C Source API Changes</a></h2>
<dl class="Bl-tag">
  <dt>&quot;PATCHLEVEL&quot; is now &quot;PERL_VERSION&quot;</dt>
  <dd>The cpp macros <span class="Li">&quot;PERL_REVISION&quot;</span>,
      <span class="Li">&quot;PERL_VERSION&quot;</span>, and
      <span class="Li">&quot;PERL_SUBVERSION&quot;</span> are now available by
      default from perl.h, and reflect the base revision, patchlevel, and
      subversion respectively. <span class="Li">&quot;PERL_REVISION&quot;</span>
      had no prior equivalent, while
      <span class="Li">&quot;PERL_VERSION&quot;</span> and
      <span class="Li">&quot;PERL_SUBVERSION&quot;</span> were previously
      available as <span class="Li">&quot;PATCHLEVEL&quot;</span> and
      <span class="Li">&quot;SUBVERSION&quot;</span>.
    <p class="Pp">The new names cause less pollution of the <b>cpp</b> namespace
        and reflect what the numbers have come to stand for in common practice.
        For compatibility, the old names are still supported when
        <i>patchlevel.h</i> is explicitly included (as required before), so
        there is no source incompatibility from the change.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Binary_Incompatibilities"><a class="permalink" href="#Binary_Incompatibilities">Binary
  Incompatibilities</a></h2>
<p class="Pp">In general, the default build of this release is expected to be
    binary compatible for extensions built with the 5.005 release or its
    maintenance versions. However, specific platforms may have broken binary
    compatibility due to changes in the defaults used in hints files. Therefore,
    please be sure to always check the platform-specific README files for any
    notes to the contrary.</p>
<p class="Pp">The usethreads or usemultiplicity builds are <b>not</b> binary
    compatible with the corresponding builds in 5.005.</p>
<p class="Pp">On platforms that require an explicit list of exports (AIX, OS/2
    and Windows, among others), purely internal symbols such as parser functions
    and the run time opcodes are not exported by default. Perl 5.005 used to
    export all functions irrespective of whether they were considered part of
    the public API or not.</p>
<p class="Pp">For the full list of public API functions, see perlapi.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Known_Problems"><a class="permalink" href="#Known_Problems">Known
  Problems</a></h1>
<section class="Ss">
<h2 class="Ss" id="Localizing_a_tied_hash_element_may_leak_memory"><a class="permalink" href="#Localizing_a_tied_hash_element_may_leak_memory">Localizing
  a tied hash element may leak memory</a></h2>
<p class="Pp">As of the 5.6.1 release, there is a known leak when code such as
    this is executed:</p>
<p class="Pp"></p>
<pre>
    use Tie::Hash;
    tie my %tie_hash =&gt; 'Tie::StdHash';

    ...

    local($tie_hash{Foo}) = 1; # leaks
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Known_test_failures"><a class="permalink" href="#Known_test_failures">Known
  test failures</a></h2>
<ul class="Bl-bullet">
  <li>64-bit builds
    <p class="Pp">Subtest #15 of lib/b.t may fail under 64-bit builds on
        platforms such as HP-UX PA64 and Linux IA64. The issue is still being
        investigated.</p>
    <p class="Pp">The lib/io_multihomed test may hang in HP-UX if Perl has been
        configured to be 64-bit. Because other 64-bit platforms do not hang in
        this test, HP-UX is suspect. All other tests pass in 64-bit HP-UX. The
        test attempts to create and connect to &quot;multihomed&quot; sockets
        (sockets which have multiple IP addresses).</p>
    <p class="Pp">Note that 64-bit support is still experimental.</p>
  </li>
  <li>Failure of Thread tests
    <p class="Pp">The subtests 19 and 20 of lib/thr5005.t test are known to fail
        due to fundamental problems in the 5.005 threading implementation. These
        are not new failures--Perl 5.005_0x has the same bugs, but didn't have
        these tests. (Note that support for 5.005-style threading remains
        experimental.)</p>
  </li>
  <li>NEXTSTEP 3.3 POSIX test failure
    <p class="Pp">In NEXTSTEP 3.3p2 the implementation of the <b>strftime</b>(3)
        in the operating system libraries is buggy: the
        <span class="Li">%j</span> format numbers the days of a month starting
        from zero, which, while being logical to programmers, will cause the
        subtests 19 to 27 of the lib/posix test may fail.</p>
  </li>
  <li>Tru64 (aka Digital UNIX, aka DEC OSF/1) lib/sdbm test failure with gcc
    <p class="Pp">If compiled with gcc 2.95 the lib/sdbm test will fail (dump
        core). The cure is to use the vendor cc, it comes with the operating
        system and produces good code.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss">EBCDIC platforms not fully supported</h2>
<p class="Pp">In earlier releases of Perl, EBCDIC environments like OS390 (also
    known as Open Edition MVS) and VM-ESA were supported. Due to changes
    required by the UTF-8 (Unicode) support, the EBCDIC platforms are not
    supported in Perl 5.6.0.</p>
<p class="Pp">The 5.6.1 release improves support for EBCDIC platforms, but they
    are not fully supported yet.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="UNICOS/mk_"><a class="permalink" href="#UNICOS/mk_">UNICOS/mk
  CC failures during Configure run</a></h2>
<p class="Pp">In UNICOS/mk the following errors may appear during the Configure
    run:</p>
<p class="Pp"></p>
<pre>
        Guessing which symbols your C compiler and preprocessor define...
        CC-20 cc: ERROR File = try.c, Line = 3
        ...
          bad switch yylook 79bad switch yylook 79bad switch yylook 79bad switch yylook 79#ifdef A29K
        ...
        4 errors detected in the compilation of &quot;try.c&quot;.
</pre>
<p class="Pp">The culprit is the broken awk of UNICOS/mk. The effect is
    fortunately rather mild: Perl itself is not adversely affected by the error,
    only the h2ph utility coming with Perl, and that is rather rarely needed
    these days.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Arrow_operator_and_arrays"><a class="permalink" href="#Arrow_operator_and_arrays">Arrow
  operator and arrays</a></h2>
<p class="Pp">When the left argument to the arrow operator
    <span class="Li">&quot;-&gt;&quot;</span> is an array, or the
    <span class="Li">&quot;scalar&quot;</span> operator operating on an array,
    the result of the operation must be considered erroneous. For example:</p>
<p class="Pp"></p>
<pre>
    @x-&gt;[2]
    scalar(@x)-&gt;[2]
</pre>
<p class="Pp">These expressions will get run-time errors in some future release
    of Perl.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Experimental_features"><a class="permalink" href="#Experimental_features">Experimental
  features</a></h2>
<p class="Pp">As discussed above, many features are still experimental.
    Interfaces and implementation of these features are subject to change, and
    in extreme cases, even subject to removal in some future release of Perl.
    These features include the following:</p>
<dl class="Bl-tag">
  <dt id="Threads"><a class="permalink" href="#Threads">Threads</a></dt>
  <dd></dd>
  <dt id="Unicode"><a class="permalink" href="#Unicode">Unicode</a></dt>
  <dd></dd>
  <dt>64-bit support</dt>
  <dd></dd>
  <dt id="Lvalue~3"><a class="permalink" href="#Lvalue~3">Lvalue
    subroutines</a></dt>
  <dd></dd>
  <dt id="Weak"><a class="permalink" href="#Weak">Weak references</a></dt>
  <dd></dd>
  <dt id="The"><a class="permalink" href="#The">The pseudo-hash data
    type</a></dt>
  <dd></dd>
  <dt id="The~2"><a class="permalink" href="#The~2">The Compiler suite</a></dt>
  <dd></dd>
  <dt id="Internal"><a class="permalink" href="#Internal">Internal
    implementation of file globbing</a></dt>
  <dd></dd>
  <dt id="The~3"><a class="permalink" href="#The~3">The DB module</a></dt>
  <dd></dd>
  <dt id="The~4"><a class="permalink" href="#The~4">The regular expression code
    constructs:</a></dt>
  <dd><span class="Li">&quot;(?{ code })&quot;</span> and
      <span class="Li">&quot;(??{ code })&quot;</span></dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Obsolete_Diagnostics"><a class="permalink" href="#Obsolete_Diagnostics">Obsolete
  Diagnostics</a></h1>
<dl class="Bl-tag">
  <dt id="Character~3"><a class="permalink" href="#Character~3">Character class
    syntax [: :] is reserved for future extensions</a></dt>
  <dd>(W) Within regular expression character classes ([]) the syntax beginning
      with &quot;[:&quot; and ending with &quot;:]&quot; is reserved for future
      extensions. If you need to represent those character sequences inside a
      regular expression character class, just quote the square brackets with
      the backslash: &quot;\[:&quot; and &quot;:\]&quot;.</dd>
  <dt id="Ill-formed~3"><a class="permalink" href="#Ill-formed~3">Ill-formed
    logical name |%s| in prime_env_iter</a></dt>
  <dd>(W) A warning peculiar to VMS. A logical name was encountered when
      preparing to iterate over <span class="Li">%ENV</span> which violates the
      syntactic rules governing logical names. Because it cannot be translated
      normally, it is skipped, and will not appear in
      <span class="Li">%ENV</span>. This may be a benign occurrence, as some
      software packages might directly modify logical name tables and introduce
      nonstandard names, or it may indicate that a logical name table has been
      corrupted.</dd>
  <dt id="In"><a class="permalink" href="#In">In string, @%s now must be written
    as \@%s</a></dt>
  <dd>The description of this error used to say:
    <p class="Pp"></p>
    <pre>
        (Someday it will simply assume that an unbackslashed @
         interpolates an array.)
    </pre>
    <p class="Pp">That day has come, and this fatal error has been removed. It
        has been replaced by a non-fatal warning instead. See &quot;Arrays now
        always interpolate into double-quoted strings&quot; for details.</p>
  </dd>
  <dt id="Probable"><a class="permalink" href="#Probable">Probable precedence
    problem on %s</a></dt>
  <dd>(W) The compiler found a bareword where it expected a conditional, which
      often indicates that an || or &amp;&amp; was parsed as part of the last
      argument of the previous construct, for example:
    <p class="Pp"></p>
    <pre>
    open FOO || die;
    </pre>
  </dd>
  <dt id="regexp"><a class="permalink" href="#regexp">regexp too big</a></dt>
  <dd>(F) The current implementation of regular expressions uses shorts as
      address offsets within a string. Unfortunately this means that if the
      regular expression compiles to longer than 32767, it'll blow up. Usually
      when you want a regular expression this big, there is a better way to do
      it with multiple statements. See perlre.</dd>
  <dt id="Use"><a class="permalink" href="#Use">Use of
    &quot;$$&lt;digit&gt;&quot; to mean &quot;${$}&lt;digit&gt;&quot; is
    deprecated</a></dt>
  <dd>(D) Perl versions before 5.004 misinterpreted any type marker followed by
      &quot;$&quot; and a digit. For example, &quot;$$0&quot; was incorrectly
      taken to mean &quot;${$}0&quot; instead of &quot;${$0}&quot;. This bug is
      (mostly) fixed in Perl 5.004.
    <p class="Pp">However, the developers of Perl 5.004 could not fix this bug
        completely, because at least two widely-used modules depend on the old
        meaning of &quot;$$0&quot; in a string. So Perl 5.004 still interprets
        &quot;$$&lt;digit&gt;&quot; in the old (broken) way inside strings; but
        it generates this message as a warning. And in Perl 5.005, this special
        treatment will cease.</p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="Reporting_Bugs"><a class="permalink" href="#Reporting_Bugs">Reporting
  Bugs</a></h1>
<p class="Pp">If you find what you think is a bug, you might check the articles
    recently posted to the comp.lang.perl.misc newsgroup. There may also be
    information at http://www.perl.com/ , the Perl Home Page.</p>
<p class="Pp">If you believe you have an unreported bug, please run the
    <b>perlbug</b> program included with your release. Be sure to trim your bug
    down to a tiny but sufficient test case. Your bug report, along with the
    output of <span class="Li">&quot;perl -V&quot;</span>, will be sent off to
    perlbug@perl.org to be analysed by the Perl porting team.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">The <i>Changes</i> file for exhaustive details on what
  changed.</p>
<p class="Pp">The <i>INSTALL</i> file for how to build Perl.</p>
<p class="Pp">The <i>README</i> file for general stuff.</p>
<p class="Pp">The <i>Artistic</i> and <i>Copying</i> files for copyright
    information.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
<p class="Pp">Written by Gurusamy Sarathy &lt;<i>gsar@ActiveState.com</i>&gt;,
    with many contributions from The Perl Porters.</p>
<p class="Pp">Send omissions or corrections to
  &lt;<i>perlbug@perl.org</i>&gt;.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-10-21</td>
    <td class="foot-os">perl v5.30.3</td>
  </tr>
</table>
</body>
</html>
