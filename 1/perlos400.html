<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>PERLOS400(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PERLOS400(1)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">PERLOS400(1)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">perlos400 - Perl version 5 on OS/400</p>
<p class="Pp">This document needs to be updated, but we don't know what it
    should say. Please submit comments to
    &lt;https://github.com/Perl/perl5/issues&gt;.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This document describes various features of IBM's OS/400 operating
    system that will affect how Perl version 5 (hereafter just Perl) is compiled
    and/or runs.</p>
<p class="Pp">By far the easiest way to build Perl for OS/400 is to use the PASE
    (Portable Application Solutions Environment), for more information see
    &lt;http://www.iseries.ibm.com/developer/factory/pase/index.html&gt; This
    environment allows one to use AIX APIs while programming, and it provides a
    runtime that allows AIX binaries to execute directly on the PowerPC
  iSeries.</p>
<section class="Ss">
<h2 class="Ss" id="Compiling_Perl_for_"><a class="permalink" href="#Compiling_Perl_for_">Compiling
  Perl for OS/400 PASE</a></h2>
<p class="Pp">The recommended way to build Perl for the OS/400 PASE is to build
    the Perl 5 source code (release 5.8.1 or later) under AIX.</p>
<p class="Pp">The trick is to give a special parameter to the Configure shell
    script when running it on AIX:</p>
<p class="Pp"></p>
<pre>  sh Configure -DPASE ...
</pre>
<p class="Pp">The default installation directory of Perl under PASE is
    /QOpenSys/perl. This can be modified if needed with Configure parameter
    -Dprefix=/some/dir.</p>
<p class="Pp">Starting from OS/400 V5R2 the IBM Visual Age compiler is supported
    on OS/400 PASE, so it is possible to build Perl natively on OS/400. The
    easier way, however, is to compile in AIX, as just described.</p>
<p class="Pp">If you don't want to install the compiled Perl in AIX into
    /QOpenSys (for packaging it before copying it to PASE), you can use a
    Configure parameter: -Dinstallprefix=/tmp/QOpenSys/perl. This will cause the
    &quot;make install&quot; to install everything into that directory, while
    the installed files still think they are (will be) in /QOpenSys/perl.</p>
<p class="Pp">If building natively on PASE, please do the build under the
    /QOpenSys directory, since Perl is happier when built on a case sensitive
    filesystem.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Installing_Perl_in_"><a class="permalink" href="#Installing_Perl_in_">Installing
  Perl in OS/400 PASE</a></h2>
<p class="Pp">If you are compiling on AIX, simply do a &quot;make install&quot;
    on the AIX box. Once the install finishes, tar up the /QOpenSys/perl
    directory. Transfer the tarball to the OS/400 using FTP with the following
    commands:</p>
<p class="Pp"></p>
<pre>  &gt; binary
  &gt; site namefmt 1
  &gt; put perl.tar /QOpenSys
</pre>
<p class="Pp">Once you have it on, simply bring up a PASE shell and extract the
    tarball.</p>
<p class="Pp">If you are compiling in PASE, then &quot;make install&quot; is the
    only thing you will need to do.</p>
<p class="Pp">The default path for perl binary is /QOpenSys/perl/bin/perl.
    You'll want to symlink /QOpenSys/usr/bin/perl to this file so you don't have
    to modify your path.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Using_Perl_in_"><a class="permalink" href="#Using_Perl_in_">Using
  Perl in OS/400 PASE</a></h2>
<p class="Pp">Perl in PASE may be used in the same manner as you would use Perl
    on AIX.</p>
<p class="Pp">Scripts starting with #!/usr/bin/perl should work if you have
    /QOpenSys/usr/bin/perl symlinked to your perl binary. This will not work if
    you've done a setuid/setgid or have environment variable
    PASE_EXEC_QOPENSYS=&quot;N&quot;. If you have V5R1, you'll need to get the
    latest PTFs to have this feature. Scripts starting with
    #!/QOpenSys/perl/bin/perl should always work.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Known_Problems"><a class="permalink" href="#Known_Problems">Known
  Problems</a></h2>
<p class="Pp">When compiling in PASE, there is no &quot;oslevel&quot; command.
    Therefore, you may want to create a script called &quot;oslevel&quot; that
    echoes the level of AIX that your version of PASE runtime supports. If
    you're unsure, consult your documentation or use &quot;4.3.3.0&quot;.</p>
<p class="Pp">If you have test cases that fail, check for the existence of spool
    files. The test case may be trying to use a syscall that is not implemented
    in PASE. To avoid the SIGILL, try setting the PASE_SYSCALL_NOSIGILL
    environment variable or have a handler for the SIGILL. If you can compile
    programs for PASE, run the config script and edit config.sh when it gives
    you the option. If you want to remove <b>fchdir()</b>, which isn't implement
    in V5R1, simply change the line that says:</p>
<p class="Pp">d_fchdir='define'</p>
<p class="Pp">to</p>
<p class="Pp">d_fchdir='undef'</p>
<p class="Pp">and then compile Perl. The places where <b>fchdir()</b> is used
    have alternatives for systems that do not have <b>fchdir()</b>
  available.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Perl_on_"><a class="permalink" href="#Perl_on_">Perl on
  ILE</a></h2>
<p class="Pp">There exists a port of Perl to the ILE environment. This port,
    however, is based quite an old release of Perl, Perl 5.00502 (August 1998).
    (As of July 2002 the latest release of Perl is 5.8.0, and even 5.6.1 has
    been out since April 2001.) If you need to run Perl on ILE, though, you may
    need this older port: &lt;http://www.cpan.org/ports/#os400&gt; Note that any
    Perl release later than 5.00502 has not been ported to ILE.</p>
<p class="Pp">If you need to use Perl in the ILE environment, you may want to
    consider using <b>Qp2RunPase()</b> to call the PASE version of Perl.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<p class="Pp">Jarkko Hietaniemi &lt;jhi@iki.fi&gt; Bryan Logan
    &lt;bryanlog@us.ibm.com&gt; David Larson &lt;larson1@us.ibm.com&gt;</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2022-02-19</td>
    <td class="foot-os">perl v5.34.1</td>
  </tr>
</table>
</body>
</html>
