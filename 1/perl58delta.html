<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>PERL58DELTA(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PERL58DELTA(1)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">PERL58DELTA(1)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">perl58delta - what is new for perl v5.8.0</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This document describes differences between the 5.6.0 release and
    the 5.8.0 release.</p>
<p class="Pp">Many of the bug fixes in 5.8.0 were already seen in the 5.6.1
    maintenance release since the two releases were kept closely coordinated
    (while 5.8.0 was still called 5.7.something).</p>
<p class="Pp">Changes that were integrated into the 5.6.1 release are marked
    <span class="Li">&quot;[561]&quot;</span>. Many of these changes have been
    further developed since 5.6.1 was released, those are marked
    <span class="Li">&quot;[561+]&quot;</span>.</p>
<p class="Pp">You can see the list of changes in the 5.6.1 release (both from
    the 5.005_03 release and the 5.6.0 release) by reading perl561delta.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Highlights_In_5.8.0"><a class="permalink" href="#Highlights_In_5.8.0">Highlights
  In 5.8.0</a></h1>
<ul class="Bl-bullet">
  <li>Better Unicode support</li>
  <li>New IO Implementation</li>
  <li>New Thread Implementation</li>
  <li>Better Numeric Accuracy</li>
  <li>Safe Signals</li>
  <li>Many New Modules</li>
  <li>More Extensive Regression Testing</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Incompatible_Changes"><a class="permalink" href="#Incompatible_Changes">Incompatible
  Changes</a></h1>
<section class="Ss">
<h2 class="Ss" id="Binary_Incompatibility"><a class="permalink" href="#Binary_Incompatibility">Binary
  Incompatibility</a></h2>
<p class="Pp"><b>Perl 5.8 is not binary compatible with earlier releases of
    Perl.</b></p>
<p class="Pp"><b>You have to recompile your XS modules.</b></p>
<p class="Pp">(Pure Perl modules should continue to work.)</p>
<p class="Pp">The major reason for the discontinuity is the new IO architecture
    called PerlIO. PerlIO is the default configuration because without it many
    new features of Perl 5.8 cannot be used. In other words: you just have to
    recompile your modules containing XS code, sorry about that.</p>
<p class="Pp">In future releases of Perl, non-PerlIO aware XS modules may become
    completely unsupported. This shouldn't be too difficult for module authors,
    however: PerlIO has been designed as a drop-in replacement (at the source
    code level) for the stdio interface.</p>
<p class="Pp">Depending on your platform, there are also other reasons why we
    decided to break binary compatibility, please read on.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="64"><a class="permalink" href="#64">64-bit platforms and
  malloc</a></h2>
<p class="Pp">If your pointers are 64 bits wide, the Perl malloc is no longer
    being used because it does not work well with 8-byte pointers. Also, usually
    the system mallocs on such platforms are much better optimized for such
    large memory models than the Perl malloc. Some memory-hungry Perl
    applications like the PDL don't work well with Perl's malloc. Finally, other
    applications than Perl (such as mod_perl) tend to prefer the system malloc.
    Such platforms include Alpha and 64-bit HPPA, MIPS, PPC, and Sparc.</p>
</section>
<section class="Ss">
<h2 class="Ss">AIX Dynaloading</h2>
<p class="Pp">The AIX dynaloading now uses in AIX releases 4.3 and newer the
    native dlopen interface of AIX instead of the old emulated interface. This
    change will probably break backward compatibility with compiled modules. The
    change was made to make Perl more compliant with other applications like
    mod_perl which are using the AIX native interface.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Attributes_for__my__variables_now_handled_at_run-time"><a class="permalink" href="#Attributes_for__my__variables_now_handled_at_run-time">Attributes
  for &quot;my&quot; variables now handled at run-time</a></h2>
<p class="Pp">The <span class="Li">&quot;my EXPR : ATTRS&quot;</span> syntax now
    applies variable attributes at run-time. (Subroutine and
    <span class="Li">&quot;our&quot;</span> variables still get attributes
    applied at compile-time.) See attributes for additional details. In
    particular, however, this allows variable attributes to be useful for
    <span class="Li">&quot;tie&quot;</span> interfaces, which was a deficiency
    of earlier releases. Note that the new semantics doesn't work with the
    Attribute::Handlers module (as of version 0.76).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Socket_Extension_Dynamic_in_"><a class="permalink" href="#Socket_Extension_Dynamic_in_">Socket
  Extension Dynamic in VMS</a></h2>
<p class="Pp">The Socket extension is now dynamically loaded instead of being
    statically built in. This may or may not be a problem with ancient TCP/IP
    stacks of VMS: we do not know since we weren't able to test Perl in such
    configurations.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="IEEE-format_Floating_Point_Default_on_OpenVMS_Alpha"><a class="permalink" href="#IEEE-format_Floating_Point_Default_on_OpenVMS_Alpha">IEEE-format
  Floating Point Default on OpenVMS Alpha</a></h2>
<p class="Pp">Perl now uses IEEE format (T_FLOAT) as the default internal
    floating point format on OpenVMS Alpha, potentially breaking binary
    compatibility with external libraries or existing data. G_FLOAT is still
    available as a configuration option. The default on VAX (D_FLOAT) has not
    changed.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New_Unicode_Semantics_(no_more__use_utf8_,_almost)"><a class="permalink" href="#New_Unicode_Semantics_(no_more__use_utf8_,_almost)">New
  Unicode Semantics (no more &quot;use utf8&quot;, almost)</a></h2>
<p class="Pp">Previously in Perl 5.6 to use Unicode one would say &quot;use
    utf8&quot; and then the operations (like string concatenation) were
    Unicode-aware in that lexical scope.</p>
<p class="Pp">This was found to be an inconvenient interface, and in Perl 5.8
    the Unicode model has completely changed: now the &quot;Unicodeness&quot; is
    bound to the data itself, and for most of the time &quot;use utf8&quot; is
    not needed at all. The only remaining use of &quot;use utf8&quot; is when
    the Perl script itself has been written in the UTF-8 encoding of Unicode.
    (UTF-8 has not been made the default since there are many Perl scripts out
    there that are using various national eight-bit character sets, which would
    be illegal in UTF-8.)</p>
<p class="Pp">See perluniintro for the explanation of the current model, and
    utf8 for the current use of the utf8 pragma.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="New_Unicode_Properties"><a class="permalink" href="#New_Unicode_Properties">New
  Unicode Properties</a></h2>
<p class="Pp">Unicode <i>scripts</i> are now supported. Scripts are similar to
    (and superior to) Unicode <i>blocks</i>. The difference between scripts and
    blocks is that scripts are the glyphs used by a language or a group of
    languages, while the blocks are more artificial groupings of (mostly) 256
    characters based on the Unicode numbering.</p>
<p class="Pp">In general, scripts are more inclusive, but not universally so.
    For example, while the script <span class="Li">&quot;Latin&quot;</span>
    includes all the Latin characters and their various diacritic-adorned
    versions, it does not include the various punctuation or digits (since they
    are not solely <span class="Li">&quot;Latin&quot;</span>).</p>
<p class="Pp">A number of other properties are now supported, including
    <span class="Li">&quot;\p{L&amp;}&quot;</span>,
    <span class="Li">&quot;\p{Any}&quot;</span>
    <span class="Li">&quot;\p{Assigned}&quot;</span>,
    <span class="Li">&quot;\p{Unassigned}&quot;</span>,
    <span class="Li">&quot;\p{Blank}&quot;</span> [561] and
    <span class="Li">&quot;\p{SpacePerl}&quot;</span> [561] (along with their
    <span class="Li">&quot;\P{...}&quot;</span> versions, of course). See
    perlunicode for details, and more additions.</p>
<p class="Pp">The <span class="Li">&quot;In&quot;</span> or
    <span class="Li">&quot;Is&quot;</span> prefix to names used with the
    <span class="Li">&quot;\p{...}&quot;</span> and
    <span class="Li">&quot;\P{...}&quot;</span> are now almost always optional.
    The only exception is that a <span class="Li">&quot;In&quot;</span> prefix
    is required to signify a Unicode block when a block name conflicts with a
    script name. For example, <span class="Li">&quot;\p{Tibetan}&quot;</span>
    refers to the script, while
    <span class="Li">&quot;\p{InTibetan}&quot;</span> refers to the block. When
    there is no name conflict, you can omit the
    <span class="Li">&quot;In&quot;</span> from the block name (e.g.
    <span class="Li">&quot;\p{BraillePatterns}&quot;</span>), but to be safe,
    it's probably best to always use the
    <span class="Li">&quot;In&quot;</span>).</p>
</section>
<section class="Ss">
<h2 class="Ss">REF(...) Instead Of SCALAR(...)</h2>
<p class="Pp">A reference to a reference now stringifies as
    &quot;REF(0x81485ec)&quot; instead of &quot;SCALAR(0x81485ec)&quot; in order
    to be more consistent with the return value of <b>ref()</b>.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="pack/unpack_D/F_recycled"><a class="permalink" href="#pack/unpack_D/F_recycled">pack/unpack
  D/F recycled</a></h2>
<p class="Pp">The undocumented pack/unpack template letters D/F have been
    recycled for better use: now they stand for long double (if supported by the
    platform) and NV (Perl internal floating point type). (They used to be
    aliases for d/f, but you never knew that.)</p>
</section>
<section class="Ss">
<h2 class="Ss"><b>glob()</b> now returns filenames in alphabetical order</h2>
<p class="Pp">The list of filenames from <b>glob()</b> (or &lt;...&gt;) is now
    by default sorted alphabetically to be csh-compliant (which is what happened
    before in most Unix platforms). (<b>bsd_glob()</b> does still sort platform
    natively, ASCII or EBCDIC, unless GLOB_ALPHASORT is specified.) [561]</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Deprecations"><a class="permalink" href="#Deprecations">Deprecations</a></h2>
<ul class="Bl-bullet">
  <li>The semantics of bless(REF, REF) were unclear and until someone proves it
      to make some sense, it is forbidden.</li>
  <li>The obsolete chat2 library that should never have been allowed to escape
      the laboratory has been decommissioned.</li>
  <li>Using chdir(&quot;&quot;) or chdir(undef) instead of explicit
      <b>chdir()</b> is doubtful. A failure (think chdir(<b>some_function()</b>)
      can lead into unintended <b>chdir()</b> to the home directory, therefore
      this behaviour is deprecated.</li>
  <li>The builtin <b>dump()</b> function has probably outlived most of its
      usefulness. The core-dumping functionality will remain in future available
      as an explicit call to <span class="Li">&quot;CORE::dump()&quot;</span>,
      but in future releases the behaviour of an unqualified
      <span class="Li">&quot;dump()&quot;</span> call may change.</li>
  <li>The very dusty examples in the eg/ directory have been removed.
      Suggestions for new shiny examples welcome but the main issue is that the
      examples need to be documented, tested and (most importantly)
    maintained.</li>
  <li>The (bogus) escape sequences \8 and \9 now give an optional warning
      (&quot;Unrecognized escape passed through&quot;). There is no need to
      \-escape any <span class="Li">&quot;\w&quot;</span> character.</li>
  <li>The *glob{FILEHANDLE} is deprecated, use *glob{IO} instead.</li>
  <li>The <span class="Li">&quot;package;&quot;</span> syntax
      (<span class="Li">&quot;package&quot;</span> without an argument) has been
      deprecated. Its semantics were never that clear and its implementation
      even less so. If you have used that feature to disallow all but fully
      qualified variables, <span class="Li">&quot;use strict;&quot;</span>
      instead.</li>
  <li>The unimplemented POSIX regex features [[.cc.]] and [[=c=]] are still
      recognised but now cause fatal errors. The previous behaviour of ignoring
      them by default and warning if requested was unacceptable since it, in a
      way, falsely promised that the features could be used.</li>
  <li>In future releases, non-PerlIO aware XS modules may become completely
      unsupported. Since PerlIO is a drop-in replacement for stdio at the source
      code level, this shouldn't be that drastic a change.</li>
  <li>Previous versions of perl and some readings of some sections of Camel III
      implied that the <span class="Li">&quot;:raw&quot;</span>
      &quot;discipline&quot; was the inverse of
      <span class="Li">&quot;:crlf&quot;</span>. Turning off
      &quot;clrfness&quot; is no longer enough to make a stream truly binary. So
      the PerlIO <span class="Li">&quot;:raw&quot;</span> layer (or
      &quot;discipline&quot;, to use the Camel book's older terminology) is now
      formally defined as being equivalent to binmode(FH) - which is in turn
      defined as doing whatever is necessary to pass each byte as-is without any
      translation. In particular binmode(FH) - and hence
      <span class="Li">&quot;:raw&quot;</span> - will now turn off both CRLF and
      UTF-8 translation and remove other layers (e.g. :<b>encoding()</b>) which
      would modify byte stream.</li>
  <li>The current user-visible implementation of pseudo-hashes (the weird use of
      the first array element) is deprecated starting from Perl 5.8.0 and will
      be removed in Perl 5.10.0, and the feature will be implemented
      differently. Not only is the current interface rather ugly, but the
      current implementation slows down normal array and hash use quite
      noticeably. The <span class="Li">&quot;fields&quot;</span> pragma
      interface will remain available. The <i>restricted hashes</i> interface is
      expected to be the replacement interface (see Hash::Util). If your
      existing programs depends on the underlying implementation, consider using
      Class::PseudoHash from CPAN.</li>
  <li>The syntaxes <span class="Li">&quot;@a-&gt;[...]&quot;</span> and
      <span class="Li">&quot;%h-&gt;{...}&quot;</span> have now been
    deprecated.</li>
  <li>After years of trying, suidperl is considered to be too complex to ever be
      considered truly secure. The suidperl functionality is likely to be
      removed in a future release.</li>
  <li>The 5.005 threads model (module
      <span class="Li">&quot;Thread&quot;</span>) is deprecated and expected to
      be removed in Perl 5.10. Multithreaded code should be migrated to the new
      ithreads model (see threads, threads::shared and perlthrtut).</li>
  <li>The long deprecated uppercase aliases for the string comparison operators
      (EQ, NE, LT, LE, GE, GT) have now been removed.</li>
  <li>The tr///C and tr///U features have been removed and will not return; the
      interface was a mistake. Sorry about that. For similar functionality, see
      pack('U0', ...) and pack('C0', ...). [561]</li>
  <li>Earlier Perls treated &quot;sub foo (@bar)&quot; as equivalent to
      &quot;sub foo (@)&quot;. The prototypes are now checked better at
      compile-time for invalid syntax. An optional warning is generated
      (&quot;Illegal character in prototype...&quot;) but this may be upgraded
      to a fatal error in a future release.</li>
  <li>The <span class="Li">&quot;exec LIST&quot;</span> and
      <span class="Li">&quot;system LIST&quot;</span> operations now produce
      warnings on tainted data and in some future release they will produce
      fatal errors.</li>
  <li>The existing behaviour when localising tied arrays and hashes is wrong,
      and will be changed in a future release, so do not rely on the existing
      behaviour. See &quot;Localising Tied Arrays and Hashes Is
    Broken&quot;.</li>
</ul>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Core_Enhancements"><a class="permalink" href="#Core_Enhancements">Core
  Enhancements</a></h1>
<section class="Ss">
<h2 class="Ss" id="Unicode_Overhaul"><a class="permalink" href="#Unicode_Overhaul">Unicode
  Overhaul</a></h2>
<p class="Pp">Unicode in general should be now much more usable than in Perl
    5.6.0 (or even in 5.6.1). Unicode can be used in hash keys, Unicode in
    regular expressions should work now, Unicode in tr/// should work now,
    Unicode in I/O should work now. See perluniintro for introduction and
    perlunicode for details.</p>
<ul class="Bl-bullet">
  <li>The Unicode Character Database coming with Perl has been upgraded to
      Unicode 3.2.0. For more information, see http://www.unicode.org/ . [561+]
      (5.6.1 has UCD 3.0.1.)</li>
  <li>For developers interested in enhancing Perl's Unicode capabilities: almost
      all the UCD files are included with the Perl distribution in the
      <i>lib/unicore</i> subdirectory. The most notable omission, for space
      considerations, is the Unihan database.</li>
  <li>The properties \p{Blank} and \p{SpacePerl} have been added.
      &quot;Blank&quot; is like C <b>isblank()</b>, that is, it contains only
      &quot;horizontal whitespace&quot; (the space character is, the newline
      isn't), and the &quot;SpacePerl&quot; is the Unicode equivalent of
      <span class="Li">&quot;\s&quot;</span> (\p{Space} isn't, since that
      includes the vertical tabulator character, whereas
      <span class="Li">&quot;\s&quot;</span> doesn't.)
    <p class="Pp">See &quot;New Unicode Properties&quot; earlier in this
        document for additional information on changes with Unicode
      properties.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="PerlIO_is_Now_The_Default"><a class="permalink" href="#PerlIO_is_Now_The_Default">PerlIO
  is Now The Default</a></h2>
<ul class="Bl-bullet">
  <li>IO is now by default done via PerlIO rather than system's
      &quot;stdio&quot;. PerlIO allows &quot;layers&quot; to be
      &quot;pushed&quot; onto a file handle to alter the handle's behaviour.
      Layers can be specified at open time via 3-arg form of open:
    <p class="Pp"></p>
    <pre>   open($fh,'&gt;:crlf :utf8', $path) || ...
    </pre>
    <p class="Pp">or on already opened handles via extended
        <span class="Li">&quot;binmode&quot;</span>:</p>
    <p class="Pp"></p>
    <pre>   binmode($fh,':encoding(iso-8859-7)');
    </pre>
    <p class="Pp">The built-in layers are: unix (low level read/write), stdio
        (as in previous Perls), perlio (re-implementation of stdio buffering in
        a portable manner), crlf (does CRLF &lt;=&gt; &quot;\n&quot; translation
        as on Win32, but available on any platform). A mmap layer may be
        available if platform supports it (mostly Unixes).</p>
    <p class="Pp">Layers to be applied by default may be specified via the
        'open' pragma.</p>
    <p class="Pp">See &quot;Installation and Configuration Improvements&quot;
        for the effects of PerlIO on your architecture name.</p>
  </li>
  <li>If your platform supports <b>fork()</b>, you can use the list form of
      <span class="Li">&quot;open&quot;</span> for pipes. For example:
    <p class="Pp"></p>
    <pre>    open KID_PS, &quot;-|&quot;, &quot;ps&quot;, &quot;aux&quot; or die $!;
    </pre>
    <p class="Pp">forks the <b>ps</b>(1) command (without spawning a shell, as
        there are more than three arguments to <b>open()</b>), and reads its
        standard output via the <span class="Li">&quot;KID_PS&quot;</span>
        filehandle. See perlipc.</p>
  </li>
  <li>File handles can be marked as accepting Perl's internal encoding of
      Unicode (UTF-8 or UTF-EBCDIC depending on platform) by a pseudo layer
      &quot;:utf8&quot; :
    <p class="Pp"></p>
    <pre>   open($fh,&quot;&gt;:utf8&quot;,&quot;Uni.txt&quot;);
    </pre>
    <p class="Pp">Note for EBCDIC users: the pseudo layer &quot;:utf8&quot; is
        erroneously named for you since it's not UTF-8 what you will be getting
        but instead UTF-EBCDIC. See perlunicode, utf8, and
        http://www.unicode.org/unicode/reports/tr16/ for more information. In
        future releases this naming may change. See perluniintro for more
        information about UTF-8.</p>
  </li>
  <li>If your environment variables (LC_ALL, LC_CTYPE, LANG) look like you want
      to use UTF-8 (any of the variables match
      <span class="Li">&quot;/utf-?8/i&quot;</span>), your STDIN, STDOUT, STDERR
      handles and the default open layer (see open) are marked as UTF-8. (This
      feature, like other new features that combine Unicode and I/O, work only
      if you are using PerlIO, but that's the default.)
    <p class="Pp">Note that after this Perl really does assume that everything
        is UTF-8: for example if some input handle is not, Perl will probably
        very soon complain about the input data like this &quot;Malformed UTF-8
        ...&quot; since any old eight-bit data is not legal UTF-8.</p>
    <p class="Pp">Note for code authors: if you want to enable your users to use
        UTF-8 as their default encoding but in your code still have eight-bit
        I/O streams (such as images or zip files), you need to explicitly
        <b>open()</b> or <b>binmode()</b> with
        <span class="Li">&quot;:bytes&quot;</span> (see &quot;open&quot; in
        perlfunc and &quot;binmode&quot; in perlfunc), or you can just use
        <span class="Li">&quot;binmode(FH)&quot;</span> (nice for pre-5.8.0
        backward compatibility).</p>
  </li>
  <li>File handles can translate character encodings from/to Perl's internal
      Unicode form on read/write via the &quot;:<b>encoding()</b>&quot;
    layer.</li>
  <li>File handles can be opened to &quot;in memory&quot; files held in Perl
      scalars via:
    <p class="Pp"></p>
    <pre>   open($fh,'&gt;', \$variable) || ...
    </pre>
  </li>
  <li>Anonymous temporary files are available without need to 'use FileHandle'
      or other module via
    <p class="Pp"></p>
    <pre>   open($fh,&quot;+&gt;&quot;, undef) || ...
    </pre>
    <p class="Pp">That is a literal undef, not an undefined value.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="ithreads"><a class="permalink" href="#ithreads">ithreads</a></h2>
<p class="Pp">The new interpreter threads (&quot;ithreads&quot; for short)
    implementation of multithreading, by Arthur Bergman, replaces the old
    &quot;5.005 threads&quot; implementation. In the ithreads model any data
    sharing between threads must be explicit, as opposed to the model where data
    sharing was implicit. See threads and threads::shared, and perlthrtut.</p>
<p class="Pp">As a part of the ithreads implementation Perl will also use any
    necessary and detectable reentrant libc interfaces.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Restricted_Hashes"><a class="permalink" href="#Restricted_Hashes">Restricted
  Hashes</a></h2>
<p class="Pp">A restricted hash is restricted to a certain set of keys, no keys
    outside the set can be added. Also individual keys can be restricted so that
    the key cannot be deleted and the value cannot be changed. No new syntax is
    involved: the Hash::Util module is the interface.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Safe_Signals"><a class="permalink" href="#Safe_Signals">Safe
  Signals</a></h2>
<p class="Pp">Perl used to be fragile in that signals arriving at inopportune
    moments could corrupt Perl's internal state. Now Perl postpones handling of
    signals until it's safe (between opcodes).</p>
<p class="Pp">This change may have surprising side effects because signals no
    longer interrupt Perl instantly. Perl will now first finish whatever it was
    doing, like finishing an internal operation (like <b>sort()</b>) or an
    external operation (like an I/O operation), and only then look at any
    arrived signals (and before starting the next operation). No more corrupt
    internal state since the current operation is always finished first, but the
    signal may take more time to get heard. Note that breaking out from
    potentially blocking operations should still work, though.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Understanding_of_Numbers"><a class="permalink" href="#Understanding_of_Numbers">Understanding
  of Numbers</a></h2>
<p class="Pp">In general a lot of fixing has happened in the area of Perl's
    understanding of numbers, both integer and floating point. Since in many
    systems the standard number parsing functions like
    <span class="Li">&quot;strtoul()&quot;</span> and
    <span class="Li">&quot;atof()&quot;</span> seem to have bugs, Perl tries to
    work around their deficiencies. This results hopefully in more accurate
    numbers.</p>
<p class="Pp">Perl now tries internally to use integer values in numeric
    conversions and basic arithmetics (+ - * /) if the arguments are integers,
    and tries also to keep the results stored internally as integers. This
    change leads to often slightly faster and always less lossy arithmetics.
    (Previously Perl always preferred floating point numbers in its math.)</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Arrays_now_always_interpolate_into_double-quoted_strings__561_"><a class="permalink" href="#Arrays_now_always_interpolate_into_double-quoted_strings__561_">Arrays
  now always interpolate into double-quoted strings [561]</a></h2>
<p class="Pp">In double-quoted strings, arrays now interpolate, no matter what.
    The behavior in earlier versions of perl 5 was that arrays would interpolate
    into strings if the array had been mentioned before the string was compiled,
    and otherwise Perl would raise a fatal compile-time error. In versions 5.000
    through 5.003, the error was</p>
<p class="Pp"></p>
<pre>        Literal @example now requires backslash
</pre>
<p class="Pp">In versions 5.004_01 through 5.6.0, the error was</p>
<p class="Pp"></p>
<pre>        In string, @example now must be written as \@example
</pre>
<p class="Pp">The idea here was to get people into the habit of writing
    <span class="Li">&quot;fred\@example.com&quot;</span> when they wanted a
    literal <span class="Li">&quot;@&quot;</span> sign, just as they have always
    written <span class="Li">&quot;Give me back my \$5&quot;</span> when they
    wanted a literal <span class="Li">&quot;$&quot;</span> sign.</p>
<p class="Pp">Starting with 5.6.1, when Perl now sees an
    <span class="Li">&quot;@&quot;</span> sign in a double-quoted string, it
    <i>always</i> attempts to interpolate an array, regardless of whether or not
    the array has been used or declared already. The fatal error has been
    downgraded to an optional warning:</p>
<p class="Pp"></p>
<pre>        Possible unintended interpolation of @example in string
</pre>
<p class="Pp">This warns you that
    <span class="Li">&quot;fred@example.com&quot;</span> is going to turn into
    <span class="Li">&quot;fred.com&quot;</span> if you don't backslash the
    <span class="Li">&quot;@&quot;</span>. See
    http://perl.plover.com/at-error.html for more details about the history
    here.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Miscellaneous_Changes"><a class="permalink" href="#Miscellaneous_Changes">Miscellaneous
  Changes</a></h2>
<ul class="Bl-bullet">
  <li>AUTOLOAD is now lvaluable, meaning that you can add the :lvalue attribute
      to AUTOLOAD subroutines and you can assign to the AUTOLOAD return
    value.</li>
  <li>The <span class="Li">$Config</span>{byteorder} (and corresponding
      BYTEORDER in config.h) was previously wrong in platforms if sizeof(long)
      was 4, but sizeof(IV) was 8. The byteorder was only sizeof(long) bytes
      long (1234 or 4321), but now it is correctly sizeof(IV) bytes long,
      (12345678 or 87654321). (This problem didn't affect Windows platforms.)
    <p class="Pp">Also, <span class="Li">$Config</span>{byteorder} is now
        computed dynamically--this is more robust with &quot;fat binaries&quot;
        where an executable image contains binaries for more than one binary
        platform, and when cross-compiling.</p>
  </li>
  <li><span class="Li">&quot;perl -d:Module=arg,arg,arg&quot;</span> now works
      (previously one couldn't pass in multiple arguments.)</li>
  <li><span class="Li">&quot;do&quot;</span> followed by a bareword now ensures
      that this bareword isn't a keyword (to avoid a bug where
      <span class="Li">&quot;do q(foo.pl)&quot;</span> tried to call a
      subroutine called <span class="Li">&quot;q&quot;</span>). This means that
      for example instead of <span class="Li">&quot;do format()&quot;</span> you
      must write <span class="Li">&quot;do &amp;format()&quot;</span>.</li>
  <li>The builtin <b>dump()</b> now gives an optional warning
      <span class="Li">&quot;dump() better written as CORE::dump()&quot;</span>,
      meaning that by default <span class="Li">&quot;dump(...)&quot;</span> is
      resolved as the builtin <b>dump()</b> which dumps core and aborts, not as
      (possibly) user-defined <span class="Li">&quot;sub dump&quot;</span>. To
      call the latter, qualify the call as
      <span class="Li">&quot;&amp;dump(...)&quot;</span>. (The whole
      <b>dump()</b> feature is to considered deprecated, and possibly
      removed/changed in future releases.)</li>
  <li><b>chomp()</b> and <b>chop()</b> are now overridable. Note, however, that
      their prototype (as given by
      <span class="Li">&quot;prototype(&quot;CORE::chomp&quot;)&quot;</span> is
      undefined, because it cannot be expressed and therefore one cannot really
      write replacements to override these builtins.</li>
  <li>END blocks are now run even if you exit/die in a BEGIN block. Internally,
      the execution of END blocks is now controlled by PL_exit_flags &amp;
      PERL_EXIT_DESTRUCT_END. This enables the new behaviour for Perl embedders.
      This will default in 5.10. See perlembed.</li>
  <li>Formats now support zero-padded decimal fields.</li>
  <li>Although &quot;you shouldn't do that&quot;, it was possible to write code
      that depends on Perl's hashed key order (Data::Dumper does this). The new
      algorithm &quot;One-at-a-Time&quot; produces a different hashed key order.
      More details are in &quot;Performance Enhancements&quot;.</li>
  <li>lstat(FILEHANDLE) now gives a warning because the operation makes no
      sense. In future releases this may become a fatal error.</li>
  <li>Spurious syntax errors generated in certain situations, when <b>glob()</b>
      caused File::Glob to be loaded for the first time, have been fixed.
    [561]</li>
  <li>Lvalue subroutines can now return
      <span class="Li">&quot;undef&quot;</span> in list context. However, the
      lvalue subroutine feature still remains experimental. [561+]</li>
  <li>A lost warning &quot;Can't declare ... dereference in my&quot; has been
      restored (Perl had it earlier but it became lost in later releases.)</li>
  <li>A new special regular expression variable has been introduced:
      <span class="Li">$^N</span>, which contains the most-recently closed group
      (submatch).</li>
  <li><span class="Li">&quot;no Module;&quot;</span> does not produce an error
      even if Module does not have an <b>unimport()</b> method. This parallels
      the behavior of <span class="Li">&quot;use&quot;</span> vis-a-vis
      <span class="Li">&quot;import&quot;</span>. [561]</li>
  <li>The numerical comparison operators return
      <span class="Li">&quot;undef&quot;</span> if either operand is a NaN.
      Previously the behaviour was unspecified.</li>
  <li><span class="Li">&quot;our&quot;</span> can now have an experimental
      optional attribute <span class="Li">&quot;unique&quot;</span> that affects
      how global variables are shared among multiple interpreters, see
      &quot;our&quot; in perlfunc.</li>
  <li>The following builtin functions are now overridable: <b>each()</b>,
      <b>keys()</b>, <b>pop()</b>, <b>push()</b>, <b>shift()</b>,
      <b>splice()</b>, <b>unshift()</b>. [561]</li>
  <li><span class="Li">&quot;pack() / unpack()&quot;</span> can now group
      template letters with <span class="Li">&quot;()&quot;</span> and then
      apply repetition/count modifiers on the groups.</li>
  <li><span class="Li">&quot;pack() / unpack()&quot;</span> can now process the
      Perl internal numeric types: IVs, UVs, NVs-- and also long doubles, if
      supported by the platform. The template letters are
      <span class="Li">&quot;j&quot;</span>,
      <span class="Li">&quot;J&quot;</span>,
      <span class="Li">&quot;F&quot;</span>, and
      <span class="Li">&quot;D&quot;</span>.</li>
  <li><span class="Li">&quot;pack('U0a*', ...)&quot;</span> can now be used to
      force a string to UTF-8.</li>
  <li>my __PACKAGE__ <span class="Li">$obj</span> now works. [561]</li>
  <li><b>POSIX::sleep()</b> now returns the number of <i>unslept</i> seconds (as
      the POSIX standard says), as opposed to <b>CORE::sleep()</b> which returns
      the number of slept seconds.</li>
  <li><b>printf()</b> and <b>sprintf()</b> now support parameter reordering
      using the <span class="Li">&quot;%\d+\$&quot;</span> and
      <span class="Li">&quot;*\d+\$&quot;</span> syntaxes. For example
    <p class="Pp"></p>
    <pre>    printf &quot;%2\$s %1\$s\n&quot;, &quot;foo&quot;, &quot;bar&quot;;
    </pre>
    <p class="Pp">will print &quot;bar foo\n&quot;. This feature helps in
        writing internationalised software, and in general when the order of the
        parameters can vary.</p>
  </li>
  <li>The (\&amp;) prototype now works properly. [561]</li>
  <li>prototype(\[$@%&amp;]) is now available to implicitly create references
      (useful for example if you want to emulate the <b>tie()</b>
    interface).</li>
  <li>A new command-line option, <span class="Li">&quot;-t&quot;</span> is
      available. It is the little brother of
      <span class="Li">&quot;-T&quot;</span>: instead of dying on taint
      violations, lexical warnings are given. <b>This is only meant as a
      temporary</b> <b>debugging aid while securing the code of old legacy
      applications.</b> <b>This is not a substitute for -T.</b></li>
  <li>In other taint news, the <span class="Li">&quot;exec LIST&quot;</span> and
      <span class="Li">&quot;system LIST&quot;</span> have now been considered
      too risky (think <span class="Li">&quot;exec @ARGV&quot;</span>: it can
      start any program with any arguments), and now the said forms cause a
      warning under lexical warnings. You should carefully launder the arguments
      to guarantee their validity. In future releases of Perl the forms will
      become fatal errors so consider starting laundering now.</li>
  <li>Tied hash interfaces are now required to have the EXISTS and DELETE
      methods (either own or inherited).</li>
  <li>If tr/// is just counting characters, it doesn't attempt to modify its
      target.</li>
  <li><b>untie()</b> will now call an <b>UNTIE()</b> hook if it exists. See
      perltie for details. [561]</li>
  <li>&quot;utime&quot; in perlfunc now supports <span class="Li">&quot;utime
      undef, undef, @files&quot;</span> to change the file timestamps to the
      current time.</li>
  <li>The rules for allowing underscores (underbars) in numeric constants have
      been relaxed and simplified: now you can have an underscore simply
      <b>between digits</b>.</li>
  <li>Rather than relying on C's argv[0] (which may not contain a full pathname)
      where possible $^X is now set by asking the operating system. (eg by
      reading <i>/proc/self/exe</i> on Linux, <i>/proc/curproc/file</i> on
      FreeBSD)</li>
  <li>A new variable, <span class="Li">&quot;${^TAINT}&quot;</span>, indicates
      whether taint mode is enabled.</li>
  <li>You can now override the <b>readline()</b> builtin, and this overrides
      also the &lt;FILEHANDLE&gt; angle bracket operator.</li>
  <li>The command-line options -s and -F are now recognized on the shebang (#!)
      line.</li>
  <li>Use of the <span class="Li">&quot;/c&quot;</span> match modifier without
      an accompanying <span class="Li">&quot;/g&quot;</span> modifier elicits a
      new warning: <span class="Li">&quot;Use of /c modifier is meaningless
      without /g&quot;</span>.
    <p class="Pp">Use of <span class="Li">&quot;/c&quot;</span> in
        substitutions, even with <span class="Li">&quot;/g&quot;</span>, elicits
        <span class="Li">&quot;Use of /c modifier is meaningless in
        s///&quot;</span>.</p>
    <p class="Pp">Use of <span class="Li">&quot;/g&quot;</span> with
        <span class="Li">&quot;split&quot;</span> elicits
        <span class="Li">&quot;Use of /g modifier is meaningless</span>
        <span class="Li">in split&quot;</span>.</p>
  </li>
  <li>Support for the <span class="Li">&quot;CLONE&quot;</span> special
      subroutine had been added. With ithreads, when a new thread is created,
      all Perl data is cloned, however non-Perl data cannot be cloned
      automatically. In <span class="Li">&quot;CLONE&quot;</span> you can do
      whatever you need to do, like for example handle the cloning of non-Perl
      data, if necessary. <span class="Li">&quot;CLONE&quot;</span> will be
      executed once for every package that has it defined or inherited. It will
      be called in the context of the new thread, so all modifications are made
      in the new area.
    <p class="Pp">See perlmod</p>
  </li>
</ul>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Modules_and_Pragmata"><a class="permalink" href="#Modules_and_Pragmata">Modules
  and Pragmata</a></h1>
<section class="Ss">
<h2 class="Ss" id="New_Modules_and_Pragmata"><a class="permalink" href="#New_Modules_and_Pragmata">New
  Modules and Pragmata</a></h2>
<ul class="Bl-bullet">
  <li><span class="Li">&quot;Attribute::Handlers&quot;</span>, originally by
      Damian Conway and now maintained by Arthur Bergman, allows a class to
      define attribute handlers.
    <p class="Pp"></p>
    <pre>    package MyPack;
    use Attribute::Handlers;
    sub Wolf :ATTR(SCALAR) { print &quot;howl!\n&quot; }
    # later, in some package using or inheriting from MyPack...
    my MyPack $Fluffy : Wolf; # the attribute handler Wolf will be called
    </pre>
    <p class="Pp">Both variables and routines can have attribute handlers.
        Handlers can be specific to type (SCALAR, ARRAY, HASH, or CODE), or
        specific to the exact compilation phase (BEGIN, CHECK, INIT, or END).
        See Attribute::Handlers.</p>
  </li>
  <li><span class="Li">&quot;B::Concise&quot;</span>, by Stephen McCamant, is a
      new compiler backend for walking the Perl syntax tree, printing concise
      info about ops. The output is highly customisable. See B::Concise.
    [561+]</li>
  <li>The new bignum, bigint, and bigrat pragmas, by Tels, implement transparent
      bignum support (using the Math::BigInt, Math::BigFloat, and Math::BigRat
      backends).</li>
  <li><span class="Li">&quot;Class::ISA&quot;</span>, by Sean Burke, is a module
      for reporting the search path for a class's ISA tree. See Class::ISA.</li>
  <li><span class="Li">&quot;Cwd&quot;</span> now has a split personality: if
      possible, an XS extension is used, (this will hopefully be faster, more
      secure, and more robust) but if not possible, the familiar Perl
      implementation is used.</li>
  <li><span class="Li">&quot;Devel::PPPort&quot;</span>, originally by Kenneth
      Albanowski and now maintained by Paul Marquess, has been added. It is
      primarily used by <span class="Li">&quot;h2xs&quot;</span> to enhance
      portability of XS modules between different versions of Perl. See
      Devel::PPPort.</li>
  <li><span class="Li">&quot;Digest&quot;</span>, frontend module for
      calculating digests (checksums), from Gisle Aas, has been added. See
      Digest.</li>
  <li><span class="Li">&quot;Digest::MD5&quot;</span> for calculating MD5
      digests (checksums) as defined in RFC 1321, from Gisle Aas, has been
      added. See Digest::MD5.
    <p class="Pp"></p>
    <pre>    use Digest::MD5 'md5_hex';
    $digest = md5_hex(&quot;Thirsty Camel&quot;);
    print $digest, &quot;\n&quot;; # 01d19d9d2045e005c3f1b80e8b164de1
    </pre>
    <p class="Pp">NOTE: the <span class="Li">&quot;MD5&quot;</span> backward
        compatibility module is deliberately not included since its further use
        is discouraged.</p>
    <p class="Pp">See also PerlIO::via::QuotedPrint.</p>
  </li>
  <li><span class="Li">&quot;Encode&quot;</span>, originally by Nick Ing-Simmons
      and now maintained by Dan Kogai, provides a mechanism to translate between
      different character encodings. Support for Unicode, ISO-8859-1, and ASCII
      are compiled in to the module. Several other encodings (like the rest of
      the ISO-8859, CP*/Win*, Mac, KOI8-R, three variants EBCDIC, Chinese,
      Japanese, and Korean encodings) are included and can be loaded at runtime.
      (For space considerations, the largest Chinese encodings have been
      separated into their own CPAN module, Encode::HanExtra, which Encode will
      use if available). See Encode.
    <p class="Pp">Any encoding supported by Encode module is also available to
        the &quot;:<b>encoding()</b>&quot; layer if PerlIO is used.</p>
  </li>
  <li><span class="Li">&quot;Hash::Util&quot;</span> is the interface to the new
      <i>restricted hashes</i> feature. (Implemented by Jeffrey Friedl, Nick
      Ing-Simmons, and Michael Schwern.) See Hash::Util.</li>
  <li><span class="Li">&quot;I18N::Langinfo&quot;</span> can be used to query
      locale information. See I18N::Langinfo.</li>
  <li><span class="Li">&quot;I18N::LangTags&quot;</span>, by Sean Burke, has
      functions for dealing with RFC3066-style language tags. See
      I18N::LangTags.</li>
  <li><span class="Li">&quot;ExtUtils::Constant&quot;</span>, by Nicholas Clark,
      is a new tool for extension writers for generating XS code to import C
      header constants. See ExtUtils::Constant.</li>
  <li><span class="Li">&quot;Filter::Simple&quot;</span>, by Damian Conway, is
      an easy-to-use frontend to Filter::Util::Call. See Filter::Simple.
    <p class="Pp"></p>
    <pre>    # in MyFilter.pm:
    package MyFilter;
    use Filter::Simple sub {
        while (my ($from, $to) = splice @_, 0, 2) {
                s/$from/$to/g;
        }
    };
    1;
    # in user's code:
    use MyFilter qr/red/ =&gt; 'green';
    print &quot;red\n&quot;;   # this code is filtered, will print &quot;green\n&quot;
    print &quot;bored\n&quot;; # this code is filtered, will print &quot;bogreen\n&quot;
    no MyFilter;
    print &quot;red\n&quot;;   # this code is not filtered, will print &quot;red\n&quot;
    </pre>
  </li>
  <li><span class="Li">&quot;File::Temp&quot;</span>, by Tim Jenness, allows one
      to create temporary files and directories in an easy, portable, and secure
      way. See File::Temp. [561+]</li>
  <li><span class="Li">&quot;Filter::Util::Call&quot;</span>, by Paul Marquess,
      provides you with the framework to write <i>source filters</i> in Perl.
      For most uses, the frontend Filter::Simple is to be preferred. See
      Filter::Util::Call.</li>
  <li><span class="Li">&quot;if&quot;</span>, by Ilya Zakharevich, is a new
      pragma for conditional inclusion of modules.</li>
  <li>libnet, by Graham Barr, is a collection of perl5 modules related to
      network programming. See Net::FTP, Net::NNTP, Net::Ping (not part of
      libnet, but related), Net::POP3, Net::SMTP, and Net::Time.
    <p class="Pp">Perl installation leaves libnet unconfigured; use
        <i>libnetcfg</i> to configure it.</p>
  </li>
  <li><span class="Li">&quot;List::Util&quot;</span>, by Graham Barr, is a
      selection of general-utility list subroutines, such as <b>sum()</b>,
      <b>min()</b>, <b>first()</b>, and <b>shuffle()</b>. See List::Util.</li>
  <li><span class="Li">&quot;Locale::Constants&quot;</span>,
      <span class="Li">&quot;Locale::Country&quot;</span>,
      <span class="Li">&quot;Locale::Currency&quot;</span>
      <span class="Li">&quot;Locale::Language&quot;</span>, and Locale::Script,
      by Neil Bowers, have been added. They provide the codes for various locale
      standards, such as &quot;fr&quot; for France, &quot;usd&quot; for US
      Dollar, and &quot;ja&quot; for Japanese.
    <p class="Pp"></p>
    <pre>    use Locale::Country;
    $country = code2country('jp');               # $country gets 'Japan'
    $code    = country2code('Norway');           # $code gets 'no'
    </pre>
    <p class="Pp">See Locale::Constants, Locale::Country, Locale::Currency, and
        Locale::Language.</p>
  </li>
  <li><span class="Li">&quot;Locale::Maketext&quot;</span>, by Sean Burke, is a
      localization framework. See Locale::Maketext, and Locale::Maketext::TPJ13.
      The latter is an article about software localization, originally published
      in The Perl Journal #13, and republished here with kind permission.</li>
  <li><span class="Li">&quot;Math::BigRat&quot;</span> for big rational numbers,
      to accompany Math::BigInt and Math::BigFloat, from Tels. See
    Math::BigRat.</li>
  <li><span class="Li">&quot;Memoize&quot;</span> can make your functions faster
      by trading space for time, from Mark-Jason Dominus. See Memoize.</li>
  <li><span class="Li">&quot;MIME::Base64&quot;</span>, by Gisle Aas, allows you
      to encode data in base64, as defined in RFC 2045 - <i>MIME (Multipurpose
      Internet Mail</i> <i>Extensions)</i>.
    <p class="Pp"></p>
    <pre>    use MIME::Base64;
    $encoded = encode_base64('Aladdin:open sesame');
    $decoded = decode_base64($encoded);
    print $encoded, &quot;\n&quot;; # &quot;QWxhZGRpbjpvcGVuIHNlc2FtZQ==&quot;
    </pre>
    <p class="Pp">See MIME::Base64.</p>
  </li>
  <li><span class="Li">&quot;MIME::QuotedPrint&quot;</span>, by Gisle Aas,
      allows you to encode data in quoted-printable encoding, as defined in RFC
      2045 - <i>MIME</i> <i>(Multipurpose Internet Mail Extensions)</i>.
    <p class="Pp"></p>
    <pre>    use MIME::QuotedPrint;
    $encoded = encode_qp(&quot;\xDE\xAD\xBE\xEF&quot;);
    $decoded = decode_qp($encoded);
    print $encoded, &quot;\n&quot;; # &quot;=DE=AD=BE=EF\n&quot;
    print $decoded, &quot;\n&quot;; # &quot;\xDE\xAD\xBE\xEF\n&quot;
    </pre>
    <p class="Pp">See also PerlIO::via::QuotedPrint.</p>
  </li>
  <li><span class="Li">&quot;NEXT&quot;</span>, by Damian Conway, is a
      pseudo-class for method redispatch. See NEXT.</li>
  <li><span class="Li">&quot;open&quot;</span> is a new pragma for setting the
      default I/O layers for <b>open()</b>.</li>
  <li><span class="Li">&quot;PerlIO::scalar&quot;</span>, by Nick Ing-Simmons,
      provides the implementation of IO to &quot;in memory&quot; Perl scalars as
      discussed above. It also serves as an example of a loadable PerlIO layer.
      Other future possibilities include PerlIO::Array and PerlIO::Code. See
      PerlIO::scalar.</li>
  <li><span class="Li">&quot;PerlIO::via&quot;</span>, by Nick Ing-Simmons, acts
      as a PerlIO layer and wraps PerlIO layer functionality provided by a class
      (typically implemented in Perl code).</li>
  <li><span class="Li">&quot;PerlIO::via::QuotedPrint&quot;</span>, by Elizabeth
      Mattijsen, is an example of a
      <span class="Li">&quot;PerlIO::via&quot;</span> class:
    <p class="Pp"></p>
    <pre>    use PerlIO::via::QuotedPrint;
    open($fh,&quot;&gt;:via(QuotedPrint)&quot;,$path);
    </pre>
    <p class="Pp">This will automatically convert everything output to
        <span class="Li">$fh</span> to Quoted-Printable. See PerlIO::via and
        PerlIO::via::QuotedPrint.</p>
  </li>
  <li><span class="Li">&quot;Pod::ParseLink&quot;</span>, by Russ Allbery, has
      been added, to parse L&lt;&gt; links in pods as described in the new
      perlpodspec.</li>
  <li><span class="Li">&quot;Pod::Text::Overstrike&quot;</span>, by Joe Smith,
      has been added. It converts POD data to formatted overstrike text. See
      Pod::Text::Overstrike. [561+]</li>
  <li><span class="Li">&quot;Scalar::Util&quot;</span> is a selection of
      general-utility scalar subroutines, such as <b>blessed()</b>,
      <b>reftype()</b>, and <b>tainted()</b>. See Scalar::Util.</li>
  <li><span class="Li">&quot;sort&quot;</span> is a new pragma for controlling
      the behaviour of <b>sort()</b>.</li>
  <li><span class="Li">&quot;Storable&quot;</span> gives persistence to Perl
      data structures by allowing the storage and retrieval of Perl data to and
      from files in a fast and compact binary format. Because in effect Storable
      does serialisation of Perl data structures, with it you can also clone
      deep, hierarchical datastructures. Storable was originally created by
      Raphael Manfredi, but it is now maintained by Abhijit Menon-Sen. Storable
      has been enhanced to understand the two new hash features, Unicode keys
      and restricted hashes. See Storable.</li>
  <li><span class="Li">&quot;Switch&quot;</span>, by Damian Conway, has been
      added. Just by saying
    <p class="Pp"></p>
    <pre>    use Switch;
    </pre>
    <p class="Pp">you have <span class="Li">&quot;switch&quot;</span> and
        <span class="Li">&quot;case&quot;</span> available in Perl.</p>
    <p class="Pp"></p>
    <pre>    use Switch;
    switch ($val) {
                case 1          { print &quot;number 1&quot; }
                case &quot;a&quot;        { print &quot;string a&quot; }
                case [1..10,42] { print &quot;number in list&quot; }
                case (@array)   { print &quot;number in list&quot; }
                case /\w+/      { print &quot;pattern&quot; }
                case qr/\w+/    { print &quot;pattern&quot; }
                case (%hash)    { print &quot;entry in hash&quot; }
                case (\%hash)   { print &quot;entry in hash&quot; }
                case (\&amp;sub)    { print &quot;arg to subroutine&quot; }
                else            { print &quot;previous case not true&quot; }
    }
    </pre>
    <p class="Pp">See Switch.</p>
  </li>
  <li><span class="Li">&quot;Test::More&quot;</span>, by Michael Schwern, is yet
      another framework for writing test scripts, more extensive than
      Test::Simple. See Test::More.</li>
  <li><span class="Li">&quot;Test::Simple&quot;</span>, by Michael Schwern, has
      basic utilities for writing tests. See Test::Simple.</li>
  <li><span class="Li">&quot;Text::Balanced&quot;</span>, by Damian Conway, has
      been added, for extracting delimited text sequences from strings.
    <p class="Pp"></p>
    <pre>    use Text::Balanced 'extract_delimited';
    ($a, $b) = extract_delimited(&quot;'never say never', he never said&quot;, &quot;'&quot;, '');
    </pre>
    <p class="Pp"><span class="Li">$a</span> will be &quot;'never say
        never'&quot;, <span class="Li">$b</span> will be ', he never said'.</p>
    <p class="Pp">In addition to <b>extract_delimited()</b>, there are also
        <b>extract_bracketed()</b>, <b>extract_quotelike()</b>,
        <b>extract_codeblock()</b>, <b>extract_variable()</b>,
        <b>extract_tagged()</b>, <b>extract_multiple()</b>,
        <b>gen_delimited_pat()</b>, and <b>gen_extract_tagged()</b>. With these,
        you can implement rather advanced parsing algorithms. See
        Text::Balanced.</p>
  </li>
  <li><span class="Li">&quot;threads&quot;</span>, by Arthur Bergman, is an
      interface to interpreter threads. Interpreter threads (ithreads) is the
      new thread model introduced in Perl 5.6 but only available as an internal
      interface for extension writers (and for Win32 Perl for
      <span class="Li">&quot;fork()&quot;</span> emulation). See threads,
      threads::shared, and perlthrtut.</li>
  <li><span class="Li">&quot;threads::shared&quot;</span>, by Arthur Bergman,
      allows data sharing for interpreter threads. See threads::shared.</li>
  <li><span class="Li">&quot;Tie::File&quot;</span>, by Mark-Jason Dominus,
      associates a Perl array with the lines of a file. See Tie::File.</li>
  <li><span class="Li">&quot;Tie::Memoize&quot;</span>, by Ilya Zakharevich,
      provides on-demand loaded hashes. See Tie::Memoize.</li>
  <li><span class="Li">&quot;Tie::RefHash::Nestable&quot;</span>, by Edward
      Avis, allows storing hash references (unlike the standard Tie::RefHash)
      The module is contained within Tie::RefHash. See Tie::RefHash.</li>
  <li><span class="Li">&quot;Time::HiRes&quot;</span>, by Douglas E. Wegscheid,
      provides high resolution timing (ualarm, usleep, and gettimeofday). See
      Time::HiRes.</li>
  <li><span class="Li">&quot;Unicode::UCD&quot;</span> offers a querying
      interface to the Unicode Character Database. See Unicode::UCD.</li>
  <li><span class="Li">&quot;Unicode::Collate&quot;</span>, by SADAHIRO
      Tomoyuki, implements the UCA (Unicode Collation Algorithm) for sorting
      Unicode strings. See Unicode::Collate.</li>
  <li><span class="Li">&quot;Unicode::Normalize&quot;</span>, by SADAHIRO
      Tomoyuki, implements the various Unicode normalization forms. See
      Unicode::Normalize.</li>
  <li><span class="Li">&quot;XS::APItest&quot;</span>, by Tim Jenness, is a test
      extension that exercises XS APIs. Currently only
      <span class="Li">&quot;printf()&quot;</span> is tested: how to output
      various basic data types from XS.</li>
  <li><span class="Li">&quot;XS::Typemap&quot;</span>, by Tim Jenness, is a test
      extension that exercises XS typemaps. Nothing gets installed, but the code
      is worth studying for extension writers.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Updated_And_Improved_Modules_and_Pragmata"><a class="permalink" href="#Updated_And_Improved_Modules_and_Pragmata">Updated
  And Improved Modules and Pragmata</a></h2>
<ul class="Bl-bullet">
  <li>The following independently supported modules have been updated to the
      newest versions from CPAN: CGI, CPAN, DB_File, File::Spec, File::Temp,
      Getopt::Long, Math::BigFloat, Math::BigInt, the podlators bundle
      (Pod::Man, Pod::Text), Pod::LaTeX [561+], Pod::Parser, Storable,
      Term::ANSIColor, Test, Text-Tabs+Wrap.</li>
  <li><b>attributes::reftype()</b> now works on tied arguments.</li>
  <li>AutoLoader can now be disabled with <span class="Li">&quot;no
      AutoLoader;&quot;</span>.</li>
  <li>B::Deparse has been significantly enhanced by Robin Houston. It can now
      deparse almost all of the standard test suite (so that the tests still
      succeed). There is a make target &quot;test.deparse&quot; for trying this
      out.</li>
  <li>Carp now has better interface documentation, and the
      <span class="Li">@CARP_NOT</span> interface has been added to get optional
      control over where errors are reported independently of
      <span class="Li">@ISA</span>, by Ben Tilly.</li>
  <li>Class::Struct can now define the classes in compile time.</li>
  <li>Class::Struct now assigns the array/hash element if the accessor is called
      with an array/hash element as the <b>sole</b> argument.</li>
  <li>The return value of <b>Cwd::fastcwd()</b> is now tainted.</li>
  <li>Data::Dumper now has an option to sort hashes.</li>
  <li>Data::Dumper now has an option to dump code references using
    B::Deparse.</li>
  <li>DB_File now supports newer Berkeley DB versions, among other
    improvements.</li>
  <li>Devel::Peek now has an interface for the Perl memory statistics (this
      works only if you are using perl's malloc, and if you have compiled with
      debugging).</li>
  <li>The English module can now be used without the infamous performance hit by
      saying
    <p class="Pp"></p>
    <pre>        use English '-no_match_vars';
    </pre>
    <p class="Pp">(Assuming, of course, that you don't need the troublesome
        variables <span class="Li">&quot;$`&quot;</span>,
        <span class="Li">$&amp;</span>, or
        <span class="Li">&quot;$'&quot;</span>.) Also, introduced
        <span class="Li">@LAST_MATCH_START</span> and
        <span class="Li">@LAST_MATCH_END</span> English aliases for
        <span class="Li">&quot;@-&quot;</span> and
        <span class="Li">&quot;@+&quot;</span>.</p>
  </li>
  <li>ExtUtils::MakeMaker has been significantly cleaned up and fixed. The
      enhanced version has also been backported to earlier releases of Perl and
      submitted to CPAN so that the earlier releases can enjoy the fixes.</li>
  <li>The arguments of <b>WriteMakefile()</b> in Makefile.PL are now checked for
      sanity much more carefully than before. This may cause new warnings when
      modules are being installed. See ExtUtils::MakeMaker for more
    details.</li>
  <li>ExtUtils::MakeMaker now uses File::Spec internally, which hopefully leads
      to better portability.</li>
  <li>Fcntl, Socket, and Sys::Syslog have been rewritten by Nicholas Clark to
      use the new-style constant dispatch section (see ExtUtils::Constant). This
      means that they will be more robust and hopefully faster.</li>
  <li>File::Find now <b>chdir()</b>s correctly when chasing symbolic links.
      [561]</li>
  <li>File::Find now has pre- and post-processing callbacks. It also correctly
      changes directories when chasing symbolic links. Callbacks (naughtily)
      exiting with &quot;next;&quot; instead of &quot;return;&quot; now
    work.</li>
  <li>File::Find is now (again) reentrant. It also has been made more
    portable.</li>
  <li>The warnings issued by File::Find now belong to their own category. You
      can enable/disable them with <span class="Li">&quot;use/no warnings
      'File::Find';&quot;</span>.</li>
  <li><b>File::Glob::glob()</b> has been renamed to
      <b>File::Glob::bsd_glob()</b> because the name clashes with the builtin
      <b>glob()</b>. The older name is still available for compatibility, but is
      deprecated. [561]</li>
  <li>File::Glob now supports <span class="Li">&quot;GLOB_LIMIT&quot;</span>
      constant to limit the size of the returned list of filenames.</li>
  <li>IPC::Open3 now allows the use of numeric file descriptors.</li>
  <li>IO::Socket now has an <b>atmark()</b> method, which returns true if the
      socket is positioned at the out-of-band mark. The method is also
      exportable as a <b>sockatmark()</b> function.</li>
  <li>IO::Socket::INET failed to open the specified port if the service name was
      not known. It now correctly uses the supplied port number as is.
    [561]</li>
  <li>IO::Socket::INET has support for the ReusePort option (if your platform
      supports it). The Reuse option now has an alias, ReuseAddr. For clarity,
      you may want to prefer ReuseAddr.</li>
  <li>IO::Socket::INET now supports a value of zero for
      <span class="Li">&quot;LocalPort&quot;</span> (usually meaning that the
      operating system will make one up.)</li>
  <li>'use lib' now works identically to <span class="Li">@INC</span>. Removing
      directories with 'no lib' now works.</li>
  <li>Math::BigFloat and Math::BigInt have undergone a full rewrite by Tels.
      They are now magnitudes faster, and they support various bignum libraries
      such as GMP and PARI as their backends.</li>
  <li>Math::Complex handles inf, NaN etc., better.</li>
  <li>Net::Ping has been considerably enhanced by Rob Brown: multihoming is now
      supported, Win32 functionality is better, there is now time measuring
      functionality (optionally high-resolution using Time::HiRes), and there is
      now &quot;external&quot; protocol which uses Net::Ping::External module
      which runs your external ping utility and parses the output. A version of
      Net::Ping::External is available in CPAN.
    <p class="Pp">Note that some of the Net::Ping tests are disabled when
        running under the Perl distribution since one cannot assume one or more
        of the following: enabled echo port at localhost, full Internet
        connectivity, or sympathetic firewalls. You can set the environment
        variable PERL_TEST_Net_Ping to &quot;1&quot; (one) before running the
        Perl test suite to enable all the Net::Ping tests.</p>
  </li>
  <li><b>POSIX::sigaction()</b> is now much more flexible and robust. You can
      now install coderef handlers, 'DEFAULT', and 'IGNORE' handlers, installing
      new handlers was not atomic.</li>
  <li>In Safe, <span class="Li">%INC</span> is now localised in a Safe
      compartment so that use/require work.</li>
  <li>In SDBM_File on DOSish platforms, some keys went missing because of lack
      of support for files with &quot;holes&quot;. A workaround for the problem
      has been added.</li>
  <li>In Search::Dict one can now have a pre-processing hook for the lines being
      searched.</li>
  <li>The Shell module now has an OO interface.</li>
  <li>In Sys::Syslog there is now a failover mechanism that will go through
      alternative connection mechanisms until the message is successfully
      logged.</li>
  <li>The Test module has been significantly enhanced.</li>
  <li><b>Time::Local::timelocal()</b> does not handle fractional seconds
      anymore. The rationale is that neither does <b>localtime()</b>, and
      <b>timelocal()</b> and <b>localtime()</b> are supposed to be inverses of
      each other.</li>
  <li>The vars pragma now supports declaring fully qualified variables.
      (Something that <span class="Li">&quot;our()&quot;</span> does not and
      will not support.)</li>
  <li>The <span class="Li">&quot;utf8::&quot;</span> name space (as in the
      pragma) provides various Perl-callable functions to provide low level
      access to Perl's internal Unicode representation. At the moment only
      <b>length()</b> has been implemented.</li>
</ul>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Utility_Changes"><a class="permalink" href="#Utility_Changes">Utility
  Changes</a></h1>
<ul class="Bl-bullet">
  <li>Emacs perl mode (emacs/cperl-mode.el) has been updated to version
    4.31.</li>
  <li><i>emacs/e2ctags.pl</i> is now much faster.</li>
  <li><span class="Li">&quot;enc2xs&quot;</span> is a tool for people adding
      their own encodings to the Encode module.</li>
  <li><span class="Li">&quot;h2ph&quot;</span> now supports C trigraphs.</li>
  <li><span class="Li">&quot;h2xs&quot;</span> now produces a template
    README.</li>
  <li><span class="Li">&quot;h2xs&quot;</span> now uses
      <span class="Li">&quot;Devel::PPPort&quot;</span> for better portability
      between different versions of Perl.</li>
  <li><span class="Li">&quot;h2xs&quot;</span> uses the new ExtUtils::Constant
      module which will affect newly created extensions that define constants.
      Since the new code is more correct (if you have two constants where the
      first one is a prefix of the second one, the first constant <b>never</b>
      got defined), less lossy (it uses integers for integer constant, as
      opposed to the old code that used floating point numbers even for integer
      constants), and slightly faster, you might want to consider regenerating
      your extension code (the new scheme makes regenerating easy). h2xs now
      also supports C trigraphs.</li>
  <li><span class="Li">&quot;libnetcfg&quot;</span> has been added to configure
      libnet.</li>
  <li><span class="Li">&quot;perlbug&quot;</span> is now much more robust. It
      also sends the bug report to perl.org, not perl.com.</li>
  <li><span class="Li">&quot;perlcc&quot;</span> has been rewritten and its user
      interface (that is, command line) is much more like that of the Unix C
      compiler, cc. (The perlbc tools has been removed. Use
      <span class="Li">&quot;perlcc -B&quot;</span> instead.) <b>Note that
      perlcc is still considered very experimental and</b> <b>unsupported.</b>
      [561]</li>
  <li><span class="Li">&quot;perlivp&quot;</span> is a new Installation
      Verification Procedure utility for running any time after installing
    Perl.</li>
  <li><span class="Li">&quot;piconv&quot;</span> is an implementation of the
      character conversion utility <span class="Li">&quot;iconv&quot;</span>,
      demonstrating the new Encode module.</li>
  <li><span class="Li">&quot;pod2html&quot;</span> now allows specifying a cache
      directory.</li>
  <li><span class="Li">&quot;pod2html&quot;</span> now produces XHTML 1.0.</li>
  <li><span class="Li">&quot;pod2html&quot;</span> now understands POD written
      using different line endings (PC-like CRLF versus Unix-like LF versus
      MacClassic-like CR).</li>
  <li><span class="Li">&quot;s2p&quot;</span> has been completely rewritten in
      Perl. (It is in fact a full implementation of sed in Perl: you can use the
      sed functionality by using the <span class="Li">&quot;psed&quot;</span>
      utility.)</li>
  <li><span class="Li">&quot;xsubpp&quot;</span> now understands POD
      documentation embedded in the *.xs files. [561]</li>
  <li><span class="Li">&quot;xsubpp&quot;</span> now supports the OUT
    keyword.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="New_Documentation"><a class="permalink" href="#New_Documentation">New
  Documentation</a></h1>
<ul class="Bl-bullet">
  <li>perl56delta details the changes between the 5.005 release and the 5.6.0
      release.</li>
  <li>perlclib documents the internal replacements for standard C library
      functions. (Interesting only for extension writers and Perl core hackers.)
      [561+]</li>
  <li>perldebtut is a Perl debugging tutorial. [561+]</li>
  <li>perlebcdic contains considerations for running Perl on EBCDIC platforms.
      [561+]</li>
  <li>perlintro is a gentle introduction to Perl.</li>
  <li>perliol documents the internals of PerlIO with layers.</li>
  <li>perlmodstyle is a style guide for writing modules.</li>
  <li>perlnewmod tells about writing and submitting a new module. [561+]</li>
  <li>perlpacktut is a <b>pack()</b> tutorial.</li>
  <li>perlpod has been rewritten to be clearer and to record the best practices
      gathered over the years.</li>
  <li>perlpodspec is a more formal specification of the pod format, mainly of
      interest for writers of pod applications, not to people writing in
    pod.</li>
  <li>perlretut is a regular expression tutorial. [561+]</li>
  <li>perlrequick is a regular expressions quick-start guide. Yes, much quicker
      than perlretut. [561]</li>
  <li>perltodo has been updated.</li>
  <li>perltootc has been renamed as perltooc (to not to conflict with perltoot
      in filesystems restricted to &quot;8.3&quot; names).</li>
  <li>perluniintro is an introduction to using Unicode in Perl. (perlunicode is
      more of a detailed reference and background information)</li>
  <li>perlutil explains the command line utilities packaged with the Perl
      distribution. [561+]</li>
</ul>
<p class="Pp">The following platform-specific documents are available before the
    installation as README.<i>platform</i>, and after the installation as
    perl<i>platform</i>:</p>
<p class="Pp"></p>
<pre>    perlaix perlamiga perlapollo perlbeos perlbs2000
    perlce perlcygwin perldgux perldos perlepoc perlfreebsd perlhpux
    perlhurd perlirix perlmachten perlmacos perlmint perlmpeix
    perlnetware perlos2 perlos390 perlplan9 perlqnx perlsolaris
    perltru64 perluts perlvmesa perlvms perlvos perlwin32
</pre>
<p class="Pp">These documents usually detail one or more of the following
    subjects: configuring, building, testing, installing, and sometimes also
    using Perl on the said platform.</p>
<p class="Pp">Eastern Asian Perl users are now welcomed in their own languages:
    README.jp (Japanese), README.ko (Korean), README.cn (simplified Chinese) and
    README.tw (traditional Chinese), which are written in normal pod but encoded
    in EUC-JP, EUC-KR, EUC-CN and Big5. These will get installed as</p>
<p class="Pp"></p>
<pre>   perljp perlko perlcn perltw
</pre>
<ul class="Bl-bullet">
  <li>The documentation for the POSIX-BC platform is called &quot;BS2000&quot;,
      to avoid confusion with the Perl POSIX module.</li>
  <li>The documentation for the WinCE platform is called perlce (README.ce in
      the source code kit), to avoid confusion with the perlwin32 documentation
      on 8.3-restricted filesystems.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Performance_Enhancements"><a class="permalink" href="#Performance_Enhancements">Performance
  Enhancements</a></h1>
<ul class="Bl-bullet">
  <li><b>map()</b> could get pathologically slow when the result list it
      generates is larger than the source list. The performance has been
      improved for common scenarios. [561]</li>
  <li><b>sort()</b> is also fully reentrant, in the sense that the sort function
      can itself call <b>sort()</b>. This did not work reliably in previous
      releases. [561]</li>
  <li><b>sort()</b> has been changed to use primarily mergesort internally as
      opposed to the earlier quicksort. For very small lists this may result in
      slightly slower sorting times, but in general the speedup should be at
      least 20%. Additional bonuses are that the worst case behaviour of
      <b>sort()</b> is now better (in computer science terms it now runs in time
      O(N log N), as opposed to quicksort's Theta(N**2) worst-case run time
      behaviour), and that <b>sort()</b> is now stable (meaning that elements
      with identical keys will stay ordered as they were before the sort). See
      the <span class="Li">&quot;sort&quot;</span> pragma for information.
    <p class="Pp">The story in more detail: suppose you want to serve yourself a
        little slice of Pi.</p>
    <p class="Pp"></p>
    <pre>    @digits = ( 3,1,4,1,5,9 );
    </pre>
    <p class="Pp">A numerical sort of the digits will yield (1,1,3,4,5,9), as
        expected. Which <span class="Li">1</span> comes first is hard to know,
        since one <span class="Li">1</span> looks pretty much like any other.
        You can regard this as totally trivial, or somewhat profound. However,
        if you just want to sort the even digits ahead of the odd ones, then
        what will</p>
    <p class="Pp"></p>
    <pre>    sort { ($a % 2) &lt;=&gt; ($b % 2) } @digits;
    </pre>
    <p class="Pp">yield? The only even digit, <span class="Li">4</span>, will
        come first. But how about the odd numbers, which all compare equal? With
        the quicksort algorithm used to implement Perl 5.6 and earlier, the
        order of ties is left up to the sort. So, as you add more and more
        digits of Pi, the order in which the sorted even and odd digits appear
        will change. and, for sufficiently large slices of Pi, the quicksort
        algorithm in Perl 5.8 won't return the same results even if reinvoked
        with the same input. The justification for this rests with quicksort's
        worst case behavior. If you run</p>
    <p class="Pp"></p>
    <pre>   sort { $a &lt;=&gt; $b } ( 1 .. $N , 1 .. $N );
    </pre>
    <p class="Pp">(something you might approximate if you wanted to merge two
        sorted arrays using sort), doubling <span class="Li">$N</span> doesn't
        just double the quicksort time, it <i>quadruples</i> it. Quicksort has a
        worst case run time that can grow like N**2, so-called <i>quadratic</i>
        behaviour, and it can happen on patterns that may well arise in normal
        use. You won't notice this for small arrays, but you <i>will</i> notice
        it with larger arrays, and you may not live long enough for the sort to
        complete on arrays of a million elements. So the 5.8 quicksort scrambles
        large arrays before sorting them, as a statistical defence against
        quadratic behaviour. But that means if you sort the same large array
        twice, ties may be broken in different ways.</p>
    <p class="Pp">Because of the unpredictability of tie-breaking order, and the
        quadratic worst-case behaviour, quicksort was <i>almost</i> replaced
        completely with a stable mergesort. <i>Stable</i> means that ties are
        broken to preserve the original order of appearance in the input array.
        So</p>
    <p class="Pp"></p>
    <pre>    sort { ($a % 2) &lt;=&gt; ($b % 2) } (3,1,4,1,5,9);
    </pre>
    <p class="Pp">will yield (4,3,1,1,5,9), guaranteed. The even and odd numbers
        appear in the output in the same order they appeared in the input.
        Mergesort has worst case O(N log N) behaviour, the best value
        attainable. And, ironically, this mergesort does particularly well where
        quicksort goes quadratic: mergesort sorts (1..$N, 1..$N) in O(N) time.
        But quicksort was rescued at the last moment because it is faster than
        mergesort on certain inputs and platforms. For example, if you really
        <i>don't</i> care about the order of even and odd digits, quicksort will
        run in O(N) time; it's very good at sorting many repetitions of a small
        number of distinct elements. The quicksort divide and conquer strategy
        works well on platforms with relatively small, very fast, caches.
        Eventually, the problem gets whittled down to one that fits in the
        cache, from which point it benefits from the increased memory speed.</p>
    <p class="Pp">Quicksort was rescued by implementing a sort pragma to control
        aspects of the sort. The <b>stable</b> subpragma forces stable
        behaviour, regardless of algorithm. The <b>_quicksort</b> and
        <b>_mergesort</b> subpragmas are heavy-handed ways to select the
        underlying implementation. The leading
        <span class="Li">&quot;_&quot;</span> is a reminder that these
        subpragmas may not survive beyond 5.8. More appropriate mechanisms for
        selecting the implementation exist, but they wouldn't have arrived in
        time to save quicksort.</p>
  </li>
  <li>Hashes now use Bob Jenkins &quot;One-at-a-Time&quot; hashing key algorithm
      ( http://burtleburtle.net/bob/hash/doobs.html ). This algorithm is
      reasonably fast while producing a much better spread of values than the
      old hashing algorithm (originally by Chris Torek, later tweaked by Ilya
      Zakharevich). Hash values output from the algorithm on a hash of all
      3-char printable ASCII keys comes much closer to passing the DIEHARD
      random number generation tests. According to perlbench, this change has
      not affected the overall speed of Perl.</li>
  <li><b>unshift()</b> should now be noticeably faster.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Installation_and_Configuration_Improvements"><a class="permalink" href="#Installation_and_Configuration_Improvements">Installation
  and Configuration Improvements</a></h1>
<section class="Ss">
<h2 class="Ss" id="Generic_Improvements"><a class="permalink" href="#Generic_Improvements">Generic
  Improvements</a></h2>
<ul class="Bl-bullet">
  <li>INSTALL now explains how you can configure Perl to use 64-bit integers
      even on non-64-bit platforms.</li>
  <li>Policy.sh policy change: if you are reusing a Policy.sh file (see INSTALL)
      and you use Configure -Dprefix=/foo/bar and in the old Policy
      <span class="Li">$prefix</span> eq <span class="Li">$siteprefix</span> and
      <span class="Li">$prefix</span> eq <span class="Li">$vendorprefix</span>,
      all of them will now be changed to the new prefix, /foo/bar. (Previously
      only <span class="Li">$prefix</span> changed.) If you do not like this new
      behaviour, specify prefix, siteprefix, and vendorprefix explicitly.</li>
  <li>A new optional location for Perl libraries, otherlibdirs, is available. It
      can be used for example for vendor add-ons without disturbing Perl's own
      library directories.</li>
  <li>In many platforms, the vendor-supplied 'cc' is too stripped-down to build
      Perl (basically, 'cc' doesn't do ANSI C). If this seems to be the case and
      'cc' does not seem to be the GNU C compiler 'gcc', an automatic attempt is
      made to find and use 'gcc' instead.</li>
  <li>gcc needs to closely track the operating system release to avoid build
      problems. If Configure finds that gcc was built for a different operating
      system release than is running, it now gives a clearly visible warning
      that there may be trouble ahead.</li>
  <li>Since Perl 5.8 is not binary-compatible with previous releases of Perl,
      Configure no longer suggests including the 5.005 modules in
      <span class="Li">@INC</span>.</li>
  <li>Configure <span class="Li">&quot;-S&quot;</span> can now run
      non-interactively. [561]</li>
  <li>Configure support for pdp11-style memory models has been removed due to
      obsolescence. [561]</li>
  <li>configure.gnu now works with options with whitespace in them.</li>
  <li>installperl now outputs everything to STDERR.</li>
  <li>Because PerlIO is now the default on most platforms, &quot;-perlio&quot;
      doesn't get appended to the <span class="Li">$Config</span>{archname}
      (also known as $^O) anymore. Instead, if you explicitly choose not to use
      perlio (Configure command line option -Uuseperlio), you will get
      &quot;-stdio&quot; appended.</li>
  <li>Another change related to the architecture name is that &quot;-64all&quot;
      (-Duse64bitall, or &quot;maximally 64-bit&quot;) is appended only if your
      pointers are 64 bits wide. (To be exact, the use64bitall is ignored.)</li>
  <li>In AFS installations, one can configure the root of the AFS to be
      somewhere else than the default <i>/afs</i> by using the Configure
      parameter
    <span class="Li">&quot;-Dafsroot=/some/where/else&quot;</span>.</li>
  <li>APPLLIB_EXP, a lesser-known configuration-time definition, has been
      documented. It can be used to prepend site-specific directories to Perl's
      default search path (@INC); see INSTALL for information.</li>
  <li>The version of Berkeley DB used when the Perl (and, presumably, the
      DB_File extension) was built is now available as
      <span class="Li">@Config{qw(db_version_major db_version_minor
      db_version_patch)}</span> from Perl and as
      <span class="Li">&quot;DB_VERSION_MAJOR_CFG DB_VERSION_MINOR_CFG</span>
      <span class="Li">DB_VERSION_PATCH_CFG&quot;</span> from C.</li>
  <li>Building Berkeley DB3 for compatibility modes for DB, NDBM, and ODBM has
      been documented in INSTALL.</li>
  <li>If you have CPAN access (either network or a local copy such as a CD-ROM)
      you can during specify extra modules to Configure to build and install
      with Perl using the -Dextras=... option. See INSTALL for more
    details.</li>
  <li>In addition to config.over, a new override file, config.arch, is
      available. This file is supposed to be used by hints file writers for
      architecture-wide changes (as opposed to config.over which is for
      site-wide changes).</li>
  <li>If your file system supports symbolic links, you can build Perl outside of
      the source directory by
    <p class="Pp"></p>
    <pre>        mkdir perl/build/directory
        cd perl/build/directory
        sh /path/to/perl/source/Configure -Dmksymlinks ...
    </pre>
    <p class="Pp">This will create in perl/build/directory a tree of symbolic
        links pointing to files in /path/to/perl/source. The original files are
        left unaffected. After Configure has finished, you can just say</p>
    <p class="Pp"></p>
    <pre>        make all test
    </pre>
    <p class="Pp">and Perl will be built and tested, all in
        perl/build/directory. [561]</p>
  </li>
  <li>For Perl developers, several new make targets for profiling and debugging
      have been added; see perlhack.</li>
</ul>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>Use of the <i>gprof</i> tool to profile Perl has been documented in
      perlhack. There is a make target called &quot;perl.gprof&quot; for
      generating a gprofiled Perl executable.</li>
  <li>If you have GCC 3, there is a make target called &quot;perl.gcov&quot; for
      creating a gcoved Perl executable for coverage analysis. See
    perlhack.</li>
  <li>If you are on IRIX or Tru64 platforms, new profiling/debugging options
      have been added; see perlhack for more information about pixie and Third
      Degree.</li>
</ul>
</div>
<div class="Bd-indent"></div>
<ul class="Bl-bullet">
  <li>Guidelines of how to construct minimal Perl installations have been added
      to INSTALL.</li>
  <li>The Thread extension is now not built at all under ithreads
      (<span class="Li">&quot;Configure -Duseithreads&quot;</span>) because it
      wouldn't work anyway (the Thread extension requires being Configured with
      <span class="Li">&quot;-Duse5005threads&quot;</span>).
    <p class="Pp"><b>Note that the 5.005 threads are unsupported and deprecated:
        if you</b> <b>have code written for the old threads you should migrate
        it to the</b> <b>new ithreads model.</b></p>
  </li>
  <li>The Gconvert macro ($Config{d_Gconvert}) used by perl for stringifying
      floating-point numbers is now more picky about using sprintf %.*g rules
      for the conversion. Some platforms that used to use gcvt may now resort to
      the slower sprintf.</li>
  <li>The obsolete method of making a special (e.g., debugging) flavor of perl
      by saying
    <p class="Pp"></p>
    <pre>        make LIBPERL=libperld.a
    </pre>
    <p class="Pp">has been removed. Use -DDEBUGGING instead.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="New_Or_Improved_Platforms"><a class="permalink" href="#New_Or_Improved_Platforms">New
  Or Improved Platforms</a></h2>
<p class="Pp">For the list of platforms known to support Perl, see
    &quot;Supported Platforms&quot; in perlport.</p>
<ul class="Bl-bullet">
  <li>AIX dynamic loading should be now better supported.</li>
  <li>AIX should now work better with gcc, threads, and 64-bitness. Also the
      long doubles support in AIX should be better now. See perlaix.</li>
  <li>AtheOS ( http://www.atheos.cx/ ) is a new platform.</li>
  <li>BeOS has been reclaimed.</li>
  <li>The DG/UX platform now supports 5.005-style threads. See perldgux.</li>
  <li>The DYNIX/ptx platform (also known as dynixptx) is supported at or near
      osvers 4.5.2.</li>
  <li>EBCDIC platforms (z/OS (also known as OS/390), POSIX-BC, and VM/ESA) have
      been regained. Many test suite tests still fail and the co-existence of
      Unicode and EBCDIC isn't quite settled, but the situation is much better
      than with Perl 5.6. See perlos390, perlbs2000 (for POSIX-BC), and
      perlvmesa for more information. (<b>Note:</b> support for VM/ESA was
      removed in Perl v5.18.0. The relevant information was in
      <i>README.vmesa</i>)</li>
  <li>Building perl with -Duseithreads or -Duse5005threads now works under HP-UX
      10.20 (previously it only worked under 10.30 or later). You will need a
      thread library package installed. See README.hpux. [561]</li>
  <li>Mac OS Classic is now supported in the mainstream source package (MacPerl
      has of course been available since perl 5.004 but now the source code
      bases of standard Perl and MacPerl have been synchronised) [561]</li>
  <li>Mac OS X (or Darwin) should now be able to build Perl even on HFS+
      filesystems. (The case-insensitivity used to confuse the Perl build
      process.)</li>
  <li>NCR MP-RAS is now supported. [561]</li>
  <li>All the NetBSD specific patches (except for the installation specific
      ones) have been merged back to the main distribution.</li>
  <li>NetWare from Novell is now supported. See perlnetware.</li>
  <li>NonStop-UX is now supported. [561]</li>
  <li>NEC SUPER-UX is now supported.</li>
  <li>All the OpenBSD specific patches (except for the installation specific
      ones) have been merged back to the main distribution.</li>
  <li>Perl has been tested with the GNU pth userlevel thread package (
      http://www.gnu.org/software/pth/pth.html ). All thread tests of Perl now
      work, but not without adding some <b>yield()</b>s to the tests, so while
      pth (and other userlevel thread implementations) can be considered to be
      &quot;working&quot; with Perl ithreads, keep in mind the possible
      non-preemptability of the underlying thread implementation.</li>
  <li>Stratus VOS is now supported using Perl's native build method (Configure).
      This is the recommended method to build Perl on VOS. The older methods,
      which build miniperl, are still available. See perlvos. [561+]</li>
  <li>The Amdahl UTS Unix mainframe platform is now supported. [561]</li>
  <li>WinCE is now supported. See perlce.</li>
  <li>z/OS (formerly known as OS/390, formerly known as MVS OE) now has support
      for dynamic loading. This is not selected by default, however, you must
      specify -Dusedl in the arguments of Configure. [561]</li>
</ul>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Selected_Bug_Fixes"><a class="permalink" href="#Selected_Bug_Fixes">Selected
  Bug Fixes</a></h1>
<p class="Pp">Numerous memory leaks and uninitialized memory accesses have been
    hunted down. Most importantly, anonymous subs used to leak quite a bit.
    [561]</p>
<ul class="Bl-bullet">
  <li>The autouse pragma didn't work for Multi::Part::Function::Names.</li>
  <li><b>caller()</b> could cause core dumps in certain situations. Carp was
      sometimes affected by this problem. In particular, <b>caller()</b> now
      returns a subroutine name of <span class="Li">&quot;(unknown)&quot;</span>
      for subroutines that have been removed from the symbol table.</li>
  <li>chop(@list) in list context returned the characters chopped in reverse
      order. This has been reversed to be in the right order. [561]</li>
  <li>Configure no longer includes the DBM libraries (dbm, gdbm, db, ndbm) when
      building the Perl binary. The only exception to this is SunOS 4.x, which
      needs them. [561]</li>
  <li>The behaviour of non-decimal but numeric string constants such as
      &quot;0x23&quot; was platform-dependent: in some platforms that was seen
      as 35, in some as 0, in some as a floating point number (don't ask). This
      was caused by Perl's using the operating system libraries in a situation
      where the result of the string to number conversion is undefined: now Perl
      consistently handles such strings as zero in numeric contexts.</li>
  <li>Several debugger fixes: exit code now reflects the script exit code,
      condition <span class="Li">&quot;0&quot;</span> now treated correctly, the
      <span class="Li">&quot;d&quot;</span> command now checks line number,
      <span class="Li">$.</span> no longer gets corrupted, and all debugger
      output now goes correctly to the socket if RemotePort is set. [561]</li>
  <li>The debugger (perl5db.pl) has been modified to present a more consistent
      commands interface, via (CommandSet=580). perl5db.t was also added to test
      the changes, and as a placeholder for further tests.
    <p class="Pp">See perldebug.</p>
  </li>
  <li>The debugger has a new <span class="Li">&quot;dumpDepth&quot;</span>
      option to control the maximum depth to which nested structures are dumped.
      The <span class="Li">&quot;x&quot;</span> command has been extended so
      that <span class="Li">&quot;x N EXPR&quot;</span> dumps out the value of
      <i>EXPR</i> to a depth of at most <i>N</i> levels.</li>
  <li>The debugger can now show lexical variables if you have the CPAN module
      PadWalker installed.</li>
  <li>The order of DESTROYs has been made more predictable.</li>
  <li>Perl 5.6.0 could emit spurious warnings about redefinition of
      <b>dl_error()</b> when statically building extensions into perl. This has
      been corrected. [561]</li>
  <li>dprofpp -R didn't work.</li>
  <li><span class="Li">*foo{FORMAT}</span> now works.</li>
  <li>Infinity is now recognized as a number.</li>
  <li>UNIVERSAL::isa no longer caches methods incorrectly. (This broke the Tk
      extension with 5.6.0.) [561]</li>
  <li>Lexicals I: lexicals outside an eval &quot;&quot; weren't resolved
      correctly inside a subroutine definition inside the eval &quot;&quot; if
      they were not already referenced in the top level of the
      eval&quot;&quot;ed code.</li>
  <li>Lexicals II: lexicals leaked at file scope into subroutines that were
      declared before the lexicals.</li>
  <li>Lexical warnings now propagating correctly between scopes and into
      <span class="Li">&quot;eval &quot;...&quot;&quot;</span>.</li>
  <li><span class="Li">&quot;use warnings qw(FATAL all)&quot;</span> did not
      work as intended. This has been corrected. [561]</li>
  <li><b>warnings::enabled()</b> now reports the state of $^W correctly if the
      caller isn't using lexical warnings. [561]</li>
  <li>Line renumbering with eval and <span class="Li">&quot;#line&quot;</span>
      now works. [561]</li>
  <li>Fixed numerous memory leaks, especially in eval &quot;&quot;.</li>
  <li>Localised tied variables no longer leak memory
    <p class="Pp"></p>
    <pre>    use Tie::Hash;
    tie my %tied_hash =&gt; 'Tie::StdHash';
    ...
    # Used to leak memory every time local() was called;
    # in a loop, this added up.
    local($tied_hash{Foo}) = 1;
    </pre>
  </li>
  <li>Localised hash elements (and <span class="Li">%ENV</span>) are correctly
      unlocalised to not exist, if they didn't before they were localised.
    <p class="Pp"></p>
    <pre>    use Tie::Hash;
    tie my %tied_hash =&gt; 'Tie::StdHash';
    ...
    # Nothing has set the FOO element so far
    { local $tied_hash{FOO} = 'Bar' }
    # This used to print, but not now.
    print &quot;exists!\n&quot; if exists $tied_hash{FOO};
    </pre>
    <p class="Pp">As a side effect of this fix, tied hash interfaces <b>must</b>
        define the EXISTS and DELETE methods.</p>
  </li>
  <li><b>mkdir()</b> now ignores trailing slashes in the directory name, as
      mandated by POSIX.</li>
  <li>Some versions of glibc have a broken <b>modfl()</b>. This affects builds
      with <span class="Li">&quot;-Duselongdouble&quot;</span>. This version of
      Perl detects this brokenness and has a workaround for it. The glibc
      release 2.2.2 is known to have fixed the <b>modfl()</b> bug.</li>
  <li>Modulus of unsigned numbers now works (4063328477 % 65535 used to return
      27406, instead of 27047). [561]</li>
  <li>Some &quot;not a number&quot; warnings introduced in 5.6.0 eliminated to
      be more compatible with 5.005. Infinity is now recognised as a number.
      [561]</li>
  <li>Numeric conversions did not recognize changes in the string value properly
      in certain circumstances. [561]</li>
  <li>Attributes (such as :shared) didn't work with <b>our()</b>.</li>
  <li><b>our()</b> variables will not cause bogus &quot;Variable will not stay
      shared&quot; warnings. [561]</li>
  <li>&quot;our&quot; variables of the same name declared in two sibling blocks
      resulted in bogus warnings about &quot;redeclaration&quot; of the
      variables. The problem has been corrected. [561]</li>
  <li>pack &quot;Z&quot; now correctly terminates the string with
      &quot;\0&quot;.</li>
  <li>Fix password routines which in some shadow password platforms (e.g. HP-UX)
      caused <b>getpwent()</b> to return every other entry.</li>
  <li>The PERL5OPT environment variable (for passing command line arguments to
      Perl) didn't work for more than a single group of options. [561]</li>
  <li>PERL5OPT with embedded spaces didn't work.</li>
  <li><b>printf()</b> no longer resets the numeric locale to &quot;C&quot;.</li>
  <li><span class="Li">&quot;qw(a\\b)&quot;</span> now parses correctly as
      <span class="Li">'a\\b'</span>: that is, as three characters, not four.
      [561]</li>
  <li><b>pos()</b> did not return the correct value within s///ge in earlier
      versions. This is now handled correctly. [561]</li>
  <li>Printing quads (64-bit integers) with printf/sprintf now works without the
      q L ll prefixes (assuming you are on a quad-capable platform).</li>
  <li>Regular expressions on references and overloaded scalars now work.
    [561+]</li>
  <li>Right-hand side magic (GMAGIC) could in many cases such as string
      concatenation be invoked too many times.</li>
  <li><b>scalar()</b> now forces scalar context even when used in void
    context.</li>
  <li>SOCKS support is now much more robust.</li>
  <li><b>sort()</b> arguments are now compiled in the right wantarray context
      (they were accidentally using the context of the <b>sort()</b> itself).
      The comparison block is now run in scalar context, and the arguments to be
      sorted are always provided list context. [561]</li>
  <li>Changed the POSIX character class
      <span class="Li">&quot;[[:space:]]&quot;</span> to include the (very
      rarely used) vertical tab character. Added a new POSIX-ish character class
      <span class="Li">&quot;[[:blank:]]&quot;</span> which stands for
      horizontal whitespace (currently, the space and the tab).</li>
  <li>The tainting behaviour of <b>sprintf()</b> has been rationalized. It does
      not taint the result of floating point formats anymore, making the
      behaviour consistent with that of string interpolation. [561]</li>
  <li>Some cases of inconsistent taint propagation (such as within hash values)
      have been fixed.</li>
  <li>The RE engine found in Perl 5.6.0 accidentally pessimised certain kinds of
      simple pattern matches. These are now handled better. [561]</li>
  <li>Regular expression debug output (whether through
      <span class="Li">&quot;use re 'debug'&quot;</span> or via
      <span class="Li">&quot;-Dr&quot;</span>) now looks better. [561]</li>
  <li>Multi-line matches like <span class="Li">&quot;&quot;a\nxb\n&quot; =~
      /(?!\A)x/m&quot;</span> were flawed. The bug has been fixed. [561]</li>
  <li>Use of $&amp; could trigger a core dump under some situations. This is now
      avoided. [561]</li>
  <li>The regular expression captured submatches ($1,
      <span class="Li">$2</span>, ...) are now more consistently unset if the
      match fails, instead of leaving false data lying around in them.
    [561]</li>
  <li><b>readline()</b> on files opened in &quot;slurp&quot; mode could return
      an extra &quot;&quot; (blank line) at the end in certain situations. This
      has been corrected. [561]</li>
  <li>Autovivification of symbolic references of special variables described in
      perlvar (as in <span class="Li">&quot;${$num}&quot;</span>) was
      accidentally disabled. This works again now. [561]</li>
  <li>Sys::Syslog ignored the <span class="Li">&quot;LOG_AUTH&quot;</span>
      constant.</li>
  <li><span class="Li">$AUTOLOAD</span>, <b>sort()</b>, <b>lock()</b>, and
      spawning subprocesses in multiple threads simultaneously are now
      thread-safe.</li>
  <li>Tie::Array's SPLICE method was broken.</li>
  <li>Allow a read-only string on the left-hand side of a non-modifying
    tr///.</li>
  <li>If <span class="Li">&quot;STDERR&quot;</span> is tied, warnings caused by
      <span class="Li">&quot;warn&quot;</span> and
      <span class="Li">&quot;die&quot;</span> now correctly pass to it.</li>
  <li>Several Unicode fixes.</li>
</ul>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>BOMs (byte order marks) at the beginning of Perl files (scripts, modules)
      should now be transparently skipped. UTF-16 and UCS-2 encoded Perl files
      should now be read correctly.</li>
  <li>The character tables have been updated to Unicode 3.2.0.</li>
  <li>Comparing with utf8 data does not magically upgrade non-utf8 data into
      utf8. (This was a problem for example if you were mixing data from I/O and
      Unicode data: your output might have got magically encoded as UTF-8.)</li>
  <li>Generating illegal Unicode code points such as U+FFFE, or the UTF-16
      surrogates, now also generates an optional warning.</li>
  <li><span class="Li">&quot;IsAlnum&quot;</span>,
      <span class="Li">&quot;IsAlpha&quot;</span>, and
      <span class="Li">&quot;IsWord&quot;</span> now match titlecase.</li>
  <li>Concatenation with the <span class="Li">&quot;.&quot;</span> operator or
      via variable interpolation, <span class="Li">&quot;eq&quot;</span>,
      <span class="Li">&quot;substr&quot;</span>,
      <span class="Li">&quot;reverse&quot;</span>,
      <span class="Li">&quot;quotemeta&quot;</span>, the
      <span class="Li">&quot;x&quot;</span> operator, substitution with
      <span class="Li">&quot;s///&quot;</span>, single-quoted UTF-8, should now
      work.</li>
  <li>The <span class="Li">&quot;tr///&quot;</span> operator now works. Note
      that the <span class="Li">&quot;tr///CU&quot;</span> functionality has
      been removed (but see pack('U0', ...)).</li>
  <li><span class="Li">&quot;eval &quot;v200&quot;&quot;</span> now works.</li>
  <li>Perl 5.6.0 parsed m/\x{ab}/ incorrectly, leading to spurious warnings.
      This has been corrected. [561]</li>
  <li>Zero entries were missing from the Unicode classes such as
      <span class="Li">&quot;IsDigit&quot;</span>.</li>
</ul>
</div>
<div class="Bd-indent"></div>
<ul class="Bl-bullet">
  <li>Large unsigned numbers (those above 2**31) could sometimes lose their
      unsignedness, causing bogus results in arithmetic operations. [561]</li>
  <li>The Perl parser has been stress tested using both random input and Markov
      chain input and the few found crashes and lockups have been fixed.</li>
</ul>
<section class="Ss">
<h2 class="Ss" id="Platform_Specific_Changes_and_Fixes"><a class="permalink" href="#Platform_Specific_Changes_and_Fixes">Platform
  Specific Changes and Fixes</a></h2>
<ul class="Bl-bullet">
  <li>BSDI 4.*
    <p class="Pp">Perl now works on post-4.0 BSD/OSes.</p>
  </li>
  <li>All BSDs
    <p class="Pp">Setting <span class="Li">$0</span> now works (as much as
        possible; see perlvar for details).</p>
  </li>
  <li>Cygwin
    <p class="Pp">Numerous updates; currently synchronised with Cygwin
      1.3.10.</p>
  </li>
  <li>Previously DYNIX/ptx had problems in its Configure probe for non-blocking
      I/O.</li>
  <li>EPOC
    <p class="Pp">EPOC now better supported. See README.epoc. [561]</p>
  </li>
  <li>FreeBSD 3.*
    <p class="Pp">Perl now works on post-3.0 FreeBSDs.</p>
  </li>
  <li>HP-UX
    <p class="Pp">README.hpux updated; <span class="Li">&quot;Configure
        -Duse64bitall&quot;</span> now works; now uses HP-UX malloc instead of
        Perl malloc.</p>
  </li>
  <li>IRIX
    <p class="Pp">Numerous compilation flag and hint enhancements; accidental
        mixing of 32-bit and 64-bit libraries (a doomed attempt) made much
        harder.</p>
  </li>
  <li>Linux</li>
</ul>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>Long doubles should now work (see INSTALL). [561]</li>
  <li>Linux previously had problems related to sockaddrlen when using
      <b>accept()</b>, <b>recvfrom()</b> (in Perl: <b>recv()</b>),
      <b>getpeername()</b>, and <b>getsockname()</b>.</li>
</ul>
</div>
<div class="Bd-indent"></div>
<ul class="Bl-bullet">
  <li>Mac OS Classic
    <p class="Pp">Compilation of the standard Perl distribution in Mac OS
        Classic should now work if you have the Metrowerks development
        environment and the missing Mac-specific toolkit bits. Contact the
        macperl mailing list for details.</p>
  </li>
  <li>MPE/iX
    <p class="Pp">MPE/iX update after Perl 5.6.0. See README.mpeix. [561]</p>
  </li>
  <li>NetBSD/threads: try installing the GNU pth (should be in the packages
      collection, or http://www.gnu.org/software/pth/), and Configure with
      -Duseithreads.</li>
  <li>NetBSD/sparc
    <p class="Pp">Perl now works on NetBSD/sparc.</p>
  </li>
  <li>OS/2
    <p class="Pp">Now works with usethreads (see INSTALL). [561]</p>
  </li>
  <li>Solaris
    <p class="Pp">64-bitness using the Sun Workshop compiler now works.</p>
  </li>
  <li>Stratus VOS
    <p class="Pp">The native build method requires at least VOS Release 14.5.0
        and GNU C++/GNU Tools 2.0.1 or later. The Perl pack function now maps
        overflowed values to +infinity and underflowed values to -infinity.</p>
  </li>
  <li>Tru64 (aka Digital UNIX, aka DEC OSF/1)
    <p class="Pp">The operating system version letter now recorded in
        <span class="Li">$Config</span>{osvers}. Allow compiling with gcc
        (previously explicitly forbidden). Compiling with gcc still not
        recommended because buggy code results, even with gcc 2.95.2.</p>
  </li>
  <li>Unicos
    <p class="Pp">Fixed various alignment problems that lead into core dumps
        either during build or later; no longer dies on math errors at runtime;
        now using full quad integers (64 bits), previously was using only 46 bit
        integers for speed.</p>
  </li>
  <li>VMS
    <p class="Pp">See &quot;Socket Extension Dynamic in VMS&quot; and
        &quot;IEEE-format Floating Point Default on OpenVMS Alpha&quot; for
        important changes not otherwise listed here.</p>
    <p class="Pp"><b>chdir()</b> now works better despite a CRT bug; now works
        with MULTIPLICITY (see INSTALL); now works with Perl's malloc.</p>
    <p class="Pp">The tainting of <span class="Li">%ENV</span> elements via
        <span class="Li">&quot;keys&quot;</span> or
        <span class="Li">&quot;values&quot;</span> was previously unimplemented.
        It now works as documented.</p>
    <p class="Pp">The <span class="Li">&quot;waitpid&quot;</span> emulation has
        been improved. The worst bug (now fixed) was that a pid of -1 would
        cause a wildcard search of all processes on the system.</p>
    <p class="Pp">POSIX-style signals are now emulated much better on VMS
        versions prior to 7.0.</p>
    <p class="Pp">The <span class="Li">&quot;system&quot;</span> function and
        backticks operator have improved functionality and better error
        handling. [561]</p>
    <p class="Pp">File access tests now use current process privileges rather
        than the user's default privileges, which could sometimes result in a
        mismatch between reported access and actual access. This improvement is
        only available on VMS v6.0 and later.</p>
    <p class="Pp">There is a new <span class="Li">&quot;kill&quot;</span>
        implementation based on <span class="Li">&quot;sys$sigprc&quot;</span>
        that allows older VMS systems (pre-7.0) to use
        <span class="Li">&quot;kill&quot;</span> to send signals rather than
        simply force exit. This implementation also allows later systems to call
        <span class="Li">&quot;kill&quot;</span> from within a signal
      handler.</p>
    <p class="Pp">Iterative logical name translations are now limited to 10
        iterations in imitation of SHOW LOGICAL and other OpenVMS
      facilities.</p>
  </li>
  <li>Windows</li>
</ul>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>Signal handling now works better than it used to. It is now implemented
      using a Windows message loop, and is therefore less prone to random
      crashes.</li>
  <li><b>fork()</b> emulation is now more robust, but still continues to have a
      few esoteric bugs and caveats. See perlfork for details. [561+]</li>
  <li>A failed (pseudo)fork now returns undef and sets errno to EAGAIN.
    [561]</li>
  <li>The following modules now work on Windows:
    <p class="Pp"></p>
    <pre>    ExtUtils::Embed         [561]
    IO::Pipe
    IO::Poll
    Net::Ping
    </pre>
  </li>
  <li><b>IO::File::new_tmpfile()</b> is no longer limited to 32767 invocations
      per-process.</li>
  <li>Better <b>chdir()</b> return value for a non-existent directory.</li>
  <li>Compiling perl using the 64-bit Platform SDK tools is now supported.</li>
  <li>The <b>Win32::SetChildShowWindow()</b> builtin can be used to control the
      visibility of windows created by child processes. See Win32 for
    details.</li>
  <li>Non-blocking waits for child processes (or pseudo-processes) are supported
      via <span class="Li">&quot;waitpid($pid,
      &amp;POSIX::WNOHANG)&quot;</span>.</li>
  <li>The behavior of <b>system()</b> with multiple arguments has been
      rationalized. Each unquoted argument will be automatically quoted to
      protect whitespace, and any existing whitespace in the arguments will be
      preserved. This improves the portability of system(@args) by avoiding the
      need for Windows <span class="Li">&quot;cmd&quot;</span> shell specific
      quoting in perl programs.
    <p class="Pp">Note that this means that some scripts that may have relied on
        earlier buggy behavior may no longer work correctly. For example,
        <span class="Li">&quot;system(&quot;nmake /nologo&quot;,
        @args)&quot;</span> will now attempt to run the file
        <span class="Li">&quot;nmake /nologo&quot;</span> and will fail when
        such a file isn't found. On the other hand, perl will now execute code
        such as <span class="Li">&quot;system(&quot;c:/Program
        Files/MyApp/foo.exe&quot;, @args)&quot;</span> correctly.</p>
  </li>
  <li>The perl header files no longer suppress common warnings from the
      Microsoft Visual C++ compiler. This means that additional warnings may now
      show up when compiling XS code.</li>
  <li>Borland C++ v5.5 is now a supported compiler that can build Perl. However,
      the generated binaries continue to be incompatible with those generated by
      the other supported compilers (GCC and Visual C++). [561]</li>
  <li>Duping socket handles with open(F, &quot;&gt;&amp;MYSOCK&quot;) now works
      under Windows 9x. [561]</li>
  <li>Current directory entries in <span class="Li">%ENV</span> are now
      correctly propagated to child processes. [561]</li>
  <li>New <span class="Li">%ENV</span> entries now propagate to subprocesses.
      [561]</li>
  <li><b>Win32::GetCwd()</b> correctly returns C:\ instead of C: when at the
      drive root. Other bugs in <b>chdir()</b> and <b>Cwd::cwd()</b> have also
      been fixed. [561]</li>
  <li>The makefiles now default to the features enabled in ActiveState
      ActivePerl (a popular Win32 binary distribution). [561]</li>
  <li>HTML files will now be installed in c:\perl\html instead of
      c:\perl\lib\pod\html</li>
  <li>REG_EXPAND_SZ keys are now allowed in registry settings used by perl.
      [561]</li>
  <li>Can now <b>send()</b> from all threads, not just the first one. [561]</li>
  <li>ExtUtils::MakeMaker now uses <span class="Li">$ENV</span>{LIB} to search
      for libraries. [561]</li>
  <li>Less stack reserved per thread so that more threads can run concurrently.
      (Still 16M per thread.) [561]</li>
  <li><span class="Li">&quot;File::Spec-&gt;tmpdir()&quot;</span> now prefers
      C:/temp over /tmp (works better when perl is running as service).</li>
  <li>Better UNC path handling under ithreads. [561]</li>
  <li><b>wait()</b>, <b>waitpid()</b>, and backticks now return the correct exit
      status under Windows 9x. [561]</li>
  <li>A socket handle leak in <b>accept()</b> has been fixed. [561]</li>
</ul>
</div>
<div class="Bd-indent"></div>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="New_or_Changed_Diagnostics"><a class="permalink" href="#New_or_Changed_Diagnostics">New
  or Changed Diagnostics</a></h1>
<p class="Pp">Please see perldiag for more details.</p>
<ul class="Bl-bullet">
  <li>Ambiguous range in the transliteration operator (like a-z-9) now gives a
      warning.</li>
  <li>chdir(&quot;&quot;) and chdir(undef) now give a deprecation warning
      because they cause a possible unintentional chdir to the home directory.
      Say <b>chdir()</b> if you really mean that.</li>
  <li>Two new debugging options have been added: if you have compiled your Perl
      with debugging, you can use the -DT [561] and -DR options to trace
      tokenising and to add reference counts to displaying variables,
      respectively.</li>
  <li>The lexical warnings category &quot;deprecated&quot; is no longer a
      sub-category of the &quot;syntax&quot; category. It is now a top-level
      category in its own right.</li>
  <li>Unadorned <b>dump()</b> will now give a warning suggesting to use explicit
      <b>CORE::dump()</b> if that's what really is meant.</li>
  <li>The &quot;Unrecognized escape&quot; warning has been extended to include
      <span class="Li">&quot;\8&quot;</span>,
      <span class="Li">&quot;\9&quot;</span>, and
      <span class="Li">&quot;\_&quot;</span>. There is no need to escape any of
      the <span class="Li">&quot;\w&quot;</span> characters.</li>
  <li>All regular expression compilation error messages are now hopefully easier
      to understand both because the error message now comes before the failed
      regex and because the point of failure is now clearly marked by a
      <span class="Li">&quot;&lt;-- HERE&quot;</span> marker.</li>
  <li>Various I/O (and socket) functions like <b>binmode()</b>, <b>close()</b>,
      and so forth now more consistently warn if they are used illogically
      either on a yet unopened or on an already closed filehandle (or
    socket).</li>
  <li>Using <b>lstat()</b> on a filehandle now gives a warning. (It's a
      non-sensical thing to do.)</li>
  <li>The <span class="Li">&quot;-M&quot;</span> and
      <span class="Li">&quot;-m&quot;</span> options now warn if you didn't
      supply the module name.</li>
  <li>If you in <span class="Li">&quot;use&quot;</span> specify a required
      minimum version, modules matching the name and but not defining a
      <span class="Li">$VERSION</span> will cause a fatal failure.</li>
  <li>Using negative offset for <b>vec()</b> in lvalue context is now a warnable
      offense.</li>
  <li>Odd number of arguments to overload::constant now elicits a warning.</li>
  <li>Odd number of elements in anonymous hash now elicits a warning.</li>
  <li>The various &quot;opened only for&quot;, &quot;on closed&quot;,
      &quot;never opened&quot; warnings drop the
      <span class="Li">&quot;main::&quot;</span> prefix for filehandles in the
      <span class="Li">&quot;main&quot;</span> package, for example
      <span class="Li">&quot;STDIN&quot;</span> instead of
      <span class="Li">&quot;main::STDIN&quot;</span>.</li>
  <li>Subroutine prototypes are now checked more carefully, you may get warnings
      for example if you have used non-prototype characters.</li>
  <li>If an attempt to use a (non-blessed) reference as an array index is made,
      a warning is given.</li>
  <li><span class="Li">&quot;push @a;&quot;</span> and
      <span class="Li">&quot;unshift @a;&quot;</span> (with no values to push or
      unshift) now give a warning. This may be a problem for generated and
      eval'ed code.</li>
  <li>If you try to &quot;pack&quot; in perlfunc a number less than 0 or larger
      than 255 using the <span class="Li">&quot;C&quot;</span> format you will
      get an optional warning. Similarly for the
      <span class="Li">&quot;c&quot;</span> format and a number less than -128
      or more than 127.</li>
  <li>pack <span class="Li">&quot;P&quot;</span> format now demands an explicit
      size.</li>
  <li>unpack <span class="Li">&quot;w&quot;</span> now warns of unterminated
      compressed integers.</li>
  <li>Warnings relating to the use of PerlIO have been added.</li>
  <li>Certain regex modifiers such as <span class="Li">&quot;(?o)&quot;</span>
      make sense only if applied to the entire regex. You will get an optional
      warning if you try to do otherwise.</li>
  <li>Variable length lookbehind has not yet been implemented, trying to use it
      will tell that.</li>
  <li>Using arrays or hashes as references (e.g.
      <span class="Li">&quot;%foo-&gt;{bar}&quot;</span> has been deprecated for
      a while. Now you will get an optional warning.</li>
  <li>Warnings relating to the use of the new restricted hashes feature have
      been added.</li>
  <li>Self-ties of arrays and hashes are not supported and fatal errors will
      happen even at an attempt to do so.</li>
  <li>Using <span class="Li">&quot;sort&quot;</span> in scalar context now
      issues an optional warning. This didn't do anything useful, as the sort
      was not performed.</li>
  <li>Using the /g modifier in <b>split()</b> is meaningless and will cause a
      warning.</li>
  <li>Using <b>splice()</b> past the end of an array now causes a warning.</li>
  <li>Malformed Unicode encodings (UTF-8 and UTF-16) cause a lot of warnings, as
      does trying to use UTF-16 surrogates (which are unimplemented).</li>
  <li>Trying to use Unicode characters on an I/O stream without marking the
      stream's encoding (using <b>open()</b> or <b>binmode()</b>) will cause
      &quot;Wide character&quot; warnings.</li>
  <li>Use of v-strings in use/require causes a (backward) portability
    warning.</li>
  <li>Warnings relating to the use interpreter threads and their shared data
      have been added.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Changed_Internals"><a class="permalink" href="#Changed_Internals">Changed
  Internals</a></h1>
<ul class="Bl-bullet">
  <li>PerlIO is now the default.</li>
  <li>perlapi.pod (a companion to perlguts) now attempts to document the
      internal API.</li>
  <li>You can now build a really minimal perl called microperl. Building
      microperl does not require even running Configure;
      <span class="Li">&quot;make -f Makefile.micro&quot;</span> should be
      enough. Beware: microperl makes many assumptions, some of which may be too
      bold; the resulting executable may crash or otherwise misbehave in
      wondrous ways. For careful hackers only.</li>
  <li>Added <b>rsignal()</b>, <b>whichsig()</b>, <b>do_join()</b>, op_clear,
      op_null, <b>ptr_table_clear()</b>, <b>ptr_table_free()</b>,
      <b>sv_setref_uv()</b>, and several UTF-8 interfaces to the publicised API.
      For the full list of the available APIs see perlapi.</li>
  <li>Made possible to propagate customised exceptions via
    <b>croak()</b>ing.</li>
  <li>Now xsubs can have attributes just like subs. (Well, at least the built-in
      attributes.)</li>
  <li>dTHR and djSP have been obsoleted; the former removed (because it's a
      no-op) and the latter replaced with dSP.</li>
  <li>PERL_OBJECT has been completely removed.</li>
  <li>The MAGIC constants (e.g. <span class="Li">'P'</span>) have been macrofied
      (e.g. <span class="Li">&quot;PERL_MAGIC_TIED&quot;</span>) for better
      source code readability and maintainability.</li>
  <li>The regex compiler now maintains a structure that identifies nodes in the
      compiled bytecode with the corresponding syntactic features of the
      original regex expression. The information is attached to the new
      <span class="Li">&quot;offsets&quot;</span> member of the
      <span class="Li">&quot;struct regexp&quot;</span>. See perldebguts for
      more complete information.</li>
  <li>The C code has been made much more <span class="Li">&quot;gcc
      -Wall&quot;</span> clean. Some warning messages still remain in some
      platforms, so if you are compiling with gcc you may see some warnings
      about dubious practices. The warnings are being worked on.</li>
  <li><i>perly.c</i>, <i>sv.c</i>, and <i>sv.h</i> have now been extensively
      commented.</li>
  <li>Documentation on how to use the Perl source repository has been added to
      <i>Porting/repository.pod</i>.</li>
  <li>There are now several profiling make targets.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Security_Vulnerability_Closed__561_"><a class="permalink" href="#Security_Vulnerability_Closed__561_">Security
  Vulnerability Closed [561]</a></h1>
<p class="Pp">(This change was already made in 5.7.0 but bears repeating here.)
    (5.7.0 came out before 5.6.1: the development branch 5.7 released earlier
    than the maintenance branch 5.6)</p>
<p class="Pp">A potential security vulnerability in the optional suidperl
    component of Perl was identified in August 2000. suidperl is neither built
    nor installed by default. As of November 2001 the only known vulnerable
    platform is Linux, most likely all Linux distributions. CERT and various
    vendors and distributors have been alerted about the vulnerability. See
    http://www.cpan.org/src/5.0/sperl-2000-08-05/sperl-2000-08-05.txt for more
    information.</p>
<p class="Pp">The problem was caused by Perl trying to report a suspected
    security exploit attempt using an external program, /bin/mail. On Linux
    platforms the /bin/mail program had an undocumented feature which when
    combined with suidperl gave access to a root shell, resulting in a serious
    compromise instead of reporting the exploit attempt. If you don't have
    /bin/mail, or if you have 'safe setuid scripts', or if suidperl is not
    installed, you are safe.</p>
<p class="Pp">The exploit attempt reporting feature has been completely removed
    from Perl 5.8.0 (and the maintenance release 5.6.1, and it was removed also
    from all the Perl 5.7 releases), so that particular vulnerability isn't
    there anymore. However, further security vulnerabilities are, unfortunately,
    always possible. The suidperl functionality is most probably going to be
    removed in Perl 5.10. In any case, suidperl should only be used by security
    experts who know exactly what they are doing and why they are using suidperl
    instead of some other solution such as sudo ( see
    http://www.courtesan.com/sudo/ ).</p>
</section>
<section class="Sh">
<h1 class="Sh" id="New_Tests"><a class="permalink" href="#New_Tests">New
  Tests</a></h1>
<p class="Pp">Several new tests have been added, especially for the <i>lib</i>
    and <i>ext</i> subsections. There are now about 69 000 individual tests
    (spread over about 700 test scripts), in the regression suite (5.6.1 has
    about 11 700 tests, in 258 test scripts) The exact numbers depend on the
    platform and Perl configuration used. Many of the new tests are of course
    introduced by the new modules, but still in general Perl is now more
    thoroughly tested.</p>
<p class="Pp">Because of the large number of tests, running the regression suite
    will take considerably longer time than it used to: expect the suite to take
    up to 4-5 times longer to run than in perl 5.6. On a really fast machine you
    can hope to finish the suite in about 6-8 minutes (wallclock time).</p>
<p class="Pp">The tests are now reported in a different order than in earlier
    Perls. (This happens because the test scripts from under t/lib have been
    moved to be closer to the library/extension they are testing.)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Known_Problems"><a class="permalink" href="#Known_Problems">Known
  Problems</a></h1>
<section class="Ss">
<h2 class="Ss" id="The_Compiler_Suite_Is_Still_Very_Experimental"><a class="permalink" href="#The_Compiler_Suite_Is_Still_Very_Experimental">The
  Compiler Suite Is Still Very Experimental</a></h2>
<p class="Pp">The compiler suite is slowly getting better but it continues to be
    highly experimental. Use in production environments is discouraged.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Localising_Tied_Arrays_and_Hashes_Is_Broken"><a class="permalink" href="#Localising_Tied_Arrays_and_Hashes_Is_Broken">Localising
  Tied Arrays and Hashes Is Broken</a></h2>
<pre>    local %tied_array;
</pre>
<p class="Pp">doesn't work as one would expect: the old value is restored
    incorrectly. This will be changed in a future release, but we don't know yet
    what the new semantics will exactly be. In any case, the change will break
    existing code that relies on the current (ill-defined) semantics, so just
    avoid doing this in general.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Building_Extensions_Can_Fail_Because_Of_Largefiles"><a class="permalink" href="#Building_Extensions_Can_Fail_Because_Of_Largefiles">Building
  Extensions Can Fail Because Of Largefiles</a></h2>
<p class="Pp">Some extensions like mod_perl are known to have issues with
    `largefiles', a change brought by Perl 5.6.0 in which file offsets default
    to 64 bits wide, where supported. Modules may fail to compile at all, or
    they may compile and work incorrectly. Currently, there is no good solution
    for the problem, but Configure now provides appropriate non-largefile
    ccflags, ldflags, libswanted, and libs in the
    <span class="Li">%Config</span> hash (e.g.,
    <span class="Li">$Config</span>{ccflags_nolargefiles}) so the extensions
    that are having problems can try configuring themselves without the
    largefileness. This is admittedly not a clean solution, and the solution may
    not even work at all. One potential failure is whether one can (or, if one
    can, whether it's a good idea to) link together at all binaries with
    different ideas about file offsets; all this is platform-dependent.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Modifying_$__Inside_for(..)"><a class="permalink" href="#Modifying_$__Inside_for(..)">Modifying
  $_ Inside for(..)</a></h2>
<pre>   for (1..5) { $_++ }
</pre>
<p class="Pp">works without complaint. It shouldn't. (You should be able to
    modify only lvalue elements inside the loops.) You can see the correct
    behaviour by replacing the 1..5 with 1, 2, 3, 4, 5.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="mod_perl_1.26_Doesn't_Build_With_Threaded_Perl"><a class="permalink" href="#mod_perl_1.26_Doesn't_Build_With_Threaded_Perl">mod_perl
  1.26 Doesn't Build With Threaded Perl</a></h2>
<p class="Pp">Use mod_perl 1.27 or higher.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="lib/ftmp"><a class="permalink" href="#lib/ftmp">lib/ftmp-security
  tests warn 'system possibly insecure'</a></h2>
<p class="Pp">Don't panic. Read the 'make test' section of INSTALL instead.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="libwww-perl_("><a class="permalink" href="#libwww-perl_(">libwww-perl
  (LWP) fails base/date #51</a></h2>
<p class="Pp">Use libwww-perl 5.65 or later.</p>
</section>
<section class="Ss">
<h2 class="Ss">PDL failing some tests</h2>
<p class="Pp">Use PDL 2.3.4 or later.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Perl_get_sv"><a class="permalink" href="#Perl_get_sv">Perl_get_sv</a></h2>
<p class="Pp">You may get errors like 'Undefined symbol &quot;Perl_get_sv&quot;'
    or &quot;can't resolve symbol 'Perl_get_sv'&quot;, or the symbol may be
    &quot;Perl_sv_2pv&quot;. This probably means that you are trying to use an
    older shared Perl library (or extensions linked with such) with Perl 5.8.0
    executable. Perl used to have such a subroutine, but that is no more the
    case. Check your shared library path, and any shared Perl libraries in those
    directories.</p>
<p class="Pp">Sometimes this problem may also indicate a partial Perl 5.8.0
    installation, see &quot;Mac OS X dyld undefined symbols&quot; for an example
    and how to deal with it.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Self-tying_Problems"><a class="permalink" href="#Self-tying_Problems">Self-tying
  Problems</a></h2>
<p class="Pp">Self-tying of arrays and hashes is broken in rather deep and
    hard-to-fix ways. As a stop-gap measure to avoid people from getting
    frustrated at the mysterious results (core dumps, most often), it is
    forbidden for now (you will get a fatal error even from an attempt).</p>
<p class="Pp">A change to self-tying of globs has caused them to be recursively
    referenced (see: &quot;Two-Phased Garbage Collection&quot; in perlobj). You
    will now need an explicit untie to destroy a self-tied glob. This behaviour
    may be fixed at a later date.</p>
<p class="Pp">Self-tying of scalars and IO thingies works.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="ext/threads/t/libc"><a class="permalink" href="#ext/threads/t/libc">ext/threads/t/libc</a></h2>
<p class="Pp">If this test fails, it indicates that your libc (C library) is not
    threadsafe. This particular test stress tests the <b>localtime()</b> call to
    find out whether it is threadsafe. See perlthrtut for more information.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Failure_of_Thread_(5.005"><a class="permalink" href="#Failure_of_Thread_(5.005">Failure
  of Thread (5.005-style) tests</a></h2>
<p class="Pp"><b>Note that support for 5.005-style threading is deprecated,</b>
    <b>experimental and practically unsupported. In 5.10, it is expected</b>
    <b>to be removed. You should migrate your code to ithreads.</b></p>
<p class="Pp">The following tests are known to fail due to fundamental problems
    in the 5.005 threading implementation. These are not new failures--Perl
    5.005_0x has the same bugs, but didn't have these tests.</p>
<p class="Pp"></p>
<pre> ../ext/B/t/xref.t                    255 65280    14   12  85.71%  3-14
 ../ext/List/Util/t/first.t           255 65280     7    4  57.14%  2 5-7
 ../lib/English.t                       2   512    54    2   3.70%  2-3
 ../lib/FileCache.t                                 5    1  20.00%  5
 ../lib/Filter/Simple/t/data.t                      6    3  50.00%  1-3
 ../lib/Filter/Simple/t/filter_only.                9    3  33.33%  1-2 5
 ../lib/Math/BigInt/t/bare_mbf.t                 1627    4   0.25%  8 11 1626-1627
 ../lib/Math/BigInt/t/bigfltpm.t                 1629    4   0.25%  10 13 1628-
                                                                    1629
 ../lib/Math/BigInt/t/sub_mbf.t                  1633    4   0.24%  8 11 1632-1633
 ../lib/Math/BigInt/t/with_sub.t                 1628    4   0.25%  9 12 1627-1628
 ../lib/Tie/File/t/31_autodefer.t     255 65280    65   32  49.23%  34-65
 ../lib/autouse.t                                  10    1  10.00%  4
 op/flip.t                                         15    1   6.67%  15
</pre>
<p class="Pp">These failures are unlikely to get fixed as 5.005-style threads
    are considered fundamentally broken. (Basically what happens is that
    competing threads can corrupt shared global state, one good example being
    regular expression engine's state.)</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Timing_problems"><a class="permalink" href="#Timing_problems">Timing
  problems</a></h2>
<p class="Pp">The following tests may fail intermittently because of timing
    problems, for example if the system is heavily loaded.</p>
<p class="Pp"></p>
<pre>    t/op/alarm.t
    ext/Time/HiRes/HiRes.t
    lib/Benchmark.t
    lib/Memoize/t/expmod_t.t
    lib/Memoize/t/speed.t
</pre>
<p class="Pp">In case of failure please try running them manually, for
  example</p>
<p class="Pp"></p>
<pre>    ./perl -Ilib ext/Time/HiRes/HiRes.t
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Tied/Magical_Array/Hash_Elements_Do_Not_Autovivify"><a class="permalink" href="#Tied/Magical_Array/Hash_Elements_Do_Not_Autovivify">Tied/Magical
  Array/Hash Elements Do Not Autovivify</a></h2>
<p class="Pp">For normal arrays <span class="Li">&quot;$foo =
    \$bar[1]&quot;</span> will assign <span class="Li">&quot;undef&quot;</span>
    to <span class="Li">$bar[1]</span> (assuming that it didn't exist before),
    but for tied/magical arrays and hashes such autovivification does not happen
    because there is currently no way to catch the reference creation. The same
    problem affects slicing over non-existent indices/keys of a tied/magical
    array/hash.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Unicode_in_package/class_and_subroutine_names_does_not_work"><a class="permalink" href="#Unicode_in_package/class_and_subroutine_names_does_not_work">Unicode
  in package/class and subroutine names does not work</a></h2>
<p class="Pp">One can have Unicode in identifier names, but not in package/class
    or subroutine names. While some limited functionality towards this does
    exist as of Perl 5.8.0, that is more accidental than designed; use of
    Unicode for the said purposes is unsupported.</p>
<p class="Pp">One reason of this unfinishedness is its (currently) inherent
    unportability: since both package names and subroutine names may need to be
    mapped to file and directory names, the Unicode capability of the filesystem
    becomes important-- and there unfortunately aren't portable answers.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Platform_Specific_Problems"><a class="permalink" href="#Platform_Specific_Problems">Platform
  Specific Problems</a></h1>
<section class="Ss">
<h2 class="Ss">AIX</h2>
<ul class="Bl-bullet">
  <li>If using the AIX native make command, instead of just &quot;make&quot;
      issue &quot;make all&quot;. In some setups the former has been known to
      spuriously also try to run &quot;make install&quot;. Alternatively, you
      may want to use GNU make.</li>
  <li>In AIX 4.2, Perl extensions that use C++ functions that use statics may
      have problems in that the statics are not getting initialized. In newer
      AIX releases, this has been solved by linking Perl with the libC_r
      library, but unfortunately in AIX 4.2 the said library has an obscure bug
      where the various functions related to time (such as <b>time()</b> and
      <b>gettimeofday()</b>) return broken values, and therefore in AIX 4.2 Perl
      is not linked against libC_r.</li>
  <li>vac 5.0.0.0 May Produce Buggy Code For Perl
    <p class="Pp">The AIX C compiler vac version 5.0.0.0 may produce buggy code,
        resulting in a few random tests failing when run as part of &quot;make
        test&quot;, but when the failing tests are run by hand, they succeed. We
        suggest upgrading to at least vac version 5.0.1.0, that has been known
        to compile Perl correctly. &quot;lslpp -L|grep vac.C&quot; will tell you
        the vac version. See README.aix.</p>
  </li>
  <li>If building threaded Perl, you may get compilation warning from pp_sys.c:
    <p class="Pp"></p>
    <pre>  &quot;pp_sys.c&quot;, line 4651.39: 1506-280 (W) Function argument assignment between types &quot;unsigned char*&quot; and &quot;const void*&quot; is not allowed.
    </pre>
    <p class="Pp">This is harmless; it is caused by the <b>getnetbyaddr()</b>
        and <b>getnetbyaddr_r()</b> having slightly different types for their
        first argument.</p>
  </li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Alpha_systems_with_old_gccs_fail_several_tests"><a class="permalink" href="#Alpha_systems_with_old_gccs_fail_several_tests">Alpha
  systems with old gccs fail several tests</a></h2>
<p class="Pp">If you see op/pack, op/pat, op/regexp, or ext/Storable tests
    failing in a Linux/alpha or *BSD/Alpha, it's probably time to upgrade your
    gcc. gccs prior to 2.95.3 are definitely not good enough, and gcc 3.1 may be
    even better. (RedHat Linux/alpha with gcc 3.1 reported no problems, as did
    Linux 2.4.18 with gcc 2.95.4.) (In Tru64, it is preferable to use the
    bundled C compiler.)</p>
</section>
<section class="Ss">
<h2 class="Ss" id="AmigaOS"><a class="permalink" href="#AmigaOS">AmigaOS</a></h2>
<p class="Pp">Perl 5.8.0 doesn't build in AmigaOS. It broke at some point during
    the ithreads work and we could not find Amiga experts to unbreak the
    problems. Perl 5.6.1 still works for AmigaOS (as does the 5.7.2 development
    release).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="BeOS"><a class="permalink" href="#BeOS">BeOS</a></h2>
<p class="Pp">The following tests fail on 5.8.0 Perl in BeOS Personal 5.03:</p>
<p class="Pp"></p>
<pre> t/op/lfs............................FAILED at test 17
 t/op/magic..........................FAILED at test 24
 ext/Fcntl/t/syslfs..................FAILED at test 17
 ext/File/Glob/t/basic...............FAILED at test 3
 ext/POSIX/t/sigaction...............FAILED at test 13
 ext/POSIX/t/waitpid.................FAILED at test 1
</pre>
<p class="Pp">(<b>Note:</b> more information was available in <i>README.beos</i>
    until support for BeOS was removed in Perl v5.18.0)</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Cygwin__unable_to_remap_"><a class="permalink" href="#Cygwin__unable_to_remap_">Cygwin
  &quot;unable to remap&quot;</a></h2>
<p class="Pp">For example when building the Tk extension for Cygwin, you may get
    an error message saying &quot;unable to remap&quot;. This is known problem
    with Cygwin, and a workaround is detailed in here:
    http://sources.redhat.com/ml/cygwin/2001-12/msg00894.html</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Cygwin_ndbm_tests_fail_on_"><a class="permalink" href="#Cygwin_ndbm_tests_fail_on_">Cygwin
  ndbm tests fail on FAT</a></h2>
<p class="Pp">One can build but not install (or test the build of) the NDBM_File
    on FAT filesystems. Installation (or build) on NTFS works fine. If one
    attempts the test on a FAT install (or build) the following failures are
    expected:</p>
<p class="Pp"></p>
<pre> ../ext/NDBM_File/ndbm.t       13  3328    71   59  83.10%  1-2 4 16-71
 ../ext/ODBM_File/odbm.t      255 65280    ??   ??       %  ??
 ../lib/AnyDBM_File.t           2   512    12    2  16.67%  1 4
 ../lib/Memoize/t/errors.t      0   139    11    5  45.45%  7-11
 ../lib/Memoize/t/tie_ndbm.t   13  3328     4    4 100.00%  1-4
 run/fresh_perl.t                          97    1   1.03%  91
</pre>
<p class="Pp">NDBM_File fails and ODBM_File just coredumps.</p>
<p class="Pp">If you intend to run only on FAT (or if using AnyDBM_File on FAT),
    run Configure with the -Ui_ndbm and -Ui_dbm options to prevent NDBM_File and
    ODBM_File being built.</p>
</section>
<section class="Ss">
<h2 class="Ss">DJGPP Failures</h2>
<pre> t/op/stat............................FAILED at test 29
 lib/File/Find/t/find.................FAILED at test 1
 lib/File/Find/t/taint................FAILED at test 1
 lib/h2xs.............................FAILED at test 15
 lib/Pod/t/eol........................FAILED at test 1
 lib/Test/Harness/t/strap-analyze.....FAILED at test 8
 lib/Test/Harness/t/test-harness......FAILED at test 23
 lib/Test/Simple/t/exit...............FAILED at test 1
</pre>
<p class="Pp">The above failures are known as of 5.8.0 with native builds with
    long filenames, but there are a few more if running under dosemu because of
    limitations (and maybe bugs) of dosemu:</p>
<p class="Pp"></p>
<pre> t/comp/cpp...........................FAILED at test 3
 t/op/inccode.........................(crash)
</pre>
<p class="Pp">and a few lib/ExtUtils tests, and several hundred
    Encode/t/Aliases.t failures that work fine with long filenames. So you
    really might prefer native builds and long filenames.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="FreeBSD_built_with_ithreads_coredumps_reading_large_directories"><a class="permalink" href="#FreeBSD_built_with_ithreads_coredumps_reading_large_directories">FreeBSD
  built with ithreads coredumps reading large directories</a></h2>
<p class="Pp">This is a known bug in FreeBSD 4.5's <b>readdir_r()</b>, it has
    been fixed in FreeBSD 4.6 (see perlfreebsd (README.freebsd)).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="FreeBSD_Failing_locale_Test_117_For_"><a class="permalink" href="#FreeBSD_Failing_locale_Test_117_For_">FreeBSD
  Failing locale Test 117 For ISO 8859-15 Locales</a></h2>
<p class="Pp">The ISO 8859-15 locales may fail the locale test 117 in FreeBSD.
    This is caused by the characters \xFF (y with diaeresis) and \xBE (Y with
    diaeresis) not behaving correctly when being matched case-insensitively.
    Apparently this problem has been fixed in the latest FreeBSD releases. (
    http://www.freebsd.org/cgi/query-pr.cgi?pr=34308 )</p>
</section>
<section class="Ss">
<h2 class="Ss">IRIX fails ext/List/Util/t/shuffle.t or Digest::MD5</h2>
<p class="Pp">IRIX with MIPSpro 7.3.1.2m or 7.3.1.3m compiler may fail the
    List::Util test ext/List/Util/t/shuffle.t by dumping core. This seems to be
    a compiler error since if compiled with gcc no core dump ensues, and no
    failures have been seen on the said test on any other platform.</p>
<p class="Pp">Similarly, building the Digest::MD5 extension has been known to
    fail with &quot;*** Termination code 139 (bu21)&quot;.</p>
<p class="Pp">The cure is to drop optimization level (Configure
  -Doptimize=-O2).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="HP-UX_lib/posix_Subtest_9_Fails_When_LP64"><a class="permalink" href="#HP-UX_lib/posix_Subtest_9_Fails_When_LP64">HP-UX
  lib/posix Subtest 9 Fails When LP64-Configured</a></h2>
<p class="Pp">If perl is configured with -Duse64bitall, the successful result of
    the subtest 10 of lib/posix may arrive before the successful result of the
    subtest 9, which confuses the test harness so much that it thinks the
    subtest 9 failed.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Linux_with_glibc_2.2.5_fails_t/op/int_subtest__6_with_"><a class="permalink" href="#Linux_with_glibc_2.2.5_fails_t/op/int_subtest__6_with_">Linux
  with glibc 2.2.5 fails t/op/int subtest #6 with -Duse64bitint</a></h2>
<p class="Pp">This is a known bug in the glibc 2.2.5 with long long integers. (
    http://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=65612 )</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Linux_With_Sfio_Fails_op/misc_Test_48"><a class="permalink" href="#Linux_With_Sfio_Fails_op/misc_Test_48">Linux
  With Sfio Fails op/misc Test 48</a></h2>
<p class="Pp">No known fix.</p>
</section>
<section class="Ss">
<h2 class="Ss">Mac OS X</h2>
<p class="Pp">Please remember to set your environment variable LC_ALL to
    &quot;C&quot; (setenv LC_ALL C) before running &quot;make test&quot; to
    avoid a lot of warnings about the broken locales of Mac OS X.</p>
<p class="Pp">The following tests are known to fail in Mac OS X 10.1.5 because
    of buggy (old) implementations of Berkeley DB included in Mac OS X:</p>
<p class="Pp"></p>
<pre> Failed Test                 Stat Wstat Total Fail  Failed  List of Failed
 -------------------------------------------------------------------------
 ../ext/DB_File/t/db-btree.t    0    11    ??   ??       %  ??
 ../ext/DB_File/t/db-recno.t              149    3   2.01%  61 63 65
</pre>
<p class="Pp">If you are building on a UFS partition, you will also probably see
    t/op/stat.t subtest #9 fail. This is caused by Darwin's UFS not supporting
    inode change time.</p>
<p class="Pp">Also the ext/POSIX/t/posix.t subtest #10 fails but it is skipped
    for now because the failure is Apple's fault, not Perl's (blocked signals
    are lost).</p>
<p class="Pp">If you Configure with ithreads, ext/threads/t/libc.t will fail.
    Again, this is not Perl's fault-- the libc of Mac OS X is not threadsafe (in
    this particular test, the <b>localtime()</b> call is found to be
    threadunsafe.)</p>
</section>
<section class="Ss">
<h2 class="Ss">Mac OS X dyld undefined symbols</h2>
<p class="Pp">If after installing Perl 5.8.0 you are getting warnings about
    missing symbols, for example</p>
<p class="Pp"></p>
<pre>    dyld: perl Undefined symbols
    _perl_sv_2pv
    _perl_get_sv
</pre>
<p class="Pp">you probably have an old pre-Perl-5.8.0 installation (or parts of
    one) in /Library/Perl (the undefined symbols used to exist in pre-5.8.0
    Perls). It seems that for some reason &quot;make install&quot; doesn't
    always completely overwrite the files in /Library/Perl. You can move the old
    Perl shared library out of the way like this:</p>
<p class="Pp"></p>
<pre>    cd /Library/Perl/darwin/CORE
    mv libperl.dylib libperlold.dylib
</pre>
<p class="Pp">and then reissue &quot;make install&quot;. Note that the above of
    course is extremely disruptive for anything using the /usr/local/bin/perl.
    If that doesn't help, you may have to try removing all the .bundle files
    from beneath /Library/Perl, and again &quot;make install&quot;-ing.</p>
</section>
<section class="Ss">
<h2 class="Ss">OS/2 Test Failures</h2>
<p class="Pp">The following tests are known to fail on OS/2 (for clarity only
    the failures are shown, not the full error messages):</p>
<p class="Pp"></p>
<pre> ../lib/ExtUtils/t/Mkbootstrap.t    1   256    18    1   5.56%  8
 ../lib/ExtUtils/t/Packlist.t       1   256    34    1   2.94%  17
 ../lib/ExtUtils/t/basic.t          1   256    17    1   5.88%  14
 lib/os2_process.t                  2   512   227    2   0.88%  174 209
 lib/os2_process_kid.t                        227    2   0.88%  174 209
 lib/rx_cmprt.t                   255 65280    18    3  16.67%  16-18
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="op/sprintf_tests_91,_129,_and_130"><a class="permalink" href="#op/sprintf_tests_91,_129,_and_130">op/sprintf
  tests 91, 129, and 130</a></h2>
<p class="Pp">The op/sprintf tests 91, 129, and 130 are known to fail on some
    platforms. Examples include any platform using sfio, and Compaq/Tandem's
    NonStop-UX.</p>
<p class="Pp">Test 91 is known to fail on QNX6 (nto), because
    <span class="Li">&quot;sprintf '%e',0&quot;</span> incorrectly produces
    <span class="Li">0.000000e+0</span> instead of
    <span class="Li">0.000000e+00</span>.</p>
<p class="Pp">For tests 129 and 130, the failing platforms do not comply with
    the ANSI C Standard: lines 19ff on page 134 of ANSI X3.159 1989, to be
    exact. (They produce something other than &quot;1&quot; and &quot;-1&quot;
    when formatting 0.6 and -0.6 using the printf format &quot;%.0f&quot;; most
    often, they produce &quot;0&quot; and &quot;-0&quot;.)</p>
</section>
<section class="Ss">
<h2 class="Ss">SCO</h2>
<p class="Pp">The socketpair tests are known to be unhappy in SCO 3.2v5.0.4:</p>
<p class="Pp"></p>
<pre> ext/Socket/socketpair.t...............FAILED tests 15-45
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Solaris_2.5"><a class="permalink" href="#Solaris_2.5">Solaris
  2.5</a></h2>
<p class="Pp">In case you are still using Solaris 2.5 (aka SunOS 5.5), you may
    experience failures (the test core dumping) in lib/locale.t. The suggested
    cure is to upgrade your Solaris.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Solaris_x86_Fails_Tests_With_"><a class="permalink" href="#Solaris_x86_Fails_Tests_With_">Solaris
  x86 Fails Tests With -Duse64bitint</a></h2>
<p class="Pp">The following tests are known to fail in Solaris x86 with Perl
    configured to use 64 bit integers:</p>
<p class="Pp"></p>
<pre> ext/Data/Dumper/t/dumper.............FAILED at test 268
 ext/Devel/Peek/Peek..................FAILED at test 7
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="SUPER-UX_("><a class="permalink" href="#SUPER-UX_(">SUPER-UX
  (NEC SX)</a></h2>
<p class="Pp">The following tests are known to fail on SUPER-UX:</p>
<p class="Pp"></p>
<pre> op/64bitint...........................FAILED tests 29-30, 32-33, 35-36
 op/arith..............................FAILED tests 128-130
 op/pack...............................FAILED tests 25-5625
 op/pow................................
 op/taint..............................# msgsnd failed
 ../ext/IO/lib/IO/t/io_poll............FAILED tests 3-4
 ../ext/IPC/SysV/ipcsysv...............FAILED tests 2, 5-6
 ../ext/IPC/SysV/t/msg.................FAILED tests 2, 4-6
 ../ext/Socket/socketpair..............FAILED tests 12
 ../lib/IPC/SysV.......................FAILED tests 2, 5-6
 ../lib/warnings.......................FAILED tests 115-116, 118-119
</pre>
<p class="Pp">The op/pack failure (&quot;Cannot compress negative numbers at
    op/pack.t line 126&quot;) is serious but as of yet unsolved. It points at
    some problems with the signedness handling of the C compiler, as do the
    64bitint, arith, and pow failures. Most of the rest point at problems with
    SysV IPC.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Term::ReadKey_not_working_on_Win32"><a class="permalink" href="#Term::ReadKey_not_working_on_Win32">Term::ReadKey
  not working on Win32</a></h2>
<p class="Pp">Use Term::ReadKey 2.20 or later.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="UNICOS/mk"><a class="permalink" href="#UNICOS/mk">UNICOS/mk</a></h2>
<ul class="Bl-bullet">
  <li>During Configure, the test
    <p class="Pp"></p>
    <pre>    Guessing which symbols your C compiler and preprocessor define...
    </pre>
    <p class="Pp">will probably fail with error messages like</p>
    <p class="Pp"></p>
    <pre>    CC-20 cc: ERROR File = try.c, Line = 3
      The identifier &quot;bad&quot; is undefined.
      bad switch yylook 79bad switch yylook 79bad switch yylook 79bad switch yylook 79#ifdef A29K
      ^
    CC-65 cc: ERROR File = try.c, Line = 3
      A semicolon is expected at this point.
    </pre>
    <p class="Pp">This is caused by a bug in the awk utility of UNICOS/mk. You
        can ignore the error, but it does cause a slight problem: you cannot
        fully benefit from the h2ph utility (see h2ph) that can be used to
        convert C headers to Perl libraries, mainly used to be able to access
        from Perl the constants defined using C preprocessor, cpp. Because of
        the above error, parts of the converted headers will be invisible.
        Luckily, these days the need for h2ph is rare.</p>
  </li>
  <li>If building Perl with interpreter threads (ithreads), the
      <b>getgrent()</b>, <b>getgrnam()</b>, and <b>getgrgid()</b> functions
      cannot return the list of the group members due to a bug in the
      multithreaded support of UNICOS/mk. What this means is that in list
      context the functions will return only three values, not four.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss">UTS</h2>
<p class="Pp">There are a few known test failures. (<b>Note:</b> the relevant
    information was available in <i>README.uts</i> until support for UTS was
    removed in Perl v5.18.0)</p>
</section>
<section class="Ss">
<h2 class="Ss">VOS (Stratus)</h2>
<p class="Pp">When Perl is built using the native build process on VOS Release
    14.5.0 and GNU C++/GNU Tools 2.0.1, all attempted tests either pass or
    result in TODO (ignored) failures.</p>
</section>
<section class="Ss">
<h2 class="Ss">VMS</h2>
<p class="Pp">There should be no reported test failures with a default
    configuration, though there are a number of tests marked TODO that point to
    areas needing further debugging and/or porting work.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Win32"><a class="permalink" href="#Win32">Win32</a></h2>
<p class="Pp">In multi-CPU boxes, there are some problems with the I/O
    buffering: some output may appear twice.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="XML::Parser_not_working"><a class="permalink" href="#XML::Parser_not_working">XML::Parser
  not working</a></h2>
<p class="Pp">Use XML::Parser 2.31 or later.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="z/OS_("><a class="permalink" href="#z/OS_(">z/OS
  (OS/390)</a></h2>
<p class="Pp">z/OS has rather many test failures but the situation is actually
    much better than it was in 5.6.0; it's just that so many new modules and
    tests have been added.</p>
<p class="Pp"></p>
<pre> Failed Test                   Stat Wstat Total Fail  Failed  List of Failed
 ---------------------------------------------------------------------------
 ../ext/Data/Dumper/t/dumper.t              357    8   2.24%  311 314 325 327
                                                              331 333 337 339
 ../ext/IO/lib/IO/t/io_unix.t                 5    4  80.00%  2-5
 ../ext/Storable/t/downgrade.t   12  3072   169   12   7.10%  14-15 46-47 78-79
                                                              110-111 150 161
 ../lib/ExtUtils/t/Constant.t   121 30976    48   48 100.00%  1-48
 ../lib/ExtUtils/t/Embed.t                    9    9 100.00%  1-9
 op/pat.t                                   922    7   0.76%  665 776 785 832-
                                                              834 845
 op/sprintf.t                               224    3   1.34%  98 100 136
 op/tr.t                                     97    5   5.15%  63 71-74
 uni/fold.t                                 780    6   0.77%  61 169 196 661
                                                              710-711
</pre>
<p class="Pp">The failures in dumper.t and downgrade.t are problems in the
    tests, those in io_unix and sprintf are problems in the USS (UDP sockets and
    printf formats). The pat, tr, and fold failures are genuine Perl problems
    caused by EBCDIC (and in the pat and fold cases, combining that with
    Unicode). The Constant and Embed are probably problems in the tests (since
    they test Perl's ability to build extensions, and that seems to be working
    reasonably well.)</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Unicode_Support_on_"><a class="permalink" href="#Unicode_Support_on_">Unicode
  Support on EBCDIC Still Spotty</a></h2>
<p class="Pp">Though mostly working, Unicode support still has problem spots on
    EBCDIC platforms. One such known spot are the
    <span class="Li">&quot;\p{}&quot;</span> and
    <span class="Li">&quot;\P{}&quot;</span> regular expression constructs for
    code points less than 256: the <span class="Li">&quot;pP&quot;</span> are
    testing for Unicode code points, not knowing about EBCDIC.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Seen_In_Perl_5.7_But_Gone_Now"><a class="permalink" href="#Seen_In_Perl_5.7_But_Gone_Now">Seen
  In Perl 5.7 But Gone Now</a></h2>
<p class="Pp"><span class="Li">&quot;Time::Piece&quot;</span> (previously known
    as <span class="Li">&quot;Time::Object&quot;</span>) was removed because it
    was felt that it didn't have enough value in it to be a core module. It is
    still a useful module, though, and is available from the CPAN.</p>
<p class="Pp">Perl 5.8 unfortunately does not build anymore on AmigaOS; this
    broke accidentally at some point. Since there are not that many Amiga
    developers available, we could not get this fixed and tested in time for
    5.8.0. Perl 5.6.1 still works for AmigaOS (as does the 5.7.2 development
    release).</p>
<p class="Pp">The <span class="Li">&quot;PerlIO::Scalar&quot;</span> and
    <span class="Li">&quot;PerlIO::Via&quot;</span> (capitalised) were renamed
    as <span class="Li">&quot;PerlIO::scalar&quot;</span> and
    <span class="Li">&quot;PerlIO::via&quot;</span> (all lowercase) just before
    5.8.0. The main rationale was to have all core PerlIO layers to have all
    lowercase names. The &quot;plugins&quot; are named as usual, for example
    <span class="Li">&quot;PerlIO::via::QuotedPrint&quot;</span>.</p>
<p class="Pp">The <span class="Li">&quot;threads::shared::queue&quot;</span> and
    <span class="Li">&quot;threads::shared::semaphore&quot;</span> were renamed
    as <span class="Li">&quot;Thread::Queue&quot;</span> and
    <span class="Li">&quot;Thread::Semaphore&quot;</span> just before 5.8.0. The
    main rationale was to have thread modules to obey normal naming,
    <span class="Li">&quot;Thread::&quot;</span> (the
    <span class="Li">&quot;threads&quot;</span> and
    <span class="Li">&quot;threads::shared&quot;</span> themselves are more
    pragma-like, they affect compile-time, so they stay lowercase).</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Reporting_Bugs"><a class="permalink" href="#Reporting_Bugs">Reporting
  Bugs</a></h1>
<p class="Pp">If you find what you think is a bug, you might check the articles
    recently posted to the comp.lang.perl.misc newsgroup and the perl bug
    database at http://bugs.perl.org/ . There may also be information at
    http://www.perl.com/ , the Perl Home Page.</p>
<p class="Pp">If you believe you have an unreported bug, please run the
    <b>perlbug</b> program included with your release. Be sure to trim your bug
    down to a tiny but sufficient test case. Your bug report, along with the
    output of <span class="Li">&quot;perl -V&quot;</span>, will be sent off to
    perlbug@perl.org to be analysed by the Perl porting team.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">The <i>Changes</i> file for exhaustive details on what
  changed.</p>
<p class="Pp">The <i>INSTALL</i> file for how to build Perl.</p>
<p class="Pp">The <i>README</i> file for general stuff.</p>
<p class="Pp">The <i>Artistic</i> and <i>Copying</i> files for copyright
    information.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
<p class="Pp">Written by Jarkko Hietaniemi &lt;<i>jhi@iki.fi</i>&gt;.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2019-10-21</td>
    <td class="foot-os">perl v5.30.3</td>
  </tr>
</table>
</body>
</html>
