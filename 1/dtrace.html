<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   CDDL HEADER START
  
   The contents of this file are subject to the terms of the
   Common Development and Distribution License (the "License").
   You may not use this file except in compliance with the License.
  
   You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
   or http://www.opensolaris.org/os/licensing.
   See the License for the specific language governing permissions
   and limitations under the License.
  
   When distributing Covered Code, include this CDDL HEADER in each
   file and include the License file at usr/src/OPENSOLARIS.LICENSE.
   If applicable, add the following below this CDDL HEADER, with the
   fields enclosed by brackets "[]" replaced with your own identifying
   information: Portions Copyright [yyyy] [name of copyright owner]
  
   CDDL HEADER END
   Copyright (c) 2006, Sun Microsystems, Inc. All Rights Reserved.
   Portions Copyright (c) 2006-2010, 2013-2017, Apple, Inc.
   All Rights Reserved.
   -->
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>DTRACE(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DTRACE(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">DTRACE(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">dtrace</code> &#x2014; <span class="Nd">dynamic
    tracing compiler and tracing utility</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">dtrace</code></td>
    <td>[<code class="Fl">-aACeFhHlqSvVwZ</code>] [<code class="Fl">-b</code>
      <var class="Ar">bufsz</var>] [<code class="Fl">-c</code>
      <var class="Ar">cmd</var>] [<code class="Fl">-D</code>
      <var class="Ar">name</var> [=value]] [<code class="Fl">-I</code>
      <var class="Ar">path</var>] [<code class="Fl">-L</code>
      <var class="Ar">path</var>] [<code class="Fl">-o</code>
      <var class="Ar">output</var>] [<code class="Fl">-s</code>
      <var class="Ar">script</var>] [<code class="Fl">-U</code>
      <var class="Ar">name</var>] [<code class="Fl">-x</code>
      <var class="Ar">arg</var>[=value]] [<code class="Fl">-p</code>
      <var class="Ar">pid</var>] [<code class="Fl">-P</code>
      <var class="Ar">provider</var> [[<var class="Ar">predicate</var>]
      <var class="Ar">action</var>]] [<code class="Fl">-m</code>
      [<var class="Ar">provider</var>:] <var class="Ar">module</var>
      [[<var class="Ar">predicate</var>] <var class="Ar">action</var>]]
      [<code class="Fl">-f</code> [[<var class="Ar">provider</var>:]
      <var class="Ar">module</var>:] <var class="Ar">function</var>
      [[<var class="Ar">predicate</var>] <var class="Ar">action</var>]]
      [<code class="Fl">-n</code> [[[<var class="Ar">provider</var>:]
      <var class="Ar">module</var>:] <var class="Ar">function</var>:]
      <var class="Ar">name</var> [[<var class="Ar">predicate</var>]
      <var class="Ar">action</var>]] [<code class="Fl">-i</code>
      <var class="Ar">probe-id</var> [[<var class="Ar">predicate</var>]
      <var class="Ar">action</var>]] [<code class="Fl">-W</code>
      <var class="Ar">pname</var>]</td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">DTrace is a comprehensive dynamic tracing framework ported from
    Solaris. DTrace provides a powerful infrastructure that permits
    administrators, developers, and service personnel to concisely answer
    arbitrary questions about the behavior of the operating system and user
    programs.</p>
<p class="Pp">The <code class="Nm">dtrace</code> command provides a generic
    interface to the essential services provided by the DTrace facility,
    including:</p>
<ul class="Bl-bullet Bd-indent">
  <li>Options that list the set of probes and providers currently published by
      DTrace</li>
  <li>Options that enable probes directly using any of the probe description
      specifiers (provider, module, function, name)</li>
  <li>Options that run the D compiler and compile one or more D program files or
      programs written directly on the command line</li>
  <li>Options that generate anonymous tracing programs</li>
  <li>Options that generate program stability reports</li>
  <li>Options that modify DTrace tracing and buffering behavior and enable
      additional D compiler features</li>
</ul>
<p class="Pp">You can use <code class="Nm">dtrace</code> to create D scripts by
    using it in a shebang declaration to create an interpreter file. You can
    also use <code class="Nm">dtrace</code> to attempt to compile D programs and
    determine their properties without actually enabling traces using the
    <code class="Fl">-e</code> option.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<p class="Pp">The arguments accepted by the <code class="Fl">-P</code>,
    <code class="Fl">-m</code>, <code class="Fl">-f</code>,
    <code class="Fl">-n</code>, and <code class="Fl">-i</code> options can
    include an optional D language <var class="Ar">predicate</var> enclosed in
    slashes and an optional D language <var class="Ar">action</var> statement
    list enclosed in braces. D program code specified on the command line must
    be appropriately quoted to avoid interpretation of meta-characters by the
    shell.</p>
<p class="Pp">The following options are supported:</p>
<dl class="Bl-tag">
  <dt id="arch"><a class="permalink" href="#arch"><code class="Fl">-arch</code></a>=<var class="Ar">value</var></dt>
  <dd>Set <code class="Nm">dtrace</code> target data model. See
      <a class="Xr" href="../1/arch">arch(1)</a> for a list of currently
      supported architectures.</dd>
  <dt id="a"><a class="permalink" href="#a"><code class="Fl">-a</code></a></dt>
  <dd>Claim anonymous tracing state and display the traced data. You can combine
      the <code class="Fl">-a</code> option with the <code class="Fl">-e</code>
      option to force <code class="Nm">dtrace</code> to exit immediately after
      consuming the anonymous tracing state rather than continuing to wait for
      new data.</dd>
  <dt id="A"><a class="permalink" href="#A"><code class="Fl">-A</code></a></dt>
  <dd>Generate directives for anonymous (at boot) tracing and store them to
      NVRAM. This option constructs a set of dtrace configuration file
      directives to enable the specified probes for anonymous tracing and then
      exits. See also <code class="Fl">-a</code></dd>
  <dt id="b"><a class="permalink" href="#b"><code class="Fl">-b</code></a>
    <var class="Ar">bufsz</var></dt>
  <dd>Set the principal trace buffer size to <var class="Ar">bufsz</var>. The
      trace buffer size can include any of the size suffixes k, m, g, or t. If
      the buffer space cannot be allocated, <code class="Nm">dtrace</code>
      attempts to reduce the buffer size or exit depending on the setting of the
      bufresize property.</dd>
  <dt id="c"><a class="permalink" href="#c"><code class="Fl">-c</code></a>
    <var class="Ar">cmd</var></dt>
  <dd>Run the specified command <var class="Ar">cmd</var> and exit upon its
      completion. If more than one <code class="Fl">-c</code> option is present
      on the command line, <code class="Nm">dtrace</code> exits when all
      commands have exited, reporting the exit status for each child process as
      it terminates. The process ID of the first command is made available to
      any D programs specified on the command line or using the
      <code class="Fl">-s</code> option through the
      <code class="Li">$target</code> macro variable.</dd>
  <dt id="C"><a class="permalink" href="#C"><code class="Fl">-C</code></a></dt>
  <dd>Run the C preprocessor in <a class="Xr" href="../1/clang">clang(1)</a>
      over D programs before compiling them. You can pass options to the C
      preprocessor using the <code class="Fl">-D</code>,
      <code class="Fl">-U</code>, <code class="Fl">-I</code>, and
      <code class="Fl">-H</code> options.</dd>
  <dt id="D"><a class="permalink" href="#D"><code class="Fl">-D</code></a>
    <var class="Ar">name</var> [=<var class="Ar">value</var>]</dt>
  <dd>Define <var class="Ar">name</var> when invoking
      <a class="Xr" href="../1/clang">clang(1)</a> (enabled using the
      <code class="Fl">-C</code> option). If you specify an additional
      <var class="Ar">value</var>, the name is assigned the corresponding value.
      This option passes the <code class="Fl">-D</code> option to each
      <a class="Xr" href="../1/clang">clang(1)</a> invocation.</dd>
  <dt id="e"><a class="permalink" href="#e"><code class="Fl">-e</code></a></dt>
  <dd>Exit after compiling any requests and consuming anonymous tracing state
      (<code class="Fl">-a</code> option) but prior to enabling any probes. You
      can combine this option with the <code class="Fl">-a</code> option to
      print anonymous tracing data and exit. You can also combine this option
      with D compiler options. This combination verifies that the programs
      compile without actually executing them and enabling the corresponding
      instrumentation.</dd>
  <dt id="f"><a class="permalink" href="#f"><code class="Fl">-f</code></a>
    [[<var class="Ar">provider</var>:] <var class="Ar">module</var>:]
    <var class="Ar">function</var> [[<var class="Ar">predicate</var>]
    <var class="Ar">action</var>]</dt>
  <dd>Specify function name to trace or list (<code class="Fl">-l</code>
      option). The corresponding argument can include any of the probe
      description forms <var class="Ar">provider:module:function</var>,
      <var class="Ar">module:function</var>, or <var class="Ar">function</var>.
      Unspecified probe description fields are left blank and match any probes
      regardless of the values in those fields. If no qualifiers other than
      <var class="Ar">function</var> are specified in the description, all
      probes with the corresponding <var class="Ar">function</var> are matched.
      The <code class="Fl">-f</code> argument can be suffixed with an optional D
      probe clause. You can specify more than one <code class="Fl">-f</code>
      option on the command line at a time.</dd>
  <dt id="F"><a class="permalink" href="#F"><code class="Fl">-F</code></a></dt>
  <dd>Coalesce trace output by identifying function entry and return. Function
      entry probe reports are indented and their output is prefixed with
      &#x2018;<code class="Li">-&gt;</code>&#x2019;. Function return probe
      reports are unindented and their output is prefixed with
      &#x2018;<code class="Li">&lt;-</code>&#x2019;. System call entry probe
      reports are indented and their output is prefixed with
      &#x2018;<code class="Li">=&gt;</code>&#x2019;. System call return probe
      reports are unindented and their output is prefixed with
      &#x2018;<code class="Li">&lt;=</code>&#x2019;.</dd>
  <dt id="h"><a class="permalink" href="#h"><code class="Fl">-h</code></a></dt>
  <dd>Generate a header file containing macros that correspond to probes in the
      specified provider definitions. If the <code class="Fl">-o</code> option
      is present, the header file is saved using the pathname specified as the
      argument for that option. If the <code class="Fl">-o</code> option is not
      present and the DTrace program is contained within a file whose name is
      <var class="Ar">filename.d</var>, then the header file is saved using the
      name <var class="Ar">filename.h</var>.</dd>
  <dt id="H"><a class="permalink" href="#H"><code class="Fl">-H</code></a></dt>
  <dd>Print the pathnames of included files when invoking
      <a class="Xr" href="../1/clang">clang(1)</a> (enabled using the
      <code class="Fl">-C</code> option). This option passes the
      <code class="Fl">-H</code> option to each
      <a class="Xr" href="../1/clang">clang(1)</a> invocation, causing it to
      display the list of pathnames, one for each line, to standard error.</dd>
  <dt id="i"><a class="permalink" href="#i"><code class="Fl">-i</code></a>
    <var class="Ar">probe-id</var> [[<var class="Ar">predicate</var>]
    <var class="Ar">action</var>]</dt>
  <dd>Specify probe identifier (<var class="Ar">probe-id</var>) to trace or list
      (<var class="Ar">l</var> option). You can specify probe IDs using decimal
      integers as shown by `dtrace -l`. The <code class="Fl">-i</code> argument
      can be suffixed with an optional D probe clause. You can specify more than
      one <code class="Fl">-i</code> option at a time.</dd>
  <dt id="I"><a class="permalink" href="#I"><code class="Fl">-I</code></a>
    <var class="Ar">path</var></dt>
  <dd>Add the specified directory <var class="Ar">path</var> to the search path
      for <code class="Li">#include</code> files when invoking
      <a class="Xr" href="../1/clang">clang(1)</a> (enabled using the
      <code class="Fl">-C</code> option). This option passes the
      <code class="Fl">-I</code> option to each
      <a class="Xr" href="../1/clang">clang(1)</a> invocation. The specified
      <var class="Ar">path</var> is inserted into the search path ahead of the
      default directory list.</dd>
  <dt id="l"><a class="permalink" href="#l"><code class="Fl">-l</code></a></dt>
  <dd>List probes instead of enabling them. If the <code class="Fl">-l</code>
      option is specified, <code class="Nm">dtrace</code> produces a report of
      the probes matching the descriptions given using the
      <code class="Fl">-P</code>, <code class="Fl">-m</code>,
      <code class="Fl">-f</code>, <code class="Fl">-n</code>,
      <code class="Fl">-i</code>, and <code class="Fl">-s</code> options. If
      none of these options are specified, this option lists all probes.</dd>
  <dt id="L"><a class="permalink" href="#L"><code class="Fl">-L</code></a>
    <var class="Ar">path</var></dt>
  <dd>Add the specified directory <var class="Ar">path</var> to the search path
      for DTrace libraries. DTrace libraries are used to contain common
      definitions that can be used when writing D programs. The specified
      <var class="Ar">path</var> is added after the default library search
    path.</dd>
  <dt id="m"><a class="permalink" href="#m"><code class="Fl">-m</code></a>
    [<var class="Ar">provider</var>:] <var class="Ar">module</var>
    [[<var class="Ar">predicate</var>] <var class="Ar">action</var>]</dt>
  <dd>Specify module name to trace or list (<code class="Fl">-l</code> option).
      The corresponding argument can include any of the probe description forms
      <var class="Ar">provider:module</var> or <var class="Ar">module</var>.
      Unspecified probe description fields are left blank and match any probes
      regardless of the values in those fields. If no qualifiers other than
      <var class="Ar">module</var> are specified in the description, all probes
      with a corresponding <var class="Ar">module</var> are matched. The
      <code class="Fl">-m</code> argument can be suffixed with an optional D
      probe clause. More than one <code class="Fl">-m</code> option can be
      specified on the command line at a time.</dd>
  <dt id="n"><a class="permalink" href="#n"><code class="Fl">-n</code></a>
    [[[<var class="Ar">provider</var>:] <var class="Ar">module</var>:]
    <var class="Ar">function</var>:] <var class="Ar">name</var>
    [[<var class="Ar">predicate</var>] <var class="Ar">action</var>]</dt>
  <dd>Specify probe name to trace or list (<code class="Fl">-l</code> option).
      The corresponding argument can include any of the probe description forms
      <var class="Ar">provider:module:function:name</var>,
      <var class="Ar">module:function:name</var>,
      <var class="Ar">function:name</var>, or <var class="Ar">name</var>.
      Unspecified probe description fields are left blank and match any probes
      regardless of the values in those fields. If no qualifiers other than
      <var class="Ar">name</var> are specified in the description, all probes
      with a corresponding <var class="Ar">name</var> are matched. The
      <code class="Fl">-n</code> argument can be suffixed with an optional D
      probe clause. More than one <code class="Fl">-n</code> option can be
      specified on the command line at a time.</dd>
  <dt id="o"><a class="permalink" href="#o"><code class="Fl">-o</code></a>
    <var class="Ar">output</var></dt>
  <dd>Specify the <var class="Ar">output</var> file for the
      <code class="Fl">-l</code> options, or for the traced data itself. The
      default output file is <var class="Ar">d.out</var>.</dd>
  <dt id="p"><a class="permalink" href="#p"><code class="Fl">-p</code></a>
    <var class="Ar">pid</var></dt>
  <dd>Grab the specified process-ID <var class="Ar">pid</var>, cache its symbol
      tables, and exit upon its completion. If more than one
      <code class="Fl">-p</code> option is present on the command line,
      <code class="Nm">dtrace</code> exits when all commands have exited,
      reporting the exit status for each process as it terminates. The first
      process-ID is made available to any D programs specified on the command
      line or using the <code class="Fl">-s</code> option through the
      <code class="Li">$target</code> macro variable.</dd>
  <dt id="P"><a class="permalink" href="#P"><code class="Fl">-P</code></a>
    <var class="Ar">provider</var> [[<var class="Ar">predicate</var>]
    <var class="Ar">action</var>]</dt>
  <dd>Specify provider name to trace or list (<code class="Fl">-l</code>
      option). The remaining probe description fields module, function, and name
      are left blank and match any probes regardless of the values in those
      fields. The <code class="Fl">-P</code> argument can be suffixed with an
      optional D probe clause. You can specify more than one
      <code class="Fl">-P</code> option on the command line at a time.</dd>
  <dt id="q"><a class="permalink" href="#q"><code class="Fl">-q</code></a></dt>
  <dd>Set quiet mode. <code class="Nm">dtrace</code> suppresses messages such as
      the number of probes matched by the specified options and D programs and
      does not print column headers, the CPU ID, the probe ID, or insert
      newlines into the output. Only data traced and formatted by D program
      statements such as &#x2018;<code class="Li">dtrace()</code>&#x2019; and
      &#x2018;<code class="Li">printf()</code>&#x2019; is displayed to standard
      output.</dd>
  <dt id="s"><a class="permalink" href="#s"><code class="Fl">-s</code></a>
    <var class="Ar">script</var></dt>
  <dd>Compile the specified D program source file. If the
      <code class="Fl">-e</code> option is present, the program is compiled but
      instrumentation is not enabled. If the <code class="Fl">-l</code> option
      is present, the program is compiled and the set of probes matched by it is
      listed, but instrumentation is not enabled.
    <p class="Pp">If none of <code class="Fl">-e</code>,
        <code class="Fl">-l</code> or <code class="Fl">-A</code> are present,
        the instrumentation specified by the D program is enabled and tracing
        begins.</p>
  </dd>
  <dt id="S"><a class="permalink" href="#S"><code class="Fl">-S</code></a></dt>
  <dd>Show D compiler intermediate code. The D compiler produces a report of the
      intermediate code generated for each D program to standard error.</dd>
  <dt id="U"><a class="permalink" href="#U"><code class="Fl">-U</code></a>
    <var class="Ar">name</var></dt>
  <dd>Undefine the specified <var class="Ar">name</var> when invoking
      <a class="Xr" href="../1/clang">clang(1)</a> (enabled using the
      <code class="Fl">-C</code> option). This option passes the
      <code class="Fl">-U</code> option to each
      <a class="Xr" href="../1/clang">clang(1)</a> invocation.</dd>
  <dt id="v"><a class="permalink" href="#v"><code class="Fl">-v</code></a></dt>
  <dd>Print an interface stability report for a specified D program or listed
      probes. If probes are being listed with <code class="Fl">-l</code>, report
      on each probe's description, arguments, and argument types (if
    available).</dd>
  <dt id="V"><a class="permalink" href="#V"><code class="Fl">-V</code></a></dt>
  <dd>Report the highest D programming interface version supported by
      <code class="Nm">dtrace</code>. The version information is printed to
      standard output and the <code class="Nm">dtrace</code> command exits.</dd>
  <dt id="w"><a class="permalink" href="#w"><code class="Fl">-w</code></a></dt>
  <dd>Permit destructive actions in D programs. Without
      <code class="Fl">-w</code>, <code class="Nm">dtrace</code> will not permit
      the compilation or enabling of a D program that contains destructive
      actions. Even with <code class="Fl">-w</code>, destructive actions are not
      allowed if System Integrity Protection is enabled. See
      <a class="Xr" href="../8/csrutil">csrutil(8)</a>.</dd>
  <dt id="W"><a class="permalink" href="#W"><code class="Fl">-W</code></a>
    <var class="Ar">pname</var></dt>
  <dd>Wait for the process named <var class="Ar">pname</var> to launch. Once it
      has launched, compile and enable the provided D script. Upon exit of the
      process, <code class="Nm">dtrace</code> exits. If more than one
      <code class="Fl">-W</code> option is present on the command line,
      <code class="Nm">dtrace</code> will stop each process immediately after it
      launches, start tracing when all processes have launched, and exit after
      all processes have exited. Only the first-specified process's PID will be
      available to D programs through the <code class="Li">$target</code> macro
      variable. Using this option automatically activates the
      <code class="Fl">-Z</code> option.</dd>
  <dt id="x"><a class="permalink" href="#x"><code class="Fl">-x</code></a>
    <var class="Ar">arg</var>[=<var class="Ar">value</var>]</dt>
  <dd>Enable or modify a DTrace runtime option or D compiler option. Boolean
      options are enabled by specifying their name. Options with values are set
      by separating the option name and value with an equals sign (=). See
      <a class="Sx" href="#EXTRA_OPTIONS">EXTRA OPTIONS</a> for the exhaustive
      list of options.</dd>
  <dt id="Z"><a class="permalink" href="#Z"><code class="Fl">-Z</code></a></dt>
  <dd>Permit probe descriptions that match zero probes. If the
      <code class="Fl">-Z</code> option is not specified,
      <code class="Nm">dtrace</code> reports an error and exits if any probe
      descriptions specified in D program files (<code class="Fl">-s</code>
      option) or on the command line (<code class="Fl">-P</code>,
      <code class="Fl">-m</code>, <code class="Fl">-f</code>,
      <code class="Fl">-n</code>, or <code class="Fl">-i</code> options) contain
      descriptions that do not match any known probes.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="OPERANDS"><a class="permalink" href="#OPERANDS">OPERANDS</a></h1>
<p class="Pp">Zero or more additional arguments may be specified on the
    <code class="Nm">dtrace</code> command line to define a set of macro
    variables (<code class="Li">$1</code>, <code class="Li">$2</code>,
    <code class="Li">and so on</code>) to be used in any D programs specified
    using the <code class="Fl">-s</code> option or on the command-line.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="C++_MANGLED_NAMES"><a class="permalink" href="#C++_MANGLED_NAMES">C++
  MANGLED NAMES</a></h1>
<p class="Pp">By default, <code class="Nm">dtrace</code> uses the demangled
    names of C++ symbols. You can tell <code class="Nm">dtrace</code> to use the
    mangled symbol names by passing <code class="Fl">-xmangled</code> to the
    command.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OBJECTIVE-C_PROVIDER"><a class="permalink" href="#OBJECTIVE-C_PROVIDER">OBJECTIVE-C
  PROVIDER</a></h1>
<p class="Pp">The Objective-C provider is similar to the pid provider, and
    allows instrumentation of Objective-C classes and methods. Objective-C probe
    specifiers use the following format:</p>
<p class="Pp"><code class="Cm">objc</code><var class="Ar">pid</var>:[<var class="Ar">class-name</var>[(<var class="Ar">category-name</var>)]]:[[+|-]<var class="Ar">method-name</var>]:[<var class="Ar">name</var>]</p>
<dl class="Bl-tag">
  <dt>pid</dt>
  <dd>The id number of the process.</dd>
  <dt>class-name</dt>
  <dd>The name of the Objective-C class.</dd>
  <dt>category-name</dt>
  <dd>The name of the category within the Objective-C class.</dd>
  <dt>method-name</dt>
  <dd>The name of the Objective-C method.</dd>
  <dt>name</dt>
  <dd>The name of the probe, &#x2018;entry&#x2019;, &#x2018;return&#x2019;, or
      an integer instruction offset within the method.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="OBJECTIVE-C_PROVIDER_EXAMPLES"><a class="permalink" href="#OBJECTIVE-C_PROVIDER_EXAMPLES">OBJECTIVE-C
  PROVIDER EXAMPLES</a></h1>
<dl class="Bl-tag">
  <dt>objc123:NSString:-*:entry</dt>
  <dd>Every instance method of class NSString in process 123.</dd>
  <dt>objc123:NSString(*)::entry</dt>
  <dd>Every method on every category of class NSString in process 123.</dd>
  <dt>objc123:NSString(foo):+*:entry</dt>
  <dd>Every class method in NSString's foo category in process 123.</dd>
  <dt>objc123::-*:entry</dt>
  <dd>Every instance method in every class and category in process 123.</dd>
  <dt>objc123:NSString(foo):-dealloc:entry</dt>
  <dd>The dealloc method in the foo category of class NSString in process
    123.</dd>
  <dt>objc123::method?with?many?colons?:entry</dt>
  <dd>The method method:with:many:colons: in every class in process 123. (A ?
      wildcard must be used to match colon characters inside of Objective-C
      method names, as they would otherwise be parsed as the provider field
      separators.)</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="BUILDING_CODE_CONTAINING_USDT_PROBES"><a class="permalink" href="#BUILDING_CODE_CONTAINING_USDT_PROBES">BUILDING
  CODE CONTAINING USDT PROBES</a></h1>
<p class="Pp">The process of adding USDT probes to code is slightly different
    than documented in the <cite class="Rs"><span class="RsT">Solaris Dynamic
    Tracing Guide</span>.</cite> The steps for adding probes are as follows:</p>
<ol class="Bl-enum">
  <li>Name the provider and specify its probes, using the following form:
    <div class="Bd Pp">
    <pre>
provider Example {
	probe increment(int);
};
    </pre>
    </div>
    <p class="Pp">This defines the <code class="Li">Example</code> provider with
        one probe, <code class="Li">increment</code>, that takes a single int
        argument. Providers can define multiple probes and probes can take
        multiple arguments.</p>
  </li>
  <li>Process the provider description into a header file.
    <p class="Pp">The provider description must be converted into a form usable
        by ObjC/C/C++ code. The dtrace command should be invoked with the
        <code class="Fl">-h</code> option to do this.</p>
    <p class="Pp"><code class="Nm">dtrace</code> <code class="Fl">-h</code>
        <code class="Fl">-s</code> <var class="Ar">exampleProvider.d</var></p>
    <p class="Pp">This will generate a header file named
        <var class="Ar">exampleProvider.h</var></p>
  </li>
  <li>Add probe invocations to the application.
    <p class="Pp">For each probe defined in the provider, the
        <span class="Pa">provider.h</span> file will contain two macros. The
        naming is as follows:</p>
    <div class="Bd Pp">
    <pre>
PROVIDER_PROBENAME()
PROVIDER_PROBENAME_ENABLED()
    </pre>
    </div>
    <p class="Pp">In the Example provider, the increment probe becomes:</p>
    <div class="Bd Pp">
    <pre>
EXAMPLE_INCREMENT()
EXAMPLE_INCREMENT_ENABLED()
    </pre>
    </div>
    <p class="Pp">Place a macro invocation in the code at each site to be
        traced. If the arguments passed to a probe are expensive to calculate,
        you may guard the probe placement like this:</p>
    <div class="Bd Pp">
    <pre>
if (EXAMPLE_INCREMENT_ENABLED()) {
	argument = /* Expensive argument calculation code here */;
	EXAMPLE_INCREMENT(argument);
};
    </pre>
    </div>
    <p class="Pp">The if test will only succeed when the increment probe is
        active.</p>
  </li>
  <li>Compile and link your program normally. No additional compiler or linker
      flags are required.</li>
</ol>
</section>
<section class="Sh">
<h1 class="Sh" id="EXTRA_OPTIONS"><a class="permalink" href="#EXTRA_OPTIONS">EXTRA
  OPTIONS</a></h1>
<p class="Pp">These options can be set by either passing them to
    <code class="Fl">-x</code> or be set in <code class="Nm">dtrace</code>
    scripts using
    <a class="permalink" href="#_pragma"><b class="Sy" id="_pragma">#pragma
    D</b></a> <var class="Ar">option</var>=<var class="Ar">value</var>.</p>
<section class="Ss">
<h2 class="Ss" id="Compile-time_options"><a class="permalink" href="#Compile-time_options">Compile-time
  options</a></h2>
<dl class="Bl-tag">
  <dt>amin=<var class="Ar">attributes</var></dt>
  <dd>Set the values for the minimum stability attributes for D program
      execution. <var class="Ar">attributes</var> is a tuple of the form
      <var class="Ar">name-stability</var>/<var class="Ar">data-stability</var>/<var class="Ar">dependency-class</var>.
      Valid interface and data stability attribute values are:
    <ul class="Bl-bullet Bd-indent">
      <li>Internal: interfaces to <code class="Nm">dtrace</code> implementation
          details. These interfaces might change between minor releases.</li>
      <li>Private: interfaces to undocumented operating system implementation
          details. Might change between minor releases.</li>
      <li>Obsolete: interfaces to currently-supported features which are
          scheduled to be removed in a future release.</li>
      <li>External: interfaces to features not controlled by the operating
          system vendor.</li>
      <li>Unstable: interfaces which may change without warning.</li>
      <li>Evolving: may become Standard or Stable but may still change in a
          future major release.</li>
      <li>Stable: Mature interface which should not change.</li>
      <li>Standard: Complies with an industry standard and will not change.</li>
    </ul>
  </dd>
  <dt>arch=<var class="Ar">value</var></dt>
  <dd>Set the target data model. See <a class="Xr" href="../1/arch">arch(1)</a>
      for a list of currently supported architectures. Has the same effect as
      the <code class="Fl">-arch</code> option.</dd>
  <dt>argref</dt>
  <dd>Ignore additional positional command-line arguments instead of reporting
      an error.</dd>
  <dt>core</dt>
  <dd>After execution is complete, cause dtrace to call
      <a class="Xr" href="../3/abort">abort(3)</a> instead of
      <a class="Xr" href="../3/exit">exit(3)</a>. On some systems, this will
      create a core dump.</dd>
  <dt>cpp</dt>
  <dd>Run the C preprocessor in <a class="Xr" href="../1/clang">clang(1)</a>
      over D programs before compiling them. Has the same effect as the
      <code class="Fl">-C</code> option.</dd>
  <dt>cpphdrs</dt>
  <dd>Specify the <code class="Fl">-H</code> option to
      <a class="Xr" href="../1/clang">clang(1)</a> to print the name of each
      header file used.</dd>
  <dt>cpppath=<var class="Ar">path</var></dt>
  <dd>Sets the path of the <a class="Xr" href="../1/clang">clang(1)</a>
      preprocessor</dd>
  <dt>ctypes=<var class="Ar">path</var></dt>
  <dd>Write out CTF definitions of all C types used in all programs at the end
      of a D compilation run in <var class="Ar">path</var>.</dd>
  <dt>debug</dt>
  <dd>Enable DTrace debug messages.</dd>
  <dt>defaultargs</dt>
  <dd>Allow references to unspecified macro arguments. Use 0 as the value for an
      unspecified argument.</dd>
  <dt>define</dt>
  <dd>Adds an implicit #define into the predefines buffer of the preprocessor.
      Has the same effect as the <code class="Fl">-D</code> option.</dd>
  <dt>disallow_dsym</dt>
  <dd>Do not use dSYM files for userspace symbolication.</dd>
  <dt>droptags</dt>
  <dd>Prints drop tags, [DTRACE_DROP_$TYPE] values describing drop types, to the
      drop tags handler (by default, to stderr).</dd>
  <dt>empty</dt>
  <dd>Allow compilation of empty D files.</dd>
  <dt>encoding=[ascii|utf8]</dt>
  <dd>Sets the encoding used for output. utf8 will show Unicode block elements
      for histograms.</dd>
  <dt>errtags</dt>
  <dd>Prefix default error message with error tags.</dd>
  <dt>evaltime=[preinit|postinit]</dt>
  <dd>Control when DTrace starts instrumenting a new process, before or after
      library initializers have run.</dd>
  <dt>incdir=<var class="Ar">value</var></dt>
  <dd>Add the specified directory to the search path for includes files in the
      preprocessor.</dd>
  <dt>iregs=<var class="Ar">value</var></dt>
  <dd>Size of the DIF (DTrace Intermediate Format) integer register set. The
      default value is 8.</dd>
  <dt>late=[dynamic|static]</dt>
  <dd>Sets whether references to dynamic translators are allowed.</dd>
  <dt>libdir=path</dt>
  <dd>Add a library directory in the library search path.</dd>
  <dt>mangled</dt>
  <dd>Show mangled symbols for C++/Swift probes instead of demangled
    symbols.</dd>
  <dt>nolibs</dt>
  <dd>Do not include D system libraries. Prevents access to
      <code class="Nm">dtrace</code> system library identifiers but speeds up
      DTrace launch.</dd>
  <dt>nojtanalysis</dt>
  <dd>Disable jump table analysis. The default behavior of the
      <b class="Sy">pid</b> provider is to not provide &#x2018;return&#x2019; or
      offset probes for functions which appear to contain jump tables.
      &quot;Jump tables are often generated for switch statements.&quot;
      Disabling jump table analysis can lead to inappropriately placed probes,
      data corruption, or even crashes in the target process.</dd>
  <dt>noerror</dt>
  <dd>Do not show error messages.</dd>
  <dt>pgmax=<var class="Ar">value</var></dt>
  <dd>Sets the maximum number of processes DTrace can grab at the same time.
      Default value is 8.</dd>
  <dt>preallocate=<var class="Ar">value</var>[k|m]</dt>
  <dd>Preallocate memory in dtrace before running the script.</dd>
  <dt>pspec</dt>
  <dd>Interpret ambiguous specifiers as probe names.</dd>
  <dt id="value">setenv=<var class="Ar">name</var>=value</dt>
  <dd>Adds the variable <b class="Sy">name</b> to the environment of launched
      processes, if <b class="Sy">name</b> does not already exists. If
      <b class="Sy">name</b> does exist in the environment, then its value is
      set to <a class="permalink" href="#value"><b class="Sy">value</b></a></dd>
  <dt>strip</dt>
  <dd>Strip non-loadable sections from the D program.</dd>
  <dt>tree=<var class="Ar">value</var></dt>
  <dd>Bitmap to show the <code class="Nm">dtrace</code> compiler parse tree at
      different stages (1|2|4).</dd>
  <dt>tregs=<var class="Ar">value</var></dt>
  <dd>Size of the DIF tuple register set. This controls the number of arguments
      that can be passed to functions. Default value is 8.</dd>
  <dt>undef=<var class="Ar">value</var></dt>
  <dd>Adds an implicit <code class="Li">#undef</code>
      <var class="Ar">value</var> into the predefines buffer of the
      preprocessor.</dd>
  <dt>unsetenv=<var class="Ar">name</var></dt>
  <dd>Delete the variable <b class="Sy">name</b> from the environment of
      launched processes if it exists.</dd>
  <dt>verbose</dt>
  <dd>Show D compiler intermediate code (DIFO). The D compiler will produce a
      report of the intermediate code generated for each D program to
      <a class="Xr" href="../4/stderr">stderr(4)</a> Has the same effect as the
      <code class="Fl">-S</code> option.</dd>
  <dt>version</dt>
  <dd>Request a specific version of the DTrace scripting language. This will
      disable all identifiers / translators / functions that are from a newer
      version than the specified version.</dd>
  <dt>zdefs</dt>
  <dd>Permit probe descriptions that match zero probes. Has the same effect as
      the <code class="Fl">-Z</code> option.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Run-time_Options"><a class="permalink" href="#Run-time_Options">Run-time
  Options</a></h2>
<dl class="Bl-tag">
  <dt>aggsize=<var class="Ar">value</var> [m|k]</dt>
  <dd>Sets the aggregation buffer size in bytes, kibi or mebibytes.</dd>
  <dt>bufsize=<var class="Ar">value</var>[m|k]</dt>
  <dd>Sets the principal trace buffer size. Has the same effect as the
      <code class="Fl">-b</code> option.</dd>
  <dt>buflimit=<var class="Ar">1-99</var></dt>
  <dd>Threshold percentage of buffer size at which early buffer switches will be
      done. 75% is the default.</dd>
  <dt>bufpolicy=[ring|fill|switch]</dt>
  <dd>Sets the buffer policy. The default buffer policy is switch.</dd>
  <dt>bufresize=[auto|manual]</dt>
  <dd>Sets whether the per-CPU buffer size can be halved when the kernel cannot
      allocate enough memory. Auto is the default value.</dd>
  <dt>cleanrate=<var class="Ar">value</var>[ns|us|ms|s|m|h|d|hz]</dt>
  <dd>Cleaning rate for speculative buffers.</dd>
  <dt>cpu=<var class="Ar">value</var></dt>
  <dd>CPU on which to enable tracing.</dd>
  <dt>destructive</dt>
  <dd>Allow destructive actions. Has the same effect as the
      <code class="Fl">-w</code> option.</dd>
  <dt>dynvarsize=<var class="Ar">value</var></dt>
  <dd>Dynamic variable space size.</dd>
  <dt>grabanon</dt>
  <dd>Claim anonymous tracing state and display the trace data. Has the same
      effect as the <code class="Fl">-a</code> option.</dd>
  <dt>nspec=<var class="Ar">value</var></dt>
  <dd>Number of speculative buffers.</dd>
  <dt>specsize=<var class="Ar">value</var>[k|m]</dt>
  <dd>Speculation buffer size.</dd>
  <dt>stackframes=<var class="Ar">value</var></dt>
  <dd>Number of stack frames shown for kernel backtraces.</dd>
  <dt>statusrate=<var class="Ar">value</var>[ns|us|ms|s|m|h|d|hz]</dt>
  <dd>Rate at which user space <code class="Nm">dtrace</code> will poll the
      kernel for status.</dd>
  <dt>strsize=<var class="Ar">maxStringSize</var></dt>
  <dd>Maximum string size.</dd>
  <dt>temporal=[true|false]</dt>
  <dd>Sort events so that output is in time order. Defaults to true.</dd>
  <dt>ustackframes=<var class="Ar">frameCount</var></dt>
  <dd>Number of stack frames shown for userspace backtraces.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Dynamic_Run-time_Options"><a class="permalink" href="#Dynamic_Run-time_Options">Dynamic
  Run-time Options</a></h2>
<dl class="Bl-tag">
  <dt>agghist=<var class="Ar">file ...</var> [true|false]</dt>
  <dd>Shows a histogram for all aggregations.</dd>
  <dt>aggpack</dt>
  <dd>Pack aggregations together, only showing one line per aggregation.</dd>
  <dt>aggrate=<var class="Ar">value</var>[us|ms|s|m|h|d|hz]</dt>
  <dd>Sets the aggregation buffer retrieval rate.</dd>
  <dt>aggsortkey</dt>
  <dd>Sort aggregation by key order with ties broken by value.</dd>
  <dt>aggsortkeypos=<var class="Ar">value</var></dt>
  <dd>Position of the aggregate key on which the output is sorted.</dd>
  <dt>aggsortpos=<var class="Ar">value</var></dt>
  <dd>Position in the argument in the aggregate function on which the output is
      sorted.</dd>
  <dt>aggsortrev</dt>
  <dd>Sort aggregations in reverse order.</dd>
  <dt>aggzoom</dt>
  <dd>Scales the height of bars in histograms in proportion of the bucket of
      greatest value instead of the full height of the histogram.</dd>
  <dt>flowindent</dt>
  <dd>Indent function entry/returns with -&gt; / &lt;-. Has the same effect as
      the <code class="Fl">-F</code> option.</dd>
  <dt>quiet</dt>
  <dd>Output only explicitly traced data. Has the same effect as the
      <code class="Fl">-q</code> option.</dd>
  <dt>rawbytes</dt>
  <dd>Always print tracemem output in hexadecimal.</dd>
  <dt id="stack">stackindent</dt>
  <dd>Number of white space characters to use when indenting
      <a class="permalink" href="#stack"><code class="Fn">stack</code></a>() or
      <a class="permalink" href="#ustack"><code class="Fn" id="ustack">ustack</code></a>()
      output.</dd>
  <dt>stacksymbols=<var class="Ar">frameCount</var>[true|false]</dt>
  <dd>Whether stack symbols are symbolicated or not. Defaults to true.</dd>
  <dt>switchrate=<var class="Ar">value</var>[ns|us|ms|s|m|h|d|hz]</dt>
  <dd>Rate of principal buffer switching.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="SUPPORTED_BUILT-IN_VARIABLES"><a class="permalink" href="#SUPPORTED_BUILT-IN_VARIABLES">SUPPORTED
  BUILT-IN VARIABLES</a></h1>
<p class="Pp"><code class="Nm">dtrace</code> supplies the following built-in,
    read-only variables.</p>
<dl class="Bl-tag">
  <dt id="profile"><var class="Vt">uint64_t</var>
    <var class="Va">arg0-arg9</var></dt>
  <dd>Arguments of the current probe invocation represented as unsigned 64-bit
      integers. In the &#x2018;entry&#x2019; probe actions of the
      <b class="Sy">syscall</b>, <b class="Sy">mach_trap</b>,
      <b class="Sy">fbt</b>, and <b class="Sy">pid</b> providers, these
      variables contain the traced function's arguments. In the
      &#x2018;return&#x2019; probe actions of the <b class="Sy">fbt</b> and
      <b class="Sy">pid</b> providers, <var class="Va">arg0</var> contains the
      instruction offset (into the function) from which the function returned
      and <var class="Va">arg1</var> contains the function's return value. In
      the &#x2018;return&#x2019; probe actions of the <b class="Sy">syscall</b>
      and <b class="Sy">mach_trap</b> providers, both <var class="Va">arg0</var>
      and <var class="Va">arg1</var> are set to the function's return value. The
      <a class="permalink" href="#profile"><b class="Sy">profile</b></a> and
      <a class="permalink" href="#tick"><b class="Sy" id="tick">tick</b></a>
      providers set <var class="Va">arg1</var> to the address of the instruction
      that was running when the action fired.</dd>
  <dt><var class="Va">args[]</var></dt>
  <dd>Typed arguments of the current probe, if available. See
      <code class="Fl">-v</code>.</dd>
  <dt><var class="Vt">uint64_t</var> <var class="Va">caller</var></dt>
  <dd>The kernel address of the instruction that called the current function. As
      DTrace actions are always called from kernel context, this variable is
      non-zero even when probes are triggered from user space.</dd>
  <dt><var class="Vt">processorid_t</var> <var class="Va">cpu</var></dt>
  <dd>Integer identifier of the logical CPU on which this probe action
      triggered.</dd>
  <dt><var class="Vt">uint64_t</var> <var class="Va">cpucycles</var>
    (Darwin-specific)</dt>
  <dd>Number of CPU cycles elapsed on the current CPU. See also
      <var class="Va">vcycles</var>.</dd>
  <dt><var class="Vt">uint64_t</var> <var class="Va">cpuinstrs</var>
    (Darwin-specific)</dt>
  <dd>Number of instructions &quot;retired&quot; by the current logical CPU, if
      available. This count excludes instructions speculatively issued by the
      processor which didn't actually need to be executed. See also
      <var class="Va">vinstrs</var>.</dd>
  <dt><var class="Vt">thread_t</var> <var class="Va">curthread</var></dt>
  <dd>Address of the OS thread structure corresponding to the thread which
      triggered the current probe action.</dd>
  <dt><var class="Vt">user_addr_t</var> <var class="Va">dispatchqaddr</var>
    (Darwin-specific)</dt>
  <dd>If the probe action was triggered from a user space context which included
      a dispatch queue, the address of that queue.</dd>
  <dt><var class="Vt">uint_t</var> <var class="Va">id</var></dt>
  <dd>The current probe's unique identifier within the currently running OS, as
      shown with <code class="Fl">-l</code>.</dd>
  <dt><var class="Vt">uint_t</var> <var class="Va">epid</var></dt>
  <dd>A unique identifier representing the current probe action's enablement
      within the current D program. An action can match multiple probes.</dd>
  <dt><var class="Vt">int</var> <var class="Va">errno</var></dt>
  <dd>Error value returned by the last system call performed on the current
      thread.</dd>
  <dt><var class="Vt">string</var> <var class="Va">execname</var></dt>
  <dd>Current process name.</dd>
  <dt><var class="Vt">gid_t</var> <var class="Va">gid</var></dt>
  <dd>Primary group ID of the current process.</dd>
  <dt><var class="Vt">uint_t</var> <var class="Va">ipl</var></dt>
  <dd>Current interrupt level. On Darwin, either 0 or 1.</dd>
  <dt id="mach_absolute_time"><var class="Vt">uint64_t</var>
    <var class="Va">machtimestamp</var> (Darwin-specific)</dt>
  <dd>Current
      <a class="permalink" href="#mach_absolute_time"><code class="Fn">mach_absolute_time</code></a>()
      timestamp.</dd>
  <dt id="mach_continuous_time"><var class="Vt">uint64_t</var>
    <var class="Va">machctimestamp</var> (Darwin-specific)</dt>
  <dd>Current
      <a class="permalink" href="#mach_continuous_time"><code class="Fn">mach_continuous_time</code></a>()
      timestamp.</dd>
  <dt><var class="Vt">pid_t</var> <var class="Va">pid</var></dt>
  <dd>Process ID of the current process.</dd>
  <dt><var class="Vt">pid_t</var> <var class="Va">ppid</var></dt>
  <dd>Parent process ID of the current process.</dd>
  <dt><var class="Vt">string</var> <var class="Va">probeprov</var>,
    <var class="Va">probemod</var>, <var class="Va">probefunc</var>,
    <var class="Va">probename</var></dt>
  <dd>Respectively, the names of the current probe's provider, module, function,
      and name. See <code class="Fl">-n</code>.</dd>
  <dt><var class="Vt">uint32_t</var> <var class="Va">stackdepth</var></dt>
  <dd>Number of kernel-mode stack frames on the current thread.</dd>
  <dt><var class="Vt">id_t</var> <var class="Va">tid</var></dt>
  <dd>Thread ID of the current thread.</dd>
  <dt><var class="Vt">uint64_t</var> <var class="Va">timestamp</var></dt>
  <dd>Current value in nanoseconds from some system-wide fixed point in the
      past.</dd>
  <dt><var class="Vt">uid_t</var> <var class="Va">uid</var></dt>
  <dd>User ID of the current process.</dd>
  <dt><var class="Vt">uint64_t</var> <var class="Va">ucaller</var></dt>
  <dd>The user space address from which the currently-running function was
      called, or zero if the function was called from the kernel.</dd>
  <dt><var class="Vt">uint32_t</var> <var class="Va">ustackdepth</var></dt>
  <dd>Number of user space stack frames on the current thread.</dd>
  <dt><var class="Vt">uint64_t</var> <var class="Va">uregs[]</var></dt>
  <dd>The current thread's register values immediately prior to the last
      transition from user to kernel execution.
      <span class="Pa">/usr/lib/dtrace/regs*</span> provides constants for the
      indices of each register's value in the array.</dd>
  <dt><var class="Vt">uint64_t</var> <var class="Va">vmregs[]</var></dt>
  <dd>The current virtual machine registers if available.</dd>
  <dt><var class="Vt">uint64_t</var> <var class="Va">vcycles</var>
    (Darwin-specific)</dt>
  <dd>Number of CPU cycles elapsed while running the current thread. This value
      includes cycles elapsed while processing interrupts with this thread. See
      also <var class="Va">cpucycles</var>.</dd>
  <dt><var class="Vt">uint64_t</var> <var class="Va">vinstrs</var>
    (Darwin-specific)</dt>
  <dd>Number of instructions retired by the current thread, if available. This
      value includes instructions retired while processing interrupts with this
      thread. See also <var class="Va">cpuinstrs</var>.</dd>
  <dt><var class="Vt">uint64_t</var> <var class="Va">vtimestamp</var></dt>
  <dd>Time in nanoseconds that the current thread has spent running on any
    CPU.</dd>
  <dt><var class="Vt">uint64_t</var> <var class="Va">walltimestamp</var></dt>
  <dd>Current number of nanoseconds since the Unix Epoch (00:00 UTC January 1st,
      1970).</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SUPPORTED_SUBROUTINES"><a class="permalink" href="#SUPPORTED_SUBROUTINES">SUPPORTED
  SUBROUTINES</a></h1>
<p class="Pp">D subroutines can only effect internal D program state. Many D
    subroutines have no effects outside the current D program clause.</p>
<p class="Pp"><var class="Vt">const char*</var> arguments accept either D
    <var class="Vt">string</var> objects or pointers to C strings. C strings are
    assumed to be terminated with a NUL (0) byte. DTrace pointers refer to
    kernel virtual address space unless otherwise indicated.</p>
<p class="Pp">A number of DTrace's subroutines return scratch objects. These
    scratch objects are only valid for the current invocation of the
    immediately-enclosing D program clause.</p>
<dl class="Bl-tag">
  <dt id="alloca"><var class="Ft">void*</var>
    <a class="permalink" href="#alloca"><code class="Fn">alloca</code></a>(<var class="Fa">size_t*
    nbytes</var>)</dt>
  <dd>Create a new <var class="Fa">nbytes</var>-sized scratch buffer.</dd>
  <dt id="basename"><var class="Ft">string</var>
    <a class="permalink" href="#basename"><code class="Fn">basename</code></a>(<var class="Fa">const
    char* pathstr</var>)</dt>
  <dd>Copy the last &#x2018;/&#x2019;-delimited component of
      <var class="Fa">pathstr</var> into a new scratch string.</dd>
  <dt id="bcopy"><var class="Ft">void</var>
    <a class="permalink" href="#bcopy"><code class="Fn">bcopy</code></a>(<var class="Fa">void*
    src, void* scratch, size_t size</var>)</dt>
  <dd>Copy <var class="Fa">size</var> bytes from address
      <var class="Fa">src</var> to the existing scratch buffer
      <var class="Fa">scratch</var>.</dd>
  <dt id="cleanpath"><var class="Ft">string</var>
    <a class="permalink" href="#cleanpath"><code class="Fn">cleanpath</code></a>(<var class="Fa">const
    char* pathstr</var>)</dt>
  <dd>Copy a canonical representation of <var class="Fa">pathstr</var> into a
      new scratch string. The resulting string will not contain any unnecessary
      or redundant &#x2018;<code class="Li">./</code>&#x2019; or
      &#x2018;<code class="Li">../</code>&#x2019; substrings.</dd>
  <dt id="copyin"><var class="Ft">void*</var>
    <a class="permalink" href="#copyin"><code class="Fn">copyin</code></a>(<var class="Fa">user_addr_t
    src, size_t size</var>)</dt>
  <dd>Copy <var class="Fa">size</var> bytes from the current user space address
      <var class="Fa">src</var> to a new scratch buffer.</dd>
  <dt id="copyinstr"><var class="Ft">string</var>
    <a class="permalink" href="#copyinstr"><code class="Fn">copyinstr</code></a>(<var class="Fa">user_addr_t
    src, [size_t maxchars]</var>)</dt>
  <dd>Copy a NUL-terminated C string from the current user space address
      <var class="Fa">src</var> into a new scratch string. If
      <var class="Fa">maxchars</var> is specified, it will limit the total
      number of characters that can be copied. If it is not specified, the
      run-time option <var class="Ar">strsize</var> will limit the maximum
      number of characters copied.</dd>
  <dt id="copyinto"><var class="Ft">void</var>
    <a class="permalink" href="#copyinto"><code class="Fn">copyinto</code></a>(<var class="Fa">user_addr_t
    src, size_t size, void *scratch</var>)</dt>
  <dd>Copy <var class="Fa">size</var> bytes from the current user space address
      <var class="Fa">src</var> to the existing scratch buffer
      <var class="Fa">scratch</var>.</dd>
  <dt id="dirname"><var class="Ft">string</var>
    <a class="permalink" href="#dirname"><code class="Fn">dirname</code></a>(<var class="Fa">const
    char *pathstr</var>)</dt>
  <dd>Copy all but the last &#x2018;/&#x2019;-delimited component of
      <var class="Fa">pathstr</var> into a new scratch string.</dd>
  <dt id="getmajor"><var class="Ft">major_t</var>
    <a class="permalink" href="#getmajor"><code class="Fn">getmajor</code></a>(<var class="Fa">dev_t
    dev</var>)</dt>
  <dd>Extract the major device number for <var class="Fa">dev</var>.</dd>
  <dt id="getminor"><var class="Ft">minor_t</var>
    <a class="permalink" href="#getminor"><code class="Fn">getminor</code></a>(<var class="Fa">dev_t
    dev</var>)</dt>
  <dd>Extract the minor device number for <var class="Fa">dev</var>.</dd>
  <dt id="htonl"><var class="Ft">uint32_t</var>
    <a class="permalink" href="#htonl"><code class="Fn">htonl</code></a>(<var class="Fa">uint32_t
    hostlong</var>)</dt>
  <dd>Convert <var class="Fa">hostlong</var> from host byte order to network
      byte order.</dd>
  <dt id="htonll"><var class="Ft">uint64_t</var>
    <a class="permalink" href="#htonll"><code class="Fn">htonll</code></a>(<var class="Fa">uint64_t
    hostlonglong</var>)</dt>
  <dd>Convert <var class="Fa">hostlonglong</var> from host byte order to network
      byte order.</dd>
  <dt id="htons"><var class="Ft">uint16_t</var>
    <a class="permalink" href="#htons"><code class="Fn">htons</code></a>(<var class="Fa">uint16_t
    hostshort</var>)</dt>
  <dd>Convert <var class="Fa">hostshort</var> from host byte order to network
      byte order.</dd>
  <dt id="index"><var class="Ft">int</var>
    <a class="permalink" href="#index"><code class="Fn">index</code></a>(<var class="Fa">const
    char* str, const char* searchstr, [int start]</var>)</dt>
  <dd>Return the character offset of the first occurrence of
      <var class="Fa">searchstr</var> within <var class="Fa">str</var>,
      optionally starting the search at character offset
      <var class="Fa">start</var>.</dd>
  <dt id="rindex"><var class="Ft">int</var>
    <a class="permalink" href="#rindex"><code class="Fn">rindex</code></a>(<var class="Fa">const
    char* str, const char* searchstr, [int start]</var>)</dt>
  <dd>Return the character offset of the last occurrence of the C string
      <var class="Fa">searchstr</var> within <var class="Fa">str</var>,
      optionally starting the reverse-search at character offset
      <var class="Fa">start</var>.</dd>
  <dt id="inet_ntoa"><var class="Ft">string</var>
    <a class="permalink" href="#inet_ntoa"><code class="Fn">inet_ntoa</code></a>(<var class="Fa">uint32_t*
    addr</var>)</dt>
  <dd>Create a scratch string representing the IPv4 address pointed to by
      <var class="Fa">addr</var> in dotted-decimal notation.</dd>
  <dt id="inet_ntoa6"><var class="Ft">string</var>
    <a class="permalink" href="#inet_ntoa6"><code class="Fn">inet_ntoa6</code></a>(<var class="Fa">struct
    in6_addr* addr</var>)</dt>
  <dd>Create a scratch string representing the IPv6 address pointed to by
      <var class="Fa">addr</var> in zero-compressed double-colon hexadecimal
      notation (specifically RFC 1884 convention 2).</dd>
  <dt id="inet_ntop"><var class="Ft">string</var>
    <a class="permalink" href="#inet_ntop"><code class="Fn">inet_ntop</code></a>(<var class="Fa">int
    addrfamily, void *addr</var>)</dt>
  <dd>Create a scratch string representing the IP address of type
      <var class="Fa">addrfamily</var> pointed to by <var class="Fa">addr</var>.
      Valid values for <var class="Fa">addrfamily</var> are
      <code class="Dv">AF_INET</code> and <code class="Dv">AF_INET6</code>.</dd>
  <dt id="json"><var class="Ft">string</var>
    <a class="permalink" href="#json"><code class="Fn">json</code></a>(<var class="Fa">string
    payload, string selector</var>)</dt>
  <dd>Extract a single value represented by <var class="Fa">selector</var> from
      a JSON object stored in <var class="Fa">payload</var>. Element selectors
      support:
    <ul class="Bl-bullet Bd-indent">
      <li>Simple strings for keys, for example <var class="Fa">key</var></li>
      <li>dot-separated keys for nested objects, for example
          <var class="Fa">object.key</var></li>
      <li>Array indexing, for example
          <var class="Fa">object.key[2].anotherkey</var></li>
    </ul>
  </dd>
  <dt id="lltostr"><var class="Ft">string</var>
    <a class="permalink" href="#lltostr"><code class="Fn">lltostr</code></a>(<var class="Fa">int64_t
    val, [int baseN]</var>)</dt>
  <dd>Create a scratch string representing <var class="Fa">val</var> in base
      <var class="Fa">baseN</var> notation.</dd>
  <dt id="ntohl"><var class="Ft">uint32_t</var>
    <a class="permalink" href="#ntohl"><code class="Fn">ntohl</code></a>(<var class="Fa">uint32_t
    netlong</var>)</dt>
  <dd>Convert <var class="Fa">netlong</var> from network byte order to host byte
      order.</dd>
  <dt id="ntohll"><var class="Ft">uint64_t</var>
    <a class="permalink" href="#ntohll"><code class="Fn">ntohll</code></a>(<var class="Fa">uint64_t
    netlonglong</var>)</dt>
  <dd>Convert <var class="Fa">netlonglong</var> from network byte order to host
      byte order.</dd>
  <dt id="ntohs"><var class="Ft">uint16_t</var>
    <a class="permalink" href="#ntohs"><code class="Fn">ntohs</code></a>(<var class="Fa">uint16_t
    netshort</var>)</dt>
  <dd>Convert <var class="Fa">netshort</var> from network byte order to host
      byte order.</dd>
  <dt id="progenyof"><var class="Ft">int</var>
    <a class="permalink" href="#progenyof"><code class="Fn">progenyof</code></a>(<var class="Fa">pid_t
    pid</var>)</dt>
  <dd>Return non-zero if the calling process has a chain of parent processes
      leading to <var class="Fa">pid</var>.</dd>
  <dt id="rand"><var class="Ft">int</var>
    <a class="permalink" href="#rand"><code class="Fn">rand</code></a>()</dt>
  <dd>Return a positive pseudo-random number. It is easy to predict these
      numbers so they should not be used for cryptographic purposes.</dd>
  <dt id="speculation"><var class="Ft">int</var>
    <a class="permalink" href="#speculation"><code class="Fn">speculation</code></a>()</dt>
  <dd>Create a speculative buffer for use with
      <code class="Fn">speculate</code>(), returning the buffer's identifier.
      See also <code class="Fn">commit</code>().</dd>
  <dt id="strchr"><var class="Ft">string</var>
    <a class="permalink" href="#strchr"><code class="Fn">strchr</code></a>(<var class="Fa">const
    char* str, char c</var>)</dt>
  <dd>If <var class="Fa">str</var> contains <var class="Fa">c</var>, copy the
      characters starting at the first occurrence of <var class="Fa">c</var> and
      ending at the end of <var class="Fa">str</var> into a new scratch string.
      If <var class="Fa">c</var> is not present, return NULL.</dd>
  <dt id="strip"><var class="Ft">void*</var>
    <a class="permalink" href="#strip"><code class="Fn">strip</code></a>(<var class="Fa">void
    *ptr, uint8_t key</var>)</dt>
  <dd>On platforms that support encoded pointers, strips the pointer
      authentication bits from <var class="Fa">ptr</var> to produce a valid
      pointer. Valid values for <var class="Fa">key</var> can be found in
      <var class="Ar">ptrauth.h</var>.</dd>
  <dt id="strrchr"><var class="Ft">string</var>
    <a class="permalink" href="#strrchr"><code class="Fn">strrchr</code></a>(<var class="Fa">const
    char* str, char c</var>)</dt>
  <dd>Like <code class="Fn">strchr</code>(), but start from the last occurrence
      of <var class="Fa">c</var>.</dd>
  <dt id="strlen"><var class="Ft">size_t</var>
    <a class="permalink" href="#strlen"><code class="Fn">strlen</code></a>(<var class="Fa">const
    char* str</var>)</dt>
  <dd>Calculate the length of <var class="Fa">str</var> in bytes.</dd>
  <dt id="strjoin"><var class="Ft">string</var>
    <a class="permalink" href="#strjoin"><code class="Fn">strjoin</code></a>(<var class="Fa">const
    char* str1, const char* str2</var>)</dt>
  <dd>Concatenate <var class="Fa">str1</var> and <var class="Fa">str2</var> into
      a new scratch string.</dd>
  <dt id="strtoll"><var class="Ft">int64_t</var>
    <a class="permalink" href="#strtoll"><code class="Fn">strtoll</code></a>(<var class="Fa">const
    char *str, [int base]</var>)</dt>
  <dd>Converts <var class="Fa">str</var> into a signed integer, interpreted as
      base <var class="Fa">base</var> if provided, at base 10 otherwise.</dd>
  <dt id="strstr"><var class="Ft">string</var>
    <a class="permalink" href="#strstr"><code class="Fn">strstr</code></a>(<var class="Fa">const
    char* str, const char* prefix</var>)</dt>
  <dd>If <var class="Fa">str</var> contains <var class="Fa">prefix</var>, copy
      the characters from <var class="Fa">prefix</var> to the end of the string
      into a new scratch string. If <var class="Fa">prefix</var> is not present,
      return NULL.</dd>
  <dt id="strtok"><var class="Ft">string</var>
    <a class="permalink" href="#strtok"><code class="Fn">strtok</code></a>(<var class="Fa">const
    char* str, const char *delimchars</var>)</dt>
  <dd>Like <a class="Xr" href="../1/strtok(3)">strtok(3)</a>, split
      <var class="Fa">str</var> into multiple substrings, splitting on any of
      the characters in <var class="Fa">delimchars</var>. If the
      <var class="Fa">str</var> is non-NULL, return the first token. If
      <var class="Fa">str</var> is non-NULL, return the next token from the most
      recently provided string. <var class="Fa">delimchars</var> can be changed
      in subsequent calls. If no characters from
      <var class="Fa">delimchars</var> are present whatever portion of
      <var class="Fa">str</var> has not yet been tokenized, return NULL.</dd>
  <dt id="substr"><var class="Ft">string</var>
    <a class="permalink" href="#substr"><code class="Fn">substr</code></a>(<var class="Fa">const
    char* str, int start, [int length]</var>)</dt>
  <dd>Copy the characters in <var class="Fa">str</var> from character offset
      <var class="Fa">start</var> through the end of the string into a new
      scratch string. <var class="Fa">length</var> can be used to limit the
      number of characters copied to the new string.</dd>
  <dt id="tolower"><var class="Ft">string</var>
    <a class="permalink" href="#tolower"><code class="Fn">tolower</code></a>(<var class="Fa">const
    char *str</var>)</dt>
  <dd>Copy <var class="Fa">str</var> into a new scratch string, replacing all
      uppercase letters with their lowercase equivalents.</dd>
  <dt id="mtons"><var class="Ft">uint64_t</var>
    <a class="permalink" href="#mtons"><code class="Fn">mtons</code></a>(<var class="Fa">uint64_t
    time</var>) (Darwin-specific)</dt>
  <dd>Convert <var class="Fa">time</var> from either machtimestamp or
      machctimestamp, into nanoseconds.</dd>
  <dt id="toupper"><var class="Ft">string</var>
    <a class="permalink" href="#toupper"><code class="Fn">toupper</code></a>(<var class="Fa">const
    char* str</var>)</dt>
  <dd>Copy <var class="Fa">str</var> into a new scratch string, replacing all
      lowercase letters with their uppercase equivalents.</dd>
  <dt id="vm_kernel_addrperm"><var class="Ft">void*</var>
    <a class="permalink" href="#vm_kernel_addrperm"><code class="Fn">vm_kernel_addrperm</code></a>(<var class="Fa">void*
    addr</var>) (Darwin-specific)</dt>
  <dd>Calculate the unpermuted (or &quot;unslid&quot;) address corresponding to
      the raw kernel address <var class="Fa">addr</var>. By default, DTrace
      uses, traces, and prints raw kernel addresses. Unpermuted addresses will
      correspond with other user-visible addresses such as those shown in
      <a class="Xr" href="../8/kextstat">kextstat(8)</a>. With default System
      Integrity Protection settings, D programs are not permitted to access
      kernel address values or kernel memory contents.
      <a class="Xr" href="../8/csrutil">csrutil(8)</a> can be used to change the
      settings.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SUPPORTED_ACTIONS"><a class="permalink" href="#SUPPORTED_ACTIONS">SUPPORTED
  ACTIONS</a></h1>
<p class="Pp">DTrace actions allow a D program to interact with the running
    system. The most benign actions record data to a DTrace buffer. Destructive
    actions have effects on the system and must be enabled with
    <code class="Fl">-w</code>.</p>
<p class="Pp"><var class="Ft">void*</var> pointers may refer to either D scratch
    buffers or kernel virtual addresses.</p>
<dl class="Bl-tag">
  <dt id="breakpoint"><var class="Ft">void</var>
    <a class="permalink" href="#breakpoint"><code class="Fn">breakpoint</code></a>()
    (destructive)</dt>
  <dd>Stop the kernel and wait for a debugger.</dd>
  <dt id="chill"><var class="Ft">void</var>
    <a class="permalink" href="#chill"><code class="Fn">chill</code></a>(<var class="Fa">int
    nsecs</var>) (destructive)</dt>
  <dd>Spin inside DTrace for the specified number of nanoseconds. If this action
      is asked to spin for more than 500ms out of every second of wall clock
      time, an error will be reported.</dd>
  <dt id="clear"><var class="Ft">void</var>
    <a class="permalink" href="#clear"><code class="Fn">clear</code></a>(<var class="Fa">@aggr</var>)</dt>
  <dd>Clear all values in <var class="Fa">@aggr</var>. The keys are retained.
      See also
      <a class="permalink" href="#trunc"><code class="Fn" id="trunc">trunc</code></a>().</dd>
  <dt id="commit"><var class="Ft">void</var>
    <a class="permalink" href="#commit"><code class="Fn">commit</code></a>(<var class="Fa">int
    specid</var>)</dt>
  <dd>Copy the contents of the speculative buffer <var class="Fa">specid</var>
      to the main tracing buffer.</dd>
  <dt id="copyout"><var class="Ft">void</var>
    <a class="permalink" href="#copyout"><code class="Fn">copyout</code></a>(<var class="Fa">void
    *src, user_addr_t *dst, size_t size</var>) (destructive)</dt>
  <dd>Copy <var class="Fa">size</var> bytes from the buffer
      <var class="Fa">src</var> into the current address space address
      <var class="Fa">dst</var>.</dd>
  <dt id="copyoutstr"><var class="Ft">void</var>
    <a class="permalink" href="#copyoutstr"><code class="Fn">copyoutstr</code></a>(<var class="Fa">void
    *src, user_addr_t *dst, size_t maxbytes</var>) (destructive)</dt>
  <dd>Copy a NUL-terminated C string from <var class="Fa">src</var> to the
      current user address space address <var class="Fa">dst</var>, copying no
      more than <var class="Fa">maxbytes</var>.</dd>
  <dt id="discard"><var class="Ft">void</var>
    <a class="permalink" href="#discard"><code class="Fn">discard</code></a>(<var class="Fa">int
    specid</var>)</dt>
  <dd>Discard the speculative buffer <var class="Fa">specid</var>.</dd>
  <dt id="exit"><var class="Ft">void</var>
    <a class="permalink" href="#exit"><code class="Fn">exit</code></a>(<var class="Fa">int
    status</var>)</dt>
  <dd>Stop tracing, cause <code class="Nm">dtrace</code> to print any final
      results, and exit with <var class="Fa">status</var>.</dd>
  <dt id="freopen"><var class="Ft">void</var>
    <a class="permalink" href="#freopen"><code class="Fn">freopen</code></a>(<var class="Fa">const
    char* path</var>) (destructive)</dt>
  <dd>Open <var class="Fa">path</var> and associate it with
      <code class="Nm">dtrace</code>'s standard output (closing any
      previously-associated file).</dd>
  <dt id="ftruncate"><var class="Ft">void</var>
    <a class="permalink" href="#ftruncate"><code class="Fn">ftruncate</code></a>()</dt>
  <dd>Truncate <code class="Nm">dtrace</code>'s
    <code class="Li">stdout</code>.</dd>
  <dt id="kdebug_trace"><var class="Ft">void</var>
    <a class="permalink" href="#kdebug_trace"><code class="Fn">kdebug_trace</code></a>(<var class="Fa">uint32_t
    debugid, [uint64_t arg1], [uint64_t arg2], [uint64_t arg3], [uint64_t
    arg4]</var>)</dt>
  <dd>(destructive, Darwin-specific)
    <br/>
    Emit an event to kdebug trace; arguments are optional and default to zero.
      <var class="Fa">debugid</var> is a four-part bit field definied in
      <span class="Pa">sys/kdebug.h</span>.</dd>
  <dt id="kdebug_trace_string"><var class="Ft">void</var>
    <a class="permalink" href="#kdebug_trace_string"><code class="Fn">kdebug_trace_string</code></a>(<var class="Fa">uint32_t
    debugid, uint64_t str_id, const char* str</var>)</dt>
  <dd>(destructive, Darwin-specific)
    <br/>
    Emit a string identified with <var class="Fa">str_id</var> to kdebug trace.
      <var class="Fa">debugid</var> is the same as for
      <code class="Fn">kdebug_trace</code>().</dd>
  <dt id="func"><var class="Ft">_symaddr</var>
    <a class="permalink" href="#func"><code class="Fn">func</code></a>(<var class="Fa">user_addr_t
    addr</var>)</dt>
  <dd>Print the symbol name corresponding to the kernel address
      <var class="Fa">addr</var>.</dd>
  <dt id="mod"><var class="Ft">_symaddr</var>
    <a class="permalink" href="#mod"><code class="Fn">mod</code></a>(<var class="Fa">user_addr_t
    addr</var>)</dt>
  <dd>Print the module name corresponding to the kernel address
      <var class="Fa">addr</var>.</dd>
  <dt id="normalize"><var class="Ft">void</var>
    <a class="permalink" href="#normalize"><code class="Fn">normalize</code></a>(<var class="Fa">@aggr,
    int factor</var>)</dt>
  <dd>When <var class="Fa">@aggr</var> is traced, all of its values will be
      divided by <var class="Fa">factor.</var></dd>
  <dt id="denormalize"><var class="Ft">void</var>
    <a class="permalink" href="#denormalize"><code class="Fn">denormalize</code></a>(<var class="Fa">@aggr</var>)</dt>
  <dd>Remove any normalization factor from <var class="Fa">@aggr</var>. Tracing
      this aggregation will return the total counts.</dd>
  <dt id="panic"><var class="Ft">void</var>
    <a class="permalink" href="#panic"><code class="Fn">panic</code></a>()
    (destructive)</dt>
  <dd>Panic the kernel with a generic message.</dd>
  <dt id="print"><var class="Ft">void</var>
    <a class="permalink" href="#print"><code class="Fn">print</code></a>(<var class="Fa">expression</var>)</dt>
  <dd>Pretty-print <var class="Fa">expression</var> inculding types and internal
      data structure. A newline will be included.</dd>
  <dt id="printa"><var class="Ft">void</var>
    <a class="permalink" href="#printa"><code class="Fn">printa</code></a>(<var class="Fa">[Ft
    string format], @aggr</var>)</dt>
  <dd>Pretty-print <var class="Fa">@aggr</var>. <var class="Fa">format</var> can
      refer to the aggregation's keys in order. The aggregation's value can be
      accessed with the flag &#x2018;@&#x2019;. For example, to print just
      aggregations values, one per line
    <div class="Bd Bd-indent"><code class="Li">printa(&quot;%@u\n&quot;,
      @a);</code></div>
  </dd>
  <dt id="printf"><var class="Ft">void</var>
    <a class="permalink" href="#printf"><code class="Fn">printf</code></a>(<var class="Fa">string
    format, ...</var>)</dt>
  <dd>Print a custom-formatted string like
      <a class="Xr" href="../3/printf">printf(3)</a>.</dd>
  <dt id="raise"><var class="Ft">void</var>
    <a class="permalink" href="#raise"><code class="Fn">raise</code></a>(<var class="Fa">int
    signum</var>) (destructive)</dt>
  <dd>Send <var class="Fa">signum</var> to the current process.</dd>
  <dt id="setopt"><var class="Ft">void</var>
    <a class="permalink" href="#setopt"><code class="Fn">setopt</code></a>(<var class="Fa">const
    char* option, [const char* value]</var>)</dt>
  <dd>Set a dynamic run-time option. See
      <a class="Sx" href="#Dynamic_Run_time_Options">Dynamic Run-time
      Options</a>.</dd>
  <dt id="speculate"><var class="Ft">void</var>
    <a class="permalink" href="#speculate"><code class="Fn">speculate</code></a>(<var class="Fa">int
    specid</var>)</dt>
  <dd>Set the speculative buffer <var class="Fa">specid</var> as the destination
      for all further tracing in the current D program clause.</dd>
  <dt><var class="Ft">stack</var>
    <code class="Fn">stack</code>(<var class="Fa">[int nframes]</var>)</dt>
  <dd>Record a kernel stack trace up to <var class="Fa">nframes</var> deep. If
      <var class="Fa">nframes</var> is not specified, record up to
      <var class="Ar">stackframes</var> frames. See also
      <a class="Sx" href="#Run_time_Options">Run-time Options</a>.</dd>
  <dt id="stop"><var class="Ft">void</var>
    <a class="permalink" href="#stop"><code class="Fn">stop</code></a>()
    (destructive)</dt>
  <dd>Stop the current user process.</dd>
  <dt id="pidresume"><var class="Ft">void</var>
    <a class="permalink" href="#pidresume"><code class="Fn">pidresume</code></a>(<var class="Fa">pid_t
    pid</var>) (destructive, Darwin-specific)</dt>
  <dd>Resume the process specified by <var class="Fa">pid</var>. See also
      <code class="Fn">stop</code>() and <code class="Fn">raise</code>().</dd>
  <dt id="sym"><var class="Ft">_symaddr</var>
    <a class="permalink" href="#sym"><code class="Fn">sym</code></a>(<var class="Fa">user_addr_t
    addr</var>)</dt>
  <dd>Print the symbol name for the kernel address
    <var class="Fa">addr</var>.</dd>
  <dt id="system"><var class="Ft">void</var>
    <a class="permalink" href="#system"><code class="Fn">system</code></a>(<var class="Fa">string
    program, ...</var>) (destructive)</dt>
  <dd>Spawn <var class="Fa">program</var> with any provided arguments in the
      same environment as <code class="Nm">dtrace</code>.</dd>
  <dt id="trace"><var class="Ft">void</var>
    <a class="permalink" href="#trace"><code class="Fn">trace</code></a>(<var class="Fa">expression</var>)</dt>
  <dd>Print <var class="Fa">expression</var>. No newline is emitted.</dd>
  <dt id="tracemem"><var class="Ft">void</var>
    <a class="permalink" href="#tracemem"><code class="Fn">tracemem</code></a>(<var class="Fa">addr,
    size_t nbytes</var>)</dt>
  <dd>Print a hexidecimal representation of <var class="Fa">nbytes</var>
      starting at the kernel address <var class="Fa">addr</var>.</dd>
  <dt><var class="Ft">void</var>
    <code class="Fn">trunc</code>(<var class="Fa">@aggr, [topn]</var>)</dt>
  <dd>Discard keys and their corresponding values from
      <var class="Fa">@aggr</var>, optionally preserving the
      <var class="Fa">topn</var> values and their corresponding keys.</dd>
  <dt id="uaddr"><var class="Ft">_usymaddr</var>
    <a class="permalink" href="#uaddr"><code class="Fn">uaddr</code></a>(<var class="Fa">user_addr_t
    addr</var>)</dt>
  <dd>If available, pretty-print symbol information about the current user space
      address <var class="Fa">addr</var>. This information will include
      applicable module, function, and symbol names, as well as offsets into
      functions for code. If not available or applicable, just print
      <var class="Fa">addr</var>.</dd>
  <dt id="usym"><var class="Ft">_usymaddr</var>
    <a class="permalink" href="#usym"><code class="Fn">usym</code></a>(<var class="Fa">user_addr_t
    addr</var>)</dt>
  <dd>If available, print the name of the symbol representing
      <var class="Fa">addr</var> in the current process's user address space.
      Otherwise, print <var class="Fa">addr</var>.</dd>
  <dt id="ufunc"><var class="Ft">_usymaddr</var>
    <a class="permalink" href="#ufunc"><code class="Fn">ufunc</code></a>(<var class="Fa">user_addr_t
    addr</var>)</dt>
  <dd>If <var class="Fa">addr</var> is within the boundaries of a known function
      in the current user space process, print the name of the function.
      Otherwise, print <var class="Fa">addr</var>.</dd>
  <dt id="umod"><var class="Ft">_usymaddr</var>
    <a class="permalink" href="#umod"><code class="Fn">umod</code></a>(<var class="Fa">user_addr_t
    addr</var>)</dt>
  <dd>If <var class="Fa">addr</var> is within the boundaries of a known module
      in the current user space process, print the name of the module.
      Otherwise, print <var class="Fa">addr</var>.</dd>
  <dt><var class="Ft">stack</var>
    <code class="Fn">ustack</code>(<var class="Fa">[int nframes]</var>)</dt>
  <dd>Record a user stack trace up to <var class="Fa">nframes</var> deep. If
      <var class="Fa">nframes</var> isn't specified, record up to
      <var class="Ar">ustackframes</var> frames. See also
      <a class="Sx" href="#Run_time_Options">Run-time Options</a>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT_STATUS"><a class="permalink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<p class="Pp">The following exit statuses are returned:</p>
<dl class="Bl-tag">
  <dt>0</dt>
  <dd>Successful completion.
    <p class="Pp">For D program requests, an exit status of 0 indicates that
        programs were successfully compiled, probes were successfully enabled,
        or anonymous state was successfully retrieved.
        <code class="Nm">dtrace</code> returns 0 even if the specified tracing
        requests encountered errors or drops.</p>
  </dd>
  <dt>1</dt>
  <dd>An error occurred.
    <p class="Pp">For D program requests, an exit status of 1 indicates that
        program compilation failed or that the specified request could not be
        satisfied.</p>
  </dd>
  <dt>2</dt>
  <dd>Invalid command line options or arguments were specified.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr" href="../1/clang">clang(1)</a>,
    <a class="Xr" href="../1m/bitesize.d">bitesize.d(1m)</a>,
    <a class="Xr" href="../1m/cpuwalk.d">cpuwalk.d(1m)</a>,
    <a class="Xr" href="../8/csrutil">csrutil(8)</a>,
    <a class="Xr" href="../1m/diskhits">diskhits(1m)</a>,
    <a class="Xr" href="../1m/dtruss">dtruss(1m)</a>,
    <a class="Xr" href="../1m/errinfo">errinfo(1m)</a>,
    <a class="Xr" href="../1m/execsnoop">execsnoop(1m)</a>,
    <a class="Xr" href="../1m/iofile.d">iofile.d(1m)</a>,
    <a class="Xr" href="../1m/iofileb.d">iofileb.d(1m)</a>,
    <a class="Xr" href="../1m/iopattern.d">iopattern.d(1m)</a>,
    <a class="Xr" href="../1m/iopending.d">iopending.d(1m)</a>,
    <a class="Xr" href="../1m/iosnoop">iosnoop(1m)</a>,
    <a class="Xr" href="../1m/iotop">iotop(1m)</a>,
    <a class="Xr" href="../1m/kill.d">kill.d(1m)</a>,
    <a class="Xr" href="../1m/lastwords">lastwords(1m)</a>,
    <a class="Xr" href="../1m/newproc.d">newproc.d(1m)</a>,
    <a class="Xr" href="../1m/opensnoop">opensnoop(1m)</a></p>
<p class="Pp"><cite class="Rs"><span class="RsT">How to Use Oracle Solaris
    DTrace from Oracle Solaris and OpenSolaris System</span>,
    <span class="RsQ">Oracle Corporation</span>, <span class="RsD">2010</span>,
    <span class="RsO">http://www.oracle.com/technetwork/server-storage/solaris10/solaris-dtrace-wp-167895.pdf</span>.</cite></p>
<p class="Pp"><cite class="Rs"><span class="RsT">Solaris Dynamic Tracing
    Guide</span>, <span class="RsQ">Oracle Corporation</span>,
    <span class="RsD">2010</span>,
    <span class="RsO">http://docs.oracle.com/cd/E19253-01/817-6223/</span>.</cite></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">August 17, 2017</td>
    <td class="foot-os">Darwin</td>
  </tr>
</table>
</body>
</html>
