<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>PERL5300DELTA(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PERL5300DELTA(1)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">PERL5300DELTA(1)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">perl5300delta - what is new for perl v5.30.0</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This document describes differences between the 5.28.0 release and
    the 5.30.0 release.</p>
<p class="Pp">If you are upgrading from an earlier release such as 5.26.0, first
    read perl5280delta, which describes differences between 5.26.0 and
  5.28.0.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Notice"><a class="permalink" href="#Notice">Notice</a></h1>
<p class="Pp">sv_utf8_(downgrade|decode) are no longer marked as experimental.
    [GH #16822] &lt;https://github.com/Perl/perl5/issues/16822&gt;.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Core_Enhancements"><a class="permalink" href="#Core_Enhancements">Core
  Enhancements</a></h1>
<section class="Ss">
<h2 class="Ss" id="Limited_variable_length_lookbehind_in_regular_expression_pattern_matching_is_now_experimentally_supported"><a class="permalink" href="#Limited_variable_length_lookbehind_in_regular_expression_pattern_matching_is_now_experimentally_supported">Limited
  variable length lookbehind in regular expression pattern matching is now
  experimentally supported</a></h2>
<p class="Pp">Using a lookbehind assertion (like
    <span class="Li">&quot;(?&lt;=foo?)&quot;</span> or
    <span class="Li">&quot;(?&lt;!ba{1,9}r)&quot;</span> previously would
    generate an error and refuse to compile. Now it compiles (if the maximum
    lookbehind is at most 255 characters), but raises a warning in the new
    <span class="Li">&quot;experimental::vlb&quot;</span> warnings category.
    This is to caution you that the precise behavior is subject to change based
    on feedback from use in the field.</p>
<p class="Pp">See &quot;(?&lt;=pattern)&quot; in perlre and
    &quot;(?&lt;!pattern)&quot; in perlre.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="The_upper_limit__n__specifiable_in_a_regular_expression_quantifier_of_the_form___m,n___has_been_doubled_to_65534"><a class="permalink" href="#The_upper_limit__n__specifiable_in_a_regular_expression_quantifier_of_the_form___m,n___has_been_doubled_to_65534">The
  upper limit &quot;n&quot; specifiable in a regular expression quantifier of
  the form &quot;{m,n}&quot; has been doubled to 65534</a></h2>
<p class="Pp">The meaning of an unbounded upper quantifier
    <span class="Li">&quot;{m,}&quot;</span> remains unchanged. It matches 2**31
    - 1 times on most platforms, and more on ones where a C language short
    variable is more than 4 bytes long.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Unicode_12.1_is_supported"><a class="permalink" href="#Unicode_12.1_is_supported">Unicode
  12.1 is supported</a></h2>
<p class="Pp">Because of a change in Unicode release cycles, Perl jumps from
    Unicode 10.0 in Perl 5.28 to Unicode 12.1 in Perl 5.30.</p>
<p class="Pp">For details on the Unicode changes, see
    &lt;https://www.unicode.org/versions/Unicode11.0.0/&gt; for 11.0;
    &lt;https://www.unicode.org/versions/Unicode12.0.0/&gt; for 12.0; and
    &lt;https://www.unicode.org/versions/Unicode12.1.0/&gt; for 12.1. (Unicode
    12.1 differs from 12.0 only in the addition of a single character, that for
    the new Japanese era name.)</p>
<p class="Pp">The Word_Break property, as in past Perl releases, remains
    tailored to behave more in line with expectations of Perl users. This means
    that sequential runs of horizontal white space characters are not broken
    apart, but kept as a single run. Unicode 11 changed from past versions to be
    more in line with Perl, but it left several white space characters as
    causing breaks: TAB, NO BREAK SPACE, and FIGURE SPACE (U+2007). We have
    decided to continue to use the previous Perl tailoring with regards to
    these.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Wildcards_in_Unicode_property_value_specifications_are_now_partially_supported"><a class="permalink" href="#Wildcards_in_Unicode_property_value_specifications_are_now_partially_supported">Wildcards
  in Unicode property value specifications are now partially supported</a></h2>
<p class="Pp">You can now do something like this in a regular expression
  pattern</p>
<p class="Pp"></p>
<pre> qr! \p{nv= /(?x) \A [0-5] \z / }!
</pre>
<p class="Pp">which matches all Unicode code points whose numeric value is
    between 0 and 5 inclusive. So, it could match the Thai or Bengali digits
    whose numeric values are 0, 1, 2, 3, 4, or 5.</p>
<p class="Pp">This marks another step in implementing the regular expression
    features the Unicode Consortium suggests.</p>
<p class="Pp">Most properties are supported, with the remainder planned for
    5.32. Details are in &quot;Wildcards in Property Values&quot; in
    perlunicode.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="qr'"><a class="permalink" href="#qr'">qr'\N{name}' is now
  supported</a></h2>
<p class="Pp">Previously it was an error to evaluate a named character
    <span class="Li">&quot;\N{...}&quot;</span> within a single quoted regular
    expression pattern (whose evaluation is deferred from the normal place).
    This restriction is now removed.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Turkic_"><a class="permalink" href="#Turkic_">Turkic UTF-8
  locales are now seamlessly supported</a></h2>
<p class="Pp">Turkic languages have different casing rules than other languages
    for the characters <span class="Li">&quot;i&quot;</span> and
    <span class="Li">&quot;I&quot;</span>. The uppercase of
    <span class="Li">&quot;i&quot;</span> is LATIN CAPITAL LETTER I WITH DOT
    ABOVE (U+0130); and the lowercase of <span class="Li">&quot;I&quot;</span>
    is LATIN SMALL LETTER DOTLESS I (U+0131). Unicode furnishes alternate casing
    rules for use with Turkic languages. Previously, Perl ignored these, but
    now, it uses them when it detects that it is operating under a Turkic UTF-8
    locale.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="It_is_now_possible_to_compile_perl_to_always_use_thread-safe_locale_operations."><a class="permalink" href="#It_is_now_possible_to_compile_perl_to_always_use_thread-safe_locale_operations.">It
  is now possible to compile perl to always use thread-safe locale
  operations.</a></h2>
<p class="Pp">Previously, these calls were only used when the perl was compiled
    to be multi-threaded. To always enable them, add</p>
<p class="Pp"></p>
<pre> -Accflags='-DUSE_THREAD_SAFE_LOCALE'
</pre>
<p class="Pp">to your <i>Configure</i> flags.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Eliminate_opASSIGN_macro_usage_from_core"><a class="permalink" href="#Eliminate_opASSIGN_macro_usage_from_core">Eliminate
  opASSIGN macro usage from core</a></h2>
<p class="Pp">This macro is still defined but no longer used in core</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_"><a class="permalink" href="#_">&quot;-Drv&quot; now means
  something on &quot;-DDEBUGGING&quot; builds</a></h2>
<p class="Pp">Now, adding the verbose flag
    (<span class="Li">&quot;-Dv&quot;</span>) to the
    <span class="Li">&quot;-Dr&quot;</span> flag turns on all possible regular
    expression debugging.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Incompatible_Changes"><a class="permalink" href="#Incompatible_Changes">Incompatible
  Changes</a></h1>
<section class="Ss">
<h2 class="Ss" id="Assigning_non-zero_to_$__is_fatal"><a class="permalink" href="#Assigning_non-zero_to_$__is_fatal">Assigning
  non-zero to $[ is fatal</a></h2>
<p class="Pp">Setting <span class="Li">$[</span> to a non-zero value has been
    deprecated since Perl 5.12 and now throws a fatal error. See &quot;Assigning
    non-zero to <span class="Li">$[</span> is fatal&quot; in
  perldeprecation.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Delimiters_must_now_be_graphemes"><a class="permalink" href="#Delimiters_must_now_be_graphemes">Delimiters
  must now be graphemes</a></h2>
<p class="Pp">See &quot;Use of unassigned code point or non-standalone grapheme
    for a delimiter.&quot; in perldeprecation</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Some_formerly_deprecated_uses_of_an_unescaped_left_brace_____in_regular_expression_patterns_are_now_illegal"><a class="permalink" href="#Some_formerly_deprecated_uses_of_an_unescaped_left_brace_____in_regular_expression_patterns_are_now_illegal">Some
  formerly deprecated uses of an unescaped left brace &quot;{&quot; in regular
  expression patterns are now illegal</a></h2>
<p class="Pp">But to avoid breaking code unnecessarily, most instances that
    issued a deprecation warning, remain legal and now have a non-deprecation
    warning raised. See &quot;Unescaped left braces in regular expressions&quot;
    in perldeprecation.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Previously_deprecated_"><a class="permalink" href="#Previously_deprecated_">Previously
  deprecated <b>sysread()</b>/<b>syswrite()</b> on :utf8 handles is now
  fatal</a></h2>
<p class="Pp">Calling <b>sysread()</b>, <b>syswrite()</b>, <b>send()</b> or
    <b>recv()</b> on a <span class="Li">&quot;:utf8&quot;</span> handle, whether
    applied explicitly or implicitly, is now fatal. This was deprecated in perl
    5.24.</p>
<p class="Pp">There were two problems with calling these functions on
    <span class="Li">&quot;:utf8&quot;</span> handles:</p>
<ul class="Bl-bullet">
  <li>All four functions only paid attention to the
      <span class="Li">&quot;:utf8&quot;</span> flag. Other layers were
      completely ignored, so a handle with
      <span class="Li">&quot;:encoding(UTF-16LE)&quot;</span> layer would be
      treated as UTF-8. Other layers, such as compression are completely ignored
      with or without the <span class="Li">&quot;:utf8&quot;</span> flag.</li>
  <li><b>sysread()</b> and <b>recv()</b> would read from the handle, skipping
      any validation by the layers, and do no validation of their own. This
      could lead to invalidly encoded perl scalars.</li>
</ul>
<p class="Pp">[GH #14839]
  &lt;https://github.com/Perl/perl5/issues/14839&gt;.</p>
</section>
<section class="Ss">
<h2 class="Ss"><b>my()</b> in false conditional prohibited</h2>
<p class="Pp">Declarations such as <span class="Li">&quot;my $x if
    0&quot;</span> are no longer permitted.</p>
<p class="Pp">[GH #16702]
  &lt;https://github.com/Perl/perl5/issues/16702&gt;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Fatalize_$*_and_$_"><a class="permalink" href="#Fatalize_$*_and_$_">Fatalize
  $* and $#</a></h2>
<p class="Pp">These special variables, long deprecated, now throw exceptions
    when used.</p>
<p class="Pp">[GH #16718]
  &lt;https://github.com/Perl/perl5/issues/16718&gt;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Fatalize_unqualified_use_of_"><a class="permalink" href="#Fatalize_unqualified_use_of_">Fatalize
  unqualified use of <b>dump()</b></a></h2>
<p class="Pp">The <span class="Li">&quot;dump()&quot;</span> function, long
    discouraged, may no longer be used unless it is fully qualified,
    <i>i.e.</i>, <span class="Li">&quot;CORE::dump()&quot;</span>.</p>
<p class="Pp">[GH #16719]
  &lt;https://github.com/Perl/perl5/issues/16719&gt;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Remove_"><a class="permalink" href="#Remove_">Remove
  <b>File::Glob::glob()</b></a></h2>
<p class="Pp">The <span class="Li">&quot;File::Glob::glob()&quot;</span>
    function, long deprecated, has been removed and now throws an exception
    which advises use of
    <span class="Li">&quot;File::Glob::bsd_glob()&quot;</span> instead.</p>
<p class="Pp">[GH #16721]
  &lt;https://github.com/Perl/perl5/issues/16721&gt;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="_pack()__no_longer_can_return_malformed_"><a class="permalink" href="#_pack()__no_longer_can_return_malformed_">&quot;pack()&quot;
  no longer can return malformed UTF-8</a></h2>
<p class="Pp">It croaks if it would otherwise return a UTF-8 string that
    contains malformed UTF-8. This protects against potential security threats.
    This is considered a bug fix as well. [GH #16035]
    &lt;https://github.com/Perl/perl5/issues/16035&gt;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Any_set_of_digits_in_the_Common_script_are_legal_in_a_script_run_of_another_script"><a class="permalink" href="#Any_set_of_digits_in_the_Common_script_are_legal_in_a_script_run_of_another_script">Any
  set of digits in the Common script are legal in a script run of another
  script</a></h2>
<p class="Pp">There are several sets of digits in the Common script.
    <span class="Li">&quot;[0-9]&quot;</span> is the most familiar. But there
    are also <span class="Li">&quot;[\x{FF10}-\x{FF19}]&quot;</span> (FULLWIDTH
    DIGIT ZERO - FULLWIDTH DIGIT NINE), and several sets for use in mathematical
    notation, such as the MATHEMATICAL DOUBLE-STRUCK DIGITs. Any of these sets
    should be able to appear in script runs of, say, Greek. But the design of
    5.30 overlooked all but the ASCII digits
    <span class="Li">&quot;[0-9]&quot;</span>, so the design was flawed. This
    has been fixed, so is both a bug fix and an incompatibility. [GH #16704]
    &lt;https://github.com/Perl/perl5/issues/16704&gt;.</p>
<p class="Pp">All digits in a run still have to come from the same set of ten
    digits.</p>
</section>
<section class="Ss">
<h2 class="Ss">JSON::PP enables allow_nonref by default</h2>
<p class="Pp">As JSON::XS 4.0 changed its policy and enabled allow_nonref by
    default, JSON::PP also enabled allow_nonref by default.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Deprecations"><a class="permalink" href="#Deprecations">Deprecations</a></h1>
<section class="Ss">
<h2 class="Ss" id="In_"><a class="permalink" href="#In_">In XS code, use of
  various macros dealing with UTF-8.</a></h2>
<p class="Pp">This deprecation was scheduled to become fatal in 5.30, but has
    been delayed to 5.32 due to problems that showed up with some CPAN modules.
    For details of what's affected, see perldeprecation.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Performance_Enhancements"><a class="permalink" href="#Performance_Enhancements">Performance
  Enhancements</a></h1>
<ul class="Bl-bullet">
  <li>Translating from UTF-8 into the code point it represents now is done via a
      deterministic finite automaton, speeding it up. As a typical example,
      <span class="Li">&quot;ord(&quot;\x7fff&quot;)&quot;</span> now requires
      12% fewer instructions than before. The performance of checking that a
      sequence of bytes is valid UTF-8 is similarly improved, again by using a
      DFA.</li>
  <li>Eliminate recursion from <b>finalize_op()</b>. [GH #11866]
      &lt;https://github.com/Perl/perl5/issues/11866&gt;.</li>
  <li>A handful of small optimizations related to character folding and
      character classes in regular expressions.</li>
  <li>Optimization of <span class="Li">&quot;IV&quot;</span> to
      <span class="Li">&quot;UV&quot;</span> conversions. [GH #16761]
      &lt;https://github.com/Perl/perl5/issues/16761&gt;.</li>
  <li>Speed up of the integer stringification algorithm by processing two digits
      at a time instead of one. [GH #16769]
      &lt;https://github.com/Perl/perl5/issues/16769&gt;.</li>
  <li>Improvements based on LGTM analysis and recommendation.
      (&lt;https://lgtm.com/projects/g/Perl/perl5/alerts/?mode=tree&gt;). [GH
      #16765] &lt;https://github.com/Perl/perl5/issues/16765&gt;. [GH #16773]
      &lt;https://github.com/Perl/perl5/issues/16773&gt;.</li>
  <li>Code optimizations in <i>regcomp.c</i>, <i>regcomp.h</i>,
      <i>regexec.c</i>.</li>
  <li>Regular expression pattern matching of things like
      <span class="Li">&quot;qr/[^</span><span class="Li"><i>a</i></span><span class="Li">]/&quot;</span>
      is significantly sped up, where <i>a</i> is any ASCII character. Other
      classes can get this speed up, but which ones is complicated and depends
      on the underlying bit patterns of those characters, so differs between
      ASCII and EBCDIC platforms, but all case pairs, like
      <span class="Li">&quot;qr/[Gg]/&quot;</span> are included, as is
      <span class="Li">&quot;[^01]&quot;</span>.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Modules_and_Pragmata"><a class="permalink" href="#Modules_and_Pragmata">Modules
  and Pragmata</a></h1>
<section class="Ss">
<h2 class="Ss" id="Updated_Modules_and_Pragmata"><a class="permalink" href="#Updated_Modules_and_Pragmata">Updated
  Modules and Pragmata</a></h2>
<ul class="Bl-bullet">
  <li>Archive::Tar has been upgraded from version 2.30 to 2.32.</li>
  <li>B has been upgraded from version 1.74 to 1.76.</li>
  <li>B::Concise has been upgraded from version 1.003 to 1.004.</li>
  <li>B::Deparse has been upgraded from version 1.48 to 1.49.</li>
  <li>bignum has been upgraded from version 0.49 to 0.51.</li>
  <li>bytes has been upgraded from version 1.06 to 1.07.</li>
  <li>Carp has been upgraded from version 1.38 to 1.50</li>
  <li>Compress::Raw::Bzip2 has been upgraded from version 2.074 to 2.084.</li>
  <li>Compress::Raw::Zlib has been upgraded from version 2.076 to 2.084.</li>
  <li>Config::Extensions has been upgraded from version 0.02 to 0.03.</li>
  <li>Config::Perl::V. has been upgraded from version 0.29 to 0.32. This was due
      to a new configuration variable that has influence on binary
      compatibility:
    <span class="Li">&quot;USE_THREAD_SAFE_LOCALE&quot;</span>.</li>
  <li>CPAN has been upgraded from version 2.20 to 2.22.</li>
  <li>Data::Dumper has been upgraded from version 2.170 to 2.174
    <p class="Pp">Data::Dumper now avoids leaking when
        <span class="Li">&quot;croak&quot;</span>ing.</p>
  </li>
  <li>DB_File has been upgraded from version 1.840 to 1.843.</li>
  <li>deprecate has been upgraded from version 0.03 to 0.04.</li>
  <li>Devel::Peek has been upgraded from version 1.27 to 1.28.</li>
  <li>Devel::PPPort has been upgraded from version 3.40 to 3.52.</li>
  <li>Digest::SHA has been upgraded from version 6.01 to 6.02.</li>
  <li>Encode has been upgraded from version 2.97 to 3.01.</li>
  <li>Errno has been upgraded from version 1.29 to 1.30.</li>
  <li>experimental has been upgraded from version 0.019 to 0.020.</li>
  <li>ExtUtils::CBuilder has been upgraded from version 0.280230 to
    0.280231.</li>
  <li>ExtUtils::Manifest has been upgraded from version 1.70 to 1.72.</li>
  <li>ExtUtils::Miniperl has been upgraded from version 1.08 to 1.09.</li>
  <li>ExtUtils::ParseXS has been upgraded from version 3.39 to 3.40.
      <span class="Li">&quot;OUTLIST&quot;</span> parameters are no longer
      incorrectly included in the automatically generated function prototype.
      [GH #16746] &lt;https://github.com/Perl/perl5/issues/16746&gt;.</li>
  <li>feature has been upgraded from version 1.52 to 1.54.</li>
  <li>File::Copy has been upgraded from version 2.33 to 2.34.</li>
  <li>File::Find has been upgraded from version 1.34 to 1.36.
    <p class="Pp"><span class="Li">$File::Find::dont_use_nlink</span> now
        defaults to 1 on all platforms. [GH #16759]
        &lt;https://github.com/Perl/perl5/issues/16759&gt;.</p>
    <p class="Pp">Variables <span class="Li">$Is_Win32</span> and
        <span class="Li">$Is_VMS</span> are being initialized.</p>
  </li>
  <li>File::Glob has been upgraded from version 1.31 to 1.32.</li>
  <li>File::Path has been upgraded from version 2.15 to 2.16.</li>
  <li>File::Spec has been upgraded from version 3.74 to 3.78.
    <p class="Pp">Silence Cwd warning on Android builds if
        <span class="Li">&quot;targetsh&quot;</span> is not defined.</p>
  </li>
  <li>File::Temp has been upgraded from version 0.2304 to 0.2309.</li>
  <li>Filter::Util::Call has been upgraded from version 1.58 to 1.59.</li>
  <li>GDBM_File has been upgraded from version 1.17 to 1.18.</li>
  <li>HTTP::Tiny has been upgraded from version 0.070 to 0.076.</li>
  <li>I18N::Langinfo has been upgraded from version 0.17 to 0.18.</li>
  <li>IO has been upgraded from version 1.39 to 1.40.</li>
  <li>IO-Compress has been upgraded from version 2.074 to 2.084.
    <p class="Pp">Adds support for
        <span class="Li">&quot;IO::Uncompress::Zstd&quot;</span> and
        <span class="Li">&quot;IO::Uncompress::UnLzip&quot;</span>.</p>
    <p class="Pp">The <span class="Li">&quot;BinModeIn&quot;</span> and
        <span class="Li">&quot;BinModeOut&quot;</span> options are now no-ops.
        ALL files will be read/written in binmode.</p>
  </li>
  <li>IPC::Cmd has been upgraded from version 1.00 to 1.02.</li>
  <li>JSON::PP has been upgraded from version 2.97001 to 4.02.
    <p class="Pp">JSON::PP as JSON::XS 4.0 enables
        <span class="Li">&quot;allow_nonref&quot;</span> by default.</p>
  </li>
  <li>lib has been upgraded from version 0.64 to 0.65.</li>
  <li>Locale::Codes has been upgraded from version 3.56 to 3.57.</li>
  <li>Math::BigInt has been upgraded from version 1.999811 to 1.999816.
    <p class="Pp"><span class="Li">&quot;bnok()&quot;</span> now supports the
        full Kronenburg extension. [cpan #95628]
        &lt;https://rt.cpan.org/Ticket/Display.html?id=95628&gt;.</p>
  </li>
  <li>Math::BigInt::FastCalc has been upgraded from version 0.5006 to
    0.5008.</li>
  <li>Math::BigRat has been upgraded from version 0.2613 to 0.2614.</li>
  <li>Module::CoreList has been upgraded from version 5.20180622 to 5.20190520.
    <p class="Pp">Changes to B::Op_private and Config</p>
  </li>
  <li>Module::Load has been upgraded from version 0.32 to 0.34.</li>
  <li>Module::Metadata has been upgraded from version 1.000033 to 1.000036.
    <p class="Pp">Properly clean up temporary directories after testing.</p>
  </li>
  <li>NDBM_File has been upgraded from version 1.14 to 1.15.</li>
  <li>Net::Ping has been upgraded from version 2.62 to 2.71.</li>
  <li>ODBM_File has been upgraded from version 1.15 to 1.16.</li>
  <li>PathTools has been upgraded from version 3.74 to 3.78.</li>
  <li>parent has been upgraded from version 0.236 to 0.237.</li>
  <li>perl5db.pl has been upgraded from version 1.54 to 1.55.
    <p class="Pp">Debugging threaded code no longer deadlocks in
        <span class="Li">&quot;DB::sub&quot;</span> nor
        <span class="Li">&quot;DB::lsub&quot;</span>.</p>
  </li>
  <li>perlfaq has been upgraded from version 5.021011 to 5.20190126.</li>
  <li>PerlIO::encoding has been upgraded from version 0.26 to 0.27.
    <p class="Pp">Warnings enabled by setting the
        <span class="Li">&quot;WARN_ON_ERR&quot;</span> flag in
        <span class="Li">$PerlIO::encoding::fallback</span> are now only
        produced if warnings are enabled with <span class="Li">&quot;use
        warnings &quot;utf8&quot;;&quot;</span> or setting
        <span class="Li">$^W</span>.</p>
  </li>
  <li>PerlIO::scalar has been upgraded from version 0.29 to 0.30.</li>
  <li>podlators has been upgraded from version 4.10 to 4.11.</li>
  <li>POSIX has been upgraded from version 1.84 to 1.88.</li>
  <li>re has been upgraded from version 0.36 to 0.37.</li>
  <li>SDBM_File has been upgraded from version 1.14 to 1.15.</li>
  <li>sigtrap has been upgraded from version 1.08 to 1.09.</li>
  <li>Storable has been upgraded from version 3.08 to 3.15.
    <p class="Pp">Storable no longer probes for recursion limits at build time.
        [GH #16780] &lt;https://github.com/Perl/perl5/issues/16780&gt; and
        others.</p>
    <p class="Pp">Metasploit exploit code was included to test for CVE-2015-1992
        detection, this caused anti-virus detections on at least one AV suite.
        The exploit code has been removed and replaced with a simple functional
        test. [GH #16778] &lt;https://github.com/Perl/perl5/issues/16778&gt;</p>
  </li>
  <li>Test::Simple has been upgraded from version 1.302133 to 1.302162.</li>
  <li>Thread::Queue has been upgraded from version 3.12 to 3.13.</li>
  <li>threads::shared has been upgraded from version 1.58 to 1.60.
    <p class="Pp">Added support for extra tracing of locking, this requires a
        <span class="Li">&quot;-DDEBUGGING&quot;</span> and extra compilation
        flags.</p>
  </li>
  <li>Time::HiRes has been upgraded from version 1.9759 to 1.9760.</li>
  <li>Time::Local has been upgraded from version 1.25 to 1.28.</li>
  <li>Time::Piece has been upgraded from version 1.3204 to 1.33.</li>
  <li>Unicode::Collate has been upgraded from version 1.25 to 1.27.</li>
  <li>Unicode::UCD has been upgraded from version 0.70 to 0.72.</li>
  <li>User::grent has been upgraded from version 1.02 to 1.03.</li>
  <li>utf8 has been upgraded from version 1.21 to 1.22.</li>
  <li>vars has been upgraded from version 1.04 to 1.05.
    <p class="Pp"><span class="Li">&quot;vars.pm&quot;</span> no longer disables
        non-vars strict when checking if strict vars is enabled. [GH #15851]
        &lt;https://github.com/Perl/perl5/issues/15851&gt;.</p>
  </li>
  <li>version has been upgraded from version 0.9923 to 0.9924.</li>
  <li>warnings has been upgraded from version 1.42 to 1.44.</li>
  <li>XS::APItest has been upgraded from version 0.98 to 1.00.</li>
  <li>XS::Typemap has been upgraded from version 0.16 to 0.17.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="Removed_Modules_and_Pragmata"><a class="permalink" href="#Removed_Modules_and_Pragmata">Removed
  Modules and Pragmata</a></h2>
<p class="Pp">The following modules will be removed from the core distribution
    in a future release, and will at that time need to be installed from CPAN.
    Distributions on CPAN which require these modules will need to list them as
    prerequisites.</p>
<p class="Pp">The core versions of these modules will now issue
    <span class="Li">&quot;deprecated&quot;</span>-category warnings to alert
    you to this fact. To silence these deprecation warnings, install the modules
    in question from CPAN.</p>
<p class="Pp">Note that these are (with rare exceptions) fine modules that you
    are encouraged to continue to use. Their disinclusion from core primarily
    hinges on their necessity to bootstrapping a fully functional, CPAN-capable
    Perl installation, not usually on concerns over their design.</p>
<ul class="Bl-bullet">
  <li>B::Debug is no longer distributed with the core distribution. It continues
      to be available on CPAN as <span class="Li">&quot;B::Debug
      &lt;https://metacpan.org/pod/B::Debug&gt;&quot;</span>.</li>
  <li>Locale::Codes has been removed at the request of its author. It continues
      to be available on CPAN as <span class="Li">&quot;Locale::Codes
      &lt;https://metacpan.org/pod/Locale::Codes&gt;&quot;</span> [GH #16660]
      &lt;https://github.com/Perl/perl5/issues/16660&gt;.</li>
</ul>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Documentation"><a class="permalink" href="#Documentation">Documentation</a></h1>
<section class="Ss">
<h2 class="Ss" id="Changes_to_Existing_Documentation"><a class="permalink" href="#Changes_to_Existing_Documentation">Changes
  to Existing Documentation</a></h2>
<p class="Pp">We have attempted to update the documentation to reflect the
    changes listed in this document. If you find any we have missed, send email
    to perlbug@perl.org &lt;mailto:perlbug@perl.org&gt;.</p>
<p class="Pp"><i>perlapi</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd><span class="Li">&quot;AvFILL()&quot;</span> was wrongly listed as
      deprecated. This has been corrected. [GH #16586]
      &lt;https://github.com/Perl/perl5/issues/16586&gt;</dd>
</dl>
<p class="Pp"><i>perlop</i></p>
<ul class="Bl-bullet">
  <li>We no longer have null (empty line) here doc terminators, so perlop should
      not refer to them.</li>
  <li>The behaviour of <span class="Li">&quot;tr&quot;</span> when the delimiter
      is an apostrophe has been clarified. In particular, hyphens aren't
      special, and <span class="Li">&quot;\x{}&quot;</span> isn't interpolated.
      [GH #15853] &lt;https://github.com/Perl/perl5/issues/15853&gt;</li>
</ul>
<p class="Pp"><i>perlreapi, perlvar</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Improve docs for lastparen, lastcloseparen.</dd>
</dl>
<p class="Pp"><i>perlfunc</i></p>
<ul class="Bl-bullet">
  <li>The entry for &quot;-X&quot; in perlfunc has been clarified to indicate
      that symbolic links are followed for most tests.</li>
  <li>Clarification of behaviour of <span class="Li">&quot;reset
      EXPR&quot;</span>.</li>
  <li>Try to clarify that <span class="Li">&quot;ref(qr/xx/)&quot;</span>
      returns <span class="Li">&quot;Regexp&quot;</span> rather than
      <span class="Li">&quot;REGEXP&quot;</span> and why. [GH #16801]
      &lt;https://github.com/Perl/perl5/issues/16801&gt;.</li>
</ul>
<p class="Pp"><i>perlreref</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Clarification of the syntax of /(?(cond)yes)/.</dd>
</dl>
<p class="Pp"><i>perllocale</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>There are actually two slightly different types of UTF-8 locales: one for
      Turkic languages and one for everything else. Starting in Perl v5.30, Perl
      seamlessly handles both types.</dd>
</dl>
<p class="Pp"><i>perlrecharclass</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>Added a note for the ::xdigit:: character class.</dd>
</dl>
<p class="Pp"><i>perlvar</i></p>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>More specific documentation of paragraph mode. [GH #16787]
      &lt;https://github.com/Perl/perl5/issues/16787&gt;.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Diagnostics"><a class="permalink" href="#Diagnostics">Diagnostics</a></h1>
<p class="Pp">The following additions or changes have been made to diagnostic
    output, including warnings and fatal error messages. For the complete list
    of diagnostic messages, see perldiag.</p>
<section class="Ss">
<h2 class="Ss" id="Changes_to_Existing_Diagnostics"><a class="permalink" href="#Changes_to_Existing_Diagnostics">Changes
  to Existing Diagnostics</a></h2>
<ul class="Bl-bullet">
  <li>As noted under &quot;Incompatible Changes&quot; above, the deprecation
      warning &quot;Unescaped left brace in regex is deprecated here (and will
      be fatal in Perl 5.30), passed through in regex; marked by
      &lt;--&#x00A0;HERE in m/%s/&quot; has been changed to the non-deprecation
      warning &quot;Unescaped left brace in regex is passed through in regex;
      marked by &lt;--&#x00A0;HERE in m/%s/&quot;.</li>
  <li>Specifying <span class="Li">&quot;\o{}&quot;</span> without anything
      between the braces now yields the fatal error message &quot;Empty
      \o{}&quot;. Previously it was &quot;Number with no digits&quot;. This
      means the same wording is used for this kind of error as with similar
      constructs such as <span class="Li">&quot;\p{}&quot;</span>.</li>
  <li>Within the scope of the experimental feature <span class="Li">&quot;use re
      'strict'&quot;</span>, specifying <span class="Li">&quot;\x{}&quot;</span>
      without anything between the braces now yields the fatal error message
      &quot;Empty \x{}&quot;. Previously it was &quot;Number with no
      digits&quot;. This means the same wording is used for this kind of error
      as with similar constructs such as
      <span class="Li">&quot;\p{}&quot;</span>. It is legal, though not wise to
      have an empty <span class="Li">&quot;\x&quot;</span> outside of
      <span class="Li">&quot;re 'strict'&quot;</span>; it silently generates a
      NUL character.</li>
  <li>Type of arg <span class="Li">%d</span> to <span class="Li">%s</span> must
      be <span class="Li">%s</span> (not <span class="Li">%s</span>)
    <p class="Pp">Attempts to push, pop, etc on a hash or glob now produce this
        message rather than complaining that they no longer work on scalars. [GH
        #15774] &lt;https://github.com/Perl/perl5/issues/15774&gt;.</p>
  </li>
  <li>Prototype not terminated
    <p class="Pp">The file and line number is now reported for this error. [GH
        #16697] &lt;https://github.com/Perl/perl5/issues/16697&gt;</p>
  </li>
  <li>Under <span class="Li">&quot;-Dr&quot;</span> (or
      <span class="Li">&quot;use re 'Debug'&quot;</span>) the compiled regex
      engine program is displayed. It used to use two different spellings for
      <i>infinity</i>, <span class="Li">&quot;INFINITY&quot;</span>, and
      <span class="Li">&quot;INFTY&quot;</span>. It now uses the latter
      exclusively, as that spelling has been around the longest.</li>
</ul>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Utility_Changes"><a class="permalink" href="#Utility_Changes">Utility
  Changes</a></h1>
<section class="Ss">
<h2 class="Ss" id="xsubpp"><a class="permalink" href="#xsubpp">xsubpp</a></h2>
<dl class="Bl-tag">
  <dt>&#x2022;</dt>
  <dd>The generated prototype (with <span class="Li">&quot;PROTOTYPES:
      ENABLE&quot;</span>) would include
      <span class="Li">&quot;OUTLIST&quot;</span> parameters, but these aren't
      arguments to the perl function. This has been rectified. [GH #16746]
      &lt;https://github.com/Perl/perl5/issues/16746&gt;.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Configuration_and_Compilation"><a class="permalink" href="#Configuration_and_Compilation">Configuration
  and Compilation</a></h1>
<ul class="Bl-bullet">
  <li>Normally the thread-safe locale functions are used only on threaded
      builds. It is now possible to force their use on unthreaded builds on
      systems that have them available, by including the
      <span class="Li">&quot;-Accflags='-DUSE_THREAD_SAFE_LOCALE'&quot;</span>
      option to <i>Configure</i>.</li>
  <li>Improve detection of memrchr, strlcat, and strlcpy</li>
  <li>Improve Configure detection of <b>memmem()</b>. [GH #16807]
      &lt;https://github.com/Perl/perl5/issues/16807&gt;.</li>
  <li>Multiple improvements and fixes for -DPERL_GLOBAL_STRUCT build
    option.</li>
  <li>Fix -DPERL_GLOBAL_STRUCT_PRIVATE build option.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Testing"><a class="permalink" href="#Testing">Testing</a></h1>
<ul class="Bl-bullet">
  <li><i>t/lib/croak/op</i> [GH #15774]
      &lt;https://github.com/Perl/perl5/issues/15774&gt;.
    <p class="Pp">separate error for <span class="Li">&quot;push&quot;</span>,
        etc. on hash/glob.</p>
  </li>
  <li><i>t/op/svleak.t</i> [GH #16749]
      &lt;https://github.com/Perl/perl5/issues/16749&gt;.
    <p class="Pp">Add test for <span class="Li">&quot;goto &amp;sub&quot;</span>
        in overload leaking.</p>
  </li>
  <li>Split <i>t/re/fold_grind.t</i> into multiple test files.</li>
  <li>Fix intermittent tests which failed due to race conditions which surface
      during parallel testing. [GH #16795]
      &lt;https://github.com/Perl/perl5/issues/16795&gt;.</li>
  <li>Thoroughly test paragraph mode, using a new test file,
      <i>t/io/paragraph_mode.t</i>. [GH #16787]
      &lt;https://github.com/Perl/perl5/issues/16787&gt;.</li>
  <li>Some tests in <i>t/io/eintr.t</i> caused the process to hang on pre-16
      Darwin. These tests are skipped for those version of Darwin.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Platform_Support"><a class="permalink" href="#Platform_Support">Platform
  Support</a></h1>
<section class="Ss">
<h2 class="Ss" id="Platform-Specific_Notes"><a class="permalink" href="#Platform-Specific_Notes">Platform-Specific
  Notes</a></h2>
<dl class="Bl-tag">
  <dt id="HP-UX"><a class="permalink" href="#HP-UX">HP-UX 11.11</a></dt>
  <dd>An obscure problem in <span class="Li">&quot;pack()&quot;</span> when
      compiling with HP C-ANSI-C has been fixed by disabling optimizations in
      <i>pp_pack.c</i>.</dd>
  <dt id="Mac"><a class="permalink" href="#Mac">Mac OS X</a></dt>
  <dd>Perl's build and testing process on Mac OS X for
      <span class="Li">&quot;-Duseshrplib&quot;</span> builds is now compatible
      with Mac OS X System Integrity Protection (SIP).
    <p class="Pp">SIP prevents binaries in <i>/bin</i> (and a few other places)
        being passed the <span class="Li">&quot;DYLD_LIBRARY_PATH&quot;</span>
        environment variable. For our purposes this prevents
        <span class="Li">&quot;DYLD_LIBRARY_PATH&quot;</span> from being passed
        to the shell, which prevents that variable being passed to the testing
        or build process, so running <span class="Li">&quot;perl&quot;</span>
        couldn't find <i>libperl.dylib</i>.</p>
    <p class="Pp">To work around that, the initial build of the <i>perl</i>
        executable expects to find <i>libperl.dylib</i> in the build directory,
        and the library path is then adjusted during installation to point to
        the installed library.</p>
    <p class="Pp">[GH #15057]
        &lt;https://github.com/Perl/perl5/issues/15057&gt;.</p>
  </dd>
  <dt id="Minix3"><a class="permalink" href="#Minix3">Minix3</a></dt>
  <dd>Some support for Minix3 has been re-added.</dd>
  <dt id="Cygwin"><a class="permalink" href="#Cygwin">Cygwin</a></dt>
  <dd>Cygwin doesn't make <span class="Li">&quot;cuserid&quot;</span>
    visible.</dd>
  <dt id="Win32"><a class="permalink" href="#Win32">Win32 Mingw</a></dt>
  <dd>C99 math functions are now available.</dd>
  <dt id="Windows"><a class="permalink" href="#Windows">Windows</a></dt>
  <dd></dd>
</dl>
<div class="Bd-indent">
<ul class="Bl-bullet">
  <li>The <span class="Li">&quot;USE_CPLUSPLUS&quot;</span> build option which
      has long been available in <i>win32/Makefile</i> (for <b>nmake</b>) and
      <i>win32/makefile.mk</i> (for <b>dmake</b>) is now also available in
      <i>win32/GNUmakefile</i> (for <b>gmake</b>).</li>
  <li>The <b>nmake</b> makefile no longer defaults to Visual C++ 6.0 (a very old
      version which is unlikely to be widely used today). As a result, it is now
      a requirement to specify the <span class="Li">&quot;CCTYPE&quot;</span>
      since there is no obvious choice of which modern version to default to
      instead. Failure to specify <span class="Li">&quot;CCTYPE&quot;</span>
      will result in an error being output and the build will stop.
    <p class="Pp">(The <b>dmake</b> and <b>gmake</b> makefiles will
        automatically detect which compiler is being used, so do not require
        <span class="Li">&quot;CCTYPE&quot;</span> to be set. This feature has
        not yet been added to the <b>nmake</b> makefile.)</p>
  </li>
  <li><span class="Li">&quot;sleep()&quot;</span> with warnings enabled for a
      <span class="Li">&quot;USE_IMP_SYS&quot;</span> build no longer warns
      about the sleep timeout being too large. [GH #16631]
      &lt;https://github.com/Perl/perl5/issues/16631&gt;.</li>
  <li>Support for compiling perl on Windows using Microsoft Visual Studio 2019
      (containing Visual C++ 14.2) has been added.</li>
  <li><b>socket()</b> now sets <span class="Li">$!</span> if the protocol,
      address family and socket type combination is not found. [GH #16849]
      &lt;https://github.com/Perl/perl5/issues/16849&gt;.</li>
  <li>The Windows Server 2003 SP1 Platform SDK build, with its early x64
      compiler and tools, was accidentally broken in Perl 5.27.9. This has now
      been fixed.</li>
</ul>
</div>
<div class="Bd-indent"></div>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="Internal_Changes"><a class="permalink" href="#Internal_Changes">Internal
  Changes</a></h1>
<ul class="Bl-bullet">
  <li>The sizing pass has been eliminated from the regular expression compiler.
      An extra pass may instead be needed in some cases to count the number of
      parenthetical capture groups.</li>
  <li>A new function &quot;<span class="Li">&quot;my_strtod&quot;</span>&quot;
      in perlapi or its synonym, <b>Strtod()</b>, is now available with the same
      signature as the libc <b>strtod()</b>. It provides <b>strotod()</b>
      equivalent behavior on all platforms, using the best available precision,
      depending on platform capabilities and <i>Configure</i> options, while
      handling locale-related issues, such as if the radix character should be a
      dot or comma.</li>
  <li>Added <span class="Li">&quot;newSVsv_nomg()&quot;</span> to copy a SV
      without processing get magic on the source. [GH #16461]
      &lt;https://github.com/Perl/perl5/issues/16461&gt;.</li>
  <li>It is now forbidden to malloc more than
      <span class="Li">&quot;PTRDIFF_T_MAX&quot;</span> bytes. Much code
      (including C optimizers) assumes that all data structures will not be
      larger than this, so this catches such attempts before overflow
    happens.</li>
  <li>Two new regnodes have been introduced
      <span class="Li">&quot;EXACT_ONLY8&quot;</span>, and
      <span class="Li">&quot;EXACTFU_ONLY8&quot;</span>. They're equivalent to
      <span class="Li">&quot;EXACT&quot;</span> and
      <span class="Li">&quot;EXACTFU&quot;</span>, except that they contain a
      code point which requires UTF-8 to represent/match. Hence, if the target
      string isn't UTF-8, we know it can't possibly match, without needing to
      try.</li>
  <li><span class="Li">&quot;print_bytes_for_locale()&quot;</span> is now
      defined if <span class="Li">&quot;DEBUGGING&quot;</span>, Prior, it didn't
      get defined unless <span class="Li">&quot;LC_COLLATE&quot;</span> was
      defined on the platform.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Selected_Bug_Fixes"><a class="permalink" href="#Selected_Bug_Fixes">Selected
  Bug Fixes</a></h1>
<ul class="Bl-bullet">
  <li>Compilation under <span class="Li">&quot;-DPERL_MEM_LOG&quot;</span> and
      <span class="Li">&quot;-DNO_LOCALE&quot;</span> have been fixed.</li>
  <li>Perl 5.28 introduced an <span class="Li">&quot;index()&quot;</span>
      optimization when comparing to -1 (or indirectly, e.g. &gt;= 0). When this
      optimization was triggered inside a
      <span class="Li">&quot;when&quot;</span> clause it caused a warning
      (&quot;Argument <span class="Li">%s</span> isn't numeric in smart
      match&quot;). This has now been fixed. [GH #16626]
      &lt;https://github.com/Perl/perl5/issues/16626&gt;</li>
  <li>The new in-place editing code no longer leaks directory handles. [GH
      #16602] &lt;https://github.com/Perl/perl5/issues/16602&gt;.</li>
  <li>Warnings produced from constant folding operations on overloaded values no
      longer produce spurious &quot;Use of uninitialized value&quot; warnings.
      [GH #16349] &lt;https://github.com/Perl/perl5/issues/16349&gt;.</li>
  <li>Fix for &quot;mutator not seen in (lex = ...) .= ...&quot; [GH #16655]
      &lt;https://github.com/Perl/perl5/issues/16655&gt;.</li>
  <li><span class="Li">&quot;pack &quot;u&quot;, &quot;invalid
      uuencoding&quot;&quot;</span> now properly NUL terminates the zero-length
      SV produced. [GH #16343]
      &lt;https://github.com/Perl/perl5/issues/16343&gt;.</li>
  <li>Improve the debugging output for <b>calloc()</b> calls with
      <span class="Li">&quot;-Dm&quot;</span>. [GH #16653]
      &lt;https://github.com/Perl/perl5/issues/16653&gt;.</li>
  <li>Regexp script runs were failing to permit ASCII digits in some cases. [GH
      #16704] &lt;https://github.com/Perl/perl5/issues/16704&gt;.</li>
  <li>On Unix-like systems supporting a platform-specific technique for
      determining <span class="Li">$^X</span>, Perl failed to fall back to the
      generic technique when the platform-specific one fails (for example, a
      Linux system with /proc not mounted). This was a regression in Perl
      5.28.0. [GH #16715]
    &lt;https://github.com/Perl/perl5/issues/16715&gt;.</li>
  <li>SDBM_File is now more robust with corrupt database files. The improvements
      do not make SDBM files suitable as an interchange format. [GH #16164]
      &lt;https://github.com/Perl/perl5/issues/16164&gt;.</li>
  <li><span class="Li">&quot;binmode($fh);&quot;</span> or
      <span class="Li">&quot;binmode($fh, ':raw');&quot;</span> now properly
      removes the <span class="Li">&quot;:utf8&quot;</span> flag from the
      default <span class="Li">&quot;:crlf&quot;</span> I/O layer on Win32. [GH
      #16730] &lt;https://github.com/Perl/perl5/issues/16730&gt;.</li>
  <li>The experimental reference aliasing feature was misinterpreting array and
      hash slice assignment as being localised, e.g.
    <p class="Pp"></p>
    <pre>    \(@a[3,5,7]) = \(....);
    </pre>
    <p class="Pp">was being interpreted as:</p>
    <p class="Pp"></p>
    <pre>    local \(@a[3,5,7]) = \(....);
    </pre>
    <p class="Pp">[GH #16701]
        &lt;https://github.com/Perl/perl5/issues/16701&gt;.</p>
  </li>
  <li><span class="Li">&quot;sort SUBNAME&quot;</span> within an
      <span class="Li">&quot;eval EXPR&quot;</span> when
      <span class="Li">&quot;EXPR&quot;</span> was UTF-8 upgraded could panic if
      the <span class="Li">&quot;SUBNAME&quot;</span> was non-ASCII. [GH #16979]
      &lt;https://github.com/Perl/perl5/issues/16979&gt;.</li>
  <li>Correctly handle <b>realloc()</b> modifying
      <span class="Li">&quot;errno&quot;</span> on success so that the
      modification isn't visible to the perl user, since <b>realloc()</b> is
      called implicitly by the interpreter. This modification is permitted by
      the C standard, but has only been observed on FreeBSD 13.0-CURRENT. [GH
      #16907] &lt;https://github.com/Perl/perl5/issues/16907&gt;.</li>
  <li>Perl now exposes POSIX <span class="Li">&quot;getcwd&quot;</span> as
      <span class="Li">&quot;Internals::getcwd()&quot;</span> if available. This
      is intended for use by <span class="Li">&quot;Cwd.pm&quot;</span> during
      bootstrapping and may be removed or changed without notice. This fixes
      some bootstrapping issues while building perl in a directory where some
      ancestor directory isn't readable. [GH #16903]
      &lt;https://github.com/Perl/perl5/issues/16903&gt;.</li>
  <li><span class="Li">&quot;pack()&quot;</span> no longer can return malformed
      UTF-8. It croaks if it would otherwise return a UTF-8 string that contains
      malformed UTF-8. This protects against potential security threats. [GH
      #16035] &lt;https://github.com/Perl/perl5/issues/16035&gt;.</li>
  <li>See &quot;Any set of digits in the Common script are legal in a script run
      of another script&quot;.</li>
  <li>Regular expression matching no longer leaves stale UTF-8 length magic when
      updating <span class="Li">$^R</span>. This could result in
      <span class="Li">&quot;length($^R)&quot;</span> returning an incorrect
      value.</li>
  <li>Reduce recursion on ops [GH #11866]
      &lt;https://github.com/Perl/perl5/issues/11866&gt;.
    <p class="Pp">This can prevent stack overflow when processing extremely deep
        op trees.</p>
  </li>
  <li>Avoid leak in multiconcat with overloading. [GH #16823]
      &lt;https://github.com/Perl/perl5/issues/16823&gt;.</li>
  <li>The handling of user-defined <span class="Li">&quot;\p{}&quot;</span>
      properties (see &quot;User-Defined Character Properties&quot; in
      perlunicode) has been rewritten to be in C (instead of Perl). This speeds
      things up, but in the process several inconsistencies and bug fixes are
      made.</li>
</ul>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>1.</dt>
  <dd>A few error messages have minor wording changes. This is essentially
      because the new way is integrated into the regex error handling mechanism
      that marks the position in the input at which the error occurred. That was
      not possible previously. The messages now also contain additional
      back-trace-like information in case the error occurs deep in nested
    calls.</dd>
  <dt>2.</dt>
  <dd>A user-defined property is implemented as a perl subroutine with certain
      highly constrained naming conventions. It was documented previously that
      the sub would be in the current package if the package was unspecified.
      This turned out not to be true in all cases, but now it is.</dd>
  <dt>3.</dt>
  <dd>All recursive calls are treated as infinite recursion. Previously they
      would cause the interpreter to panic. Now, they cause the regex pattern to
      fail to compile.</dd>
  <dt>4.</dt>
  <dd>Similarly, any other error likely would lead to a panic; now to just the
      pattern failing to compile.</dd>
  <dt>5.</dt>
  <dd>The old mechanism did not detect illegal ranges in the definition of the
      property. Now, the range max must not be smaller than the range min.
      Otherwise, the pattern fails to compile.</dd>
  <dt>6.</dt>
  <dd>The intention was to have each sub called only once during the lifetime of
      the program, so that a property's definition is immutable. This was
      relaxed so that it could be called once for all /i compilations, and
      potentially a second time for non-/i (the sub is passed a parameter
      indicating which). However, in practice there were instances when this was
      broken, and multiple calls were possible. Those have been fixed. Now
      (besides the /i,non-/i cases) the only way a sub can be called multiple
      times is if some component of it has not been defined yet. For example,
      suppose we have sub <b>IsA()</b> whose definition is known at compile
      time, and it in turn calls <b>isB()</b> whose definition is not yet known.
      <b>isA()</b> will be called each time a pattern it appears in is compiled.
      If <b>isA()</b> also calls <b>isC()</b> and that definition is known,
      <b>isC()</b> will be called just once.</dd>
  <dt>7.</dt>
  <dd>There were some races and very long hangs should one thread be compiling
      the same property as another simultaneously. These have now been
    fixed.</dd>
</dl>
</div>
<div class="Bd-indent"></div>
<ul class="Bl-bullet">
  <li>Fixed a failure to match properly.
    <p class="Pp">An EXACTFish regnode has a finite length it can hold for the
        string being matched. If that length is exceeded, a second node is used
        for the next segment of the string, for as many regnodes as are needed.
        Care has to be taken where to break the string, in order to deal
        multi-character folds in Unicode correctly. If we want to break a string
        at a place which could potentially be in the middle of a multi-character
        fold, we back off one (or more) characters, leaving a shorter EXACTFish
        regnode. This backing off mechanism contained an off-by-one error. [GH
        #16806] &lt;https://github.com/Perl/perl5/issues/16806&gt;.</p>
  </li>
  <li>A bare <span class="Li">&quot;eof&quot;</span> call with no previous file
      handle now returns true. [GH #16786]
      &lt;https://github.com/Perl/perl5/issues/16786&gt;</li>
  <li>Failing to compile a format now aborts compilation. Like other errors in
      sub-parses this could leave the parser in a strange state, possibly
      crashing perl if compilation continued. [GH #16169]
      &lt;https://github.com/Perl/perl5/issues/16169&gt;</li>
  <li>If an in-place edit is still in progress during global destruction and the
      process exit code (as stored in <span class="Li">$?</span>) is zero, perl
      will now treat the in-place edit as successful, replacing the input file
      with any output produced.
    <p class="Pp">This allows code like:</p>
    <p class="Pp"></p>
    <pre>  perl -i -ne 'print &quot;Foo&quot;; last'
    </pre>
    <p class="Pp">to replace the input file, while code like:</p>
    <p class="Pp"></p>
    <pre>  perl -i -ne 'print &quot;Foo&quot;; die'
    </pre>
    <p class="Pp">will not. Partly resolves [GH #16748]
        &lt;https://github.com/Perl/perl5/issues/16748&gt;.</p>
  </li>
  <li>A regression in 5.28 caused the following code to fail
    <p class="Pp"></p>
    <pre> close(STDIN); open(CHILD, &quot;|wc -l&quot;)'
    </pre>
    <p class="Pp">because the child's stdin would be closed on exec. This has
        now been fixed.</p>
  </li>
  <li>Fixed an issue where compiling a regexp containing both compile-time and
      run-time code blocks could lead to trying to compile something which is
      invalid syntax.</li>
  <li>Fixed build failures with
      <span class="Li">&quot;-DNO_LOCALE_NUMERIC&quot;</span> and
      <span class="Li">&quot;-DNO_LOCALE_COLLATE&quot;</span>. [GH #16771]
      &lt;https://github.com/Perl/perl5/issues/16771&gt;.</li>
  <li>Prevent the tests in <i>ext/B/t/strict.t</i> from being skipped. [GH
      #16783] &lt;https://github.com/Perl/perl5/issues/16783&gt;.</li>
  <li><span class="Li">&quot;/di&quot;</span> nodes ending or beginning in
      <i>s</i> are now <span class="Li">&quot;EXACTF&quot;</span>. We do not
      want two <span class="Li">&quot;EXACTFU&quot;</span> to be joined together
      during optimization, and to form a <span class="Li">&quot;ss&quot;</span>,
      <span class="Li">&quot;sS&quot;</span>,
      <span class="Li">&quot;Ss&quot;</span> or
      <span class="Li">&quot;SS&quot;</span> sequence; they are the only
      multi-character sequences which may match differently under
      <span class="Li">&quot;/ui&quot;</span> and
      <span class="Li">&quot;/di&quot;</span>.</li>
</ul>
</section>
<section class="Sh">
<h1 class="Sh" id="Acknowledgements"><a class="permalink" href="#Acknowledgements">Acknowledgements</a></h1>
<p class="Pp">Perl 5.30.0 represents approximately 11 months of development
    since Perl 5.28.0 and contains approximately 620,000 lines of changes across
    1,300 files from 58 authors.</p>
<p class="Pp">Excluding auto-generated files, documentation and release tools,
    there were approximately 510,000 lines of changes to 750 .pm, .t, .c and .h
    files.</p>
<p class="Pp">Perl continues to flourish into its fourth decade thanks to a
    vibrant community of users and developers. The following people are known to
    have contributed the improvements that became Perl 5.30.0:</p>
<p class="Pp">Aaron Crane, Abigail, Alberto Simo~es, Alexandr Savca, Andreas
    Koenig, Andy Dougherty, Aristotle Pagaltzis, Brian Greenfield, Chad Granum,
    Chris 'BinGOs' Williams, Craig A. Berry, Dagfinn Ilmari Mannsaaker, Dan
    Book, Dan Dedrick, Daniel Dragan, Dan Kogai, David Cantrell, David Mitchell,
    Dominic Hargreaves, E. Choroba, Ed J, Eugen Konkov, Francois Perrad, Graham
    Knop, Hauke D, H.Merijn Brand, Hugo van der Sanden, Jakub Wilk, James
    Clarke, James E Keenan, Jerry D. Hedden, Jim Cromie, John SJ Anderson, Karen
    Etheridge, Karl Williamson, Leon Timmermans, Matthias Bethke, Nicholas
    Clark, Nicolas R., Niko Tyni, Pali, Petr PisaX, Phil Pearl (Lobbes), Richard
    Leach, Ryan Voots, Sawyer X, Shlomi Fish, Sisyphus, Slaven Rezic, Steve Hay,
    Sullivan Beck, Tina Mueller, Tomasz Konojacki, Tom Wyant, Tony Cook, Unicode
    Consortium, Yves Orton, Zak B. Elep.</p>
<p class="Pp">The list above is almost certainly incomplete as it is
    automatically generated from version control history. In particular, it does
    not include the names of most of the (very much appreciated) contributors
    who reported issues to the Perl bug tracker. Noteworthy in this release were
    the large number of bug fixes made possible by Sergey Aleynikov's high
    quality perlbug reports for issues he discovered by fuzzing with AFL.</p>
<p class="Pp">Many of the changes included in this version originated in the
    CPAN modules included in Perl's core. We're grateful to the entire CPAN
    community for helping Perl to flourish.</p>
<p class="Pp">For a more complete list of all of Perl's historical contributors,
    please see the <i>AUTHORS</i> file in the Perl source distribution.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Reporting_Bugs"><a class="permalink" href="#Reporting_Bugs">Reporting
  Bugs</a></h1>
<p class="Pp">If you find what you think is a bug, you might check the perl bug
    database at &lt;https://rt.perl.org/&gt;. There may also be information at
    &lt;http://www.perl.org/&gt;, the Perl Home Page.</p>
<p class="Pp">If you believe you have an unreported bug, please run the perlbug
    program included with your release. Be sure to trim your bug down to a tiny
    but sufficient test case. Your bug report, along with the output of
    <span class="Li">&quot;perl -V&quot;</span>, will be sent off to
    perlbug@perl.org to be analysed by the Perl porting team.</p>
<p class="Pp">If the bug you are reporting has security implications which make
    it inappropriate to send to a publicly archived mailing list, then see
    &quot;SECURITY VULNERABILITY CONTACT INFORMATION&quot; in perlsec for
    details of how to report the issue.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="Give_Thanks"><a class="permalink" href="#Give_Thanks">Give
  Thanks</a></h1>
<p class="Pp">If you wish to thank the Perl 5 Porters for the work we had done
    in Perl 5, you can do so by running the
    <span class="Li">&quot;perlthanks&quot;</span> program:</p>
<p class="Pp"></p>
<pre>    perlthanks
</pre>
<p class="Pp">This will send an email to the Perl 5 Porters list with your show
    of thanks.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">The <i>Changes</i> file for an explanation of how to view
    exhaustive details on what changed.</p>
<p class="Pp">The <i>INSTALL</i> file for how to build Perl.</p>
<p class="Pp">The <i>README</i> file for general stuff.</p>
<p class="Pp">The <i>Artistic</i> and <i>Copying</i> files for copyright
    information.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2021-05-04</td>
    <td class="foot-os">perl v5.34.0</td>
  </tr>
</table>
</body>
</html>
