<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
  
   Standard preamble:
   ========================================================================
   Vertical space (when we can't use .PP)
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>PERLOP(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PERLOP(1)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">PERLOP(1)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">perlop - Perl operators and precedence</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">In Perl, the operator determines what operation is performed,
    independent of the type of the operands. For example
    <span class="Li">&quot;$x&#x00A0;+&#x00A0;$y&quot;</span> is always a
    numeric addition, and if <span class="Li">$x</span> or
    <span class="Li">$y</span> do not contain numbers, an attempt is made to
    convert them to numbers first.</p>
<p class="Pp">This is in contrast to many other dynamic languages, where the
    operation is determined by the type of the first argument. It also means
    that Perl has two versions of some operators, one for numeric and one for
    string comparison. For example
    <span class="Li">&quot;$x&#x00A0;==&#x00A0;$y&quot;</span> compares two
    numbers for equality, and
    <span class="Li">&quot;$x&#x00A0;eq&#x00A0;$y&quot;</span> compares two
    strings.</p>
<p class="Pp">There are a few exceptions though:
    <span class="Li">&quot;x&quot;</span> can be either string repetition or
    list repetition, depending on the type of the left operand, and
    <span class="Li">&quot;&amp;&quot;</span>,
    <span class="Li">&quot;|&quot;</span>, <span class="Li">&quot;^&quot;</span>
    and <span class="Li">&quot;~&quot;</span> can be either string or numeric
    bit operations.</p>
<section class="Ss">
<h2 class="Ss" id="Operator_Precedence_and_Associativity"><a class="permalink" href="#Operator_Precedence_and_Associativity">Operator
  Precedence and Associativity</a></h2>
<p class="Pp">Operator precedence and associativity work in Perl more or less
    like they do in mathematics.</p>
<p class="Pp"><i>Operator precedence</i> means some operators group more tightly
    than others. For example, in <span class="Li">&quot;2 + 4 * 5&quot;</span>,
    the multiplication has higher precedence, so <span class="Li">&quot;4</span>
    <span class="Li">* 5&quot;</span> is grouped together as the right-hand
    operand of the addition, rather than <span class="Li">&quot;2 +
    4&quot;</span> being grouped together as the left-hand operand of the
    multiplication. It is as if the expression were written
    <span class="Li">&quot;2 + (4 * 5)&quot;</span>, not
    <span class="Li">&quot;(2 + 4) * 5&quot;</span>. So the expression yields
    <span class="Li">&quot;2 + 20 == 22&quot;</span>, rather than
    <span class="Li">&quot;6 * 5 == 30&quot;</span>.</p>
<p class="Pp"><i>Operator associativity</i> defines what happens if a sequence
    of the same operators is used one after another: usually that they will be
    grouped at the left or the right. For example, in <span class="Li">&quot;9 -
    3 - 2&quot;</span>, subtraction is left associative, so
    <span class="Li">&quot;9 - 3&quot;</span> is grouped together as the
    left-hand operand of the second subtraction, rather than
    <span class="Li">&quot;3 - 2&quot;</span> being grouped together as the
    right-hand operand of the first subtraction. It is as if the expression were
    written <span class="Li">&quot;(9 - 3) - 2&quot;</span>, not
    <span class="Li">&quot;9 - (3 - 2)&quot;</span>. So the expression yields
    <span class="Li">&quot;6 - 2 == 4&quot;</span>, rather than
    <span class="Li">&quot;9 - 1 == 8&quot;</span>.</p>
<p class="Pp">For simple operators that evaluate all their operands and then
    combine the values in some way, precedence and associativity (and
    parentheses) imply some ordering requirements on those combining operations.
    For example, in <span class="Li">&quot;2 + 4 *</span>
    <span class="Li">5&quot;</span>, the grouping implied by precedence means
    that the multiplication of 4 and 5 must be performed before the addition of
    2 and 20, simply because the result of that multiplication is required as
    one of the operands of the addition. But the order of operations is not
    fully determined by this: in <span class="Li">&quot;2 * 2 + 4 *
    5&quot;</span> both multiplications must be performed before the addition,
    but the grouping does not say anything about the order in which the two
    multiplications are performed. In fact Perl has a general rule that the
    operands of an operator are evaluated in left-to-right order. A few
    operators such as <span class="Li">&quot;&amp;&amp;=&quot;</span> have
    special evaluation rules that can result in an operand not being evaluated
    at all; in general, the top-level operator in an expression has control of
    operand evaluation.</p>
<p class="Pp">Some comparison operators, as their associativity, <i>chain</i>
    with some operators of the same precedence (but never with operators of
    different precedence). This chaining means that each comparison is performed
    on the two arguments surrounding it, with each interior argument taking part
    in two comparisons, and the comparison results are implicitly ANDed. Thus
    <span class="Li">&quot;$x&#x00A0;&lt;&#x00A0;$y&#x00A0;&lt;=&#x00A0;$z&quot;</span>
    behaves exactly like
    <span class="Li">&quot;$x&#x00A0;&lt;&#x00A0;$y&#x00A0;&amp;&amp;&#x00A0;$y&#x00A0;&lt;=&#x00A0;$z&quot;</span>,
    assuming that <span class="Li">&quot;$y&quot;</span> is as simple a scalar
    as it looks. The ANDing short-circuits just like
    <span class="Li">&quot;&amp;&amp;&quot;</span> does, stopping the sequence
    of comparisons as soon as one yields false.</p>
<p class="Pp">In a chained comparison, each argument expression is evaluated at
    most once, even if it takes part in two comparisons, but the result of the
    evaluation is fetched for each comparison. (It is not evaluated at all if
    the short-circuiting means that it's not required for any comparisons.) This
    matters if the computation of an interior argument is expensive or
    non-deterministic. For example,</p>
<p class="Pp"></p>
<pre>    if($x &lt; expensive_sub() &lt;= $z) { ...
</pre>
<p class="Pp">is not entirely like</p>
<p class="Pp"></p>
<pre>    if($x &lt; expensive_sub() &amp;&amp; expensive_sub() &lt;= $z) { ...
</pre>
<p class="Pp">but instead closer to</p>
<p class="Pp"></p>
<pre>    my $tmp = expensive_sub();
    if($x &lt; $tmp &amp;&amp; $tmp &lt;= $z) { ...
</pre>
<p class="Pp">in that the subroutine is only called once. However, it's not
    exactly like this latter code either, because the chained comparison doesn't
    actually involve any temporary variable (named or otherwise): there is no
    assignment. This doesn't make much difference where the expression is a call
    to an ordinary subroutine, but matters more with an lvalue subroutine, or if
    the argument expression yields some unusual kind of scalar by other means.
    For example, if the argument expression yields a tied scalar, then the
    expression is evaluated to produce that scalar at most once, but the value
    of that scalar may be fetched up to twice, once for each comparison in which
    it is actually used.</p>
<p class="Pp">In this example, the expression is evaluated only once, and the
    tied scalar (the result of the expression) is fetched for each comparison
    that uses it.</p>
<p class="Pp"></p>
<pre>    if ($x &lt; $tied_scalar &lt; $z) { ...
</pre>
<p class="Pp">In the next example, the expression is evaluated only once, and
    the tied scalar is fetched once as part of the operation within the
    expression. The result of that operation is fetched for each comparison,
    which normally doesn't matter unless that expression result is also magical
    due to operator overloading.</p>
<p class="Pp"></p>
<pre>    if ($x &lt; $tied_scalar + 42 &lt; $z) { ...
</pre>
<p class="Pp">Some operators are instead non-associative, meaning that it is a
    syntax error to use a sequence of those operators of the same precedence.
    For example,
    <span class="Li">&quot;$x&#x00A0;..&#x00A0;$y&#x00A0;..&#x00A0;$z&quot;</span>
    is an error.</p>
<p class="Pp">Perl operators have the following associativity and precedence,
    listed from highest precedence to lowest. Operators borrowed from C keep the
    same precedence relationship with each other, even where C's precedence is
    slightly screwy. (This makes learning Perl easier for C folks.) With very
    few exceptions, these all operate on scalar values only, not array
  values.</p>
<p class="Pp"></p>
<pre>    left        terms and list operators (leftward)
    left        -&gt;
    nonassoc    ++ --
    right       **
    right       ! ~ ~. \ and unary + and -
    left        =~ !~
    left        * / % x
    left        + - .
    left        &lt;&lt; &gt;&gt;
    nonassoc    named unary operators
    nonassoc    isa
    chained     &lt; &gt; &lt;= &gt;= lt gt le ge
    chain/na    == != eq ne &lt;=&gt; cmp ~~
    left        &amp; &amp;.
    left        | |. ^ ^.
    left        &amp;&amp;
    left        || //
    nonassoc    ..  ...
    right       ?:
    right       = += -= *= etc. goto last next redo dump
    left        , =&gt;
    nonassoc    list operators (rightward)
    right       not
    left        and
    left        or xor
</pre>
<p class="Pp">In the following sections, these operators are covered in detail,
    in the same order in which they appear in the table above.</p>
<p class="Pp">Many operators can be overloaded for objects. See overload.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Terms_and_List_Operators_(Leftward)"><a class="permalink" href="#Terms_and_List_Operators_(Leftward)">Terms
  and List Operators (Leftward)</a></h2>
<p class="Pp">A TERM has the highest precedence in Perl. They include variables,
    quote and quote-like operators, any expression in parentheses, and any
    function whose arguments are parenthesized. Actually, there aren't really
    functions in this sense, just list operators and unary operators behaving as
    functions because you put parentheses around the arguments. These are all
    documented in perlfunc.</p>
<p class="Pp">If any list operator (<span class="Li">&quot;print()&quot;</span>,
    etc.) or any unary operator (<span class="Li">&quot;chdir()&quot;</span>,
    etc.) is followed by a left parenthesis as the next token, the operator and
    arguments within parentheses are taken to be of highest precedence, just
    like a normal function call.</p>
<p class="Pp">In the absence of parentheses, the precedence of list operators
    such as <span class="Li">&quot;print&quot;</span>,
    <span class="Li">&quot;sort&quot;</span>, or
    <span class="Li">&quot;chmod&quot;</span> is either very high or very low
    depending on whether you are looking at the left side or the right side of
    the operator. For example, in</p>
<p class="Pp"></p>
<pre>    @ary = (1, 3, sort 4, 2);
    print @ary;         # prints 1324
</pre>
<p class="Pp">the commas on the right of the
    <span class="Li">&quot;sort&quot;</span> are evaluated before the
    <span class="Li">&quot;sort&quot;</span>, but the commas on the left are
    evaluated after. In other words, list operators tend to gobble up all
    arguments that follow, and then act like a simple TERM with regard to the
    preceding expression. Be careful with parentheses:</p>
<p class="Pp"></p>
<pre>    # These evaluate exit before doing the print:
    print($foo, exit);  # Obviously not what you want.
    print $foo, exit;   # Nor is this.
    # These do the print before evaluating exit:
    (print $foo), exit; # This is what you want.
    print($foo), exit;  # Or this.
    print ($foo), exit; # Or even this.
</pre>
<p class="Pp">Also note that</p>
<p class="Pp"></p>
<pre>    print ($foo &amp; 255) + 1, &quot;\n&quot;;
</pre>
<p class="Pp">probably doesn't do what you expect at first glance. The
    parentheses enclose the argument list for
    <span class="Li">&quot;print&quot;</span> which is evaluated (printing the
    result of <span class="Li">&quot;$foo&#x00A0;&amp;&#x00A0;255&quot;</span>).
    Then one is added to the return value of
    <span class="Li">&quot;print&quot;</span> (usually 1). The result is
    something like this:</p>
<p class="Pp"></p>
<pre>    1 + 1, &quot;\n&quot;;    # Obviously not what you meant.
</pre>
<p class="Pp">To do what you meant properly, you must write:</p>
<p class="Pp"></p>
<pre>    print(($foo &amp; 255) + 1, &quot;\n&quot;);
</pre>
<p class="Pp">See &quot;Named Unary Operators&quot; for more discussion of
  this.</p>
<p class="Pp">Also parsed as terms are the
    <span class="Li">&quot;do&#x00A0;{}&quot;</span> and
    <span class="Li">&quot;eval&#x00A0;{}&quot;</span> constructs, as well as
    subroutine and method calls, and the anonymous constructors
    <span class="Li">&quot;[]&quot;</span> and
    <span class="Li">&quot;{}&quot;</span>.</p>
<p class="Pp">See also &quot;Quote and Quote-like Operators&quot; toward the end
    of this section, as well as &quot;I/O Operators&quot;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="The_Arrow_Operator"><a class="permalink" href="#The_Arrow_Operator">The
  Arrow Operator</a></h2>
<p class="Pp">&quot;<span class="Li">&quot;-&gt;&quot;</span>&quot; is an infix
    dereference operator, just as it is in C and C++. If the right side is
    either a <span class="Li">&quot;[...]&quot;</span>,
    <span class="Li">&quot;{...}&quot;</span>, or a
    <span class="Li">&quot;(...)&quot;</span> subscript, then the left side must
    be either a hard or symbolic reference to an array, a hash, or a subroutine
    respectively. (Or technically speaking, a location capable of holding a hard
    reference, if it's an array or hash reference being used for assignment.)
    See perlreftut and perlref.</p>
<p class="Pp">Otherwise, the right side is a method name or a simple scalar
    variable containing either the method name or a subroutine reference, and
    the left side must be either an object (a blessed reference) or a class name
    (that is, a package name). See perlobj.</p>
<p class="Pp">The dereferencing cases (as opposed to method-calling cases) are
    somewhat extended by the <span class="Li">&quot;postderef&quot;</span>
    feature. For the details of that feature, consult &quot;Postfix Dereference
    Syntax&quot; in perlref.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Auto-increment_and_Auto-decrement"><a class="permalink" href="#Auto-increment_and_Auto-decrement">Auto-increment
  and Auto-decrement</a></h2>
<p class="Pp"><span class="Li">&quot;++&quot;</span> and
    <span class="Li">&quot;--&quot;</span> work as in C. That is, if placed
    before a variable, they increment or decrement the variable by one before
    returning the value, and if placed after, increment or decrement after
    returning the value.</p>
<p class="Pp"></p>
<pre>    $i = 0;  $j = 0;
    print $i++;  # prints 0
    print ++$j;  # prints 1
</pre>
<p class="Pp">Note that just as in C, Perl doesn't define <b>when</b> the
    variable is incremented or decremented. You just know it will be done
    sometime before or after the value is returned. This also means that
    modifying a variable twice in the same statement will lead to undefined
    behavior. Avoid statements like:</p>
<p class="Pp"></p>
<pre>    $i = $i ++;
    print ++ $i + $i ++;
</pre>
<p class="Pp">Perl will not guarantee what the result of the above statements
    is.</p>
<p class="Pp">The auto-increment operator has a little extra builtin magic to
    it. If you increment a variable that is numeric, or that has ever been used
    in a numeric context, you get a normal increment. If, however, the variable
    has been used in only string contexts since it was set, and has a value that
    is not the empty string and matches the pattern
    <span class="Li">&quot;/^[a-zA-Z]*[0-9]*\z/&quot;</span>, the increment is
    done as a string, preserving each character within its range, with
  carry:</p>
<p class="Pp"></p>
<pre>    print ++($foo = &quot;99&quot;);      # prints &quot;100&quot;
    print ++($foo = &quot;a0&quot;);      # prints &quot;a1&quot;
    print ++($foo = &quot;Az&quot;);      # prints &quot;Ba&quot;
    print ++($foo = &quot;zz&quot;);      # prints &quot;aaa&quot;
</pre>
<p class="Pp"><span class="Li">&quot;undef&quot;</span> is always treated as
    numeric, and in particular is changed to <span class="Li">0</span> before
    incrementing (so that a post-increment of an undef value will return
    <span class="Li">0</span> rather than
    <span class="Li">&quot;undef&quot;</span>).</p>
<p class="Pp">The auto-decrement operator is not magical.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Exponentiation"><a class="permalink" href="#Exponentiation">Exponentiation</a></h2>
<p class="Pp">Binary <span class="Li">&quot;**&quot;</span> is the
    exponentiation operator. It binds even more tightly than unary minus, so
    <span class="Li">&quot;-2**4&quot;</span> is
    <span class="Li">&quot;-(2**4)&quot;</span>, not
    <span class="Li">&quot;(-2)**4&quot;</span>. (This is implemented using C's
    <span class="Li">pow(3)</span> function, which actually works on doubles
    internally.)</p>
<p class="Pp">Note that certain exponentiation expressions are ill-defined:
    these include <span class="Li">&quot;0**0&quot;</span>,
    <span class="Li">&quot;1**Inf&quot;</span>, and
    <span class="Li">&quot;Inf**0&quot;</span>. Do not expect any particular
    results from these special cases, the results are platform-dependent.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Symbolic_Unary_Operators"><a class="permalink" href="#Symbolic_Unary_Operators">Symbolic
  Unary Operators</a></h2>
<p class="Pp">Unary <span class="Li">&quot;!&quot;</span> performs logical
    negation, that is, &quot;not&quot;. See also
    <span class="Li">&quot;not&quot;</span> for a lower precedence version of
    this.</p>
<p class="Pp">Unary <span class="Li">&quot;-&quot;</span> performs arithmetic
    negation if the operand is numeric, including any string that looks like a
    number. If the operand is an identifier, a string consisting of a minus sign
    concatenated with the identifier is returned. Otherwise, if the string
    starts with a plus or minus, a string starting with the opposite sign is
    returned. One effect of these rules is that
    <span class="Li">&quot;-bareword&quot;</span> is equivalent to the string
    <span class="Li">&quot;-bareword&quot;</span>. If, however, the string
    begins with a non-alphabetic character (excluding
    <span class="Li">&quot;+&quot;</span> or
    <span class="Li">&quot;-&quot;</span>), Perl will attempt to convert the
    string to a numeric, and the arithmetic negation is performed. If the string
    cannot be cleanly converted to a numeric, Perl will give the warning
    <b>Argument &quot;the string&quot; isn't numeric in negation (-) at
  ...</b>.</p>
<p class="Pp">Unary <span class="Li">&quot;~&quot;</span> performs bitwise
    negation, that is, 1's complement. For example,
    <span class="Li">&quot;0666&#x00A0;&amp;&#x00A0;~027&quot;</span> is 0640.
    (See also &quot;Integer Arithmetic&quot; and &quot;Bitwise String
    Operators&quot;.) Note that the width of the result is platform-dependent:
    <span class="Li">&quot;~0&quot;</span> is 32 bits wide on a 32-bit platform,
    but 64 bits wide on a 64-bit platform, so if you are expecting a certain bit
    width, remember to use the <span class="Li">&quot;&amp;&quot;</span>
    operator to mask off the excess bits.</p>
<p class="Pp">Starting in Perl 5.28, it is a fatal error to try to complement a
    string containing a character with an ordinal value above 255.</p>
<p class="Pp">If the &quot;bitwise&quot; feature is enabled via
    <span class="Li">&quot;use&#x00A0;feature&#x00A0;'bitwise'&quot;</span> or
    <span class="Li">&quot;use v5.28&quot;</span>, then unary
    <span class="Li">&quot;~&quot;</span> always treats its argument as a
    number, and an alternate form of the operator,
    <span class="Li">&quot;~.&quot;</span>, always treats its argument as a
    string. So <span class="Li">&quot;~0&quot;</span> and
    <span class="Li">&quot;~&quot;0&quot;&quot;</span> will both give 2**32-1 on
    32-bit platforms, whereas <span class="Li">&quot;~.0&quot;</span> and
    <span class="Li">&quot;~.&quot;0&quot;&quot;</span> will both yield
    <span class="Li">&quot;\xff&quot;</span>. Until Perl 5.28, this feature
    produced a warning in the
    <span class="Li">&quot;experimental::bitwise&quot;</span> category.</p>
<p class="Pp">Unary <span class="Li">&quot;+&quot;</span> has no effect
    whatsoever, even on strings. It is useful syntactically for separating a
    function name from a parenthesized expression that would otherwise be
    interpreted as the complete list of function arguments. (See examples above
    under &quot;Terms and List Operators (Leftward)&quot;.)</p>
<p class="Pp">Unary <span class="Li">&quot;\&quot;</span> creates references. If
    its operand is a single sigilled thing, it creates a reference to that
    object. If its operand is a parenthesised list, then it creates references
    to the things mentioned in the list. Otherwise it puts its operand in list
    context, and creates a list of references to the scalars in the list
    provided by the operand. See perlreftut and perlref. Do not confuse this
    behavior with the behavior of backslash within a string, although both forms
    do convey the notion of protecting the next thing from interpolation.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Binding_Operators"><a class="permalink" href="#Binding_Operators">Binding
  Operators</a></h2>
<p class="Pp">Binary <span class="Li">&quot;=~&quot;</span> binds a scalar
    expression to a pattern match. Certain operations search or modify the
    string <span class="Li">$_</span> by default. This operator makes that kind
    of operation work on some other string. The right argument is a search
    pattern, substitution, or transliteration. The left argument is what is
    supposed to be searched, substituted, or transliterated instead of the
    default <span class="Li">$_</span>. When used in scalar context, the return
    value generally indicates the success of the operation. The exceptions are
    substitution (<span class="Li">&quot;s///&quot;</span>) and transliteration
    (<span class="Li">&quot;y///&quot;</span>) with the
    <span class="Li">&quot;/r&quot;</span> (non-destructive) option, which cause
    the <b>r</b>eturn value to be the result of the substitution. Behavior in
    list context depends on the particular operator. See &quot;Regexp Quote-Like
    Operators&quot; for details and perlretut for examples using these
    operators.</p>
<p class="Pp">If the right argument is an expression rather than a search
    pattern, substitution, or transliteration, it is interpreted as a search
    pattern at run time. Note that this means that its contents will be
    interpolated twice, so</p>
<p class="Pp"></p>
<pre>    '\\' =~ q'\\';
</pre>
<p class="Pp">is not ok, as the regex engine will end up trying to compile the
    pattern <span class="Li">&quot;\&quot;</span>, which it will consider a
    syntax error.</p>
<p class="Pp">Binary <span class="Li">&quot;!~&quot;</span> is just like
    <span class="Li">&quot;=~&quot;</span> except the return value is negated in
    the logical sense.</p>
<p class="Pp">Binary <span class="Li">&quot;!~&quot;</span> with a
    non-destructive substitution (<span class="Li">&quot;s///r&quot;</span>) or
    transliteration (<span class="Li">&quot;y///r&quot;</span>) is a syntax
    error.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Multiplicative_Operators"><a class="permalink" href="#Multiplicative_Operators">Multiplicative
  Operators</a></h2>
<p class="Pp">Binary <span class="Li">&quot;*&quot;</span> multiplies two
    numbers.</p>
<p class="Pp">Binary <span class="Li">&quot;/&quot;</span> divides two
  numbers.</p>
<p class="Pp">Binary <span class="Li">&quot;%&quot;</span> is the modulo
    operator, which computes the division remainder of its first argument with
    respect to its second argument. Given integer operands
    <span class="Li">$m</span> and <span class="Li">$n</span>: If
    <span class="Li">$n</span> is positive, then
    <span class="Li">&quot;$m&#x00A0;%&#x00A0;$n&quot;</span> is
    <span class="Li">$m</span> minus the largest multiple of
    <span class="Li">$n</span> less than or equal to <span class="Li">$m</span>.
    If <span class="Li">$n</span> is negative, then
    <span class="Li">&quot;$m&#x00A0;%&#x00A0;$n&quot;</span> is
    <span class="Li">$m</span> minus the smallest multiple of
    <span class="Li">$n</span> that is not less than <span class="Li">$m</span>
    (that is, the result will be less than or equal to zero). If the operands
    <span class="Li">$m</span> and <span class="Li">$n</span> are floating point
    values and the absolute value of <span class="Li">$n</span> (that is
    <span class="Li">&quot;abs($n)&quot;</span>) is less than
    <span class="Li">&quot;(UV_MAX&#x00A0;+&#x00A0;1)&quot;</span>, only the
    integer portion of <span class="Li">$m</span> and <span class="Li">$n</span>
    will be used in the operation (Note: here
    <span class="Li">&quot;UV_MAX&quot;</span> means the maximum of the unsigned
    integer type). If the absolute value of the right operand
    (<span class="Li">&quot;abs($n)&quot;</span>) is greater than or equal to
    <span class="Li">&quot;(UV_MAX&#x00A0;+&#x00A0;1)&quot;</span>,
    <span class="Li">&quot;%&quot;</span> computes the floating-point remainder
    <span class="Li">$r</span> in the equation
    <span class="Li">&quot;($r&#x00A0;=&#x00A0;$m&#x00A0;-&#x00A0;$i*$n)&quot;</span>
    where <span class="Li">$i</span> is a certain integer that makes
    <span class="Li">$r</span> have the same sign as the right operand
    <span class="Li">$n</span> (<b>not</b> as the left operand
    <span class="Li">$m</span> like C function
    <span class="Li">&quot;fmod()&quot;</span>) and the absolute value less than
    that of <span class="Li">$n</span>. Note that when
    <span class="Li">&quot;use&#x00A0;integer&quot;</span> is in scope,
    <span class="Li">&quot;%&quot;</span> gives you direct access to the modulo
    operator as implemented by your C compiler. This operator is not as well
    defined for negative operands, but it will execute faster.</p>
<p class="Pp">Binary <span class="Li">&quot;x&quot;</span> is the repetition
    operator. In scalar context, or if the left operand is neither enclosed in
    parentheses nor a <span class="Li">&quot;qw//&quot;</span> list, it performs
    a string repetition. In that case it supplies scalar context to the left
    operand, and returns a string consisting of the left operand string repeated
    the number of times specified by the right operand. If the
    <span class="Li">&quot;x&quot;</span> is in list context, and the left
    operand is either enclosed in parentheses or a
    <span class="Li">&quot;qw//&quot;</span> list, it performs a list
    repetition. In that case it supplies list context to the left operand, and
    returns a list consisting of the left operand list repeated the number of
    times specified by the right operand. If the right operand is zero or
    negative (raising a warning on negative), it returns an empty string or an
    empty list, depending on the context.</p>
<p class="Pp"></p>
<pre>    print '-' x 80;             # print row of dashes
    print &quot;\t&quot; x ($tab/8), ' ' x ($tab%8);      # tab over
    @ones = (1) x 80;           # a list of 80 1's
    @ones = (5) x @ones;        # set all elements to 5
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Additive_Operators"><a class="permalink" href="#Additive_Operators">Additive
  Operators</a></h2>
<p class="Pp">Binary <span class="Li">&quot;+&quot;</span> returns the sum of
    two numbers.</p>
<p class="Pp">Binary <span class="Li">&quot;-&quot;</span> returns the
    difference of two numbers.</p>
<p class="Pp">Binary <span class="Li">&quot;.&quot;</span> concatenates two
    strings.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Shift_Operators"><a class="permalink" href="#Shift_Operators">Shift
  Operators</a></h2>
<p class="Pp">Binary <span class="Li">&quot;&lt;&lt;&quot;</span> returns the
    value of its left argument shifted left by the number of bits specified by
    the right argument. Arguments should be integers. (See also &quot;Integer
    Arithmetic&quot;.)</p>
<p class="Pp">Binary <span class="Li">&quot;&gt;&gt;&quot;</span> returns the
    value of its left argument shifted right by the number of bits specified by
    the right argument. Arguments should be integers. (See also &quot;Integer
    Arithmetic&quot;.)</p>
<p class="Pp">If <span class="Li">&quot;use&#x00A0;integer&quot;</span> (see
    &quot;Integer Arithmetic&quot;) is in force then signed C integers are used
    (<i>arithmetic shift</i>), otherwise unsigned C integers are used
    (<i>logical shift</i>), even for negative shiftees. In arithmetic right
    shift the sign bit is replicated on the left, in logical shift zero bits
    come in from the left.</p>
<p class="Pp">Either way, the implementation isn't going to generate results
    larger than the size of the integer type Perl was built with (32 bits or 64
    bits).</p>
<p class="Pp">Shifting by negative number of bits means the reverse shift: left
    shift becomes right shift, right shift becomes left shift. This is unlike in
    C, where negative shift is undefined.</p>
<p class="Pp">Shifting by more bits than the size of the integers means most of
    the time zero (all bits fall off), except that under
    <span class="Li">&quot;use&#x00A0;integer&quot;</span> right overshifting a
    negative shiftee results in -1. This is unlike in C, where shifting by too
    many bits is undefined. A common C behavior is &quot;shift by modulo
    wordbits&quot;, so that for example</p>
<p class="Pp"></p>
<pre>    1 &gt;&gt; 64 == 1 &gt;&gt; (64 % 64) == 1 &gt;&gt; 0 == 1  # Common C behavior.
</pre>
<p class="Pp">but that is completely accidental.</p>
<p class="Pp">If you get tired of being subject to your platform's native
    integers, the <span class="Li">&quot;use&#x00A0;bigint&quot;</span> pragma
    neatly sidesteps the issue altogether:</p>
<p class="Pp"></p>
<pre>    print 20 &lt;&lt; 20;  # 20971520
    print 20 &lt;&lt; 40;  # 5120 on 32-bit machines,
                     # 21990232555520 on 64-bit machines
    use bigint;
    print 20 &lt;&lt; 100; # 25353012004564588029934064107520
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Named_Unary_Operators"><a class="permalink" href="#Named_Unary_Operators">Named
  Unary Operators</a></h2>
<p class="Pp">The various named unary operators are treated as functions with
    one argument, with optional parentheses.</p>
<p class="Pp">If any list operator (<span class="Li">&quot;print()&quot;</span>,
    etc.) or any unary operator (<span class="Li">&quot;chdir()&quot;</span>,
    etc.) is followed by a left parenthesis as the next token, the operator and
    arguments within parentheses are taken to be of highest precedence, just
    like a normal function call. For example, because named unary operators are
    higher precedence than <span class="Li">&quot;||&quot;</span>:</p>
<p class="Pp"></p>
<pre>    chdir $foo    || die;       # (chdir $foo) || die
    chdir($foo)   || die;       # (chdir $foo) || die
    chdir ($foo)  || die;       # (chdir $foo) || die
    chdir +($foo) || die;       # (chdir $foo) || die
</pre>
<p class="Pp">but, because <span class="Li">&quot;*&quot;</span> is higher
    precedence than named operators:</p>
<p class="Pp"></p>
<pre>    chdir $foo * 20;    # chdir ($foo * 20)
    chdir($foo) * 20;   # (chdir $foo) * 20
    chdir ($foo) * 20;  # (chdir $foo) * 20
    chdir +($foo) * 20; # chdir ($foo * 20)
    rand 10 * 20;       # rand (10 * 20)
    rand(10) * 20;      # (rand 10) * 20
    rand (10) * 20;     # (rand 10) * 20
    rand +(10) * 20;    # rand (10 * 20)
</pre>
<p class="Pp">Regarding precedence, the filetest operators, like
    <span class="Li">&quot;-f&quot;</span>,
    <span class="Li">&quot;-M&quot;</span>, etc. are treated like named unary
    operators, but they don't follow this functional parenthesis rule. That
    means, for example, that
    <span class="Li">&quot;-f($file).&quot;.bak&quot;&quot;</span> is equivalent
    to <span class="Li">&quot;-f&#x00A0;&quot;$file.bak&quot;&quot;</span>.</p>
<p class="Pp">See also &quot;Terms and List Operators (Leftward)&quot;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Relational_Operators"><a class="permalink" href="#Relational_Operators">Relational
  Operators</a></h2>
<p class="Pp">Perl operators that return true or false generally return values
    that can be safely used as numbers. For example, the relational operators in
    this section and the equality operators in the next one return
    <span class="Li">1</span> for true and a special version of the defined
    empty string, <span class="Li">&quot;&quot;</span>, which counts as a zero
    but is exempt from warnings about improper numeric conversions, just as
    <span class="Li">&quot;0&#x00A0;but&#x00A0;true&quot;</span> is.</p>
<p class="Pp">Binary <span class="Li">&quot;&lt;&quot;</span> returns true if
    the left argument is numerically less than the right argument.</p>
<p class="Pp">Binary <span class="Li">&quot;&gt;&quot;</span> returns true if
    the left argument is numerically greater than the right argument.</p>
<p class="Pp">Binary <span class="Li">&quot;&lt;=&quot;</span> returns true if
    the left argument is numerically less than or equal to the right
  argument.</p>
<p class="Pp">Binary <span class="Li">&quot;&gt;=&quot;</span> returns true if
    the left argument is numerically greater than or equal to the right
    argument.</p>
<p class="Pp">Binary <span class="Li">&quot;lt&quot;</span> returns true if the
    left argument is stringwise less than the right argument.</p>
<p class="Pp">Binary <span class="Li">&quot;gt&quot;</span> returns true if the
    left argument is stringwise greater than the right argument.</p>
<p class="Pp">Binary <span class="Li">&quot;le&quot;</span> returns true if the
    left argument is stringwise less than or equal to the right argument.</p>
<p class="Pp">Binary <span class="Li">&quot;ge&quot;</span> returns true if the
    left argument is stringwise greater than or equal to the right argument.</p>
<p class="Pp">A sequence of relational operators, such as
    <span class="Li">&quot;$x&#x00A0;&lt;&#x00A0;$y&#x00A0;&lt;=&#x00A0;$z&quot;</span>,
    performs chained comparisons, in the manner described above in the section
    &quot;Operator Precedence and Associativity&quot;. Beware that they do not
    chain with equality operators, which have lower precedence.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Equality_Operators"><a class="permalink" href="#Equality_Operators">Equality
  Operators</a></h2>
<p class="Pp">Binary <span class="Li">&quot;==&quot;</span> returns true if the
    left argument is numerically equal to the right argument.</p>
<p class="Pp">Binary <span class="Li">&quot;!=&quot;</span> returns true if the
    left argument is numerically not equal to the right argument.</p>
<p class="Pp">Binary <span class="Li">&quot;eq&quot;</span> returns true if the
    left argument is stringwise equal to the right argument.</p>
<p class="Pp">Binary <span class="Li">&quot;ne&quot;</span> returns true if the
    left argument is stringwise not equal to the right argument.</p>
<p class="Pp">A sequence of the above equality operators, such as
    <span class="Li">&quot;$x&#x00A0;==&#x00A0;$y&#x00A0;==&#x00A0;$z&quot;</span>,
    performs chained comparisons, in the manner described above in the section
    &quot;Operator Precedence and Associativity&quot;. Beware that they do not
    chain with relational operators, which have higher precedence.</p>
<p class="Pp">Binary <span class="Li">&quot;&lt;=&gt;&quot;</span> returns -1,
    0, or 1 depending on whether the left argument is numerically less than,
    equal to, or greater than the right argument. If your platform supports
    <span class="Li">&quot;NaN&quot;</span>'s (not-a-numbers) as numeric values,
    using them with <span class="Li">&quot;&lt;=&gt;&quot;</span> returns undef.
    <span class="Li">&quot;NaN&quot;</span> is not
    <span class="Li">&quot;&lt;&quot;</span>,
    <span class="Li">&quot;==&quot;</span>,
    <span class="Li">&quot;&gt;&quot;</span>,
    <span class="Li">&quot;&lt;=&quot;</span> or
    <span class="Li">&quot;&gt;=&quot;</span> anything (even
    <span class="Li">&quot;NaN&quot;</span>), so those 5 return false.
    <span class="Li">&quot;NaN&#x00A0;!=&#x00A0;NaN&quot;</span> returns true,
    as does
    <span class="Li">&quot;NaN&#x00A0;!=&quot;</span>&#x00A0;<i>anything&#x00A0;else</i>.
    If your platform doesn't support <span class="Li">&quot;NaN&quot;</span>'s
    then <span class="Li">&quot;NaN&quot;</span> is just a string with numeric
    value 0.</p>
<p class="Pp"></p>
<pre>    $ perl -le '$x = &quot;NaN&quot;; print &quot;No NaN support here&quot; if $x == $x'
    $ perl -le '$x = &quot;NaN&quot;; print &quot;NaN support here&quot; if $x != $x'
</pre>
<p class="Pp">(Note that the bigint, bigrat, and bignum pragmas all support
    <span class="Li">&quot;NaN&quot;</span>.)</p>
<p class="Pp">Binary <span class="Li">&quot;cmp&quot;</span> returns -1, 0, or 1
    depending on whether the left argument is stringwise less than, equal to, or
    greater than the right argument.</p>
<p class="Pp">Binary <span class="Li">&quot;~~&quot;</span> does a smartmatch
    between its arguments. Smart matching is described in the next section.</p>
<p class="Pp">The two-sided ordering operators
    <span class="Li">&quot;&lt;=&gt;&quot;</span> and
    <span class="Li">&quot;cmp&quot;</span>, and the smartmatch operator
    <span class="Li">&quot;~~&quot;</span>, are non-associative with respect to
    each other and with respect to the equality operators of the same
    precedence.</p>
<p class="Pp"><span class="Li">&quot;lt&quot;</span>,
    <span class="Li">&quot;le&quot;</span>,
    <span class="Li">&quot;ge&quot;</span>,
    <span class="Li">&quot;gt&quot;</span> and
    <span class="Li">&quot;cmp&quot;</span> use the collation (sort) order
    specified by the current <span class="Li">&quot;LC_COLLATE&quot;</span>
    locale if a <span class="Li">&quot;use&#x00A0;locale&quot;</span> form that
    includes collation is in effect. See perllocale. Do not mix these with
    Unicode, only use them with legacy 8-bit locale encodings. The standard
    <span class="Li">&quot;Unicode::Collate&quot;</span> and
    <span class="Li">&quot;Unicode::Collate::Locale&quot;</span> modules offer
    much more powerful solutions to collation issues.</p>
<p class="Pp">For case-insensitive comparisons, look at the &quot;fc&quot; in
    perlfunc case-folding function, available in Perl v5.16 or later:</p>
<p class="Pp"></p>
<pre>    if ( fc($x) eq fc($y) ) { ... }
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Class_Instance_Operator"><a class="permalink" href="#Class_Instance_Operator">Class
  Instance Operator</a></h2>
<p class="Pp">Binary <span class="Li">&quot;isa&quot;</span> evaluates to true
    when the left argument is an object instance of the class (or a subclass
    derived from that class) given by the right argument. If the left argument
    is not defined, not a blessed object instance, nor does not derive from the
    class given by the right argument, the operator evaluates as false. The
    right argument may give the class either as a bareword or a scalar
    expression that yields a string class name:</p>
<p class="Pp"></p>
<pre>    if( $obj isa Some::Class ) { ... }
    if( $obj isa &quot;Different::Class&quot; ) { ... }
    if( $obj isa $name_of_class ) { ... }
</pre>
<p class="Pp">This is an experimental feature and is available from Perl 5.31.6
    when enabled by <span class="Li">&quot;use feature 'isa'&quot;</span>. It
    emits a warning in the <span class="Li">&quot;experimental::isa&quot;</span>
    category.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Smartmatch_Operator"><a class="permalink" href="#Smartmatch_Operator">Smartmatch
  Operator</a></h2>
<p class="Pp">First available in Perl 5.10.1 (the 5.10.0 version behaved
    differently), binary <span class="Li">&quot;~~&quot;</span> does a
    &quot;smartmatch&quot; between its arguments. This is mostly used implicitly
    in the <span class="Li">&quot;when&quot;</span> construct described in
    perlsyn, although not all <span class="Li">&quot;when&quot;</span> clauses
    call the smartmatch operator. Unique among all of Perl's operators, the
    smartmatch operator can recurse. The smartmatch operator is experimental and
    its behavior is subject to change.</p>
<p class="Pp">It is also unique in that all other Perl operators impose a
    context (usually string or numeric context) on their operands,
    autoconverting those operands to those imposed contexts. In contrast,
    smartmatch <i>infers</i> contexts from the actual types of its operands and
    uses that type information to select a suitable comparison mechanism.</p>
<p class="Pp">The <span class="Li">&quot;~~&quot;</span> operator compares its
    operands &quot;polymorphically&quot;, determining how to compare them
    according to their actual types (numeric, string, array, hash, etc.). Like
    the equality operators with which it shares the same precedence,
    <span class="Li">&quot;~~&quot;</span> returns 1 for true and
    <span class="Li">&quot;&quot;</span> for false. It is often best read aloud
    as &quot;in&quot;, &quot;inside of&quot;, or &quot;is contained in&quot;,
    because the left operand is often looked for <i>inside</i> the right
    operand. That makes the order of the operands to the smartmatch operand
    often opposite that of the regular match operator. In other words, the
    &quot;smaller&quot; thing is usually placed in the left operand and the
    larger one in the right.</p>
<p class="Pp">The behavior of a smartmatch depends on what type of things its
    arguments are, as determined by the following table. The first row of the
    table whose types apply determines the smartmatch behavior. Because what
    actually happens is mostly determined by the type of the second operand, the
    table is sorted on the right operand instead of on the left.</p>
<p class="Pp"></p>
<pre> Left      Right      Description and pseudocode
 ===============================================================
 Any       undef      check whether Any is undefined
                like: !defined Any
 Any       Object     invoke ~~ overloading on Object, or die
 Right operand is an ARRAY:
 Left      Right      Description and pseudocode
 ===============================================================
 ARRAY1    ARRAY2     recurse on paired elements of ARRAY1 and ARRAY2[2]
                like: (ARRAY1[0] ~~ ARRAY2[0])
                        &amp;&amp; (ARRAY1[1] ~~ ARRAY2[1]) &amp;&amp; ...
 HASH      ARRAY      any ARRAY elements exist as HASH keys
                like: grep { exists HASH-&gt;{$_} } ARRAY
 Regexp    ARRAY      any ARRAY elements pattern match Regexp
                like: grep { /Regexp/ } ARRAY
 undef     ARRAY      undef in ARRAY
                like: grep { !defined } ARRAY
 Any       ARRAY      smartmatch each ARRAY element[3]
                like: grep { Any ~~ $_ } ARRAY
 Right operand is a HASH:
 Left      Right      Description and pseudocode
 ===============================================================
 HASH1     HASH2      all same keys in both HASHes
                like: keys HASH1 ==
                         grep { exists HASH2-&gt;{$_} } keys HASH1
 ARRAY     HASH       any ARRAY elements exist as HASH keys
                like: grep { exists HASH-&gt;{$_} } ARRAY
 Regexp    HASH       any HASH keys pattern match Regexp
                like: grep { /Regexp/ } keys HASH
 undef     HASH       always false (undef can't be a key)
                like: 0 == 1
 Any       HASH       HASH key existence
                like: exists HASH-&gt;{Any}
 Right operand is CODE:
 Left      Right      Description and pseudocode
 ===============================================================
 ARRAY     CODE       sub returns true on all ARRAY elements[1]
                like: !grep { !CODE-&gt;($_) } ARRAY
 HASH      CODE       sub returns true on all HASH keys[1]
                like: !grep { !CODE-&gt;($_) } keys HASH
 Any       CODE       sub passed Any returns true
                like: CODE-&gt;(Any)
</pre>
<p class="Pp">Right operand is a Regexp:</p>
<p class="Pp"></p>
<pre> Left      Right      Description and pseudocode
 ===============================================================
 ARRAY     Regexp     any ARRAY elements match Regexp
                like: grep { /Regexp/ } ARRAY
 HASH      Regexp     any HASH keys match Regexp
                like: grep { /Regexp/ } keys HASH
 Any       Regexp     pattern match
                like: Any =~ /Regexp/
 Other:
 Left      Right      Description and pseudocode
 ===============================================================
 Object    Any        invoke ~~ overloading on Object,
                      or fall back to...
 Any       Num        numeric equality
                 like: Any == Num
 Num       nummy[4]    numeric equality
                 like: Num == nummy
 undef     Any        check whether undefined
                 like: !defined(Any)
 Any       Any        string equality
                 like: Any eq Any
</pre>
<p class="Pp">Notes:</p>
<dl class="Bl-tag">
  <dt>1. Empty hashes or arrays match.</dt>
  <dd></dd>
  <dt>2. That is, each element smartmatches the element of the same index in the
    other array.[3]</dt>
  <dd></dd>
  <dt>3. If a circular reference is found, fall back to referential
    equality.</dt>
  <dd></dd>
  <dt>4. Either an actual number, or a string that looks like one.</dt>
  <dd></dd>
</dl>
<p class="Pp">The smartmatch implicitly dereferences any non-blessed hash or
    array reference, so the
    <span class="Li">&quot;</span><span class="Li"><i>HASH</i></span><span class="Li">&quot;</span>
    and
    <span class="Li">&quot;</span><span class="Li"><i>ARRAY</i></span><span class="Li">&quot;</span>
    entries apply in those cases. For blessed references, the
    <span class="Li">&quot;</span><span class="Li"><i>Object</i></span><span class="Li">&quot;</span>
    entries apply. Smartmatches involving hashes only consider hash keys, never
    hash values.</p>
<p class="Pp">The &quot;like&quot; code entry is not always an exact rendition.
    For example, the smartmatch operator short-circuits whenever possible, but
    <span class="Li">&quot;grep&quot;</span> does not. Also,
    <span class="Li">&quot;grep&quot;</span> in scalar context returns the
    number of matches, but <span class="Li">&quot;~~&quot;</span> returns only
    true or false.</p>
<p class="Pp">Unlike most operators, the smartmatch operator knows to treat
    <span class="Li">&quot;undef&quot;</span> specially:</p>
<p class="Pp"></p>
<pre>    use v5.10.1;
    @array = (1, 2, 3, undef, 4, 5);
    say &quot;some elements undefined&quot; if undef ~~ @array;
</pre>
<p class="Pp">Each operand is considered in a modified scalar context, the
    modification being that array and hash variables are passed by reference to
    the operator, which implicitly dereferences them. Both elements of each pair
    are the same:</p>
<p class="Pp"></p>
<pre>    use v5.10.1;
    my %hash = (red    =&gt; 1, blue   =&gt; 2, green  =&gt; 3,
                orange =&gt; 4, yellow =&gt; 5, purple =&gt; 6,
                black  =&gt; 7, grey   =&gt; 8, white  =&gt; 9);
    my @array = qw(red blue green);
    say &quot;some array elements in hash keys&quot; if  @array ~~  %hash;
    say &quot;some array elements in hash keys&quot; if \@array ~~ \%hash;
    say &quot;red in array&quot; if &quot;red&quot; ~~  @array;
    say &quot;red in array&quot; if &quot;red&quot; ~~ \@array;
    say &quot;some keys end in e&quot; if /e$/ ~~  %hash;
    say &quot;some keys end in e&quot; if /e$/ ~~ \%hash;
</pre>
<p class="Pp">Two arrays smartmatch if each element in the first array
    smartmatches (that is, is &quot;in&quot;) the corresponding element in the
    second array, recursively.</p>
<p class="Pp"></p>
<pre>    use v5.10.1;
    my @little = qw(red blue green);
    my @bigger = (&quot;red&quot;, &quot;blue&quot;, [ &quot;orange&quot;, &quot;green&quot; ] );
    if (@little ~~ @bigger) {  # true!
        say &quot;little is contained in bigger&quot;;
    }
</pre>
<p class="Pp">Because the smartmatch operator recurses on nested arrays, this
    will still report that &quot;red&quot; is in the array.</p>
<p class="Pp"></p>
<pre>    use v5.10.1;
    my @array = qw(red blue green);
    my $nested_array = [[[[[[[ @array ]]]]]]];
    say &quot;red in array&quot; if &quot;red&quot; ~~ $nested_array;
</pre>
<p class="Pp">If two arrays smartmatch each other, then they are deep copies of
    each others' values, as this example reports:</p>
<p class="Pp"></p>
<pre>    use v5.12.0;
    my @a = (0, 1, 2, [3, [4, 5], 6], 7);
    my @b = (0, 1, 2, [3, [4, 5], 6], 7);
    if (@a ~~ @b &amp;&amp; @b ~~ @a) {
        say &quot;a and b are deep copies of each other&quot;;
    }
    elsif (@a ~~ @b) {
        say &quot;a smartmatches in b&quot;;
    }
    elsif (@b ~~ @a) {
        say &quot;b smartmatches in a&quot;;
    }
    else {
        say &quot;a and b don't smartmatch each other at all&quot;;
    }
</pre>
<p class="Pp">If you were to set
    <span class="Li">&quot;$b[3]&#x00A0;=&#x00A0;4&quot;</span>, then instead of
    reporting that &quot;a and b are deep copies of each other&quot;, it now
    reports that <span class="Li">&quot;b smartmatches in a&quot;</span>. That's
    because the corresponding position in <span class="Li">@a</span> contains an
    array that (eventually) has a 4 in it.</p>
<p class="Pp">Smartmatching one hash against another reports whether both
    contain the same keys, no more and no less. This could be used to see
    whether two records have the same field names, without caring what values
    those fields might have. For example:</p>
<p class="Pp"></p>
<pre>    use v5.10.1;
    sub make_dogtag {
        state $REQUIRED_FIELDS = { name=&gt;1, rank=&gt;1, serial_num=&gt;1 };
        my ($class, $init_fields) = @_;
        die &quot;Must supply (only) name, rank, and serial number&quot;
            unless $init_fields ~~ $REQUIRED_FIELDS;
        ...
    }
</pre>
<p class="Pp">However, this only does what you mean if
    <span class="Li">$init_fields</span> is indeed a hash reference. The
    condition <span class="Li">&quot;$init_fields ~~
    $REQUIRED_FIELDS&quot;</span> also allows the strings
    <span class="Li">&quot;name&quot;</span>,
    <span class="Li">&quot;rank&quot;</span>,
    <span class="Li">&quot;serial_num&quot;</span> as well as any array
    reference that contains <span class="Li">&quot;name&quot;</span> or
    <span class="Li">&quot;rank&quot;</span> or
    <span class="Li">&quot;serial_num&quot;</span> anywhere to pass through.</p>
<p class="Pp">The smartmatch operator is most often used as the implicit
    operator of a <span class="Li">&quot;when&quot;</span> clause. See the
    section on &quot;Switch Statements&quot; in perlsyn.</p>
<p class="Pp"><i>Smartmatching of Objects</i></p>
<p class="Pp">To avoid relying on an object's underlying representation, if the
    smartmatch's right operand is an object that doesn't overload
    <span class="Li">&quot;~~&quot;</span>, it raises the exception
    &quot;<span class="Li">&quot;Smartmatching a non-overloaded object</span>
    <span class="Li">breaks encapsulation&quot;</span>&quot;. That's because one
    has no business digging around to see whether something is &quot;in&quot; an
    object. These are all illegal on objects without a
    <span class="Li">&quot;~~&quot;</span> overload:</p>
<p class="Pp"></p>
<pre>    %hash ~~ $object
       42 ~~ $object
   &quot;fred&quot; ~~ $object
</pre>
<p class="Pp">However, you can change the way an object is smartmatched by
    overloading the <span class="Li">&quot;~~&quot;</span> operator. This is
    allowed to extend the usual smartmatch semantics. For objects that do have
    an <span class="Li">&quot;~~&quot;</span> overload, see overload.</p>
<p class="Pp">Using an object as the left operand is allowed, although not very
    useful. Smartmatching rules take precedence over overloading, so even if the
    object in the left operand has smartmatch overloading, this will be ignored.
    A left operand that is a non-overloaded object falls back on a string or
    numeric comparison of whatever the <span class="Li">&quot;ref&quot;</span>
    operator returns. That means that</p>
<p class="Pp"></p>
<pre>    $object ~~ X
</pre>
<p class="Pp">does <i>not</i> invoke the overload method with
    <span class="Li">&quot;</span><span class="Li"><i>X</i></span><span class="Li">&quot;</span>
    as an argument. Instead the above table is consulted as normal, and based on
    the type of
    <span class="Li">&quot;</span><span class="Li"><i>X</i></span><span class="Li">&quot;</span>,
    overloading may or may not be invoked. For simple strings or numbers,
    &quot;in&quot; becomes equivalent to this:</p>
<p class="Pp"></p>
<pre>    $object ~~ $number          ref($object) == $number
    $object ~~ $string          ref($object) eq $string
</pre>
<p class="Pp">For example, this reports that the handle smells IOish (but please
    don't really do this!):</p>
<p class="Pp"></p>
<pre>    use IO::Handle;
    my $fh = IO::Handle-&gt;new();
    if ($fh ~~ /\bIO\b/) {
        say &quot;handle smells IOish&quot;;
    }
</pre>
<p class="Pp">That's because it treats <span class="Li">$fh</span> as a string
    like <span class="Li">&quot;IO::Handle=GLOB(0x8039e0)&quot;</span>, then
    pattern matches against that.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Bitwise_And"><a class="permalink" href="#Bitwise_And">Bitwise
  And</a></h2>
<p class="Pp">Binary <span class="Li">&quot;&amp;&quot;</span> returns its
    operands ANDed together bit by bit. Although no warning is currently raised,
    the result is not well defined when this operation is performed on operands
    that aren't either numbers (see &quot;Integer Arithmetic&quot;) nor
    bitstrings (see &quot;Bitwise String Operators&quot;).</p>
<p class="Pp">Note that <span class="Li">&quot;&amp;&quot;</span> has lower
    priority than relational operators, so for example the parentheses are
    essential in a test like</p>
<p class="Pp"></p>
<pre>    print &quot;Even\n&quot; if ($x &amp; 1) == 0;
</pre>
<p class="Pp">If the &quot;bitwise&quot; feature is enabled via
    <span class="Li">&quot;use&#x00A0;feature&#x00A0;'bitwise'&quot;</span> or
    <span class="Li">&quot;use v5.28&quot;</span>, then this operator always
    treats its operands as numbers. Before Perl 5.28 this feature produced a
    warning in the <span class="Li">&quot;experimental::bitwise&quot;</span>
    category.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Bitwise_Or_and_Exclusive_Or"><a class="permalink" href="#Bitwise_Or_and_Exclusive_Or">Bitwise
  Or and Exclusive Or</a></h2>
<p class="Pp">Binary <span class="Li">&quot;|&quot;</span> returns its operands
    ORed together bit by bit.</p>
<p class="Pp">Binary <span class="Li">&quot;^&quot;</span> returns its operands
    XORed together bit by bit.</p>
<p class="Pp">Although no warning is currently raised, the results are not well
    defined when these operations are performed on operands that aren't either
    numbers (see &quot;Integer Arithmetic&quot;) nor bitstrings (see
    &quot;Bitwise String Operators&quot;).</p>
<p class="Pp">Note that <span class="Li">&quot;|&quot;</span> and
    <span class="Li">&quot;^&quot;</span> have lower priority than relational
    operators, so for example the parentheses are essential in a test like</p>
<p class="Pp"></p>
<pre>    print &quot;false\n&quot; if (8 | 2) != 10;
</pre>
<p class="Pp">If the &quot;bitwise&quot; feature is enabled via
    <span class="Li">&quot;use&#x00A0;feature&#x00A0;'bitwise'&quot;</span> or
    <span class="Li">&quot;use v5.28&quot;</span>, then this operator always
    treats its operands as numbers. Before Perl 5.28. this feature produced a
    warning in the <span class="Li">&quot;experimental::bitwise&quot;</span>
    category.</p>
</section>
<section class="Ss">
<h2 class="Ss">C-style Logical And</h2>
<p class="Pp">Binary <span class="Li">&quot;&amp;&amp;&quot;</span> performs a
    short-circuit logical AND operation. That is, if the left operand is false,
    the right operand is not even evaluated. Scalar or list context propagates
    down to the right operand if it is evaluated.</p>
</section>
<section class="Ss">
<h2 class="Ss">C-style Logical Or</h2>
<p class="Pp">Binary <span class="Li">&quot;||&quot;</span> performs a
    short-circuit logical OR operation. That is, if the left operand is true,
    the right operand is not even evaluated. Scalar or list context propagates
    down to the right operand if it is evaluated.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Logical_Defined-Or"><a class="permalink" href="#Logical_Defined-Or">Logical
  Defined-Or</a></h2>
<p class="Pp">Although it has no direct equivalent in C, Perl's
    <span class="Li">&quot;//&quot;</span> operator is related to its C-style
    &quot;or&quot;. In fact, it's exactly the same as
    <span class="Li">&quot;||&quot;</span>, except that it tests the left hand
    side's definedness instead of its truth. Thus,
    <span class="Li">&quot;EXPR1&#x00A0;//&#x00A0;EXPR2&quot;</span> returns the
    value of <span class="Li">&quot;EXPR1&quot;</span> if it's defined,
    otherwise, the value of <span class="Li">&quot;EXPR2&quot;</span> is
    returned. (<span class="Li">&quot;EXPR1&quot;</span> is evaluated in scalar
    context, <span class="Li">&quot;EXPR2&quot;</span> in the context of
    <span class="Li">&quot;//&quot;</span> itself). Usually, this is the same
    result as
    <span class="Li">&quot;defined(EXPR1)&#x00A0;?&#x00A0;EXPR1&#x00A0;:&#x00A0;EXPR2&quot;</span>
    (except that the ternary-operator form can be used as a lvalue, while
    <span class="Li">&quot;EXPR1&#x00A0;//&#x00A0;EXPR2&quot;</span> cannot).
    This is very useful for providing default values for variables. If you
    actually want to test if at least one of <span class="Li">$x</span> and
    <span class="Li">$y</span> is defined, use
    <span class="Li">&quot;defined($x&#x00A0;//&#x00A0;$y)&quot;</span>.</p>
<p class="Pp">The <span class="Li">&quot;||&quot;</span>,
    <span class="Li">&quot;//&quot;</span> and
    <span class="Li">&quot;&amp;&amp;&quot;</span> operators return the last
    value evaluated (unlike C's <span class="Li">&quot;||&quot;</span> and
    <span class="Li">&quot;&amp;&amp;&quot;</span>, which return 0 or 1). Thus,
    a reasonably portable way to find out the home directory might be:</p>
<p class="Pp"></p>
<pre>    $home =  $ENV{HOME}
          // $ENV{LOGDIR}
          // (getpwuid($&lt;))[7]
          // die &quot;You're homeless!\n&quot;;
</pre>
<p class="Pp">In particular, this means that you shouldn't use this for
    selecting between two aggregates for assignment:</p>
<p class="Pp"></p>
<pre>    @a = @b || @c;            # This doesn't do the right thing
    @a = scalar(@b) || @c;    # because it really means this.
    @a = @b ? @b : @c;        # This works fine, though.
</pre>
<p class="Pp">As alternatives to <span class="Li">&quot;&amp;&amp;&quot;</span>
    and <span class="Li">&quot;||&quot;</span> when used for control flow, Perl
    provides the <span class="Li">&quot;and&quot;</span> and
    <span class="Li">&quot;or&quot;</span> operators (see below). The
    short-circuit behavior is identical. The precedence of
    <span class="Li">&quot;and&quot;</span> and
    <span class="Li">&quot;or&quot;</span> is much lower, however, so that you
    can safely use them after a list operator without the need for
  parentheses:</p>
<p class="Pp"></p>
<pre>    unlink &quot;alpha&quot;, &quot;beta&quot;, &quot;gamma&quot;
            or gripe(), next LINE;
</pre>
<p class="Pp">With the C-style operators that would have been written like
  this:</p>
<p class="Pp"></p>
<pre>    unlink(&quot;alpha&quot;, &quot;beta&quot;, &quot;gamma&quot;)
            || (gripe(), next LINE);
</pre>
<p class="Pp">It would be even more readable to write that this way:</p>
<p class="Pp"></p>
<pre>    unless(unlink(&quot;alpha&quot;, &quot;beta&quot;, &quot;gamma&quot;)) {
        gripe();
        next LINE;
    }
</pre>
<p class="Pp">Using <span class="Li">&quot;or&quot;</span> for assignment is
    unlikely to do what you want; see below.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Range_Operators"><a class="permalink" href="#Range_Operators">Range
  Operators</a></h2>
<p class="Pp">Binary <span class="Li">&quot;..&quot;</span> is the range
    operator, which is really two different operators depending on the context.
    In list context, it returns a list of values counting (up by ones) from the
    left value to the right value. If the left value is greater than the right
    value then it returns the empty list. The range operator is useful for
    writing <span class="Li">&quot;foreach&#x00A0;(1..10)&quot;</span> loops and
    for doing slice operations on arrays. In the current implementation, no
    temporary array is created when the range operator is used as the expression
    in <span class="Li">&quot;foreach&quot;</span> loops, but older versions of
    Perl might burn a lot of memory when you write something like this:</p>
<p class="Pp"></p>
<pre>    for (1 .. 1_000_000) {
        # code
    }
</pre>
<p class="Pp">The range operator also works on strings, using the magical
    auto-increment, see below.</p>
<p class="Pp">In scalar context, <span class="Li">&quot;..&quot;</span> returns
    a boolean value. The operator is bistable, like a flip-flop, and emulates
    the line-range (comma) operator of <b>sed</b>, <b>awk</b>, and various
    editors. Each <span class="Li">&quot;..&quot;</span> operator maintains its
    own boolean state, even across calls to a subroutine that contains it. It is
    false as long as its left operand is false. Once the left operand is true,
    the range operator stays true until the right operand is true, <i>AFTER</i>
    which the range operator becomes false again. It doesn't become false till
    the next time the range operator is evaluated. It can test the right operand
    and become false on the same evaluation it became true (as in <b>awk</b>),
    but it still returns true once. If you don't want it to test the right
    operand until the next evaluation, as in <b>sed</b>, just use three dots
    (<span class="Li">&quot;...&quot;</span>) instead of two. In all other
    regards, <span class="Li">&quot;...&quot;</span> behaves just like
    <span class="Li">&quot;..&quot;</span> does.</p>
<p class="Pp">The right operand is not evaluated while the operator is in the
    &quot;false&quot; state, and the left operand is not evaluated while the
    operator is in the &quot;true&quot; state. The precedence is a little lower
    than || and &amp;&amp;. The value returned is either the empty string for
    false, or a sequence number (beginning with 1) for true. The sequence number
    is reset for each range encountered. The final sequence number in a range
    has the string <span class="Li">&quot;E0&quot;</span> appended to it, which
    doesn't affect its numeric value, but gives you something to search for if
    you want to exclude the endpoint. You can exclude the beginning point by
    waiting for the sequence number to be greater than 1.</p>
<p class="Pp">If either operand of scalar <span class="Li">&quot;..&quot;</span>
    is a constant expression, that operand is considered true if it is equal
    (<span class="Li">&quot;==&quot;</span>) to the current input line number
    (the <span class="Li">$.</span> variable).</p>
<p class="Pp">To be pedantic, the comparison is actually
    <span class="Li">&quot;int(EXPR)&#x00A0;==&#x00A0;int(EXPR)&quot;</span>,
    but that is only an issue if you use a floating point expression; when
    implicitly using <span class="Li">$.</span> as described in the previous
    paragraph, the comparison is
    <span class="Li">&quot;int(EXPR)&#x00A0;==&#x00A0;int($.)&quot;</span> which
    is only an issue when <span class="Li">$.</span> is set to a floating point
    value and you are not reading from a file. Furthermore,
    <span class="Li">&quot;span&quot;&#x00A0;..&#x00A0;&quot;spat&quot;</span>
    or <span class="Li">&quot;2.18&#x00A0;..&#x00A0;3.14&quot;</span> will not
    do what you want in scalar context because each of the operands are
    evaluated using their integer representation.</p>
<p class="Pp">Examples:</p>
<p class="Pp">As a scalar operator:</p>
<p class="Pp"></p>
<pre>    if (101 .. 200) { print; } # print 2nd hundred lines, short for
                               #  if ($. == 101 .. $. == 200) { print; }
    next LINE if (1 .. /^$/);  # skip header lines, short for
                               #   next LINE if ($. == 1 .. /^$/);
                               # (typically in a loop labeled LINE)
    s/^/&gt; / if (/^$/ .. eof());  # quote body
    # parse mail messages
    while (&lt;&gt;) {
        $in_header =   1  .. /^$/;
        $in_body   = /^$/ .. eof;
        if ($in_header) {
            # do something
        } else { # in body
            # do something else
        }
    } continue {
        close ARGV if eof;             # reset $. each file
    }
</pre>
<p class="Pp">Here's a simple example to illustrate the difference between the
    two range operators:</p>
<p class="Pp"></p>
<pre>    @lines = (&quot;   - Foo&quot;,
              &quot;01 - Bar&quot;,
              &quot;1  - Baz&quot;,
              &quot;   - Quux&quot;);
    foreach (@lines) {
        if (/0/ .. /1/) {
            print &quot;$_\n&quot;;
        }
    }
</pre>
<p class="Pp">This program will print only the line containing &quot;Bar&quot;.
    If the range operator is changed to <span class="Li">&quot;...&quot;</span>,
    it will also print the &quot;Baz&quot; line.</p>
<p class="Pp">And now some examples as a list operator:</p>
<p class="Pp"></p>
<pre>    for (101 .. 200) { print }      # print $_ 100 times
    @foo = @foo[0 .. $#foo];        # an expensive no-op
    @foo = @foo[$#foo-4 .. $#foo];  # slice last 5 items
</pre>
<p class="Pp">Because each operand is evaluated in integer form,
    <span class="Li">&quot;2.18&#x00A0;..&#x00A0;3.14&quot;</span> will return
    two elements in list context.</p>
<p class="Pp"></p>
<pre>    @list = (2.18 .. 3.14); # same as @list = (2 .. 3);
</pre>
<p class="Pp">The range operator in list context can make use of the magical
    auto-increment algorithm if both operands are strings, subject to the
    following rules:</p>
<ul class="Bl-bullet">
  <li>With one exception (below), if both strings look like numbers to Perl, the
      magic increment will not be applied, and the strings will be treated as
      numbers (more specifically, integers) instead.
    <p class="Pp">For example,
        <span class="Li">&quot;-2&quot;..&quot;2&quot;</span> is the same as
        <span class="Li">&quot;-2..2&quot;</span>, and
        <span class="Li">&quot;2.18&quot;..&quot;3.14&quot;</span> produces
        <span class="Li">&quot;2, 3&quot;</span>.</p>
  </li>
  <li>The exception to the above rule is when the left-hand string begins with
      <span class="Li">0</span> and is longer than one character, in this case
      the magic increment <i>will</i> be applied, even though strings like
      <span class="Li">&quot;01&quot;</span> would normally look like a number
      to Perl.
    <p class="Pp">For example,
        <span class="Li">&quot;01&quot;..&quot;04&quot;</span> produces
        <span class="Li">&quot;01&quot;, &quot;02&quot;, &quot;03&quot;,
        &quot;04&quot;</span>, and
        <span class="Li">&quot;00&quot;..&quot;-1&quot;</span> produces
        <span class="Li">&quot;00&quot;</span> through
        <span class="Li">&quot;99&quot;</span> - this may seem surprising, but
        see the following rules for why it works this way. To get dates with
        leading zeros, you can say:</p>
    <p class="Pp"></p>
    <pre>    @z2 = (&quot;01&quot; .. &quot;31&quot;);
    print $z2[$mday];
    </pre>
    <p class="Pp">If you want to force strings to be interpreted as numbers, you
        could say</p>
    <p class="Pp"></p>
    <pre>    @numbers = ( 0+$first .. 0+$last );
    </pre>
    <p class="Pp"><b>Note:</b> In Perl versions 5.30 and below, <i>any</i>
        string on the left-hand side beginning with
        <span class="Li">&quot;0&quot;</span>, including the string
        <span class="Li">&quot;0&quot;</span> itself, would cause the magic
        string increment behavior. This means that on these Perl versions,
        <span class="Li">&quot;0&quot;..&quot;-1&quot;</span> would produce
        <span class="Li">&quot;0&quot;</span> through
        <span class="Li">&quot;99&quot;</span>, which was inconsistent with
        <span class="Li">&quot;0..-1&quot;</span>, which produces the empty
        list. This also means that
        <span class="Li">&quot;0&quot;..&quot;9&quot;</span> now produces a list
        of integers instead of a list of strings.</p>
  </li>
  <li>If the initial value specified isn't part of a magical increment sequence
      (that is, a non-empty string matching
      <span class="Li">&quot;/^[a-zA-Z]*[0-9]*\z/&quot;</span>), only the
      initial value will be returned.
    <p class="Pp">For example,
        <span class="Li">&quot;ax&quot;..&quot;az&quot;</span> produces
        <span class="Li">&quot;ax&quot;, &quot;ay&quot;, &quot;az&quot;</span>,
        but <span class="Li">&quot;*x&quot;..&quot;az&quot;</span> produces only
        <span class="Li">&quot;*x&quot;</span>.</p>
  </li>
  <li>For other initial values that are strings that do follow the rules of the
      magical increment, the corresponding sequence will be returned.
    <p class="Pp">For example, you can say</p>
    <p class="Pp"></p>
    <pre>    @alphabet = (&quot;A&quot; .. &quot;Z&quot;);
    </pre>
    <p class="Pp">to get all normal letters of the English alphabet, or</p>
    <p class="Pp"></p>
    <pre>    $hexdigit = (0 .. 9, &quot;a&quot; .. &quot;f&quot;)[$num &amp; 15];
    </pre>
    <p class="Pp">to get a hexadecimal digit.</p>
  </li>
  <li>If the final value specified is not in the sequence that the magical
      increment would produce, the sequence goes until the next value would be
      longer than the final value specified. If the length of the final string
      is shorter than the first, the empty list is returned.
    <p class="Pp">For example,
        <span class="Li">&quot;a&quot;..&quot;--&quot;</span> is the same as
        <span class="Li">&quot;a&quot;..&quot;zz&quot;</span>,
        <span class="Li">&quot;0&quot;..&quot;xx&quot;</span> produces
        <span class="Li">&quot;0&quot;</span> through
        <span class="Li">&quot;99&quot;</span>, and
        <span class="Li">&quot;aaa&quot;..&quot;--&quot;</span> returns the
        empty list.</p>
  </li>
</ul>
<p class="Pp">As of Perl 5.26, the list-context range operator on strings works
    as expected in the scope of
    <span class="Li">&quot;use&#x00A0;feature&#x00A0;'unicode_strings&quot;</span>.
    In previous versions, and outside the scope of that feature, it exhibits
    &quot;The &quot;Unicode Bug&quot;&quot; in perlunicode: its behavior depends
    on the internal encoding of the range endpoint.</p>
<p class="Pp">Because the magical increment only works on non-empty strings
    matching <span class="Li">&quot;/^[a-zA-Z]*[0-9]*\z/&quot;</span>, the
    following will only return an alpha:</p>
<p class="Pp"></p>
<pre>    use charnames &quot;greek&quot;;
    my @greek_small =  (&quot;\N{alpha}&quot; .. &quot;\N{omega}&quot;);
</pre>
<p class="Pp">To get the 25 traditional lowercase Greek letters, including both
    sigmas, you could use this instead:</p>
<p class="Pp"></p>
<pre>    use charnames &quot;greek&quot;;
    my @greek_small =  map { chr } ( ord(&quot;\N{alpha}&quot;)
                                        ..
                                     ord(&quot;\N{omega}&quot;)
                                   );
</pre>
<p class="Pp">However, because there are <i>many</i> other lowercase Greek
    characters than just those, to match lowercase Greek characters in a regular
    expression, you could use the pattern
    <span class="Li">&quot;/(?:(?=\p{Greek})\p{Lower})+/&quot;</span> (or the
    experimental feature
    <span class="Li">&quot;/(?[&#x00A0;\p{Greek}&#x00A0;&amp;&#x00A0;\p{Lower}&#x00A0;])+/&quot;</span>).</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Conditional_Operator"><a class="permalink" href="#Conditional_Operator">Conditional
  Operator</a></h2>
<p class="Pp">Ternary <span class="Li">&quot;?:&quot;</span> is the conditional
    operator, just as in C. It works much like an if-then-else. If the argument
    before the <span class="Li">&quot;?&quot;</span> is true, the argument
    before the <span class="Li">&quot;:&quot;</span> is returned, otherwise the
    argument after the <span class="Li">&quot;:&quot;</span> is returned. For
    example:</p>
<p class="Pp"></p>
<pre>    printf &quot;I have %d dog%s.\n&quot;, $n,
            ($n == 1) ? &quot;&quot; : &quot;s&quot;;
</pre>
<p class="Pp">Scalar or list context propagates downward into the 2nd or 3rd
    argument, whichever is selected.</p>
<p class="Pp"></p>
<pre>    $x = $ok ? $y : $z;  # get a scalar
    @x = $ok ? @y : @z;  # get an array
    $x = $ok ? @y : @z;  # oops, that's just a count!
</pre>
<p class="Pp">The operator may be assigned to if both the 2nd and 3rd arguments
    are legal lvalues (meaning that you can assign to them):</p>
<p class="Pp"></p>
<pre>    ($x_or_y ? $x : $y) = $z;
</pre>
<p class="Pp">Because this operator produces an assignable result, using
    assignments without parentheses will get you in trouble. For example,
  this:</p>
<p class="Pp"></p>
<pre>    $x % 2 ? $x += 10 : $x += 2
</pre>
<p class="Pp">Really means this:</p>
<p class="Pp"></p>
<pre>    (($x % 2) ? ($x += 10) : $x) += 2
</pre>
<p class="Pp">Rather than this:</p>
<p class="Pp"></p>
<pre>    ($x % 2) ? ($x += 10) : ($x += 2)
</pre>
<p class="Pp">That should probably be written more simply as:</p>
<p class="Pp"></p>
<pre>    $x += ($x % 2) ? 10 : 2;
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Assignment_Operators"><a class="permalink" href="#Assignment_Operators">Assignment
  Operators</a></h2>
<p class="Pp"><span class="Li">&quot;=&quot;</span> is the ordinary assignment
    operator.</p>
<p class="Pp">Assignment operators work as in C. That is,</p>
<p class="Pp"></p>
<pre>    $x += 2;
</pre>
<p class="Pp">is equivalent to</p>
<p class="Pp"></p>
<pre>    $x = $x + 2;
</pre>
<p class="Pp">although without duplicating any side effects that dereferencing
    the lvalue might trigger, such as from
    <span class="Li">&quot;tie()&quot;</span>. Other assignment operators work
    similarly. The following are recognized:</p>
<p class="Pp"></p>
<pre>    **=    +=    *=    &amp;=    &amp;.=    &lt;&lt;=    &amp;&amp;=
           -=    /=    |=    |.=    &gt;&gt;=    ||=
           .=    %=    ^=    ^.=           //=
                 x=
</pre>
<p class="Pp">Although these are grouped by family, they all have the precedence
    of assignment. These combined assignment operators can only operate on
    scalars, whereas the ordinary assignment operator can assign to arrays,
    hashes, lists and even references. (See &quot;Context&quot; and &quot;List
    value constructors&quot; in perldata, and &quot;Assigning to
    References&quot; in perlref.)</p>
<p class="Pp">Unlike in C, the scalar assignment operator produces a valid
    lvalue. Modifying an assignment is equivalent to doing the assignment and
    then modifying the variable that was assigned to. This is useful for
    modifying a copy of something, like this:</p>
<p class="Pp"></p>
<pre>    ($tmp = $global) =~ tr/13579/24680/;
</pre>
<p class="Pp">Although as of 5.14, that can be also be accomplished this
  way:</p>
<p class="Pp"></p>
<pre>    use v5.14;
    $tmp = ($global =~  tr/13579/24680/r);
</pre>
<p class="Pp">Likewise,</p>
<p class="Pp"></p>
<pre>    ($x += 2) *= 3;
</pre>
<p class="Pp">is equivalent to</p>
<p class="Pp"></p>
<pre>    $x += 2;
    $x *= 3;
</pre>
<p class="Pp">Similarly, a list assignment in list context produces the list of
    lvalues assigned to, and a list assignment in scalar context returns the
    number of elements produced by the expression on the right hand side of the
    assignment.</p>
<p class="Pp">The three dotted bitwise assignment operators
    (<span class="Li">&quot;&amp;.=&quot;</span>
    <span class="Li">&quot;|.=&quot;</span>
    <span class="Li">&quot;^.=&quot;</span>) are new in Perl 5.22. See
    &quot;Bitwise String Operators&quot;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Comma_Operator"><a class="permalink" href="#Comma_Operator">Comma
  Operator</a></h2>
<p class="Pp">Binary <span class="Li">&quot;,&quot;</span> is the comma
    operator. In scalar context it evaluates its left argument, throws that
    value away, then evaluates its right argument and returns that value. This
    is just like C's comma operator.</p>
<p class="Pp">In list context, it's just the list argument separator, and
    inserts both its arguments into the list. These arguments are also evaluated
    from left to right.</p>
<p class="Pp">The <span class="Li">&quot;=&gt;&quot;</span> operator (sometimes
    pronounced &quot;fat comma&quot;) is a synonym for the comma except that it
    causes a word on its left to be interpreted as a string if it begins with a
    letter or underscore and is composed only of letters, digits and
    underscores. This includes operands that might otherwise be interpreted as
    operators, constants, single number v-strings or function calls. If in doubt
    about this behavior, the left operand can be quoted explicitly.</p>
<p class="Pp">Otherwise, the <span class="Li">&quot;=&gt;&quot;</span> operator
    behaves exactly as the comma operator or list argument separator, according
    to context.</p>
<p class="Pp">For example:</p>
<p class="Pp"></p>
<pre>    use constant FOO =&gt; &quot;something&quot;;
    my %h = ( FOO =&gt; 23 );
</pre>
<p class="Pp">is equivalent to:</p>
<p class="Pp"></p>
<pre>    my %h = (&quot;FOO&quot;, 23);
</pre>
<p class="Pp">It is <i>NOT</i>:</p>
<p class="Pp"></p>
<pre>    my %h = (&quot;something&quot;, 23);
</pre>
<p class="Pp">The <span class="Li">&quot;=&gt;&quot;</span> operator is helpful
    in documenting the correspondence between keys and values in hashes, and
    other paired elements in lists.</p>
<p class="Pp"></p>
<pre>    %hash = ( $key =&gt; $value );
    login( $username =&gt; $password );
</pre>
<p class="Pp">The special quoting behavior ignores precedence, and hence may
    apply to <i>part</i> of the left operand:</p>
<p class="Pp"></p>
<pre>    print time.shift =&gt; &quot;bbb&quot;;
</pre>
<p class="Pp">That example prints something like
    <span class="Li">&quot;1314363215shiftbbb&quot;</span>, because the
    <span class="Li">&quot;=&gt;&quot;</span> implicitly quotes the
    <span class="Li">&quot;shift&quot;</span> immediately on its left, ignoring
    the fact that <span class="Li">&quot;time.shift&quot;</span> is the entire
    left operand.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="List_Operators_(Rightward)"><a class="permalink" href="#List_Operators_(Rightward)">List
  Operators (Rightward)</a></h2>
<p class="Pp">On the right side of a list operator, the comma has very low
    precedence, such that it controls all comma-separated expressions found
    there. The only operators with lower precedence are the logical operators
    <span class="Li">&quot;and&quot;</span>,
    <span class="Li">&quot;or&quot;</span>, and
    <span class="Li">&quot;not&quot;</span>, which may be used to evaluate calls
    to list operators without the need for parentheses:</p>
<p class="Pp"></p>
<pre>    open HANDLE, &quot;&lt; :encoding(UTF-8)&quot;, &quot;filename&quot;
        or die &quot;Can't open: $!\n&quot;;
</pre>
<p class="Pp">However, some people find that code harder to read than writing it
    with parentheses:</p>
<p class="Pp"></p>
<pre>    open(HANDLE, &quot;&lt; :encoding(UTF-8)&quot;, &quot;filename&quot;)
        or die &quot;Can't open: $!\n&quot;;
</pre>
<p class="Pp">in which case you might as well just use the more customary
    <span class="Li">&quot;||&quot;</span> operator:</p>
<p class="Pp"></p>
<pre>    open(HANDLE, &quot;&lt; :encoding(UTF-8)&quot;, &quot;filename&quot;)
        || die &quot;Can't open: $!\n&quot;;
</pre>
<p class="Pp">See also discussion of list operators in &quot;Terms and List
    Operators (Leftward)&quot;.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Logical_Not"><a class="permalink" href="#Logical_Not">Logical
  Not</a></h2>
<p class="Pp">Unary <span class="Li">&quot;not&quot;</span> returns the logical
    negation of the expression to its right. It's the equivalent of
    <span class="Li">&quot;!&quot;</span> except for the very low
  precedence.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Logical_And"><a class="permalink" href="#Logical_And">Logical
  And</a></h2>
<p class="Pp">Binary <span class="Li">&quot;and&quot;</span> returns the logical
    conjunction of the two surrounding expressions. It's equivalent to
    <span class="Li">&quot;&amp;&amp;&quot;</span> except for the very low
    precedence. This means that it short-circuits: the right expression is
    evaluated only if the left expression is true.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Logical_or_and_Exclusive_Or"><a class="permalink" href="#Logical_or_and_Exclusive_Or">Logical
  or and Exclusive Or</a></h2>
<p class="Pp">Binary <span class="Li">&quot;or&quot;</span> returns the logical
    disjunction of the two surrounding expressions. It's equivalent to
    <span class="Li">&quot;||&quot;</span> except for the very low precedence.
    This makes it useful for control flow:</p>
<p class="Pp"></p>
<pre>    print FH $data              or die &quot;Can't write to FH: $!&quot;;
</pre>
<p class="Pp">This means that it short-circuits: the right expression is
    evaluated only if the left expression is false. Due to its precedence, you
    must be careful to avoid using it as replacement for the
    <span class="Li">&quot;||&quot;</span> operator. It usually works out better
    for flow control than in assignments:</p>
<p class="Pp"></p>
<pre>    $x = $y or $z;              # bug: this is wrong
    ($x = $y) or $z;            # really means this
    $x = $y || $z;              # better written this way
</pre>
<p class="Pp">However, when it's a list-context assignment and you're trying to
    use <span class="Li">&quot;||&quot;</span> for control flow, you probably
    need <span class="Li">&quot;or&quot;</span> so that the assignment takes
    higher precedence.</p>
<p class="Pp"></p>
<pre>    @info = stat($file) || die;     # oops, scalar sense of stat!
    @info = stat($file) or die;     # better, now @info gets its due
</pre>
<p class="Pp">Then again, you could always use parentheses.</p>
<p class="Pp">Binary <span class="Li">&quot;xor&quot;</span> returns the
    exclusive-OR of the two surrounding expressions. It cannot short-circuit (of
    course).</p>
<p class="Pp">There is no low precedence operator for defined-OR.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="C_Operators_Missing_From_Perl"><a class="permalink" href="#C_Operators_Missing_From_Perl">C
  Operators Missing From Perl</a></h2>
<p class="Pp">Here is what C has that Perl doesn't:</p>
<dl class="Bl-tag">
  <dt id="unary"><a class="permalink" href="#unary">unary &amp;</a></dt>
  <dd>Address-of operator. (But see the <span class="Li">&quot;\&quot;</span>
      operator for taking a reference.)</dd>
  <dt id="unary~2"><a class="permalink" href="#unary~2">unary *</a></dt>
  <dd>Dereference-address operator. (Perl's prefix dereferencing operators are
      typed: <span class="Li">&quot;$&quot;</span>,
      <span class="Li">&quot;@&quot;</span>,
      <span class="Li">&quot;%&quot;</span>, and
      <span class="Li">&quot;&amp;&quot;</span>.)</dd>
  <dt>(TYPE)</dt>
  <dd>Type-casting operator.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Quote_and_Quote-like_Operators"><a class="permalink" href="#Quote_and_Quote-like_Operators">Quote
  and Quote-like Operators</a></h2>
<p class="Pp">While we usually think of quotes as literal values, in Perl they
    function as operators, providing various kinds of interpolating and pattern
    matching capabilities. Perl provides customary quote characters for these
    behaviors, but also provides a way for you to choose your quote character
    for any of them. In the following table, a
    <span class="Li">&quot;{}&quot;</span> represents any pair of delimiters you
    choose.</p>
<p class="Pp"></p>
<pre>    Customary  Generic        Meaning        Interpolates
        ''       q{}          Literal             no
        &quot;&quot;      qq{}          Literal             yes
        ``      qx{}          Command             yes*
                qw{}         Word list            no
        //       m{}       Pattern match          yes*
                qr{}          Pattern             yes*
                 s{}{}      Substitution          yes*
                tr{}{}    Transliteration         no (but see below)
                 y{}{}    Transliteration         no (but see below)
        &lt;&lt;EOF                 here-doc            yes*
        * unless the delimiter is ''.
</pre>
<p class="Pp">Non-bracketing delimiters use the same character fore and aft, but
    the four sorts of ASCII brackets (round, angle, square, curly) all nest,
    which means that</p>
<p class="Pp"></p>
<pre>    q{foo{bar}baz}
</pre>
<p class="Pp">is the same as</p>
<p class="Pp"></p>
<pre>    'foo{bar}baz'
</pre>
<p class="Pp">Note, however, that this does not always work for quoting Perl
    code:</p>
<p class="Pp"></p>
<pre>    $s = q{ if($x eq &quot;}&quot;) ... }; # WRONG
</pre>
<p class="Pp">is a syntax error. The
    <span class="Li">&quot;Text::Balanced&quot;</span> module (standard as of
    v5.8, and from CPAN before then) is able to do this properly.</p>
<p class="Pp">There can (and in some cases, must) be whitespace between the
    operator and the quoting characters, except when
    <span class="Li">&quot;#&quot;</span> is being used as the quoting
    character. <span class="Li">&quot;q#foo#&quot;</span> is parsed as the
    string <span class="Li">&quot;foo&quot;</span>, while
    <span class="Li">&quot;q&#x00A0;#foo#&quot;</span> is the operator
    <span class="Li">&quot;q&quot;</span> followed by a comment. Its argument
    will be taken from the next line. This allows you to write:</p>
<p class="Pp"></p>
<pre>    s {foo}  # Replace foo
      {bar}  # with bar.
</pre>
<p class="Pp">The cases where whitespace must be used are when the quoting
    character is a word character (meaning it matches
    <span class="Li">&quot;/\w/&quot;</span>):</p>
<p class="Pp"></p>
<pre>    q XfooX # Works: means the string 'foo'
    qXfooX  # WRONG!
</pre>
<p class="Pp">The following escape sequences are available in constructs that
    interpolate, and in transliterations whose delimiters aren't single quotes
    (<span class="Li">&quot;'&quot;</span>). In all the ones with braces, any
    number of blanks and/or tabs adjoining and within the braces are allowed
    (and ignored).</p>
<p class="Pp"></p>
<pre>    Sequence     Note  Description
    \t                  tab               (HT, TAB)
    \n                  newline           (NL)
    \r                  return            (CR)
    \f                  form feed         (FF)
    \b                  backspace         (BS)
    \a                  alarm (bell)      (BEL)
    \e                  escape            (ESC)
    \x{263A}     [1,8]  hex char          (example shown: SMILEY)
    \x{ 263A }          Same, but shows optional blanks inside and
                        adjoining the braces
    \x1b         [2,8]  restricted range hex char (example: ESC)
    \N{name}     [3]    named Unicode character or character sequence
    \N{U+263D}   [4,8]  Unicode character (example: FIRST QUARTER MOON)
    \c[          [5]    control char      (example: chr(27))
    \o{23072}    [6,8]  octal char        (example: SMILEY)
    \033         [7,8]  restricted range octal char  (example: ESC)
</pre>
<p class="Pp">Note that any escape sequence using braces inside interpolated
    constructs may have optional blanks (tab or space characters) adjoining with
    and inside of the braces, as illustrated above by the second
    <span class="Li">&quot;\x{&#x00A0;}&quot;</span> example.</p>
<dl class="Bl-tag">
  <dt>[1]</dt>
  <dd>The result is the character specified by the hexadecimal number between
      the braces. See &quot;[8]&quot; below for details on which character.
    <p class="Pp">Blanks (tab or space characters) may separate the number from
        either or both of the braces.</p>
    <p class="Pp">Otherwise, only hexadecimal digits are valid between the
        braces. If an invalid character is encountered, a warning will be issued
        and the invalid character and all subsequent characters (valid or
        invalid) within the braces will be discarded.</p>
    <p class="Pp">If there are no valid digits between the braces, the generated
        character is the NULL character
        (<span class="Li">&quot;\x{00}&quot;</span>). However, an explicit empty
        brace (<span class="Li">&quot;\x{}&quot;</span>) will not cause a
        warning (currently).</p>
  </dd>
  <dt>[2]</dt>
  <dd>The result is the character specified by the hexadecimal number in the
      range 0x00 to 0xFF. See &quot;[8]&quot; below for details on which
      character.
    <p class="Pp">Only hexadecimal digits are valid following
        <span class="Li">&quot;\x&quot;</span>. When
        <span class="Li">&quot;\x&quot;</span> is followed by fewer than two
        valid digits, any valid digits will be zero-padded. This means that
        <span class="Li">&quot;\x7&quot;</span> will be interpreted as
        <span class="Li">&quot;\x07&quot;</span>, and a lone
        <span class="Li">&quot;\x&quot;</span> will be interpreted as
        <span class="Li">&quot;\x00&quot;</span>. Except at the end of a string,
        having fewer than two valid digits will result in a warning. Note that
        although the warning says the illegal character is ignored, it is only
        ignored as part of the escape and will still be used as the subsequent
        character in the string. For example:</p>
    <p class="Pp"></p>
    <pre>  Original    Result    Warns?
  &quot;\x7&quot;       &quot;\x07&quot;    no
  &quot;\x&quot;        &quot;\x00&quot;    no
  &quot;\x7q&quot;      &quot;\x07q&quot;   yes
  &quot;\xq&quot;       &quot;\x00q&quot;   yes
    </pre>
  </dd>
  <dt>[3]</dt>
  <dd>The result is the Unicode character or character sequence given by
      <i>name</i>. See charnames.</dd>
  <dt>[4]</dt>
  <dd><span class="Li">&quot;\N{U+</span><span class="Li"><i>hexadecimal&#x00A0;number</i></span><span class="Li">}&quot;</span>
      means the Unicode character whose Unicode code point is <i>hexadecimal
      number</i>.</dd>
  <dt>[5]</dt>
  <dd>The character following <span class="Li">&quot;\c&quot;</span> is mapped
      to some other character as shown in the table:
    <p class="Pp"></p>
    <pre> Sequence   Value
   \c@      chr(0)
   \cA      chr(1)
   \ca      chr(1)
   \cB      chr(2)
   \cb      chr(2)
   ...
   \cZ      chr(26)
   \cz      chr(26)
   \c[      chr(27)
                     # See below for chr(28)
   \c]      chr(29)
   \c^      chr(30)
   \c_      chr(31)
   \c?      chr(127) # (on ASCII platforms; see below for link to
                     #  EBCDIC discussion)
    </pre>
    <p class="Pp">In other words, it's the character whose code point has had 64
        xor'd with its uppercase. <span class="Li">&quot;\c?&quot;</span> is
        DELETE on ASCII platforms because
        <span class="Li">&quot;ord(&quot;?&quot;)&#x00A0;^&#x00A0;64&quot;</span>
        is 127, and <span class="Li">&quot;\c@&quot;</span> is NULL because the
        ord of <span class="Li">&quot;@&quot;</span> is 64, so xor'ing 64 itself
        produces 0.</p>
    <p class="Pp">Also,
        <span class="Li">&quot;\c\</span><span class="Li"><i>X</i></span><span class="Li">&quot;</span>
        yields
        <span class="Li">&quot;&#x00A0;chr(28)&#x00A0;.&#x00A0;&quot;</span><span class="Li"><i>X</i></span><span class="Li">&quot;&quot;</span>
        for any <i>X</i>, but cannot come at the end of a string, because the
        backslash would be parsed as escaping the end quote.</p>
    <p class="Pp">On ASCII platforms, the resulting characters from the list
        above are the complete set of ASCII controls. This isn't the case on
        EBCDIC platforms; see &quot;OPERATOR DIFFERENCES&quot; in perlebcdic for
        a full discussion of the differences between these for ASCII versus
        EBCDIC platforms.</p>
    <p class="Pp">Use of any other character following the
        <span class="Li">&quot;c&quot;</span> besides those listed above is
        discouraged, and as of Perl v5.20, the only characters actually allowed
        are the printable ASCII ones, minus the left brace
        <span class="Li">&quot;{&quot;</span>. What happens for any of the
        allowed other characters is that the value is derived by xor'ing with
        the seventh bit, which is 64, and a warning raised if enabled. Using the
        non-allowed characters generates a fatal error.</p>
    <p class="Pp">To get platform independent controls, you can use
        <span class="Li">&quot;\N{...}&quot;</span>.</p>
  </dd>
  <dt>[6]</dt>
  <dd>The result is the character specified by the octal number between the
      braces. See &quot;[8]&quot; below for details on which character.
    <p class="Pp">Blanks (tab or space characters) may separate the number from
        either or both of the braces.</p>
    <p class="Pp">Otherwise, if a character that isn't an octal digit is
        encountered, a warning is raised, and the value is based on the octal
        digits before it, discarding it and all following characters up to the
        closing brace. It is a fatal error if there are no octal digits at
      all.</p>
  </dd>
  <dt>[7]</dt>
  <dd>The result is the character specified by the three-digit octal number in
      the range 000 to 777 (but best to not use above 077, see next paragraph).
      See &quot;[8]&quot; below for details on which character.
    <p class="Pp">Some contexts allow 2 or even 1 digit, but any usage without
        exactly three digits, the first being a zero, may give unintended
        results. (For example, in a regular expression it may be confused with a
        backreference; see &quot;Octal escapes&quot; in perlrebackslash.)
        Starting in Perl 5.14, you may use
        <span class="Li">&quot;\o{}&quot;</span> instead, which avoids all these
        problems. Otherwise, it is best to use this construct only for ordinals
        <span class="Li">&quot;\077&quot;</span> and below, remembering to pad
        to the left with zeros to make three digits. For larger ordinals, either
        use <span class="Li">&quot;\o{}&quot;</span>, or convert to something
        else, such as to hex and use <span class="Li">&quot;\N{U+}&quot;</span>
        (which is portable between platforms with different character sets) or
        <span class="Li">&quot;\x{}&quot;</span> instead.</p>
  </dd>
  <dt>[8]</dt>
  <dd>Several constructs above specify a character by a number. That number
      gives the character's position in the character set encoding (indexed from
      0). This is called synonymously its ordinal, code position, or code point.
      Perl works on platforms that have a native encoding currently of either
      ASCII/Latin1 or EBCDIC, each of which allow specification of 256
      characters. In general, if the number is 255 (0xFF, 0377) or below, Perl
      interprets this in the platform's native encoding. If the number is 256
      (0x100, 0400) or above, Perl interprets it as a Unicode code point and the
      result is the corresponding Unicode character. For example
      <span class="Li">&quot;\x{50}&quot;</span> and
      <span class="Li">&quot;\o{120}&quot;</span> both are the number 80 in
      decimal, which is less than 256, so the number is interpreted in the
      native character set encoding. In ASCII the character in the 80th position
      (indexed from 0) is the letter <span class="Li">&quot;P&quot;</span>, and
      in EBCDIC it is the ampersand symbol
      <span class="Li">&quot;&amp;&quot;</span>.
      <span class="Li">&quot;\x{100}&quot;</span> and
      <span class="Li">&quot;\o{400}&quot;</span> are both 256 in decimal, so
      the number is interpreted as a Unicode code point no matter what the
      native encoding is. The name of the character in the 256th position
      (indexed by 0) in Unicode is <span class="Li">&quot;LATIN CAPITAL LETTER A
      WITH MACRON&quot;</span>.
    <p class="Pp">An exception to the above rule is that
        <span class="Li">&quot;\N{U+</span><span class="Li"><i>hex&#x00A0;number</i></span><span class="Li">}&quot;</span>
        is always interpreted as a Unicode code point, so that
        <span class="Li">&quot;\N{U+0050}&quot;</span> is
        <span class="Li">&quot;P&quot;</span> even on EBCDIC platforms.</p>
  </dd>
</dl>
<p class="Pp"><b>NOTE</b>: Unlike C and other languages, Perl has no
    <span class="Li">&quot;\v&quot;</span> escape sequence for the vertical tab
    (VT, which is 11 in both ASCII and EBCDIC), but you may use
    <span class="Li">&quot;\N{VT}&quot;</span>,
    <span class="Li">&quot;\ck&quot;</span>,
    <span class="Li">&quot;\N{U+0b}&quot;</span>, or
    <span class="Li">&quot;\x0b&quot;</span>.
    (<span class="Li">&quot;\v&quot;</span> does have meaning in regular
    expression patterns in Perl, see perlre.)</p>
<p class="Pp">The following escape sequences are available in constructs that
    interpolate, but not in transliterations.</p>
<p class="Pp"></p>
<pre>    \l          lowercase next character only
    \u          titlecase (not uppercase!) next character only
    \L          lowercase all characters till \E or end of string
    \U          uppercase all characters till \E or end of string
    \F          foldcase all characters till \E or end of string
    \Q          quote (disable) pattern metacharacters till \E or
                end of string
    \E          end either case modification or quoted section
                (whichever was last seen)
</pre>
<p class="Pp">See &quot;quotemeta&quot; in perlfunc for the exact definition of
    characters that are quoted by <span class="Li">&quot;\Q&quot;</span>.</p>
<p class="Pp"><span class="Li">&quot;\L&quot;</span>,
    <span class="Li">&quot;\U&quot;</span>,
    <span class="Li">&quot;\F&quot;</span>, and
    <span class="Li">&quot;\Q&quot;</span> can stack, in which case you need one
    <span class="Li">&quot;\E&quot;</span> for each. For example:</p>
<p class="Pp"></p>
<pre> say&quot;This \Qquoting \ubusiness \Uhere isn't quite\E done yet,\E is it?&quot;;
 This quoting\ Business\ HERE\ ISN\'T\ QUITE\ done\ yet\, is it?
</pre>
<p class="Pp">If a <span class="Li">&quot;use&#x00A0;locale&quot;</span> form
    that includes <span class="Li">&quot;LC_CTYPE&quot;</span> is in effect (see
    perllocale), the case map used by <span class="Li">&quot;\l&quot;</span>,
    <span class="Li">&quot;\L&quot;</span>,
    <span class="Li">&quot;\u&quot;</span>, and
    <span class="Li">&quot;\U&quot;</span> is taken from the current locale. If
    Unicode (for example, <span class="Li">&quot;\N{}&quot;</span> or code
    points of 0x100 or beyond) is being used, the case map used by
    <span class="Li">&quot;\l&quot;</span>,
    <span class="Li">&quot;\L&quot;</span>,
    <span class="Li">&quot;\u&quot;</span>, and
    <span class="Li">&quot;\U&quot;</span> is as defined by Unicode. That means
    that case-mapping a single character can sometimes produce a sequence of
    several characters. Under
    <span class="Li">&quot;use&#x00A0;locale&quot;</span>,
    <span class="Li">&quot;\F&quot;</span> produces the same results as
    <span class="Li">&quot;\L&quot;</span> for all locales but a UTF-8 one,
    where it instead uses the Unicode definition.</p>
<p class="Pp">All systems use the virtual <span class="Li">&quot;\n&quot;</span>
    to represent a line terminator, called a &quot;newline&quot;. There is no
    such thing as an unvarying, physical newline character. It is only an
    illusion that the operating system, device drivers, C libraries, and Perl
    all conspire to preserve. Not all systems read
    <span class="Li">&quot;\r&quot;</span> as ASCII CR and
    <span class="Li">&quot;\n&quot;</span> as ASCII LF. For example, on the
    ancient Macs (pre-MacOS X) of yesteryear, these used to be reversed, and on
    systems without a line terminator, printing
    <span class="Li">&quot;\n&quot;</span> might emit no actual data. In
    general, use <span class="Li">&quot;\n&quot;</span> when you mean a
    &quot;newline&quot; for your system, but use the literal ASCII when you need
    an exact character. For example, most networking protocols expect and prefer
    a CR+LF (<span class="Li">&quot;\015\012&quot;</span> or
    <span class="Li">&quot;\cM\cJ&quot;</span>) for line terminators, and
    although they often accept just <span class="Li">&quot;\012&quot;</span>,
    they seldom tolerate just <span class="Li">&quot;\015&quot;</span>. If you
    get in the habit of using <span class="Li">&quot;\n&quot;</span> for
    networking, you may be burned some day.</p>
<p class="Pp">For constructs that do interpolate, variables beginning with
    &quot;<span class="Li">&quot;$&quot;</span>&quot; or
    &quot;<span class="Li">&quot;@&quot;</span>&quot; are interpolated.
    Subscripted variables such as <span class="Li">$a[3]</span> or
    <span class="Li">&quot;$href-&gt;{key}[0]&quot;</span> are also
    interpolated, as are array and hash slices. But method calls such as
    <span class="Li">&quot;$obj-&gt;meth&quot;</span> are not.</p>
<p class="Pp">Interpolating an array or slice interpolates the elements in
    order, separated by the value of <span class="Li">$&quot;</span>, so is
    equivalent to interpolating
    <span class="Li">&quot;join&#x00A0;$&quot;,&#x00A0;@array&quot;</span>.
    &quot;Punctuation&quot; arrays such as
    <span class="Li">&quot;@*&quot;</span> are usually interpolated only if the
    name is enclosed in braces <span class="Li">&quot;@{*}&quot;</span>, but the
    arrays <span class="Li">@_</span>, <span class="Li">&quot;@+&quot;</span>,
    and <span class="Li">&quot;@-&quot;</span> are interpolated even without
    braces.</p>
<p class="Pp">For double-quoted strings, the quoting from
    <span class="Li">&quot;\Q&quot;</span> is applied after interpolation and
    escapes are processed.</p>
<p class="Pp"></p>
<pre>    &quot;abc\Qfoo\tbar$s\Exyz&quot;
</pre>
<p class="Pp">is equivalent to</p>
<p class="Pp"></p>
<pre>    &quot;abc&quot; . quotemeta(&quot;foo\tbar$s&quot;) . &quot;xyz&quot;
</pre>
<p class="Pp">For the pattern of regex operators
    (<span class="Li">&quot;qr//&quot;</span>,
    <span class="Li">&quot;m//&quot;</span> and
    <span class="Li">&quot;s///&quot;</span>), the quoting from
    <span class="Li">&quot;\Q&quot;</span> is applied after interpolation is
    processed, but before escapes are processed. This allows the pattern to
    match literally (except for <span class="Li">&quot;$&quot;</span> and
    <span class="Li">&quot;@&quot;</span>). For example, the following
  matches:</p>
<p class="Pp"></p>
<pre>    '\s\t' =~ /\Q\s\t/
</pre>
<p class="Pp">Because <span class="Li">&quot;$&quot;</span> or
    <span class="Li">&quot;@&quot;</span> trigger interpolation, you'll need to
    use something like <span class="Li">&quot;/\Quser\E\@\Qhost/&quot;</span> to
    match them literally.</p>
<p class="Pp">Patterns are subject to an additional level of interpretation as a
    regular expression. This is done as a second pass, after variables are
    interpolated, so that regular expressions may be incorporated into the
    pattern from the variables. If this is not what you want, use
    <span class="Li">&quot;\Q&quot;</span> to interpolate a variable
  literally.</p>
<p class="Pp">Apart from the behavior described above, Perl does not expand
    multiple levels of interpolation. In particular, contrary to the
    expectations of shell programmers, back-quotes do <i>NOT</i> interpolate
    within double quotes, nor do single quotes impede evaluation of variables
    when used within double quotes.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Regexp_Quote-Like_Operators"><a class="permalink" href="#Regexp_Quote-Like_Operators">Regexp
  Quote-Like Operators</a></h2>
<p class="Pp">Here are the quote-like operators that apply to pattern matching
    and related activities.</p>
<dl class="Bl-tag">
  <dt>&quot;qr/<i>STRING</i>/msixpodualn&quot;</dt>
  <dd>This operator quotes (and possibly compiles) its <i>STRING</i> as a
      regular expression. <i>STRING</i> is interpolated the same way as
      <i>PATTERN</i> in
      <span class="Li">&quot;m/</span><span class="Li"><i>PATTERN</i></span><span class="Li">/&quot;</span>.
      If <span class="Li">&quot;'&quot;</span> is used as the delimiter, no
      variable interpolation is done. Returns a Perl value which may be used
      instead of the corresponding
      <span class="Li">&quot;/</span><span class="Li"><i>STRING</i></span><span class="Li">/msixpodualn&quot;</span>
      expression. The returned value is a normalized version of the original
      pattern. It magically differs from a string containing the same
      characters: <span class="Li">&quot;ref(qr/x/)&quot;</span> returns
      &quot;Regexp&quot;; however, dereferencing it is not well defined (you
      currently get the normalized version of the original pattern, but this may
      change).
    <p class="Pp">For example,</p>
    <p class="Pp"></p>
    <pre>    $rex = qr/my.STRING/is;
    print $rex;                 # prints (?si-xm:my.STRING)
    s/$rex/foo/;
    </pre>
    <p class="Pp">is equivalent to</p>
    <p class="Pp"></p>
    <pre>    s/my.STRING/foo/is;
    </pre>
    <p class="Pp">The result may be used as a subpattern in a match:</p>
    <p class="Pp"></p>
    <pre>    $re = qr/$pattern/;
    $string =~ /foo${re}bar/;   # can be interpolated in other
                                # patterns
    $string =~ $re;             # or used standalone
    $string =~ /$re/;           # or this way
    </pre>
    <p class="Pp">Since Perl may compile the pattern at the moment of execution
        of the <span class="Li">&quot;qr()&quot;</span> operator, using
        <span class="Li">&quot;qr()&quot;</span> may have speed advantages in
        some situations, notably if the result of
        <span class="Li">&quot;qr()&quot;</span> is used standalone:</p>
    <p class="Pp"></p>
    <pre>    sub match {
        my $patterns = shift;
        my @compiled = map qr/$_/i, @$patterns;
        grep {
            my $success = 0;
            foreach my $pat (@compiled) {
                $success = 1, last if /$pat/;
            }
            $success;
        } @_;
    }
    </pre>
    <p class="Pp">Precompilation of the pattern into an internal representation
        at the moment of <span class="Li">&quot;qr()&quot;</span> avoids the
        need to recompile the pattern every time a match
        <span class="Li">&quot;/$pat/&quot;</span> is attempted. (Perl has many
        other internal optimizations, but none would be triggered in the above
        example if we did not use <span class="Li">&quot;qr()&quot;</span>
        operator.)</p>
    <p class="Pp">Options (specified by the following modifiers) are:</p>
    <p class="Pp"></p>
    <pre>    m   Treat string as multiple lines.
    s   Treat string as single line. (Make . match a newline)
    i   Do case-insensitive pattern matching.
    x   Use extended regular expressions; specifying two
        x's means \t and the SPACE character are ignored within
        square-bracketed character classes
    p   When matching preserve a copy of the matched string so
        that ${^PREMATCH}, ${^MATCH}, ${^POSTMATCH} will be
        defined (ignored starting in v5.20) as these are always
        defined starting in that release
    o   Compile pattern only once.
    a   ASCII-restrict: Use ASCII for \d, \s, \w and [[:posix:]]
        character classes; specifying two a's adds the further
        restriction that no ASCII character will match a
        non-ASCII one under /i.
    l   Use the current run-time locale's rules.
    u   Use Unicode rules.
    d   Use Unicode or native charset, as in 5.12 and earlier.
    n   Non-capture mode. Don't let () fill in $1, $2, etc...
    </pre>
    <p class="Pp">If a precompiled pattern is embedded in a larger pattern then
        the effect of <span class="Li">&quot;msixpluadn&quot;</span> will be
        propagated appropriately. The effect that the
        <span class="Li">&quot;/o&quot;</span> modifier has is not propagated,
        being restricted to those patterns explicitly using it.</p>
    <p class="Pp">The <span class="Li">&quot;/a&quot;</span>,
        <span class="Li">&quot;/d&quot;</span>,
        <span class="Li">&quot;/l&quot;</span>, and
        <span class="Li">&quot;/u&quot;</span> modifiers (added in Perl 5.14)
        control the character set rules, but
        <span class="Li">&quot;/a&quot;</span> is the only one you are likely to
        want to specify explicitly; the other three are selected automatically
        by various pragmas.</p>
    <p class="Pp">See perlre for additional information on valid syntax for
        <i>STRING</i>, and for a detailed look at the semantics of regular
        expressions. In particular, all modifiers except the largely obsolete
        <span class="Li">&quot;/o&quot;</span> are further explained in
        &quot;Modifiers&quot; in perlre. <span class="Li">&quot;/o&quot;</span>
        is described in the next section.</p>
  </dd>
  <dt>&quot;m/<i>PATTERN</i>/msixpodualngc&quot;</dt>
  <dd></dd>
  <dt>&quot;/<i>PATTERN</i>/msixpodualngc&quot;</dt>
  <dd>Searches a string for a pattern match, and in scalar context returns true
      if it succeeds, false if it fails. If no string is specified via the
      <span class="Li">&quot;=~&quot;</span> or
      <span class="Li">&quot;!~&quot;</span> operator, the
      <span class="Li">$_</span> string is searched. (The string specified with
      <span class="Li">&quot;=~&quot;</span> need not be an lvalue--it may be
      the result of an expression evaluation, but remember the
      <span class="Li">&quot;=~&quot;</span> binds rather tightly.) See also
      perlre.
    <p class="Pp">Options are as described in
        <span class="Li">&quot;qr//&quot;</span> above; in addition, the
        following match process modifiers are available:</p>
    <p class="Pp"></p>
    <pre> g  Match globally, i.e., find all occurrences.
 c  Do not reset search position on a failed match when /g is
    in effect.
    </pre>
    <p class="Pp">If <span class="Li">&quot;/&quot;</span> is the delimiter then
        the initial <span class="Li">&quot;m&quot;</span> is optional. With the
        <span class="Li">&quot;m&quot;</span> you can use any pair of
        non-whitespace (ASCII) characters as delimiters. This is particularly
        useful for matching path names that contain
        <span class="Li">&quot;/&quot;</span>, to avoid LTS (leaning toothpick
        syndrome). If <span class="Li">&quot;?&quot;</span> is the delimiter,
        then a match-only-once rule applies, described in
        <span class="Li">&quot;m?</span><span class="Li"><i>PATTERN</i></span><span class="Li">?&quot;</span>
        below. If <span class="Li">&quot;'&quot;</span> (single quote) is the
        delimiter, no variable interpolation is performed on the <i>PATTERN</i>.
        When using a delimiter character valid in an identifier, whitespace is
        required after the <span class="Li">&quot;m&quot;</span>.</p>
    <p class="Pp"><i>PATTERN</i> may contain variables, which will be
        interpolated every time the pattern search is evaluated, except for when
        the delimiter is a single quote. (Note that <span class="Li">$(</span>,
        <span class="Li">$)</span>, and <span class="Li">$|</span> are not
        interpolated because they look like end-of-string tests.) Perl will not
        recompile the pattern unless an interpolated variable that it contains
        changes. You can force Perl to skip the test and never recompile by
        adding a <span class="Li">&quot;/o&quot;</span> (which stands for
        &quot;once&quot;) after the trailing delimiter. Once upon a time, Perl
        would recompile regular expressions unnecessarily, and this modifier was
        useful to tell it not to do so, in the interests of speed. But now, the
        only reasons to use <span class="Li">&quot;/o&quot;</span> are one
      of:</p>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>1.</dt>
  <dd>The variables are thousands of characters long and you know that they
      don't change, and you need to wring out the last little bit of speed by
      having Perl skip testing for that. (There is a maintenance penalty for
      doing this, as mentioning <span class="Li">&quot;/o&quot;</span>
      constitutes a promise that you won't change the variables in the pattern.
      If you do change them, Perl won't even notice.)</dd>
  <dt>2.</dt>
  <dd>you want the pattern to use the initial values of the variables regardless
      of whether they change or not. (But there are saner ways of accomplishing
      this than using <span class="Li">&quot;/o&quot;</span>.)</dd>
  <dt>3.</dt>
  <dd>If the pattern contains embedded code, such as
    <p class="Pp"></p>
    <pre>    use re 'eval';
    $code = 'foo(?{ $x })';
    /$code/
    </pre>
    <p class="Pp">then perl will recompile each time, even though the pattern
        string hasn't changed, to ensure that the current value of
        <span class="Li">$x</span> is seen each time. Use
        <span class="Li">&quot;/o&quot;</span> if you want to avoid this.</p>
  </dd>
</dl>
</div>
<div class="Bd-indent">
<p class="Pp">The bottom line is that using
    <span class="Li">&quot;/o&quot;</span> is almost never a good idea.</p>
</div>
<dl class="Bl-tag">
  <dt id="The"><a class="permalink" href="#The">The empty pattern
    &quot;//&quot;</a></dt>
  <dd>If the <i>PATTERN</i> evaluates to the empty string, the last
      <i>successfully</i> matched regular expression is used instead. In this
      case, only the <span class="Li">&quot;g&quot;</span> and
      <span class="Li">&quot;c&quot;</span> flags on the empty pattern are
      honored; the other flags are taken from the original pattern. If no match
      has previously succeeded, this will (silently) act instead as a genuine
      empty pattern (which will always match).
    <p class="Pp">Note that it's possible to confuse Perl into thinking
        <span class="Li">&quot;//&quot;</span> (the empty regex) is really
        <span class="Li">&quot;//&quot;</span> (the defined-or operator). Perl
        is usually pretty good about this, but some pathological cases might
        trigger this, such as <span class="Li">&quot;$x///&quot;</span> (is that
        <span class="Li">&quot;($x)&#x00A0;/&#x00A0;(//)&quot;</span> or
        <span class="Li">&quot;$x&#x00A0;//&#x00A0;/&quot;</span>?) and
        <span class="Li">&quot;print&#x00A0;$fh&#x00A0;//&quot;</span>
        (<span class="Li">&quot;print&#x00A0;$fh(//&quot;</span> or
        <span class="Li">&quot;print($fh&#x00A0;//&quot;</span>?). In all of
        these examples, Perl will assume you meant defined-or. If you meant the
        empty regex, just use parentheses or spaces to disambiguate, or even
        prefix the empty regex with an <span class="Li">&quot;m&quot;</span> (so
        <span class="Li">&quot;//&quot;</span> becomes
        <span class="Li">&quot;m//&quot;</span>).</p>
  </dd>
  <dt id="Matching"><a class="permalink" href="#Matching">Matching in list
    context</a></dt>
  <dd>If the <span class="Li">&quot;/g&quot;</span> option is not used,
      <span class="Li">&quot;m//&quot;</span> in list context returns a list
      consisting of the subexpressions matched by the parentheses in the
      pattern, that is, (<span class="Li">$1</span>, <span class="Li">$2</span>,
      <span class="Li">$3</span>...) (Note that here <span class="Li">$1</span>
      etc. are also set). When there are no parentheses in the pattern, the
      return value is the list <span class="Li">&quot;(1)&quot;</span> for
      success. With or without parentheses, an empty list is returned upon
      failure.
    <p class="Pp">Examples:</p>
    <p class="Pp"></p>
    <pre> open(TTY, &quot;+&lt;/dev/tty&quot;)
    || die &quot;can't access /dev/tty: $!&quot;;
 &lt;TTY&gt; =~ /^y/i &amp;&amp; foo();       # do foo if desired
 if (/Version: *([0-9.]*)/) { $version = $1; }
 next if m#^/usr/spool/uucp#;
 # poor man's grep
 $arg = shift;
 while (&lt;&gt;) {
    print if /$arg/o; # compile only once (no longer needed!)
 }
 if (($F1, $F2, $Etc) = ($foo =~ /^(\S+)\s+(\S+)\s*(.*)/))
    </pre>
    <p class="Pp">This last example splits <span class="Li">$foo</span> into the
        first two words and the remainder of the line, and assigns those three
        fields to <span class="Li">$F1</span>, <span class="Li">$F2</span>, and
        <span class="Li">$Etc</span>. The conditional is true if any variables
        were assigned; that is, if the pattern matched.</p>
    <p class="Pp">The <span class="Li">&quot;/g&quot;</span> modifier specifies
        global pattern matching--that is, matching as many times as possible
        within the string. How it behaves depends on the context. In list
        context, it returns a list of the substrings matched by any capturing
        parentheses in the regular expression. If there are no parentheses, it
        returns a list of all the matched strings, as if there were parentheses
        around the whole pattern.</p>
    <p class="Pp">In scalar context, each execution of
        <span class="Li">&quot;m//g&quot;</span> finds the next match, returning
        true if it matches, and false if there is no further match. The position
        after the last match can be read or set using the
        <span class="Li">&quot;pos()&quot;</span> function; see &quot;pos&quot;
        in perlfunc. A failed match normally resets the search position to the
        beginning of the string, but you can avoid that by adding the
        <span class="Li">&quot;/c&quot;</span> modifier (for example,
        <span class="Li">&quot;m//gc&quot;</span>). Modifying the target string
        also resets the search position.</p>
  </dd>
  <dt>&quot;\G <i>assertion</i>&quot;</dt>
  <dd>You can intermix <span class="Li">&quot;m//g&quot;</span> matches with
      <span class="Li">&quot;m/\G.../g&quot;</span>, where
      <span class="Li">&quot;\G&quot;</span> is a zero-width assertion that
      matches the exact position where the previous
      <span class="Li">&quot;m//g&quot;</span>, if any, left off. Without the
      <span class="Li">&quot;/g&quot;</span> modifier, the
      <span class="Li">&quot;\G&quot;</span> assertion still anchors at
      <span class="Li">&quot;pos()&quot;</span> as it was at the start of the
      operation (see &quot;pos&quot; in perlfunc), but the match is of course
      only attempted once. Using <span class="Li">&quot;\G&quot;</span> without
      <span class="Li">&quot;/g&quot;</span> on a target string that has not
      previously had a <span class="Li">&quot;/g&quot;</span> match applied to
      it is the same as using the <span class="Li">&quot;\A&quot;</span>
      assertion to match the beginning of the string. Note also that, currently,
      <span class="Li">&quot;\G&quot;</span> is only properly supported when
      anchored at the very beginning of the pattern.
    <p class="Pp">Examples:</p>
    <p class="Pp"></p>
    <pre>    # list context
    ($one,$five,$fifteen) = (`uptime` =~ /(\d+\.\d+)/g);
    # scalar context
    local $/ = &quot;&quot;;
    while ($paragraph = &lt;&gt;) {
        while ($paragraph =~ /\p{Ll}['&quot;)]*[.!?]+['&quot;)]*\s/g) {
            $sentences++;
        }
    }
    say $sentences;
    </pre>
    <p class="Pp">Here's another way to check for sentences in a paragraph:</p>
    <p class="Pp"></p>
    <pre> my $sentence_rx = qr{
    (?: (?&lt;= ^ ) | (?&lt;= \s ) )  # after start-of-string or
                                # whitespace
    \p{Lu}                      # capital letter
    .*?                         # a bunch of anything
    (?&lt;= \S )                   # that ends in non-
                                # whitespace
    (?&lt;! \b [DMS]r  )           # but isn't a common abbr.
    (?&lt;! \b Mrs )
    (?&lt;! \b Sra )
    (?&lt;! \b St  )
    [.?!]                       # followed by a sentence
                                # ender
    (?= $ | \s )                # in front of end-of-string
                                # or whitespace
 }sx;
 local $/ = &quot;&quot;;
 while (my $paragraph = &lt;&gt;) {
    say &quot;NEW PARAGRAPH&quot;;
    my $count = 0;
    while ($paragraph =~ /($sentence_rx)/g) {
        printf &quot;\tgot sentence %d: &lt;%s&gt;\n&quot;, ++$count, $1;
    }
 }
    </pre>
    <p class="Pp">Here's how to use <span class="Li">&quot;m//gc&quot;</span>
        with <span class="Li">&quot;\G&quot;</span>:</p>
    <p class="Pp"></p>
    <pre>    $_ = &quot;ppooqppqq&quot;;
    while ($i++ &lt; 2) {
        print &quot;1: '&quot;;
        print $1 while /(o)/gc; print &quot;', pos=&quot;, pos, &quot;\n&quot;;
        print &quot;2: '&quot;;
        print $1 if /\G(q)/gc;  print &quot;', pos=&quot;, pos, &quot;\n&quot;;
        print &quot;3: '&quot;;
        print $1 while /(p)/gc; print &quot;', pos=&quot;, pos, &quot;\n&quot;;
    }
    print &quot;Final: '$1', pos=&quot;,pos,&quot;\n&quot; if /\G(.)/;
    </pre>
    <p class="Pp">The last example should print:</p>
    <p class="Pp"></p>
    <pre>    1: 'oo', pos=4
    2: 'q', pos=5
    3: 'pp', pos=7
    1: '', pos=7
    2: 'q', pos=8
    3: '', pos=8
    Final: 'q', pos=8
    </pre>
    <p class="Pp">Notice that the final match matched
        <span class="Li">&quot;q&quot;</span> instead of
        <span class="Li">&quot;p&quot;</span>, which a match without the
        <span class="Li">&quot;\G&quot;</span> anchor would have done. Also note
        that the final match did not update
        <span class="Li">&quot;pos&quot;</span>.
        <span class="Li">&quot;pos&quot;</span> is only updated on a
        <span class="Li">&quot;/g&quot;</span> match. If the final match did
        indeed match <span class="Li">&quot;p&quot;</span>, it's a good bet that
        you're running an ancient (pre-5.6.0) version of Perl.</p>
    <p class="Pp">A useful idiom for
        <span class="Li">&quot;lex&quot;</span>-like scanners is
        <span class="Li">&quot;/\G.../gc&quot;</span>. You can combine several
        regexps like this to process a string part-by-part, doing different
        actions depending on which regexp matched. Each regexp tries to match
        where the previous one leaves off.</p>
    <p class="Pp"></p>
    <pre> $_ = &lt;&lt;'EOL';
    $url = URI::URL-&gt;new( &quot;http://example.com/&quot; );
    die if $url eq &quot;xXx&quot;;
 EOL
 LOOP: {
     print(&quot; digits&quot;),       redo LOOP if /\G\d+\b[,.;]?\s*/gc;
     print(&quot; lowercase&quot;),    redo LOOP
                                    if /\G\p{Ll}+\b[,.;]?\s*/gc;
     print(&quot; UPPERCASE&quot;),    redo LOOP
                                    if /\G\p{Lu}+\b[,.;]?\s*/gc;
     print(&quot; Capitalized&quot;),  redo LOOP
                              if /\G\p{Lu}\p{Ll}+\b[,.;]?\s*/gc;
     print(&quot; MiXeD&quot;),        redo LOOP if /\G\pL+\b[,.;]?\s*/gc;
     print(&quot; alphanumeric&quot;), redo LOOP
                            if /\G[\p{Alpha}\pN]+\b[,.;]?\s*/gc;
     print(&quot; line-noise&quot;),   redo LOOP if /\G\W+/gc;
     print &quot;. That's all!\n&quot;;
 }
    </pre>
    <p class="Pp">Here is the output (split into several lines):</p>
    <p class="Pp"></p>
    <pre> line-noise lowercase line-noise UPPERCASE line-noise UPPERCASE
 line-noise lowercase line-noise lowercase line-noise lowercase
 lowercase line-noise lowercase lowercase line-noise lowercase
 lowercase line-noise MiXeD line-noise. That's all!
    </pre>
  </dd>
  <dt>&quot;m?<i>PATTERN</i>?msixpodualngc&quot;</dt>
  <dd>This is just like the
      <span class="Li">&quot;m/</span><span class="Li"><i>PATTERN</i></span><span class="Li">/&quot;</span>
      search, except that it matches only once between calls to the
      <span class="Li">&quot;reset()&quot;</span> operator. This is a useful
      optimization when you want to see only the first occurrence of something
      in each file of a set of files, for instance. Only
      <span class="Li">&quot;m??&quot;</span> patterns local to the current
      package are reset.
    <p class="Pp"></p>
    <pre>    while (&lt;&gt;) {
        if (m?^$?) {
                            # blank line between header and body
        }
    } continue {
        reset if eof;       # clear m?? status for next file
    }
    </pre>
    <p class="Pp">Another example switched the first &quot;latin1&quot; encoding
        it finds to &quot;utf8&quot; in a pod file:</p>
    <p class="Pp"></p>
    <pre>    s//utf8/ if m? ^ =encoding \h+ \K latin1 ?x;
    </pre>
    <p class="Pp">The match-once behavior is controlled by the match delimiter
        being <span class="Li">&quot;?&quot;</span>; with any other delimiter
        this is the normal <span class="Li">&quot;m//&quot;</span> operator.</p>
    <p class="Pp">In the past, the leading <span class="Li">&quot;m&quot;</span>
        in
        <span class="Li">&quot;m?</span><span class="Li"><i>PATTERN</i></span><span class="Li">?&quot;</span>
        was optional, but omitting it would produce a deprecation warning. As of
        v5.22.0, omitting it produces a syntax error. If you encounter this
        construct in older code, you can just add
        <span class="Li">&quot;m&quot;</span>.</p>
  </dd>
  <dt>&quot;s/<i>PATTERN</i>/<i>REPLACEMENT</i>/msixpodualngcer&quot;</dt>
  <dd>Searches a string for a pattern, and if found, replaces that pattern with
      the replacement text and returns the number of substitutions made.
      Otherwise it returns false (a value that is both an empty string
      (<span class="Li">&quot;&quot;</span>) and numeric zero
      (<span class="Li">0</span>) as described in &quot;Relational
      Operators&quot;).
    <p class="Pp">If the <span class="Li">&quot;/r&quot;</span>
        (non-destructive) option is used then it runs the substitution on a copy
        of the string and instead of returning the number of substitutions, it
        returns the copy whether or not a substitution occurred. The original
        string is never changed when <span class="Li">&quot;/r&quot;</span> is
        used. The copy will always be a plain string, even if the input is an
        object or a tied variable.</p>
    <p class="Pp">If no string is specified via the
        <span class="Li">&quot;=~&quot;</span> or
        <span class="Li">&quot;!~&quot;</span> operator, the
        <span class="Li">$_</span> variable is searched and modified. Unless the
        <span class="Li">&quot;/r&quot;</span> option is used, the string
        specified must be a scalar variable, an array element, a hash element,
        or an assignment to one of those; that is, some sort of scalar
      lvalue.</p>
    <p class="Pp">If the delimiter chosen is a single quote, no variable
        interpolation is done on either the <i>PATTERN</i> or the
        <i>REPLACEMENT</i>. Otherwise, if the <i>PATTERN</i> contains a
        <span class="Li">&quot;$&quot;</span> that looks like a variable rather
        than an end-of-string test, the variable will be interpolated into the
        pattern at run-time. If you want the pattern compiled only once the
        first time the variable is interpolated, use the
        <span class="Li">&quot;/o&quot;</span> option. If the pattern evaluates
        to the empty string, the last successfully executed regular expression
        is used instead. See perlre for further explanation on these.</p>
    <p class="Pp">Options are as with <span class="Li">&quot;m//&quot;</span>
        with the addition of the following replacement specific options:</p>
    <p class="Pp"></p>
    <pre>    e   Evaluate the right side as an expression.
    ee  Evaluate the right side as a string then eval the
        result.
    r   Return substitution and leave the original string
        untouched.
    </pre>
    <p class="Pp">Any non-whitespace delimiter may replace the slashes. Add
        space after the <span class="Li">&quot;s&quot;</span> when using a
        character allowed in identifiers. If single quotes are used, no
        interpretation is done on the replacement string (the
        <span class="Li">&quot;/e&quot;</span> modifier overrides this,
        however). Note that Perl treats backticks as normal delimiters; the
        replacement text is not evaluated as a command. If the <i>PATTERN</i> is
        delimited by bracketing quotes, the <i>REPLACEMENT</i> has its own pair
        of quotes, which may or may not be bracketing quotes, for example,
        <span class="Li">&quot;s(foo)(bar)&quot;</span> or
        <span class="Li">&quot;s&lt;foo&gt;/bar/&quot;</span>. A
        <span class="Li">&quot;/e&quot;</span> will cause the replacement
        portion to be treated as a full-fledged Perl expression and evaluated
        right then and there. It is, however, syntax checked at compile-time. A
        second <span class="Li">&quot;e&quot;</span> modifier will cause the
        replacement portion to be <span class="Li">&quot;eval&quot;</span>ed
        before being run as a Perl expression.</p>
    <p class="Pp">Examples:</p>
    <p class="Pp"></p>
    <pre>    s/\bgreen\b/mauve/g;              # don't change wintergreen
    $path =~ s|/usr/bin|/usr/local/bin|;
    s/Login: $foo/Login: $bar/; # run-time pattern
    ($foo = $bar) =~ s/this/that/;      # copy first, then
                                        # change
    ($foo = &quot;$bar&quot;) =~ s/this/that/;    # convert to string,
                                        # copy, then change
    $foo = $bar =~ s/this/that/r;       # Same as above using /r
    $foo = $bar =~ s/this/that/r
                =~ s/that/the other/r;  # Chained substitutes
                                        # using /r
    @foo = map { s/this/that/r } @bar   # /r is very useful in
                                        # maps
    $count = ($paragraph =~ s/Mister\b/Mr./g);  # get change-cnt
    $_ = 'abc123xyz';
    s/\d+/$&amp;*2/e;               # yields 'abc246xyz'
    s/\d+/sprintf(&quot;%5d&quot;,$&amp;)/e;  # yields 'abc  246xyz'
    s/\w/$&amp; x 2/eg;             # yields 'aabbcc  224466xxyyzz'
    s/%(.)/$percent{$1}/g;      # change percent escapes; no /e
    s/%(.)/$percent{$1} || $&amp;/ge;       # expr now, so /e
    s/^=(\w+)/pod($1)/ge;       # use function call
    $_ = 'abc123xyz';
    $x = s/abc/def/r;           # $x is 'def123xyz' and
                                # $_ remains 'abc123xyz'.
    # expand variables in $_, but dynamics only, using
    # symbolic dereferencing
    s/\$(\w+)/${$1}/g;
    # Add one to the value of any numbers in the string
    s/(\d+)/1 + $1/eg;
    # Titlecase words in the last 30 characters only
    substr($str, -30) =~ s/\b(\p{Alpha}+)\b/\u\L$1/g;
    # This will expand any embedded scalar variable
    # (including lexicals) in $_ : First $1 is interpolated
    # to the variable name, and then evaluated
    s/(\$\w+)/$1/eeg;
    # Delete (most) C comments.
    $program =~ s {
        /\*     # Match the opening delimiter.
        .*?     # Match a minimal number of characters.
        \*/     # Match the closing delimiter.
    } []gsx;
    s/^\s*(.*?)\s*$/$1/;        # trim whitespace in $_,
                                # expensively
    for ($variable) {           # trim whitespace in $variable,
                                # cheap
        s/^\s+//;
        s/\s+$//;
    }
    s/([^ ]*) *([^ ]*)/$2 $1/;  # reverse 1st two fields
    $foo !~ s/A/a/g;    # Lowercase all A's in $foo; return
                        # 0 if any were found and changed;
                        # otherwise return 1
    </pre>
    <p class="Pp">Note the use of <span class="Li">&quot;$&quot;</span> instead
        of <span class="Li">&quot;\&quot;</span> in the last example. Unlike
        <b>sed</b>, we use the \&lt;<i>digit</i>&gt; form only in the left hand
        side. Anywhere else it's $&lt;<i>digit</i>&gt;.</p>
    <p class="Pp">Occasionally, you can't use just a
        <span class="Li">&quot;/g&quot;</span> to get all the changes to occur
        that you might want. Here are two common cases:</p>
    <p class="Pp"></p>
    <pre>    # put commas in the right places in an integer
    1 while s/(\d)(\d\d\d)(?!\d)/$1,$2/g;
    # expand tabs to 8-column spacing
    1 while s/\t+/' ' x (length($&amp;)*8 - length($`)%8)/e;
    </pre>
    <p class="Pp">While <span class="Li">&quot;s///&quot;</span> accepts the
        <span class="Li">&quot;/c&quot;</span> flag, it has no effect beyond
        producing a warning if warnings are enabled.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Quote-Like_Operators"><a class="permalink" href="#Quote-Like_Operators">Quote-Like
  Operators</a></h2>
<dl class="Bl-tag">
  <dt>&quot;q/<i>STRING</i>/&quot;</dt>
  <dd></dd>
  <dt>'<i>STRING</i>'</dt>
  <dd>A single-quoted, literal string. A backslash represents a backslash unless
      followed by the delimiter or another backslash, in which case the
      delimiter or backslash is interpolated.
    <p class="Pp"></p>
    <pre>    $foo = q!I said, &quot;You said, 'She said it.'&quot;!;
    $bar = q('This is it.');
    $baz = '\n';                # a two-character string
    </pre>
  </dd>
  <dt>&quot;qq/<i>STRING</i>/&quot;</dt>
  <dd></dd>
  <dt>&quot;<i>STRING</i>&quot;</dt>
  <dd>A double-quoted, interpolated string.
    <p class="Pp"></p>
    <pre>    $_ .= qq
     (*** The previous line contains the naughty word &quot;$1&quot;.\n)
                if /\b(tcl|java|python)\b/i;      # :-)
    $baz = &quot;\n&quot;;                # a one-character string
    </pre>
  </dd>
  <dt>&quot;qx/<i>STRING</i>/&quot;</dt>
  <dd></dd>
  <dt>&quot;`<i>STRING</i>`&quot;</dt>
  <dd>A string which is (possibly) interpolated and then executed as a system
      command, via <i>/bin/sh</i> or its equivalent if required. Shell
      wildcards, pipes, and redirections will be honored. Similarly to
      <span class="Li">&quot;system&quot;</span>, if the string contains no
      shell metacharacters then it will executed directly. The collected
      standard output of the command is returned; standard error is unaffected.
      In scalar context, it comes back as a single (potentially multi-line)
      string, or <span class="Li">&quot;undef&quot;</span> if the shell (or
      command) could not be started. In list context, returns a list of lines
      (however you've defined lines with <span class="Li">$/</span> or
      <span class="Li">$INPUT_RECORD_SEPARATOR</span>), or an empty list if the
      shell (or command) could not be started.
    <p class="Pp">Because backticks do not affect standard error, use shell file
        descriptor syntax (assuming the shell supports this) if you care to
        address this. To capture a command's STDERR and STDOUT together:</p>
    <p class="Pp"></p>
    <pre>    $output = `cmd 2&gt;&amp;1`;
    </pre>
    <p class="Pp">To capture a command's STDOUT but discard its STDERR:</p>
    <p class="Pp"></p>
    <pre>    $output = `cmd 2&gt;/dev/null`;
    </pre>
    <p class="Pp">To capture a command's STDERR but discard its STDOUT (ordering
        is important here):</p>
    <p class="Pp"></p>
    <pre>    $output = `cmd 2&gt;&amp;1 1&gt;/dev/null`;
    </pre>
    <p class="Pp">To exchange a command's STDOUT and STDERR in order to capture
        the STDERR but leave its STDOUT to come out the old STDERR:</p>
    <p class="Pp"></p>
    <pre>    $output = `cmd 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;-`;
    </pre>
    <p class="Pp">To read both a command's STDOUT and its STDERR separately,
        it's easiest to redirect them separately to files, and then read from
        those files when the program is done:</p>
    <p class="Pp"></p>
    <pre>    system(&quot;program args 1&gt;program.stdout 2&gt;program.stderr&quot;);
    </pre>
    <p class="Pp">The STDIN filehandle used by the command is inherited from
        Perl's STDIN. For example:</p>
    <p class="Pp"></p>
    <pre>    open(SPLAT, &quot;stuff&quot;)   || die &quot;can't open stuff: $!&quot;;
    open(STDIN, &quot;&lt;&amp;SPLAT&quot;) || die &quot;can't dupe SPLAT: $!&quot;;
    print STDOUT `sort`;
    </pre>
    <p class="Pp">will print the sorted contents of the file named
        <i>&quot;stuff&quot;</i>.</p>
    <p class="Pp">Using single-quote as a delimiter protects the command from
        Perl's double-quote interpolation, passing it on to the shell
      instead:</p>
    <p class="Pp"></p>
    <pre>    $perl_info  = qx(ps $$);            # that's Perl's $$
    $shell_info = qx'ps $$';            # that's the new shell's $$
    </pre>
    <p class="Pp">How that string gets evaluated is entirely subject to the
        command interpreter on your system. On most platforms, you will have to
        protect shell metacharacters if you want them treated literally. This is
        in practice difficult to do, as it's unclear how to escape which
        characters. See perlsec for a clean and safe example of a manual
        <span class="Li">&quot;fork()&quot;</span> and
        <span class="Li">&quot;exec()&quot;</span> to emulate backticks
      safely.</p>
    <p class="Pp">On some platforms (notably DOS-like ones), the shell may not
        be capable of dealing with multiline commands, so putting newlines in
        the string may not get you what you want. You may be able to evaluate
        multiple commands in a single line by separating them with the command
        separator character, if your shell supports that (for example,
        <span class="Li">&quot;;&quot;</span> on many Unix shells and
        <span class="Li">&quot;&amp;&quot;</span> on the Windows NT
        <span class="Li">&quot;cmd&quot;</span> shell).</p>
    <p class="Pp">Perl will attempt to flush all files opened for output before
        starting the child process, but this may not be supported on some
        platforms (see perlport). To be safe, you may need to set
        <span class="Li">$|</span> (<span class="Li">$AUTOFLUSH</span> in
        <span class="Li">&quot;English&quot;</span>) or call the
        <span class="Li">&quot;autoflush()&quot;</span> method of
        <span class="Li">&quot;IO::Handle&quot;</span> on any open handles.</p>
    <p class="Pp">Beware that some command shells may place restrictions on the
        length of the command line. You must ensure your strings don't exceed
        this limit after any necessary interpolations. See the platform-specific
        release notes for more details about your particular environment.</p>
    <p class="Pp">Using this operator can lead to programs that are difficult to
        port, because the shell commands called vary between systems, and may in
        fact not be present at all. As one example, the
        <span class="Li">&quot;type&quot;</span> command under the POSIX shell
        is very different from the <span class="Li">&quot;type&quot;</span>
        command under DOS. That doesn't mean you should go out of your way to
        avoid backticks when they're the right way to get something done. Perl
        was made to be a glue language, and one of the things it glues together
        is commands. Just understand what you're getting yourself into.</p>
    <p class="Pp">Like <span class="Li">&quot;system&quot;</span>, backticks put
        the child process exit code in <span class="Li">$?</span>. If you'd like
        to manually inspect failure, you can check all possible failure modes by
        inspecting <span class="Li">$?</span> like this:</p>
    <p class="Pp"></p>
    <pre>    if ($? == -1) {
        print &quot;failed to execute: $!\n&quot;;
    }
    elsif ($? &amp; 127) {
        printf &quot;child died with signal %d, %s coredump\n&quot;,
            ($? &amp; 127),  ($? &amp; 128) ? 'with' : 'without';
    }
    else {
        printf &quot;child exited with value %d\n&quot;, $? &gt;&gt; 8;
    }
    </pre>
    <p class="Pp">Use the open pragma to control the I/O layers used when
        reading the output of the command, for example:</p>
    <p class="Pp"></p>
    <pre>  use open IN =&gt; &quot;:encoding(UTF-8)&quot;;
  my $x = `cmd-producing-utf-8`;
    </pre>
    <p class="Pp"><span class="Li">&quot;qx//&quot;</span> can also be called
        like a function with &quot;readpipe&quot; in perlfunc.</p>
    <p class="Pp">See &quot;I/O Operators&quot; for more discussion.</p>
  </dd>
  <dt>&quot;qw/<i>STRING</i>/&quot;</dt>
  <dd>Evaluates to a list of the words extracted out of <i>STRING</i>, using
      embedded whitespace as the word delimiters. It can be understood as being
      roughly equivalent to:
    <p class="Pp"></p>
    <pre>    split(&quot; &quot;, q/STRING/);
    </pre>
    <p class="Pp">the differences being that it only splits on ASCII whitespace,
        generates a real list at compile time, and in scalar context it returns
        the last element in the list. So this expression:</p>
    <p class="Pp"></p>
    <pre>    qw(foo bar baz)
    </pre>
    <p class="Pp">is semantically equivalent to the list:</p>
    <p class="Pp"></p>
    <pre>    &quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;
    </pre>
    <p class="Pp">Some frequently seen examples:</p>
    <p class="Pp"></p>
    <pre>    use POSIX qw( setlocale localeconv )
    @EXPORT = qw( foo bar baz );
    </pre>
    <p class="Pp">A common mistake is to try to separate the words with commas
        or to put comments into a multi-line
        <span class="Li">&quot;qw&quot;</span>-string. For this reason, the
        <span class="Li">&quot;use&#x00A0;warnings&quot;</span> pragma and the
        <b>-w</b> switch (that is, the <span class="Li">$^W</span> variable)
        produces warnings if the <i>STRING</i> contains the
        <span class="Li">&quot;,&quot;</span> or the
        <span class="Li">&quot;#&quot;</span> character.</p>
  </dd>
  <dt>&quot;tr/<i>SEARCHLIST</i>/<i>REPLACEMENTLIST</i>/cdsr&quot;</dt>
  <dd></dd>
  <dt>&quot;y/<i>SEARCHLIST</i>/<i>REPLACEMENTLIST</i>/cdsr&quot;</dt>
  <dd>Transliterates all occurrences of the characters found (or not found if
      the <span class="Li">&quot;/c&quot;</span> modifier is specified) in the
      search list with the positionally corresponding character in the
      replacement list, possibly deleting some, depending on the modifiers
      specified. It returns the number of characters replaced or deleted. If no
      string is specified via the <span class="Li">&quot;=~&quot;</span> or
      <span class="Li">&quot;!~&quot;</span> operator, the
      <span class="Li">$_</span> string is transliterated.
    <p class="Pp">For <b>sed</b> devotees, <span class="Li">&quot;y&quot;</span>
        is provided as a synonym for <span class="Li">&quot;tr&quot;</span>.</p>
    <p class="Pp">If the <span class="Li">&quot;/r&quot;</span>
        (non-destructive) option is present, a new copy of the string is made
        and its characters transliterated, and this copy is returned no matter
        whether it was modified or not: the original string is always left
        unchanged. The new copy is always a plain string, even if the input
        string is an object or a tied variable.</p>
    <p class="Pp">Unless the <span class="Li">&quot;/r&quot;</span> option is
        used, the string specified with <span class="Li">&quot;=~&quot;</span>
        must be a scalar variable, an array element, a hash element, or an
        assignment to one of those; in other words, an lvalue.</p>
    <p class="Pp">The characters delimitting <i>SEARCHLIST</i> and
        <i>REPLACEMENTLIST</i> can be any printable character, not just forward
        slashes. If they are single quotes
        (<span class="Li">&quot;tr'</span><span class="Li"><i>SEARCHLIST</i></span><span class="Li">'</span><span class="Li"><i>REPLACEMENTLIST</i></span><span class="Li">'&quot;</span>),
        the only interpolation is removal of
        <span class="Li">&quot;\&quot;</span> from pairs of
        <span class="Li">&quot;\\&quot;</span>.</p>
    <p class="Pp">Otherwise, a character range may be specified with a hyphen,
        so <span class="Li">&quot;tr/A-J/0-9/&quot;</span> does the same
        replacement as
        <span class="Li">&quot;tr/ACEGIBDFHJ/0246813579/&quot;</span>.</p>
    <p class="Pp">If the <i>SEARCHLIST</i> is delimited by bracketing quotes,
        the <i>REPLACEMENTLIST</i> must have its own pair of quotes, which may
        or may not be bracketing quotes; for example,
        <span class="Li">&quot;tr[aeiouy][yuoiea]&quot;</span> or
        <span class="Li">&quot;tr(+\-*/)/ABCD/&quot;</span>.</p>
    <p class="Pp">Characters may be literals, or (if the delimiters aren't
        single quotes) any of the escape sequences accepted in double-quoted
        strings. But there is never any variable interpolation, so
        <span class="Li">&quot;$&quot;</span> and
        <span class="Li">&quot;@&quot;</span> are always treated as literals. A
        hyphen at the beginning or end, or preceded by a backslash is also
        always considered a literal. Escape sequence details are in the table
        near the beginning of this section.</p>
    <p class="Pp">Note that <span class="Li">&quot;tr&quot;</span> does
        <b>not</b> do regular expression character classes such as
        <span class="Li">&quot;\d&quot;</span> or
        <span class="Li">&quot;\pL&quot;</span>. The
        <span class="Li">&quot;tr&quot;</span> operator is not equivalent to the
        <span class="Li">tr(1)</span> utility.
        <span class="Li">&quot;tr[a-z][A-Z]&quot;</span> will uppercase the 26
        letters &quot;a&quot; through &quot;z&quot;, but for case changing not
        confined to ASCII, use <span class="Li">&quot;lc&quot;</span>,
        <span class="Li">&quot;uc&quot;</span>,
        <span class="Li">&quot;lcfirst&quot;</span>,
        <span class="Li">&quot;ucfirst&quot;</span> (all documented in
        perlfunc), or the substitution operator
        <span class="Li">&quot;s/</span><span class="Li"><i>PATTERN</i></span><span class="Li">/</span><span class="Li"><i>REPLACEMENT</i></span><span class="Li">/&quot;</span>
        (with <span class="Li">&quot;\U&quot;</span>,
        <span class="Li">&quot;\u&quot;</span>,
        <span class="Li">&quot;\L&quot;</span>, and
        <span class="Li">&quot;\l&quot;</span> string-interpolation escapes in
        the <i>REPLACEMENT</i> portion).</p>
    <p class="Pp">Most ranges are unportable between character sets, but certain
        ones signal Perl to do special handling to make them portable. There are
        two classes of portable ranges. The first are any subsets of the ranges
        <span class="Li">&quot;A-Z&quot;</span>,
        <span class="Li">&quot;a-z&quot;</span>, and
        <span class="Li">&quot;0-9&quot;</span>, when expressed as literal
        characters.</p>
    <p class="Pp"></p>
    <pre>  tr/h-k/H-K/
    </pre>
    <p class="Pp">capitalizes the letters <span class="Li">&quot;h&quot;</span>,
        <span class="Li">&quot;i&quot;</span>,
        <span class="Li">&quot;j&quot;</span>, and
        <span class="Li">&quot;k&quot;</span> and nothing else, no matter what
        the platform's character set is. In contrast, all of</p>
    <p class="Pp"></p>
    <pre>  tr/\x68-\x6B/\x48-\x4B/
  tr/h-\x6B/H-\x4B/
  tr/\x68-k/\x48-K/
    </pre>
    <p class="Pp">do the same capitalizations as the previous example when run
        on ASCII platforms, but something completely different on EBCDIC
      ones.</p>
    <p class="Pp">The second class of portable ranges is invoked when one or
        both of the range's end points are expressed as
        <span class="Li">&quot;\N{...}&quot;</span></p>
    <p class="Pp"></p>
    <pre> $string =~ tr/\N{U+20}-\N{U+7E}//d;
    </pre>
    <p class="Pp">removes from <span class="Li">$string</span> all the
        platform's characters which are equivalent to any of Unicode U+0020,
        U+0021, ... U+007D, U+007E. This is a portable range, and has the same
        effect on every platform it is run on. In this example, these are the
        ASCII printable characters. So after this is run,
        <span class="Li">$string</span> has only controls and characters which
        have no ASCII equivalents.</p>
    <p class="Pp">But, even for portable ranges, it is not generally obvious
        what is included without having to look things up in the manual. A sound
        principle is to use only ranges that both begin from, and end at, either
        ASCII alphabetics of equal case
        (<span class="Li">&quot;b-e&quot;</span>,
        <span class="Li">&quot;B-E&quot;</span>), or digits
        (<span class="Li">&quot;1-4&quot;</span>). Anything else is unclear (and
        unportable unless <span class="Li">&quot;\N{...}&quot;</span> is used).
        If in doubt, spell out the character sets in full.</p>
    <p class="Pp">Options:</p>
    <p class="Pp"></p>
    <pre>    c   Complement the SEARCHLIST.
    d   Delete found but unreplaced characters.
    r   Return the modified string and leave the original string
        untouched.
    s   Squash duplicate replaced characters.
    </pre>
    <p class="Pp">If the <span class="Li">&quot;/d&quot;</span> modifier is
        specified, any characters specified by <i>SEARCHLIST</i> not found in
        <i>REPLACEMENTLIST</i> are deleted. (Note that this is slightly more
        flexible than the behavior of some <b>tr</b> programs, which delete
        anything they find in the <i>SEARCHLIST</i>, period.)</p>
    <p class="Pp">If the <span class="Li">&quot;/s&quot;</span> modifier is
        specified, sequences of characters, all in a row, that were
        transliterated to the same character are squashed down to a single
        instance of that character.</p>
    <p class="Pp"></p>
    <pre> my $a = &quot;aaabbbca&quot;;
 $a =~ tr/ab/dd/s;     # $a now is &quot;dcd&quot;
    </pre>
    <p class="Pp">If the <span class="Li">&quot;/d&quot;</span> modifier is
        used, the <i>REPLACEMENTLIST</i> is always interpreted exactly as
        specified. Otherwise, if the <i>REPLACEMENTLIST</i> is shorter than the
        <i>SEARCHLIST</i>, the final character, if any, is replicated until it
        is long enough. There won't be a final character if and only if the
        <i>REPLACEMENTLIST</i> is empty, in which case <i>REPLACEMENTLIST</i> is
        copied from <i>SEARCHLIST</i>. An empty <i>REPLACEMENTLIST</i> is useful
        for counting characters in a class, or for squashing character sequences
        in a class.</p>
    <p class="Pp"></p>
    <pre>    tr/abcd//            tr/abcd/abcd/
    tr/abcd/AB/          tr/abcd/ABBB/
    tr/abcd//d           s/[abcd]//g
    tr/abcd/AB/d         (tr/ab/AB/ + s/[cd]//g)  - but run together
    </pre>
    <p class="Pp">If the <span class="Li">&quot;/c&quot;</span> modifier is
        specified, the characters to be transliterated are the ones NOT in
        <i>SEARCHLIST</i>, that is, it is complemented. If
        <span class="Li">&quot;/d&quot;</span> and/or
        <span class="Li">&quot;/s&quot;</span> are also specified, they apply to
        the complemented <i>SEARCHLIST</i>. Recall, that if
        <i>REPLACEMENTLIST</i> is empty (except under
        <span class="Li">&quot;/d&quot;</span>) a copy of <i>SEARCHLIST</i> is
        used instead. That copy is made after complementing under
        <span class="Li">&quot;/c&quot;</span>. <i>SEARCHLIST</i> is sorted by
        code point order after complementing, and any <i>REPLACEMENTLIST</i> is
        applied to that sorted result. This means that under
        <span class="Li">&quot;/c&quot;</span>, the order of the characters
        specified in <i>SEARCHLIST</i> is irrelevant. This can lead to different
        results on EBCDIC systems if <i>REPLACEMENTLIST</i> contains more than
        one character, hence it is generally non-portable to use
        <span class="Li">&quot;/c&quot;</span> with such a
        <i>REPLACEMENTLIST</i>.</p>
    <p class="Pp">Another way of describing the operation is this: If
        <span class="Li">&quot;/c&quot;</span> is specified, the
        <i>SEARCHLIST</i> is sorted by code point order, then complemented. If
        <i>REPLACEMENTLIST</i> is empty and
        <span class="Li">&quot;/d&quot;</span> is not specified,
        <i>REPLACEMENTLIST</i> is replaced by a copy of <i>SEARCHLIST</i> (as
        modified under <span class="Li">&quot;/c&quot;</span>), and these
        potentially modified lists are used as the basis for what follows. Any
        character in the target string that isn't in <i>SEARCHLIST</i> is passed
        through unchanged. Every other character in the target string is
        replaced by the character in <i>REPLACEMENTLIST</i> that positionally
        corresponds to its mate in <i>SEARCHLIST</i>, except that under
        <span class="Li">&quot;/s&quot;</span>, the 2nd and following characters
        are squeezed out in a sequence of characters in a row that all translate
        to the same character. If <i>SEARCHLIST</i> is longer than
        <i>REPLACEMENTLIST</i>, characters in the target string that match a
        character in <i>SEARCHLIST</i> that doesn't have a correspondence in
        <i>REPLACEMENTLIST</i> are either deleted from the target string if
        <span class="Li">&quot;/d&quot;</span> is specified; or replaced by the
        final character in <i>REPLACEMENTLIST</i> if
        <span class="Li">&quot;/d&quot;</span> isn't specified.</p>
    <p class="Pp">Some examples:</p>
    <p class="Pp"></p>
    <pre> $ARGV[1] =~ tr/A-Z/a-z/;   # canonicalize to lower case ASCII
 $cnt = tr/*/*/;            # count the stars in $_
 $cnt = tr/*//;             # same thing
 $cnt = $sky =~ tr/*/*/;    # count the stars in $sky
 $cnt = $sky =~ tr/*//;     # same thing
 $cnt = $sky =~ tr/*//c;    # count all the non-stars in $sky
 $cnt = $sky =~ tr/*/*/c;   # same, but transliterate each non-star
                            # into a star, leaving the already-stars
                            # alone.  Afterwards, everything in $sky
                            # is a star.
 $cnt = tr/0-9//;           # count the ASCII digits in $_
 tr/a-zA-Z//s;              # bookkeeper -&gt; bokeper
 tr/o/o/s;                  # bookkeeper -&gt; bokkeeper
 tr/oe/oe/s;                # bookkeeper -&gt; bokkeper
 tr/oe//s;                  # bookkeeper -&gt; bokkeper
 tr/oe/o/s;                 # bookkeeper -&gt; bokkopor
 ($HOST = $host) =~ tr/a-z/A-Z/;
  $HOST = $host  =~ tr/a-z/A-Z/r; # same thing
 $HOST = $host =~ tr/a-z/A-Z/r   # chained with s///r
               =~ s/:/ -p/r;
 tr/a-zA-Z/ /cs;                 # change non-alphas to single space
 @stripped = map tr/a-zA-Z/ /csr, @original;
                                 # /r with map
 tr [\200-\377]
    [\000-\177];                 # wickedly delete 8th bit
 $foo !~ tr/A/a/    # transliterate all the A's in $foo to 'a',
                    # return 0 if any were found and changed.
                    # Otherwise return 1
    </pre>
    <p class="Pp">If multiple transliterations are given for a character, only
        the first one is used:</p>
    <p class="Pp"></p>
    <pre> tr/AAA/XYZ/
    </pre>
    <p class="Pp">will transliterate any A to X.</p>
    <p class="Pp">Because the transliteration table is built at compile time,
        neither the <i>SEARCHLIST</i> nor the <i>REPLACEMENTLIST</i> are
        subjected to double quote interpolation. That means that if you want to
        use variables, you must use an
        <span class="Li">&quot;eval()&quot;</span>:</p>
    <p class="Pp"></p>
    <pre> eval &quot;tr/$oldlist/$newlist/&quot;;
 die $@ if $@;
 eval &quot;tr/$oldlist/$newlist/, 1&quot; or die $@;
    </pre>
  </dd>
  <dt>&quot;&lt;&lt;<i>EOF</i>&quot;</dt>
  <dd>A line-oriented form of quoting is based on the shell
      &quot;here-document&quot; syntax. Following a
      <span class="Li">&quot;&lt;&lt;&quot;</span> you specify a string to
      terminate the quoted material, and all lines following the current line
      down to the terminating string are the value of the item.
    <p class="Pp">Prefixing the terminating string with a
        <span class="Li">&quot;~&quot;</span> specifies that you want to use
        &quot;Indented Here-docs&quot; (see below).</p>
    <p class="Pp">The terminating string may be either an identifier (a word),
        or some quoted text. An unquoted identifier works like double quotes.
        There may not be a space between the
        <span class="Li">&quot;&lt;&lt;&quot;</span> and the identifier, unless
        the identifier is explicitly quoted. The terminating string must appear
        by itself (unquoted and with no surrounding whitespace) on the
        terminating line.</p>
    <p class="Pp">If the terminating string is quoted, the type of quotes used
        determine the treatment of the text.</p>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="Double"><a class="permalink" href="#Double">Double Quotes</a></dt>
  <dd>Double quotes indicate that the text will be interpolated using exactly
      the same rules as normal double quoted strings.
    <p class="Pp"></p>
    <pre>       print &lt;&lt;EOF;
    The price is $Price.
    EOF
       print &lt;&lt; &quot;EOF&quot;; # same as above
    The price is $Price.
    EOF
    </pre>
  </dd>
  <dt id="Single"><a class="permalink" href="#Single">Single Quotes</a></dt>
  <dd>Single quotes indicate the text is to be treated literally with no
      interpolation of its content. This is similar to single quoted strings
      except that backslashes have no special meaning, with
      <span class="Li">&quot;\\&quot;</span> being treated as two backslashes
      and not one as they would in every other quoting construct.
    <p class="Pp">Just as in the shell, a backslashed bareword following the
        <span class="Li">&quot;&lt;&lt;&quot;</span> means the same thing as a
        single-quoted string does:</p>
    <p class="Pp"></p>
    <pre>        $cost = &lt;&lt;'VISTA';  # hasta la ...
    That'll be $10 please, ma'am.
    VISTA
        $cost = &lt;&lt;\VISTA;   # Same thing!
    That'll be $10 please, ma'am.
    VISTA
    </pre>
    <p class="Pp">This is the only form of quoting in perl where there is no
        need to worry about escaping content, something that code generators can
        and do make good use of.</p>
  </dd>
  <dt id="Backticks"><a class="permalink" href="#Backticks">Backticks</a></dt>
  <dd>The content of the here doc is treated just as it would be if the string
      were embedded in backticks. Thus the content is interpolated as though it
      were double quoted and then executed via the shell, with the results of
      the execution returned.
    <p class="Pp"></p>
    <pre>       print &lt;&lt; `EOC`; # execute command and get results
    echo hi there
    EOC
    </pre>
  </dd>
</dl>
</div>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="Indented"><a class="permalink" href="#Indented">Indented
    Here-docs</a></dt>
  <dd>The here-doc modifier <span class="Li">&quot;~&quot;</span> allows you to
      indent your here-docs to make the code more readable:
    <p class="Pp"></p>
    <pre>    if ($some_var) {
      print &lt;&lt;~EOF;
        This is a here-doc
        EOF
    }
    </pre>
    <p class="Pp">This will print...</p>
    <p class="Pp"></p>
    <pre>    This is a here-doc
    </pre>
    <p class="Pp">...with no leading whitespace.</p>
    <p class="Pp">The delimiter is used to determine the <b>exact</b> whitespace
        to remove from the beginning of each line. All lines <b>must</b> have at
        least the same starting whitespace (except lines only containing a
        newline) or perl will croak. Tabs and spaces can be mixed, but are
        matched exactly. One tab will not be equal to 8 spaces!</p>
    <p class="Pp">Additional beginning whitespace (beyond what preceded the
        delimiter) will be preserved:</p>
    <p class="Pp"></p>
    <pre>    print &lt;&lt;~EOF;
      This text is not indented
        This text is indented with two spaces
                This text is indented with two tabs
      EOF
    </pre>
    <p class="Pp">Finally, the modifier may be used with all of the forms
        mentioned above:</p>
    <p class="Pp"></p>
    <pre>    &lt;&lt;~\EOF;
    &lt;&lt;~'EOF'
    &lt;&lt;~&quot;EOF&quot;
    &lt;&lt;~`EOF`
    </pre>
    <p class="Pp">And whitespace may be used between the
        <span class="Li">&quot;~&quot;</span> and quoted delimiters:</p>
    <p class="Pp"></p>
    <pre>    &lt;&lt;~ 'EOF'; # ... &quot;EOF&quot;, `EOF`
    </pre>
  </dd>
</dl>
</div>
<div class="Bd-indent">
<p class="Pp">It is possible to stack multiple here-docs in a row:</p>
<p class="Pp"></p>
<pre>       print &lt;&lt;&quot;foo&quot;, &lt;&lt;&quot;bar&quot;; # you can stack them
    I said foo.
    foo
    I said bar.
    bar
       myfunc(&lt;&lt; &quot;THIS&quot;, 23, &lt;&lt;'THAT');
    Here's a line
    or two.
    THIS
    and here's another.
    THAT
</pre>
<p class="Pp">Just don't forget that you have to put a semicolon on the end to
    finish the statement, as Perl doesn't know you're not going to try to do
    this:</p>
<p class="Pp"></p>
<pre>       print &lt;&lt;ABC
    179231
    ABC
       + 20;
</pre>
<p class="Pp">If you want to remove the line terminator from your here-docs, use
    <span class="Li">&quot;chomp()&quot;</span>.</p>
<p class="Pp"></p>
<pre>    chomp($string = &lt;&lt;'END');
    This is a string.
    END
</pre>
<p class="Pp">If you want your here-docs to be indented with the rest of the
    code, use the <span class="Li">&quot;&lt;&lt;~FOO&quot;</span> construct
    described under &quot;Indented Here-docs&quot;:</p>
<p class="Pp"></p>
<pre>    $quote = &lt;&lt;~'FINIS';
       The Road goes ever on and on,
       down from the door where it began.
       FINIS
</pre>
<p class="Pp">If you use a here-doc within a delimited construct, such as in
    <span class="Li">&quot;s///eg&quot;</span>, the quoted material must still
    come on the line following the
    <span class="Li">&quot;&lt;&lt;FOO&quot;</span> marker, which means it may
    be inside the delimited construct:</p>
<p class="Pp"></p>
<pre>    s/this/&lt;&lt;E . 'that'
    the other
    E
     . 'more '/eg;
</pre>
<p class="Pp">It works this way as of Perl 5.18. Historically, it was
    inconsistent, and you would have to write</p>
<p class="Pp"></p>
<pre>    s/this/&lt;&lt;E . 'that'
     . 'more '/eg;
    the other
    E
</pre>
<p class="Pp">outside of string evals.</p>
<p class="Pp">Additionally, quoting rules for the end-of-string identifier are
    unrelated to Perl's quoting rules. <span class="Li">&quot;q()&quot;</span>,
    <span class="Li">&quot;qq()&quot;</span>, and the like are not supported in
    place of <span class="Li">''</span> and
    <span class="Li">&quot;&quot;</span>, and the only interpolation is for
    backslashing the quoting character:</p>
<p class="Pp"></p>
<pre>    print &lt;&lt; &quot;abc\&quot;def&quot;;
    testing...
    abc&quot;def
</pre>
<p class="Pp">Finally, quoted strings cannot span multiple lines. The general
    rule is that the identifier must be a string literal. Stick with that, and
    you should be safe.</p>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="Gory_details_of_parsing_quoted_constructs"><a class="permalink" href="#Gory_details_of_parsing_quoted_constructs">Gory
  details of parsing quoted constructs</a></h2>
<p class="Pp">When presented with something that might have several different
    interpretations, Perl uses the <b>DWIM</b> (that's &quot;Do What I
    Mean&quot;) principle to pick the most probable interpretation. This
    strategy is so successful that Perl programmers often do not suspect the
    ambivalence of what they write. But from time to time, Perl's notions differ
    substantially from what the author honestly meant.</p>
<p class="Pp">This section hopes to clarify how Perl handles quoted constructs.
    Although the most common reason to learn this is to unravel labyrinthine
    regular expressions, because the initial steps of parsing are the same for
    all quoting operators, they are all discussed together.</p>
<p class="Pp">The most important Perl parsing rule is the first one discussed
    below: when processing a quoted construct, Perl first finds the end of that
    construct, then interprets its contents. If you understand this rule, you
    may skip the rest of this section on the first reading. The other rules are
    likely to contradict the user's expectations much less frequently than this
    first one.</p>
<p class="Pp">Some passes discussed below are performed concurrently, but
    because their results are the same, we consider them individually. For
    different quoting constructs, Perl performs different numbers of passes,
    from one to four, but these passes are always performed in the same
  order.</p>
<dl class="Bl-tag">
  <dt id="Finding"><a class="permalink" href="#Finding">Finding the end</a></dt>
  <dd>The first pass is finding the end of the quoted construct. This results in
      saving to a safe location a copy of the text (between the starting and
      ending delimiters), normalized as necessary to avoid needing to know what
      the original delimiters were.
    <p class="Pp">If the construct is a here-doc, the ending delimiter is a line
        that has a terminating string as the content. Therefore
        <span class="Li">&quot;&lt;&lt;EOF&quot;</span> is terminated by
        <span class="Li">&quot;EOF&quot;</span> immediately followed by
        <span class="Li">&quot;\n&quot;</span> and starting from the first
        column of the terminating line. When searching for the terminating line
        of a here-doc, nothing is skipped. In other words, lines after the
        here-doc syntax are compared with the terminating string line by
      line.</p>
    <p class="Pp">For the constructs except here-docs, single characters are
        used as starting and ending delimiters. If the starting delimiter is an
        opening punctuation (that is <span class="Li">&quot;(&quot;</span>,
        <span class="Li">&quot;[&quot;</span>,
        <span class="Li">&quot;{&quot;</span>, or
        <span class="Li">&quot;&lt;&quot;</span>), the ending delimiter is the
        corresponding closing punctuation (that is
        <span class="Li">&quot;)&quot;</span>,
        <span class="Li">&quot;]&quot;</span>,
        <span class="Li">&quot;}&quot;</span>, or
        <span class="Li">&quot;&gt;&quot;</span>). If the starting delimiter is
        an unpaired character like <span class="Li">&quot;/&quot;</span> or a
        closing punctuation, the ending delimiter is the same as the starting
        delimiter. Therefore a <span class="Li">&quot;/&quot;</span> terminates
        a <span class="Li">&quot;qq//&quot;</span> construct, while a
        <span class="Li">&quot;]&quot;</span> terminates both
        <span class="Li">&quot;qq[]&quot;</span> and
        <span class="Li">&quot;qq]]&quot;</span> constructs.</p>
    <p class="Pp">When searching for single-character delimiters, escaped
        delimiters and <span class="Li">&quot;\\&quot;</span> are skipped. For
        example, while searching for terminating
        <span class="Li">&quot;/&quot;</span>, combinations of
        <span class="Li">&quot;\\&quot;</span> and
        <span class="Li">&quot;\/&quot;</span> are skipped. If the delimiters
        are bracketing, nested pairs are also skipped. For example, while
        searching for a closing <span class="Li">&quot;]&quot;</span> paired
        with the opening <span class="Li">&quot;[&quot;</span>, combinations of
        <span class="Li">&quot;\\&quot;</span>,
        <span class="Li">&quot;\]&quot;</span>, and
        <span class="Li">&quot;\[&quot;</span> are all skipped, and nested
        <span class="Li">&quot;[&quot;</span> and
        <span class="Li">&quot;]&quot;</span> are skipped as well. However, when
        backslashes are used as the delimiters (like
        <span class="Li">&quot;qq\\&quot;</span> and
        <span class="Li">&quot;tr\\\&quot;</span>), nothing is skipped. During
        the search for the end, backslashes that escape delimiters or other
        backslashes are removed (exactly speaking, they are not copied to the
        safe location).</p>
    <p class="Pp">For constructs with three-part delimiters
        (<span class="Li">&quot;s///&quot;</span>,
        <span class="Li">&quot;y///&quot;</span>, and
        <span class="Li">&quot;tr///&quot;</span>), the search is repeated once
        more. If the first delimiter is not an opening punctuation, the three
        delimiters must be the same, such as
        <span class="Li">&quot;s!!!&quot;</span> and
        <span class="Li">&quot;tr)))&quot;</span>, in which case the second
        delimiter terminates the left part and starts the right part at once. If
        the left part is delimited by bracketing punctuation (that is
        <span class="Li">&quot;()&quot;</span>,
        <span class="Li">&quot;[]&quot;</span>,
        <span class="Li">&quot;{}&quot;</span>, or
        <span class="Li">&quot;&lt;&gt;&quot;</span>), the right part needs
        another pair of delimiters such as
        <span class="Li">&quot;s(){}&quot;</span> and
        <span class="Li">&quot;tr[]//&quot;</span>. In these cases, whitespace
        and comments are allowed between the two parts, although the comment
        must follow at least one whitespace character; otherwise a character
        expected as the start of the comment may be regarded as the starting
        delimiter of the right part.</p>
    <p class="Pp">During this search no attention is paid to the semantics of
        the construct. Thus:</p>
    <p class="Pp"></p>
    <pre>    &quot;$hash{&quot;$foo/$bar&quot;}&quot;
    </pre>
    <p class="Pp">or:</p>
    <p class="Pp"></p>
    <pre>    m/
      bar       # NOT a comment, this slash / terminated m//!
     /x
    </pre>
    <p class="Pp">do not form legal quoted expressions. The quoted part ends on
        the first <span class="Li">&quot;&quot;&quot;</span> and
        <span class="Li">&quot;/&quot;</span>, and the rest happens to be a
        syntax error. Because the slash that terminated
        <span class="Li">&quot;m//&quot;</span> was followed by a
        <span class="Li">&quot;SPACE&quot;</span>, the example above is not
        <span class="Li">&quot;m//x&quot;</span>, but rather
        <span class="Li">&quot;m//&quot;</span> with no
        <span class="Li">&quot;/x&quot;</span> modifier. So the embedded
        <span class="Li">&quot;#&quot;</span> is interpreted as a literal
        <span class="Li">&quot;#&quot;</span>.</p>
    <p class="Pp">Also no attention is paid to
        <span class="Li">&quot;\c\&quot;</span> (multichar control char syntax)
        during this search. Thus the second
        <span class="Li">&quot;\&quot;</span> in
        <span class="Li">&quot;qq/\c\/&quot;</span> is interpreted as a part of
        <span class="Li">&quot;\/&quot;</span>, and the following
        <span class="Li">&quot;/&quot;</span> is not recognized as a delimiter.
        Instead, use <span class="Li">&quot;\034&quot;</span> or
        <span class="Li">&quot;\x1c&quot;</span> at the end of quoted
        constructs.</p>
  </dd>
  <dt id="Interpolation"><a class="permalink" href="#Interpolation">Interpolation</a></dt>
  <dd>The next step is interpolation in the text obtained, which is now
      delimiter-independent. There are multiple cases.</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>&quot;&lt;&lt;'EOF'&quot;</dt>
  <dd>No interpolation is performed. Note that the combination
      <span class="Li">&quot;\\&quot;</span> is left intact, since escaped
      delimiters are not available for here-docs.</dd>
  <dt>&quot;m''&quot;, the pattern of &quot;s'''&quot;</dt>
  <dd>No interpolation is performed at this stage. Any backslashed sequences
      including <span class="Li">&quot;\\&quot;</span> are treated at the stage
      to &quot;parsing regular expressions&quot;.</dd>
  <dt>'', &quot;q//&quot;, &quot;tr'''&quot;, &quot;y'''&quot;, the replacement
    of &quot;s'''&quot;</dt>
  <dd>The only interpolation is removal of <span class="Li">&quot;\&quot;</span>
      from pairs of <span class="Li">&quot;\\&quot;</span>. Therefore
      <span class="Li">&quot;-&quot;</span> in
      <span class="Li">&quot;tr'''&quot;</span> and
      <span class="Li">&quot;y'''&quot;</span> is treated literally as a hyphen
      and no character range is available.
      <span class="Li">&quot;\1&quot;</span> in the replacement of
      <span class="Li">&quot;s'''&quot;</span> does not work as
      <span class="Li">$1</span>.</dd>
  <dt>&quot;tr///&quot;, &quot;y///&quot;</dt>
  <dd>No variable interpolation occurs. String modifying combinations for case
      and quoting such as <span class="Li">&quot;\Q&quot;</span>,
      <span class="Li">&quot;\U&quot;</span>, and
      <span class="Li">&quot;\E&quot;</span> are not recognized. The other
      escape sequences such as <span class="Li">&quot;\200&quot;</span> and
      <span class="Li">&quot;\t&quot;</span> and backslashed characters such as
      <span class="Li">&quot;\\&quot;</span> and
      <span class="Li">&quot;\-&quot;</span> are converted to appropriate
      literals. The character <span class="Li">&quot;-&quot;</span> is treated
      specially and therefore <span class="Li">&quot;\-&quot;</span> is treated
      as a literal <span class="Li">&quot;-&quot;</span>.</dd>
  <dt>&quot;&quot;, &quot;``&quot;, &quot;qq//&quot;, &quot;qx//&quot;,
    &quot;&lt;file*glob&gt;&quot;, &quot;&lt;&lt;&quot;EOF&quot;&quot;</dt>
  <dd><span class="Li">&quot;\Q&quot;</span>,
      <span class="Li">&quot;\U&quot;</span>,
      <span class="Li">&quot;\u&quot;</span>,
      <span class="Li">&quot;\L&quot;</span>,
      <span class="Li">&quot;\l&quot;</span>,
      <span class="Li">&quot;\F&quot;</span> (possibly paired with
      <span class="Li">&quot;\E&quot;</span>) are converted to corresponding
      Perl constructs. Thus, <span class="Li">&quot;$foo\Qbaz$bar&quot;</span>
      is converted to
      <span class="Li">&quot;$foo&#x00A0;.&#x00A0;(quotemeta(&quot;baz&quot;&#x00A0;.&#x00A0;$bar))&quot;</span>
      internally. The other escape sequences such as
      <span class="Li">&quot;\200&quot;</span> and
      <span class="Li">&quot;\t&quot;</span> and backslashed characters such as
      <span class="Li">&quot;\\&quot;</span> and
      <span class="Li">&quot;\-&quot;</span> are replaced with appropriate
      expansions.
    <p class="Pp">Let it be stressed that <i>whatever falls between
        </i><span class="Li"><i>&quot;\Q&quot;</i></span><i> and
        </i><span class="Li"><i>&quot;\E&quot;</i></span><i></i> is interpolated
        in the usual way. Something like
        <span class="Li">&quot;\Q\\E&quot;</span> has no
        <span class="Li">&quot;\E&quot;</span> inside. Instead, it has
        <span class="Li">&quot;\Q&quot;</span>,
        <span class="Li">&quot;\\&quot;</span>, and
        <span class="Li">&quot;E&quot;</span>, so the result is the same as for
        <span class="Li">&quot;\\\\E&quot;</span>. As a general rule,
        backslashes between <span class="Li">&quot;\Q&quot;</span> and
        <span class="Li">&quot;\E&quot;</span> may lead to counterintuitive
        results. So, <span class="Li">&quot;\Q\t\E&quot;</span> is converted to
        <span class="Li">&quot;quotemeta(&quot;\t&quot;)&quot;</span>, which is
        the same as <span class="Li">&quot;\\\t&quot;</span> (since TAB is not
        alphanumeric). Note also that:</p>
    <p class="Pp"></p>
    <pre>  $str = '\t';
  return &quot;\Q$str&quot;;
    </pre>
    <p class="Pp">may be closer to the conjectural <i>intention</i> of the
        writer of <span class="Li">&quot;\Q\t\E&quot;</span>.</p>
    <p class="Pp">Interpolated scalars and arrays are converted internally to
        the <span class="Li">&quot;join&quot;</span> and
        <span class="Li">&quot;.&quot;</span> catenation operations. Thus,
        <span class="Li">&quot;$foo&#x00A0;XXX&#x00A0;'@arr'&quot;</span>
        becomes:</p>
    <p class="Pp"></p>
    <pre>  $foo . &quot; XXX '&quot; . (join $&quot;, @arr) . &quot;'&quot;;
    </pre>
    <p class="Pp">All operations above are performed simultaneously, left to
        right.</p>
    <p class="Pp">Because the result of
        <span class="Li">&quot;\Q&#x00A0;</span><span class="Li"><i>STRING</i></span><span class="Li">&#x00A0;\E&quot;</span>
        has all metacharacters quoted, there is no way to insert a literal
        <span class="Li">&quot;$&quot;</span> or
        <span class="Li">&quot;@&quot;</span> inside a
        <span class="Li">&quot;\Q\E&quot;</span> pair. If protected by
        <span class="Li">&quot;\&quot;</span>,
        <span class="Li">&quot;$&quot;</span> will be quoted to become
        <span class="Li">&quot;\\\$&quot;</span>; if not, it is interpreted as
        the start of an interpolated scalar.</p>
    <p class="Pp">Note also that the interpolation code needs to make a decision
        on where the interpolated scalar ends. For instance, whether
        <span class="Li">&quot;a&#x00A0;$x&#x00A0;-&gt;&#x00A0;{c}&quot;</span>
        really means:</p>
    <p class="Pp"></p>
    <pre>  &quot;a &quot; . $x . &quot; -&gt; {c}&quot;;
    </pre>
    <p class="Pp">or:</p>
    <p class="Pp"></p>
    <pre>  &quot;a &quot; . $x -&gt; {c};
    </pre>
    <p class="Pp">Most of the time, the longest possible text that does not
        include spaces between components and which contains matching braces or
        brackets. because the outcome may be determined by voting based on
        heuristic estimators, the result is not strictly predictable.
        Fortunately, it's usually correct for ambiguous cases.</p>
  </dd>
  <dt id="the"><a class="permalink" href="#the">the replacement of
    &quot;s///&quot;</a></dt>
  <dd>Processing of <span class="Li">&quot;\Q&quot;</span>,
      <span class="Li">&quot;\U&quot;</span>,
      <span class="Li">&quot;\u&quot;</span>,
      <span class="Li">&quot;\L&quot;</span>,
      <span class="Li">&quot;\l&quot;</span>,
      <span class="Li">&quot;\F&quot;</span> and interpolation happens as with
      <span class="Li">&quot;qq//&quot;</span> constructs.
    <p class="Pp">It is at this step that <span class="Li">&quot;\1&quot;</span>
        is begrudgingly converted to <span class="Li">$1</span> in the
        replacement text of <span class="Li">&quot;s///&quot;</span>, in order
        to correct the incorrigible <i>sed</i> hackers who haven't picked up the
        saner idiom yet. A warning is emitted if the
        <span class="Li">&quot;use&#x00A0;warnings&quot;</span> pragma or the
        <b>-w</b> command-line flag (that is, the <span class="Li">$^W</span>
        variable) was set.</p>
  </dd>
  <dt>&quot;RE&quot; in &quot;m?RE?&quot;, &quot;/RE/&quot;, &quot;m/RE/&quot;,
    &quot;s/RE/foo/&quot;,</dt>
  <dd>Processing of <span class="Li">&quot;\Q&quot;</span>,
      <span class="Li">&quot;\U&quot;</span>,
      <span class="Li">&quot;\u&quot;</span>,
      <span class="Li">&quot;\L&quot;</span>,
      <span class="Li">&quot;\l&quot;</span>,
      <span class="Li">&quot;\F&quot;</span>,
      <span class="Li">&quot;\E&quot;</span>, and interpolation happens (almost)
      as with <span class="Li">&quot;qq//&quot;</span> constructs.
    <p class="Pp">Processing of <span class="Li">&quot;\N{...}&quot;</span> is
        also done here, and compiled into an intermediate form for the regex
        compiler. (This is because, as mentioned below, the regex compilation
        may be done at execution time, and
        <span class="Li">&quot;\N{...}&quot;</span> is a compile-time
        construct.)</p>
    <p class="Pp">However any other combinations of
        <span class="Li">&quot;\&quot;</span> followed by a character are not
        substituted but only skipped, in order to parse them as regular
        expressions at the following step. As
        <span class="Li">&quot;\c&quot;</span> is skipped at this step,
        <span class="Li">&quot;@&quot;</span> of
        <span class="Li">&quot;\c@&quot;</span> in RE is possibly treated as an
        array symbol (for example <span class="Li">@foo</span>), even though the
        same text in <span class="Li">&quot;qq//&quot;</span> gives
        interpolation of <span class="Li">&quot;\c@&quot;</span>.</p>
    <p class="Pp">Code blocks such as
        <span class="Li">&quot;(?{BLOCK})&quot;</span> are handled by
        temporarily passing control back to the perl parser, in a similar way
        that an interpolated array subscript expression such as
        <span class="Li">&quot;foo$array[1+f(&quot;[xyz&quot;)]bar&quot;</span>
        would be.</p>
    <p class="Pp">Moreover, inside
        <span class="Li">&quot;(?{BLOCK})&quot;</span>,
        <span class="Li">&quot;(?#&#x00A0;comment&#x00A0;)&quot;</span>, and a
        <span class="Li">&quot;#&quot;</span>-comment in a
        <span class="Li">&quot;/x&quot;</span>-regular expression, no processing
        is performed whatsoever. This is the first step at which the presence of
        the <span class="Li">&quot;/x&quot;</span> modifier is relevant.</p>
    <p class="Pp">Interpolation in patterns has several quirks:
        <span class="Li">$|</span>, <span class="Li">$(</span>,
        <span class="Li">$)</span>, <span class="Li">&quot;@+&quot;</span> and
        <span class="Li">&quot;@-&quot;</span> are not interpolated, and
        constructs <span class="Li">$var[SOMETHING]</span> are voted (by several
        different estimators) to be either an array element or
        <span class="Li">$var</span> followed by an RE alternative. This is
        where the notation <span class="Li">&quot;${arr[$bar]}&quot;</span>
        comes handy: <span class="Li">&quot;/${arr[0-9]}/&quot;</span> is
        interpreted as array element <span class="Li">&quot;-9&quot;</span>, not
        as a regular expression from the variable <span class="Li">$arr</span>
        followed by a digit, which would be the interpretation of
        <span class="Li">&quot;/$arr[0-9]/&quot;</span>. Since voting among
        different estimators may occur, the result is not predictable.</p>
    <p class="Pp">The lack of processing of
        <span class="Li">&quot;\\&quot;</span> creates specific restrictions on
        the post-processed text. If the delimiter is
        <span class="Li">&quot;/&quot;</span>, one cannot get the combination
        <span class="Li">&quot;\/&quot;</span> into the result of this step.
        <span class="Li">&quot;/&quot;</span> will finish the regular
        expression, <span class="Li">&quot;\/&quot;</span> will be stripped to
        <span class="Li">&quot;/&quot;</span> on the previous step, and
        <span class="Li">&quot;\\/&quot;</span> will be left as is. Because
        <span class="Li">&quot;/&quot;</span> is equivalent to
        <span class="Li">&quot;\/&quot;</span> inside a regular expression, this
        does not matter unless the delimiter happens to be character special to
        the RE engine, such as in
        <span class="Li">&quot;s*foo*bar*&quot;</span>,
        <span class="Li">&quot;m[foo]&quot;</span>, or
        <span class="Li">&quot;m?foo?&quot;</span>; or an alphanumeric char, as
        in:</p>
    <p class="Pp"></p>
    <pre>  m m ^ a \s* b mmx;
    </pre>
    <p class="Pp">In the RE above, which is intentionally obfuscated for
        illustration, the delimiter is <span class="Li">&quot;m&quot;</span>,
        the modifier is <span class="Li">&quot;mx&quot;</span>, and after
        delimiter-removal the RE is the same as for
        <span class="Li">&quot;m/&#x00A0;^&#x00A0;a&#x00A0;\s*&#x00A0;b&#x00A0;/mx&quot;</span>.
        There's more than one reason you're encouraged to restrict your
        delimiters to non-alphanumeric, non-whitespace choices.</p>
  </dd>
</dl>
</div>
<div class="Bd-indent">
<p class="Pp">This step is the last one for all constructs except regular
    expressions, which are processed further.</p>
</div>
<dl class="Bl-tag">
  <dt id="parsing"><a class="permalink" href="#parsing">parsing regular
    expressions</a></dt>
  <dd>Previous steps were performed during the compilation of Perl code, but
      this one happens at run time, although it may be optimized to be
      calculated at compile time if appropriate. After preprocessing described
      above, and possibly after evaluation if concatenation, joining, casing
      translation, or metaquoting are involved, the resulting <i>string</i> is
      passed to the RE engine for compilation.
    <p class="Pp">Whatever happens in the RE engine might be better discussed in
        perlre, but for the sake of continuity, we shall do so here.</p>
    <p class="Pp">This is another step where the presence of the
        <span class="Li">&quot;/x&quot;</span> modifier is relevant. The RE
        engine scans the string from left to right and converts it into a finite
        automaton.</p>
    <p class="Pp">Backslashed characters are either replaced with corresponding
        literal strings (as with <span class="Li">&quot;\{&quot;</span>), or
        else they generate special nodes in the finite automaton (as with
        <span class="Li">&quot;\b&quot;</span>). Characters special to the RE
        engine (such as <span class="Li">&quot;|&quot;</span>) generate
        corresponding nodes or groups of nodes.
        <span class="Li">&quot;(?#...)&quot;</span> comments are ignored. All
        the rest is either converted to literal strings to match, or else is
        ignored (as is whitespace and
        <span class="Li">&quot;#&quot;</span>-style comments if
        <span class="Li">&quot;/x&quot;</span> is present).</p>
    <p class="Pp">Parsing of the bracketed character class construct,
        <span class="Li">&quot;[...]&quot;</span>, is rather different than the
        rule used for the rest of the pattern. The terminator of this construct
        is found using the same rules as for finding the terminator of a
        <span class="Li">&quot;{}&quot;</span>-delimited construct, the only
        exception being that <span class="Li">&quot;]&quot;</span> immediately
        following <span class="Li">&quot;[&quot;</span> is treated as though
        preceded by a backslash.</p>
    <p class="Pp">The terminator of runtime
        <span class="Li">&quot;(?{...})&quot;</span> is found by temporarily
        switching control to the perl parser, which should stop at the point
        where the logically balancing terminating
        <span class="Li">&quot;}&quot;</span> is found.</p>
    <p class="Pp">It is possible to inspect both the string given to RE engine
        and the resulting finite automaton. See the arguments
        <span class="Li">&quot;debug&quot;</span>/<span class="Li">&quot;debugcolor&quot;</span>
        in the <span class="Li">&quot;use&#x00A0;re&quot;</span> pragma, as well
        as Perl's <b>-Dr</b> command-line switch documented in &quot;Command
        Switches&quot; in perlrun.</p>
  </dd>
  <dt id="Optimization"><a class="permalink" href="#Optimization">Optimization
    of regular expressions</a></dt>
  <dd>This step is listed for completeness only. Since it does not change
      semantics, details of this step are not documented and are subject to
      change without notice. This step is performed over the finite automaton
      that was generated during the previous pass.
    <p class="Pp">It is at this stage that
        <span class="Li">&quot;split()&quot;</span> silently optimizes
        <span class="Li">&quot;/^/&quot;</span> to mean
        <span class="Li">&quot;/^/m&quot;</span>.</p>
  </dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="I/O_Operators"><a class="permalink" href="#I/O_Operators">I/O
  Operators</a></h2>
<p class="Pp">There are several I/O operators you should know about.</p>
<p class="Pp">A string enclosed by backticks (grave accents) first undergoes
    double-quote interpolation. It is then interpreted as an external command,
    and the output of that command is the value of the backtick string, like in
    a shell. In scalar context, a single string consisting of all output is
    returned. In list context, a list of values is returned, one per line of
    output. (You can set <span class="Li">$/</span> to use a different line
    terminator.) The command is executed each time the pseudo-literal is
    evaluated. The status value of the command is returned in
    <span class="Li">$?</span> (see perlvar for the interpretation of
    <span class="Li">$?</span>). Unlike in <b>csh</b>, no translation is done on
    the return data--newlines remain newlines. Unlike in any of the shells,
    single quotes do not hide variable names in the command from interpretation.
    To pass a literal dollar-sign through to the shell you need to hide it with
    a backslash. The generalized form of backticks is
    <span class="Li">&quot;qx//&quot;</span>, or you can call the
    &quot;readpipe&quot; in perlfunc function. (Because backticks always undergo
    shell expansion as well, see perlsec for security concerns.)</p>
<p class="Pp">In scalar context, evaluating a filehandle in angle brackets
    yields the next line from that file (the newline, if any, included), or
    <span class="Li">&quot;undef&quot;</span> at end-of-file or on error. When
    <span class="Li">$/</span> is set to
    <span class="Li">&quot;undef&quot;</span> (sometimes known as file-slurp
    mode) and the file is empty, it returns <span class="Li">''</span> the first
    time, followed by <span class="Li">&quot;undef&quot;</span>
  subsequently.</p>
<p class="Pp">Ordinarily you must assign the returned value to a variable, but
    there is one situation where an automatic assignment happens. If and only if
    the input symbol is the only thing inside the conditional of a
    <span class="Li">&quot;while&quot;</span> statement (even if disguised as a
    <span class="Li">&quot;for(;;)&quot;</span> loop), the value is
    automatically assigned to the global variable <span class="Li">$_</span>,
    destroying whatever was there previously. (This may seem like an odd thing
    to you, but you'll use the construct in almost every Perl script you write.)
    The <span class="Li">$_</span> variable is not implicitly localized. You'll
    have to put a <span class="Li">&quot;local&#x00A0;$_;&quot;</span> before
    the loop if you want that to happen. Furthermore, if the input symbol or an
    explicit assignment of the input symbol to a scalar is used as a
    <span class="Li">&quot;while&quot;</span>/<span class="Li">&quot;for&quot;</span>
    condition, then the condition actually tests for definedness of the
    expression's value, not for its regular truth value.</p>
<p class="Pp">Thus the following lines are equivalent:</p>
<p class="Pp"></p>
<pre>    while (defined($_ = &lt;STDIN&gt;)) { print; }
    while ($_ = &lt;STDIN&gt;) { print; }
    while (&lt;STDIN&gt;) { print; }
    for (;&lt;STDIN&gt;;) { print; }
    print while defined($_ = &lt;STDIN&gt;);
    print while ($_ = &lt;STDIN&gt;);
    print while &lt;STDIN&gt;;
</pre>
<p class="Pp">This also behaves similarly, but assigns to a lexical variable
    instead of to <span class="Li">$_</span>:</p>
<p class="Pp"></p>
<pre>    while (my $line = &lt;STDIN&gt;) { print $line }
</pre>
<p class="Pp">In these loop constructs, the assigned value (whether assignment
    is automatic or explicit) is then tested to see whether it is defined. The
    defined test avoids problems where the line has a string value that would be
    treated as false by Perl; for example a &quot;&quot; or a
    <span class="Li">&quot;0&quot;</span> with no trailing newline. If you
    really mean for such values to terminate the loop, they should be tested for
    explicitly:</p>
<p class="Pp"></p>
<pre>    while (($_ = &lt;STDIN&gt;) ne '0') { ... }
    while (&lt;STDIN&gt;) { last unless $_; ... }
</pre>
<p class="Pp">In other boolean contexts,
    <span class="Li">&quot;&lt;</span><span class="Li"><i>FILEHANDLE</i></span><span class="Li">&gt;&quot;</span>
    without an explicit <span class="Li">&quot;defined&quot;</span> test or
    comparison elicits a warning if the
    <span class="Li">&quot;use&#x00A0;warnings&quot;</span> pragma or the
    <b>-w</b> command-line switch (the <span class="Li">$^W</span> variable) is
    in effect.</p>
<p class="Pp">The filehandles STDIN, STDOUT, and STDERR are predefined. (The
    filehandles <span class="Li">&quot;stdin&quot;</span>,
    <span class="Li">&quot;stdout&quot;</span>, and
    <span class="Li">&quot;stderr&quot;</span> will also work except in
    packages, where they would be interpreted as local identifiers rather than
    global.) Additional filehandles may be created with the
    <span class="Li">&quot;open()&quot;</span> function, amongst others. See
    perlopentut and &quot;open&quot; in perlfunc for details on this.</p>
<p class="Pp">If a
    <span class="Li">&quot;&lt;</span><span class="Li"><i>FILEHANDLE</i></span><span class="Li">&gt;&quot;</span>
    is used in a context that is looking for a list, a list comprising all input
    lines is returned, one line per list element. It's easy to grow to a rather
    large data space this way, so use with care.</p>
<p class="Pp"><span class="Li">&quot;&lt;</span><span class="Li"><i>FILEHANDLE</i></span><span class="Li">&gt;&quot;</span>
    may also be spelled
    <span class="Li">&quot;readline(*</span><span class="Li"><i>FILEHANDLE</i></span><span class="Li">)&quot;</span>.
    See &quot;readline&quot; in perlfunc.</p>
<p class="Pp">The null filehandle <span class="Li">&quot;&lt;&gt;&quot;</span>
    (sometimes called the diamond operator) is special: it can be used to
    emulate the behavior of <b>sed</b> and <b>awk</b>, and any other Unix filter
    program that takes a list of filenames, doing the same to each line of input
    from all of them. Input from <span class="Li">&quot;&lt;&gt;&quot;</span>
    comes either from standard input, or from each file listed on the command
    line. Here's how it works: the first time
    <span class="Li">&quot;&lt;&gt;&quot;</span> is evaluated, the
    <span class="Li">@ARGV</span> array is checked, and if it is empty,
    <span class="Li">$ARGV[0]</span> is set to
    <span class="Li">&quot;-&quot;</span>, which when opened gives you standard
    input. The <span class="Li">@ARGV</span> array is then processed as a list
    of filenames. The loop</p>
<p class="Pp"></p>
<pre>    while (&lt;&gt;) {
        ...                     # code for each line
    }
</pre>
<p class="Pp">is equivalent to the following Perl-like pseudo code:</p>
<p class="Pp"></p>
<pre>    unshift(@ARGV, '-') unless @ARGV;
    while ($ARGV = shift) {
        open(ARGV, $ARGV);
        while (&lt;ARGV&gt;) {
            ...         # code for each line
        }
    }
</pre>
<p class="Pp">except that it isn't so cumbersome to say, and will actually work.
    It really does shift the <span class="Li">@ARGV</span> array and put the
    current filename into the <span class="Li">$ARGV</span> variable. It also
    uses filehandle <i>ARGV</i> internally.
    <span class="Li">&quot;&lt;&gt;&quot;</span> is just a synonym for
    <span class="Li">&quot;&lt;ARGV&gt;&quot;</span>, which is magical. (The
    pseudo code above doesn't work because it treats
    <span class="Li">&quot;&lt;ARGV&gt;&quot;</span> as non-magical.)</p>
<p class="Pp">Since the null filehandle uses the two argument form of
    &quot;open&quot; in perlfunc it interprets special characters, so if you
    have a script like this:</p>
<p class="Pp"></p>
<pre>    while (&lt;&gt;) {
        print;
    }
</pre>
<p class="Pp">and call it with
    <span class="Li">&quot;perl&#x00A0;dangerous.pl&#x00A0;'rm&#x00A0;-rfv&#x00A0;*|'&quot;</span>,
    it actually opens a pipe, executes the
    <span class="Li">&quot;rm&quot;</span> command and reads
    <span class="Li">&quot;rm&quot;</span>'s output from that pipe. If you want
    all items in <span class="Li">@ARGV</span> to be interpreted as file names,
    you can use the module <span class="Li">&quot;ARGV::readonly&quot;</span>
    from CPAN, or use the double diamond bracket:</p>
<p class="Pp"></p>
<pre>    while (&lt;&lt;&gt;&gt;) {
        print;
    }
</pre>
<p class="Pp">Using double angle brackets inside of a while causes the open to
    use the three argument form (with the second argument being
    <span class="Li">&quot;&lt;&quot;</span>), so all arguments in
    <span class="Li">&quot;ARGV&quot;</span> are treated as literal filenames
    (including <span class="Li">&quot;-&quot;</span>). (Note that for
    convenience, if you use <span class="Li">&quot;&lt;&lt;&gt;&gt;&quot;</span>
    and if <span class="Li">@ARGV</span> is empty, it will still read from the
    standard input.)</p>
<p class="Pp">You can modify <span class="Li">@ARGV</span> before the first
    <span class="Li">&quot;&lt;&gt;&quot;</span> as long as the array ends up
    containing the list of filenames you really want. Line numbers
    (<span class="Li">$.</span>) continue as though the input were one big happy
    file. See the example in &quot;eof&quot; in perlfunc for how to reset line
    numbers on each file.</p>
<p class="Pp">If you want to set <span class="Li">@ARGV</span> to your own list
    of files, go right ahead. This sets <span class="Li">@ARGV</span> to all
    plain text files if no <span class="Li">@ARGV</span> was given:</p>
<p class="Pp"></p>
<pre>    @ARGV = grep { -f &amp;&amp; -T } glob('*') unless @ARGV;
</pre>
<p class="Pp">You can even set them to pipe commands. For example, this
    automatically filters compressed arguments through <b>gzip</b>:</p>
<p class="Pp"></p>
<pre>    @ARGV = map { /\.(gz|Z)$/ ? &quot;gzip -dc &lt; $_ |&quot; : $_ } @ARGV;
</pre>
<p class="Pp">If you want to pass switches into your script, you can use one of
    the <span class="Li">&quot;Getopts&quot;</span> modules or put a loop on the
    front like this:</p>
<p class="Pp"></p>
<pre>    while ($_ = $ARGV[0], /^-/) {
        shift;
        last if /^--$/;
        if (/^-D(.*)/) { $debug = $1 }
        if (/^-v/)     { $verbose++  }
        # ...           # other switches
    }
    while (&lt;&gt;) {
        # ...           # code for each line
    }
</pre>
<p class="Pp">The <span class="Li">&quot;&lt;&gt;&quot;</span> symbol will
    return <span class="Li">&quot;undef&quot;</span> for end-of-file only once.
    If you call it again after this, it will assume you are processing another
    <span class="Li">@ARGV</span> list, and if you haven't set
    <span class="Li">@ARGV</span>, will read input from STDIN.</p>
<p class="Pp">If what the angle brackets contain is a simple scalar variable
    (for example, <span class="Li">$foo</span>), then that variable contains the
    name of the filehandle to input from, or its typeglob, or a reference to the
    same. For example:</p>
<p class="Pp"></p>
<pre>    $fh = \*STDIN;
    $line = &lt;$fh&gt;;
</pre>
<p class="Pp">If what's within the angle brackets is neither a filehandle nor a
    simple scalar variable containing a filehandle name, typeglob, or typeglob
    reference, it is interpreted as a filename pattern to be globbed, and either
    a list of filenames or the next filename in the list is returned, depending
    on context. This distinction is determined on syntactic grounds alone. That
    means <span class="Li">&quot;&lt;$x&gt;&quot;</span> is always a
    <span class="Li">&quot;readline()&quot;</span> from an indirect handle, but
    <span class="Li">&quot;&lt;$hash{key}&gt;&quot;</span> is always a
    <span class="Li">&quot;glob()&quot;</span>. That's because
    <span class="Li">$x</span> is a simple scalar variable, but
    <span class="Li">$hash{key}</span> is not--it's a hash element. Even
    <span class="Li">&quot;&lt;$x &gt;&quot;</span> (note the extra space) is
    treated as <span class="Li">&quot;glob(&quot;$x &quot;)&quot;</span>, not
    <span class="Li">&quot;readline($x)&quot;</span>.</p>
<p class="Pp">One level of double-quote interpretation is done first, but you
    can't say <span class="Li">&quot;&lt;$foo&gt;&quot;</span> because that's an
    indirect filehandle as explained in the previous paragraph. (In older
    versions of Perl, programmers would insert curly brackets to force
    interpretation as a filename glob:
    <span class="Li">&quot;&lt;${foo}&gt;&quot;</span>. These days, it's
    considered cleaner to call the internal function directly as
    <span class="Li">&quot;glob($foo)&quot;</span>, which is probably the right
    way to have done it in the first place.) For example:</p>
<p class="Pp"></p>
<pre>    while (&lt;*.c&gt;) {
        chmod 0644, $_;
    }
</pre>
<p class="Pp">is roughly equivalent to:</p>
<p class="Pp"></p>
<pre>    open(FOO, &quot;echo *.c | tr -s ' \t\r\f' '\\012\\012\\012\\012'|&quot;);
    while (&lt;FOO&gt;) {
        chomp;
        chmod 0644, $_;
    }
</pre>
<p class="Pp">except that the globbing is actually done internally using the
    standard <span class="Li">&quot;File::Glob&quot;</span> extension. Of
    course, the shortest way to do the above is:</p>
<p class="Pp"></p>
<pre>    chmod 0644, &lt;*.c&gt;;
</pre>
<p class="Pp">A (file)glob evaluates its (embedded) argument only when it is
    starting a new list. All values must be read before it will start over. In
    list context, this isn't important because you automatically get them all
    anyway. However, in scalar context the operator returns the next value each
    time it's called, or <span class="Li">&quot;undef&quot;</span> when the list
    has run out. As with filehandle reads, an automatic
    <span class="Li">&quot;defined&quot;</span> is generated when the glob
    occurs in the test part of a <span class="Li">&quot;while&quot;</span>,
    because legal glob returns (for example, a file called <i>0</i>) would
    otherwise terminate the loop. Again,
    <span class="Li">&quot;undef&quot;</span> is returned only once. So if
    you're expecting a single value from a glob, it is much better to say</p>
<p class="Pp"></p>
<pre>    ($file) = &lt;blurch*&gt;;
</pre>
<p class="Pp">than</p>
<p class="Pp"></p>
<pre>    $file = &lt;blurch*&gt;;
</pre>
<p class="Pp">because the latter will alternate between returning a filename and
    returning false.</p>
<p class="Pp">If you're trying to do variable interpolation, it's definitely
    better to use the <span class="Li">&quot;glob()&quot;</span> function,
    because the older notation can cause people to become confused with the
    indirect filehandle notation.</p>
<p class="Pp"></p>
<pre>    @files = glob(&quot;$dir/*.[ch]&quot;);
    @files = glob($files[$i]);
</pre>
<p class="Pp">If an angle-bracket-based globbing expression is used as the
    condition of a <span class="Li">&quot;while&quot;</span> or
    <span class="Li">&quot;for&quot;</span> loop, then it will be implicitly
    assigned to <span class="Li">$_</span>. If either a globbing expression or
    an explicit assignment of a globbing expression to a scalar is used as a
    <span class="Li">&quot;while&quot;</span>/<span class="Li">&quot;for&quot;</span>
    condition, then the condition actually tests for definedness of the
    expression's value, not for its regular truth value.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Constant_Folding"><a class="permalink" href="#Constant_Folding">Constant
  Folding</a></h2>
<p class="Pp">Like C, Perl does a certain amount of expression evaluation at
    compile time whenever it determines that all arguments to an operator are
    static and have no side effects. In particular, string concatenation happens
    at compile time between literals that don't do variable substitution.
    Backslash interpolation also happens at compile time. You can say</p>
<p class="Pp"></p>
<pre>      'Now is the time for all'
    . &quot;\n&quot;
    .  'good men to come to.'
</pre>
<p class="Pp">and this all reduces to one string internally. Likewise, if you
    say</p>
<p class="Pp"></p>
<pre>    foreach $file (@filenames) {
        if (-s $file &gt; 5 + 100 * 2**16) {  }
    }
</pre>
<p class="Pp">the compiler precomputes the number which that expression
    represents so that the interpreter won't have to.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="No-ops"><a class="permalink" href="#No-ops">No-ops</a></h2>
<p class="Pp">Perl doesn't officially have a no-op operator, but the bare
    constants <span class="Li">0</span> and <span class="Li">1</span> are
    special-cased not to produce a warning in void context, so you can for
    example safely do</p>
<p class="Pp"></p>
<pre>    1 while foo();
</pre>
</section>
<section class="Ss">
<h2 class="Ss" id="Bitwise_String_Operators"><a class="permalink" href="#Bitwise_String_Operators">Bitwise
  String Operators</a></h2>
<p class="Pp">Bitstrings of any size may be manipulated by the bitwise operators
    (<span class="Li">&quot;~ | &amp; ^&quot;</span>).</p>
<p class="Pp">If the operands to a binary bitwise op are strings of different
    sizes, <b>|</b> and <b>^</b> ops act as though the shorter operand had
    additional zero bits on the right, while the <b>&amp;</b> op acts as though
    the longer operand were truncated to the length of the shorter. The
    granularity for such extension or truncation is one or more bytes.</p>
<p class="Pp"></p>
<pre>    # ASCII-based examples
    print &quot;j p \n&quot; ^ &quot; a h&quot;;            # prints &quot;JAPH\n&quot;
    print &quot;JA&quot; | &quot;  ph\n&quot;;              # prints &quot;japh\n&quot;
    print &quot;japh\nJunk&quot; &amp; '_____';       # prints &quot;JAPH\n&quot;;
    print 'p N$' ^ &quot; E&lt;H\n&quot;;            # prints &quot;Perl\n&quot;;
</pre>
<p class="Pp">If you are intending to manipulate bitstrings, be certain that
    you're supplying bitstrings: If an operand is a number, that will imply a
    <b>numeric</b> bitwise operation. You may explicitly show which type of
    operation you intend by using <span class="Li">&quot;&quot;</span> or
    <span class="Li">&quot;0+&quot;</span>, as in the examples below.</p>
<p class="Pp"></p>
<pre>    $foo =  150  |  105;        # yields 255  (0x96 | 0x69 is 0xFF)
    $foo = '150' |  105;        # yields 255
    $foo =  150  | '105';       # yields 255
    $foo = '150' | '105';       # yields string '155' (under ASCII)
    $baz = 0+$foo &amp; 0+$bar;     # both ops explicitly numeric
    $biz = &quot;$foo&quot; ^ &quot;$bar&quot;;     # both ops explicitly stringy
</pre>
<p class="Pp">This somewhat unpredictable behavior can be avoided with the
    &quot;bitwise&quot; feature, new in Perl 5.22. You can enable it via
    <span class="Li">&quot;use&#x00A0;feature&#x00A0;'bitwise'&quot;</span> or
    <span class="Li">&quot;use v5.28&quot;</span>. Before Perl 5.28, it used to
    emit a warning in the
    <span class="Li">&quot;experimental::bitwise&quot;</span> category. Under
    this feature, the four standard bitwise operators (<span class="Li">&quot;~
    | &amp; ^&quot;</span>) are always numeric. Adding a dot after each operator
    (<span class="Li">&quot;~. |. &amp;. ^.&quot;</span>) forces it to treat its
    operands as strings:</p>
<p class="Pp"></p>
<pre>    use feature &quot;bitwise&quot;;
    $foo =  150  |  105;        # yields 255  (0x96 | 0x69 is 0xFF)
    $foo = '150' |  105;        # yields 255
    $foo =  150  | '105';       # yields 255
    $foo = '150' | '105';       # yields 255
    $foo =  150  |. 105;        # yields string '155'
    $foo = '150' |. 105;        # yields string '155'
    $foo =  150  |.'105';       # yields string '155'
    $foo = '150' |.'105';       # yields string '155'
    $baz = $foo &amp;  $bar;        # both operands numeric
    $biz = $foo ^. $bar;        # both operands stringy
</pre>
<p class="Pp">The assignment variants of these operators
    (<span class="Li">&quot;&amp;= |= ^= &amp;.= |.= ^.=&quot;</span>) behave
    likewise under the feature.</p>
<p class="Pp">It is a fatal error if an operand contains a character whose
    ordinal value is above 0xFF, and hence not expressible except in UTF-8. The
    operation is performed on a non-UTF-8 copy for other operands encoded in
    UTF-8. See &quot;Byte and Character Semantics&quot; in perlunicode.</p>
<p class="Pp">See &quot;vec&quot; in perlfunc for information on how to
    manipulate individual bits in a bit vector.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Integer_Arithmetic"><a class="permalink" href="#Integer_Arithmetic">Integer
  Arithmetic</a></h2>
<p class="Pp">By default, Perl assumes that it must do most of its arithmetic in
    floating point. But by saying</p>
<p class="Pp"></p>
<pre>    use integer;
</pre>
<p class="Pp">you may tell the compiler to use integer operations (see integer
    for a detailed explanation) from here to the end of the enclosing BLOCK. An
    inner BLOCK may countermand this by saying</p>
<p class="Pp"></p>
<pre>    no integer;
</pre>
<p class="Pp">which lasts until the end of that BLOCK. Note that this doesn't
    mean everything is an integer, merely that Perl will use integer operations
    for arithmetic, comparison, and bitwise operators. For example, even under
    <span class="Li">&quot;use&#x00A0;integer&quot;</span>, if you take the
    <span class="Li">sqrt(2)</span>, you'll still get
    <span class="Li">1.4142135623731</span> or so.</p>
<p class="Pp">Used on numbers, the bitwise operators
    (<span class="Li">&quot;&amp;&quot;</span>
    <span class="Li">&quot;|&quot;</span> <span class="Li">&quot;^&quot;</span>
    <span class="Li">&quot;~&quot;</span>
    <span class="Li">&quot;&lt;&lt;&quot;</span>
    <span class="Li">&quot;&gt;&gt;&quot;</span>) always produce integral
    results. (But see also &quot;Bitwise String Operators&quot;.) However,
    <span class="Li">&quot;use&#x00A0;integer&quot;</span> still has meaning for
    them. By default, their results are interpreted as unsigned integers, but if
    <span class="Li">&quot;use&#x00A0;integer&quot;</span> is in effect, their
    results are interpreted as signed integers. For example,
    <span class="Li">&quot;~0&quot;</span> usually evaluates to a large integral
    value. However,
    <span class="Li">&quot;use&#x00A0;integer;&#x00A0;~0&quot;</span> is
    <span class="Li">&quot;-1&quot;</span> on two's-complement machines.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Floating-point_Arithmetic"><a class="permalink" href="#Floating-point_Arithmetic">Floating-point
  Arithmetic</a></h2>
<p class="Pp">While <span class="Li">&quot;use&#x00A0;integer&quot;</span>
    provides integer-only arithmetic, there is no analogous mechanism to provide
    automatic rounding or truncation to a certain number of decimal places. For
    rounding to a certain number of digits,
    <span class="Li">&quot;sprintf()&quot;</span> or
    <span class="Li">&quot;printf()&quot;</span> is usually the easiest route.
    See perlfaq4.</p>
<p class="Pp">Floating-point numbers are only approximations to what a
    mathematician would call real numbers. There are infinitely more reals than
    floats, so some corners must be cut. For example:</p>
<p class="Pp"></p>
<pre>    printf &quot;%.20g\n&quot;, 123456789123456789;
    #        produces 123456789123456784
</pre>
<p class="Pp">Testing for exact floating-point equality or inequality is not a
    good idea. Here's a (relatively expensive) work-around to compare whether
    two floating-point numbers are equal to a particular number of decimal
    places. See Knuth, volume II, for a more robust treatment of this topic.</p>
<p class="Pp"></p>
<pre>    sub fp_equal {
        my ($X, $Y, $POINTS) = @_;
        my ($tX, $tY);
        $tX = sprintf(&quot;%.${POINTS}g&quot;, $X);
        $tY = sprintf(&quot;%.${POINTS}g&quot;, $Y);
        return $tX eq $tY;
    }
</pre>
<p class="Pp">The POSIX module (part of the standard perl distribution)
    implements <span class="Li">&quot;ceil()&quot;</span>,
    <span class="Li">&quot;floor()&quot;</span>, and other mathematical and
    trigonometric functions. The
    <span class="Li">&quot;Math::Complex&quot;</span> module (part of the
    standard perl distribution) defines mathematical functions that work on both
    the reals and the imaginary numbers.
    <span class="Li">&quot;Math::Complex&quot;</span> is not as efficient as
    POSIX, but POSIX can't work with complex numbers.</p>
<p class="Pp">Rounding in financial applications can have serious implications,
    and the rounding method used should be specified precisely. In these cases,
    it probably pays not to trust whichever system rounding is being used by
    Perl, but to instead implement the rounding function you need yourself.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="Bigger_Numbers"><a class="permalink" href="#Bigger_Numbers">Bigger
  Numbers</a></h2>
<p class="Pp">The standard <span class="Li">&quot;Math::BigInt&quot;</span>,
    <span class="Li">&quot;Math::BigRat&quot;</span>, and
    <span class="Li">&quot;Math::BigFloat&quot;</span> modules, along with the
    <span class="Li">&quot;bignum&quot;</span>,
    <span class="Li">&quot;bigint&quot;</span>, and
    <span class="Li">&quot;bigrat&quot;</span> pragmas, provide
    variable-precision arithmetic and overloaded operators, although they're
    currently pretty slow. At the cost of some space and considerable speed,
    they avoid the normal pitfalls associated with limited-precision
    representations.</p>
<p class="Pp"></p>
<pre>        use 5.010;
        use bigint;  # easy interface to Math::BigInt
        $x = 123456789123456789;
        say $x * $x;
    +15241578780673678515622620750190521
</pre>
<p class="Pp">Or with rationals:</p>
<p class="Pp"></p>
<pre>        use 5.010;
        use bigrat;
        $x = 3/22;
        $y = 4/6;
        say &quot;x/y is &quot;, $x/$y;
        say &quot;x*y is &quot;, $x*$y;
        x/y is 9/44
        x*y is 1/11
</pre>
<p class="Pp">Several modules let you calculate with unlimited or fixed
    precision (bound only by memory and CPU time). There are also some
    non-standard modules that provide faster implementations via external C
    libraries.</p>
<p class="Pp">Here is a short, but incomplete summary:</p>
<p class="Pp"></p>
<pre>  Math::String           treat string sequences like numbers
  Math::FixedPrecision   calculate with a fixed precision
  Math::Currency         for currency calculations
  Bit::Vector            manipulate bit vectors fast (uses C)
  Math::BigIntFast       Bit::Vector wrapper for big numbers
  Math::Pari             provides access to the Pari C library
  Math::Cephes           uses the external Cephes C library (no
                         big numbers)
  Math::Cephes::Fraction fractions via the Cephes library
  Math::GMP              another one using an external C library
  Math::GMPz             an alternative interface to libgmp's big ints
  Math::GMPq             an interface to libgmp's fraction numbers
  Math::GMPf             an interface to libgmp's floating point numbers
</pre>
<p class="Pp">Choose wisely.</p>
</section>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2021-05-04</td>
    <td class="foot-os">perl v5.34.0</td>
  </tr>
</table>
</body>
</html>
