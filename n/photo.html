<!DOCTYPE html>
<html lang="en">
<!-- This is an automatically generated file.  Do not edit.
   Copyright (c) 1994 The Australian National University
   Copyright (c) 1994-1997 Sun Microsystems, Inc.
  
   See the file "license.terms" for information on usage and redistribution
   of this file, and for a DISCLAIMER OF ALL WARRANTIES.
  
   Author: Paul Mackerras (paulus@cs.anu.edu.au),
  	    Department of Computer Science,
  	    Australian National University.
  
   RCS: @(#) $Id$
  
   The -*- nroff -*- definitions below are for supplemental macros used
   in Tcl/Tk manual entries.
  
   .AP type name in/out ?indent?
  	Start paragraph describing an argument to a library procedure.
  	type is type of argument (int, etc.), in/out is either "in", "out",
  	or "in/out" to describe whether procedure reads or modifies arg,
  	and indent is equivalent to second arg of .IP (shouldn't ever be
  	needed;  use .AS below instead)
  
   .AS ?type? ?name?
  	Give maximum sizes of arguments for setting tab stops.  Type and
  	name are examples of largest possible arguments that will be passed
  	to .AP later.  If args are omitted, default tab stops are used.
  
   .BS
  	Start box enclosure.  From here until next .BE, everything will be
  	enclosed in one large box.
  
   .BE
  	End of box enclosure.
  
   .CS
  	Begin code excerpt.
  
   .CE
  	End code excerpt.
  
   .VS ?version? ?br?
  	Begin vertical sidebar, for use in marking newly-changed parts
  	of man pages.  The first argument is ignored and used for recording
  	the version when the .VS was added, so that the sidebars can be
  	found and removed when they reach a certain age.  If another argument
  	is present, then a line break is forced before starting the sidebar.
  
   .VE
  	End of vertical sidebar.
  
   .DS
  	Begin an indented unfilled display.
  
   .DE
  	End of indented unfilled display.
  
   .SO ?manpage?
  	Start of list of standard options for a Tk widget. The manpage
  	argument defines where to look up the standard options; if
  	omitted, defaults to "options". The options follow on successive
  	lines, in three columns separated by tabs.
  
   .SE
  	End of list of standard options for a Tk widget.
  
   .OP cmdName dbName dbClass
  	Start of description of a specific option.  cmdName gives the
  	option's name as specified in the class command, dbName gives
  	the option's name in the option database, and dbClass gives
  	the option's class in the option database.
  
   .UL arg1 arg2
  	Print arg1 underlined, then print arg2 normally.
  
   .QW arg1 ?arg2?
  	Print arg1 in quotes, then arg2 normally (for trailing punctuation).
  
   .PQ arg1 ?arg2?
  	Print an open parenthesis, arg1 in quotes, then arg2 normally
  	(for trailing punctuation) and then a closing parenthesis.
  
   RCS: @(#) $Id: man.macros,v 1.9 2008/01/29 15:32:33 dkf Exp $
  
  	# Set up traps and other miscellaneous stuff for Tcl/Tk man pages.
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>photo(n)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">photo(n)</td>
    <td class="head-vol"><a href=".">Tk Built-In Commands</a></td>
    <td class="head-rtitle">photo(n)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<pre>
</pre>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">photo - Full-color images</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><b>image create photo </b>?<i>name</i>? ?<i>options</i>?</p>
<pre>
</pre>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">A photo is an image whose pixels can display any color or be
    transparent. A photo image is stored internally in full color (32 bits per
    pixel), and is displayed using dithering if necessary. Image data for a
    photo image can be obtained from a file or a string, or it can be supplied
    from C code through a procedural interface. At present, only GIF and PPM/PGM
    formats are supported, but an interface exists to allow additional image
    file formats to be added easily. A photo image is transparent in regions
    where no image data has been supplied or where it has been set transparent
    by the <b>transparency set</b> subcommand.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CREATING_PHOTOS"><a class="permalink" href="#CREATING_PHOTOS">CREATING
  PHOTOS</a></h1>
<p class="Pp">Like all images, photos are created using the <b>image create</b>
    command. Photos support the following <i>options</i>:</p>
<dl class="Bl-tag">
  <dt id="data"><a class="permalink" href="#data"><b>-data
    </b><i>string</i></a></dt>
  <dd>Specifies the contents of the image as a string. The string should contain
      binary data or, for some formats, base64-encoded data (this is currently
      guaranteed to be supported for GIF images). The format of the string must
      be one of those for which there is an image file format handler that will
      accept string data. If both the <b>-data</b> and <b>-file</b> options are
      specified, the <b>-file</b> option takes precedence.</dd>
  <dt id="format"><a class="permalink" href="#format"><b>-format
    </b><i>format-name</i></a></dt>
  <dd>Specifies the name of the file format for the data specified with the
      <b>-data</b> or <b>-file</b> option.</dd>
  <dt id="file"><a class="permalink" href="#file"><b>-file
    </b><i>name</i></a></dt>
  <dd><i>name</i> gives the name of a file that is to be read to supply data for
      the photo image. The file format must be one of those for which there is
      an image file format handler that can read data.</dd>
  <dt id="gamma"><a class="permalink" href="#gamma"><b>-gamma
    </b><i>value</i></a></dt>
  <dd>Specifies that the colors allocated for displaying this image in a window
      should be corrected for a non-linear display with the specified gamma
      exponent value. (The intensity produced by most CRT displays is a power
      function of the input value, to a good approximation; gamma is the
      exponent and is typically around 2). The value specified must be greater
      than zero. The default value is one (no correction). In general, values
      greater than one will make the image lighter, and values less than one
      will make it darker.</dd>
  <dt id="height"><a class="permalink" href="#height"><b>-height
    </b><i>number</i></a></dt>
  <dd>Specifies the height of the image, in pixels. This option is useful
      primarily in situations where the user wishes to build up the contents of
      the image piece by piece. A value of zero (the default) allows the image
      to expand or shrink vertically to fit the data stored in it.</dd>
  <dt id="palette"><a class="permalink" href="#palette"><b>-palette
    </b><i>palette-spec</i></a></dt>
  <dd>Specifies the resolution of the color cube to be allocated for displaying
      this image, and thus the number of colors used from the colormaps of the
      windows where it is displayed. The <i>palette-spec</i> string may be
      either a single decimal number, specifying the number of shades of gray to
      use, or three decimal numbers separated by slashes (/), specifying the
      number of shades of red, green and blue to use, respectively. If the first
      form (a single number) is used, the image will be displayed in monochrome
      (i.e., grayscale).</dd>
  <dt id="width"><a class="permalink" href="#width"><b>-width
    </b><i>number</i></a></dt>
  <dd>Specifies the width of the image, in pixels. This option is useful
      primarily in situations where the user wishes to build up the contents of
      the image piece by piece. A value of zero (the default) allows the image
      to expand or shrink horizontally to fit the data stored in it.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="IMAGE_COMMAND"><a class="permalink" href="#IMAGE_COMMAND">IMAGE
  COMMAND</a></h1>
<p class="Pp">When a photo image is created, Tk also creates a new command whose
    name is the same as the image. This command may be used to invoke various
    operations on the image. It has the following general form:</p>
<div class="Bd-indent">
<pre>
<i>imageName option </i>?<i>arg arg ...</i>?</pre>
</div>
<i>Option</i> and the <i>arg</i>s determine the exact behavior of the command.
<p class="Pp">Those options that write data to the image generally expand the
    size of the image, if necessary, to accommodate the data written to the
    image, unless the user has specified non-zero values for the <b>-width</b>
    and/or <b>-height</b> configuration options, in which case the width and/or
    height, respectively, of the image will not be changed.</p>
<p class="Pp">The following commands are possible for photo images:</p>
<dl class="Bl-tag">
  <dt id="imageName"><a class="permalink" href="#imageName"><i>imageName
    </i><b>blank</b></a></dt>
  <dd>Blank the image; that is, set the entire image to have no data, so it will
      be displayed as transparent, and the background of whatever window it is
      displayed in will show through.</dd>
  <dt id="imageName~2"><a class="permalink" href="#imageName~2"><i>imageName
    </i><b>cget</b> <i>option</i></a></dt>
  <dd>Returns the current value of the configuration option given by
      <i>option</i>. <i>Option</i> may have any of the values accepted by the
      <b>image create photo</b> command.</dd>
  <dt id="imageName~3"><a class="permalink" href="#imageName~3"><i>imageName
    </i><b>configure</b> ?<i>option</i>? ?<i>value option value
    ...</i>?</a></dt>
  <dd>Query or modify the configuration options for the image. If no
      <i>option</i> is specified, returns a list describing all of the available
      options for <i>imageName</i> (see <b>Tk_ConfigureInfo</b> for information
      on the format of this list). If <i>option</i> is specified with no
      <i>value</i>, then the command returns a list describing the one named
      option (this list will be identical to the corresponding sublist of the
      value returned if no <i>option</i> is specified). If one or more
      <i>option-value</i> pairs are specified, then the command modifies the
      given option(s) to have the given value(s); in this case the command
      returns an empty string. <i>Option</i> may have any of the values accepted
      by the <b>image create photo</b> command.</dd>
  <dt id="imageName~4"><a class="permalink" href="#imageName~4"><i>imageName
    </i><b>copy</b> <i>sourceImage</i> ?<i>option value(s) ...</i>?</a></dt>
  <dd>Copies a region from the image called <i>sourceImage</i> (which must be a
      photo image) to the image called <i>imageName</i>, possibly with pixel
      zooming and/or subsampling. If no options are specified, this command
      copies the whole of <i>sourceImage</i> into <i>imageName</i>, starting at
      coordinates (0,0) in <i>imageName</i>. The following options may be
      specified:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="from"><a class="permalink" href="#from"><b>-from </b><i>x1 y1 x2
    y2</i></a></dt>
  <dd>Specifies a rectangular sub-region of the source image to be copied.
      (<i>x1,y1</i>) and (<i>x2,y2</i>) specify diagonally opposite corners of
      the rectangle. If <i>x2</i> and <i>y2</i> are not specified, the default
      value is the bottom-right corner of the source image. The pixels copied
      will include the left and top edges of the specified rectangle but not the
      bottom or right edges. If the <b>-from</b> option is not given, the
      default is the whole source image.</dd>
  <dt id="to"><a class="permalink" href="#to"><b>-to </b><i>x1 y1 x2
    y2</i></a></dt>
  <dd>Specifies a rectangular sub-region of the destination image to be
      affected. (<i>x1,y1</i>) and (<i>x2,y2</i>) specify diagonally opposite
      corners of the rectangle. If <i>x2</i> and <i>y2</i> are not specified,
      the default value is (<i>x1,y1</i>) plus the size of the source region
      (after subsampling and zooming, if specified). If <i>x2</i> and <i>y2</i>
      are specified, the source region will be replicated if necessary to fill
      the destination region in a tiled fashion.</dd>
  <dt id="shrink"><a class="permalink" href="#shrink"><b>-shrink</b></a></dt>
  <dd>Specifies that the size of the destination image should be reduced, if
      necessary, so that the region being copied into is at the bottom-right
      corner of the image. This option will not affect the width or height of
      the image if the user has specified a non-zero value for the <b>-width</b>
      or <b>-height</b> configuration option, respectively.</dd>
  <dt id="zoom"><a class="permalink" href="#zoom"><b>-zoom </b><i>x
    y</i></a></dt>
  <dd>Specifies that the source region should be magnified by a factor of
      <i>x</i> in the X direction and <i>y</i> in the Y direction. If <i>y</i>
      is not given, the default value is the same as <i>x</i>. With this option,
      each pixel in the source image will be expanded into a block of <i>x</i> x
      <i>y</i> pixels in the destination image, all the same color. <i>x</i> and
      <i>y</i> must be greater than 0.</dd>
  <dt id="subsample"><a class="permalink" href="#subsample"><b>-subsample
    </b><i>x y</i></a></dt>
  <dd>Specifies that the source image should be reduced in size by using only
      every <i>x</i>th pixel in the X direction and <i>y</i>th pixel in the Y
      direction. Negative values will cause the image to be flipped about the Y
      or X axes, respectively. If <i>y</i> is not given, the default value is
      the same as <i>x</i>.</dd>
  <dt id="compositingrule"><a class="permalink" href="#compositingrule"><b>-compositingrule
    </b><i>rule</i></a></dt>
  <dd>Specifies how transparent pixels in the source image are combined with the
      destination image. When a compositing rule of <i>overlay</i> is set, the
      old contents of the destination image are visible, as if the source image
      were printed on a piece of transparent film and placed over the top of the
      destination. When a compositing rule of <i>set</i> is set, the old
      contents of the destination image are discarded and the source image is
      used as-is. The default compositing rule is <i>overlay</i>.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt id="imageName~5"><a class="permalink" href="#imageName~5"><i>imageName
    </i><b>data ?</b><i>option value(s) ...</i>?</a></dt>
  <dd>Returns image data in the form of a string. The following options may be
      specified:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="background"><a class="permalink" href="#background"><b>-background</b><i>
    color</i></a></dt>
  <dd>If the color is specified, the data will not contain any transparency
      information. In all transparent pixels the color will be replaced by the
      specified color.</dd>
  <dt id="format~2"><a class="permalink" href="#format~2"><b>-format</b><i>
    format-name</i></a></dt>
  <dd>Specifies the name of the image file format handler to be used.
      Specifically, this subcommand searches for the first handler whose name
      matches an initial substring of <i>format-name</i> and which has the
      capability to read this image data. If this option is not given, this
      subcommand uses the first handler that has the capability to read the
      image data.</dd>
  <dt id="from~2"><a class="permalink" href="#from~2"><b>-from </b><i>x1 y1 x2
    y2</i></a></dt>
  <dd>Specifies a rectangular region of <i>imageName</i> to be returned. If only
      <i>x1</i> and <i>y1</i> are specified, the region extends from
      <i>(x1,y1)</i> to the bottom-right corner of <i>imageName</i>. If all four
      coordinates are given, they specify diagonally opposite corners of the
      rectangular region, including x1,y1 and excluding x2,y2. The default, if
      this option is not given, is the whole image.</dd>
  <dt id="grayscale"><a class="permalink" href="#grayscale"><b>-grayscale</b></a></dt>
  <dd>If this options is specified, the data will not contain color information.
      All pixel data will be transformed into grayscale.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt id="imageName~6"><a class="permalink" href="#imageName~6"><i>imageName
    </i><b>get</b> <i>x y</i></a></dt>
  <dd>Returns the color of the pixel at coordinates (<i>x</i>,<i>y</i>) in the
      image as a list of three integers between 0 and 255, representing the red,
      green and blue components respectively.</dd>
  <dt id="imageName~7"><a class="permalink" href="#imageName~7"><i>imageName
    </i><b>put</b> <i>data</i> ?<i>option value(s) ...</i>?</a></dt>
  <dd>Sets pixels in <i> imageName</i> to the data specified in <i>data</i>.
      This command first searches the list of image file format handlers for a
      handler that can interpret the data in <i>data</i>, and then reads the
      image encoded within into <i>imageName</i> (the destination image). If
      <i>data</i> does not match any known format, an attempt to interpret it as
      a (top-to-bottom) list of scan-lines is made, with each scan-line being a
      (left-to-right) list of pixel colors (see <b>Tk_GetColor</b> for a
      description of valid colors.) Every scan-line must be of the same length.
      Note that when <i>data</i> is a single color name, you are instructing Tk
      to fill a rectangular region with that color. The following options may be
      specified:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="format~3"><a class="permalink" href="#format~3"><b>-format
    </b><i>format-name</i></a></dt>
  <dd>Specifies the format of the image data in <i>data</i>. Specifically, only
      image file format handlers whose names begin with <i>format-name</i> will
      be used while searching for an image data format handler to read the
    data.</dd>
  <dt id="to~2"><a class="permalink" href="#to~2"><b>-to </b><i>x1 y1</i> ?<i>x2
    y2</i>?</a></dt>
  <dd>Specifies the coordinates of the top-left corner (<i>x1</i>,<i>y1</i>) of
      the region of <i>imageName</i> into which the image data will be copied.
      The default position is (0,0). If <i>x2</i>,<i>y2</i> is given and
      <i>data</i> is not large enough to cover the rectangle specified by this
      option, the image data extracted will be tiled so it covers the entire
      destination rectangle. Note that if <i>data</i> specifies a single color
      value, then a region extending to the bottom-right corner represented by
      (<i>x2</i>,<i>y2</i>) will be filled with that color.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt id="imageName~8"><a class="permalink" href="#imageName~8"><i>imageName
    </i><b>read</b> <i>filename</i> ?<i>option value(s) ...</i>?</a></dt>
  <dd>Reads image data from the file named <i>filename</i> into the image. This
      command first searches the list of image file format handlers for a
      handler that can interpret the data in <i>filename</i>, and then reads the
      image in <i>filename</i> into <i>imageName</i> (the destination image).
      The following options may be specified:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="format~4"><a class="permalink" href="#format~4"><b>-format
    </b><i>format-name</i></a></dt>
  <dd>Specifies the format of the image data in <i>filename</i>. Specifically,
      only image file format handlers whose names begin with <i>format-name</i>
      will be used while searching for an image data format handler to read the
      data.</dd>
  <dt id="from~3"><a class="permalink" href="#from~3"><b>-from </b><i>x1 y1 x2
    y2</i></a></dt>
  <dd>Specifies a rectangular sub-region of the image file data to be copied to
      the destination image. If only <i>x1</i> and <i>y1</i> are specified, the
      region extends from (<i>x1,y1</i>) to the bottom-right corner of the image
      in the image file. If all four coordinates are specified, they specify
      diagonally opposite corners or the region. The default, if this option is
      not specified, is the whole of the image in the image file.</dd>
  <dt id="shrink~2"><a class="permalink" href="#shrink~2"><b>-shrink</b></a></dt>
  <dd>If this option, the size of <i>imageName</i> will be reduced, if
      necessary, so that the region into which the image file data are read is
      at the bottom-right corner of the <i>imageName</i>. This option will not
      affect the width or height of the image if the user has specified a
      non-zero value for the <b>-width</b> or <b>-height</b> configuration
      option, respectively.</dd>
  <dt id="to~3"><a class="permalink" href="#to~3"><b>-to </b><i>x y</i></a></dt>
  <dd>Specifies the coordinates of the top-left corner of the region of
      <i>imageName</i> into which data from <i>filename</i> are to be read. The
      default is (0,0).</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt id="imageName~9"><a class="permalink" href="#imageName~9"><i>imageName
    </i><b>redither</b></a></dt>
  <dd>The dithering algorithm used in displaying photo images propagates
      quantization errors from one pixel to its neighbors. If the image data for
      <i>imageName</i> is supplied in pieces, the dithered image may not be
      exactly correct. Normally the difference is not noticeable, but if it is a
      problem, this command can be used to recalculate the dithered image in
      each window where the image is displayed.</dd>
  <dt id="imageName~10"><a class="permalink" href="#imageName~10"><i>imageName
    </i><b>transparency </b><i>subcommand ?arg arg ...?</i></a></dt>
  <dd>Allows examination and manipulation of the transparency information in the
      photo image. Several subcommands are available:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="imageName~11"><a class="permalink" href="#imageName~11"><i>imageName
    </i><b>transparency get </b><i>x y</i></a></dt>
  <dd>Returns a boolean indicating if the pixel at (<i>x</i>,<i>y</i>) is
      transparent.</dd>
  <dt id="imageName~12"><a class="permalink" href="#imageName~12"><i>imageName
    </i><b>transparency set </b><i>x y boolean</i></a></dt>
  <dd>Makes the pixel at (<i>x</i>,<i>y</i>) transparent if <i>boolean</i> is
      true, and makes that pixel opaque otherwise.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt id="imageName~13"><a class="permalink" href="#imageName~13"><i>imageName
    </i><b>write </b><i>filename</i> ?<i>option value(s) ...</i>?</a></dt>
  <dd>Writes image data from <i>imageName</i> to a file named <i>filename</i>.
      The following options may be specified:</dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="background~2"><a class="permalink" href="#background~2"><b>-background</b><i>
    color</i></a></dt>
  <dd>If the color is specified, the data will not contain any transparency
      information. In all transparent pixels the color will be replaced by the
      specified color.</dd>
  <dt id="format~5"><a class="permalink" href="#format~5"><b>-format</b><i>
    format-name</i></a></dt>
  <dd>Specifies the name of the image file format handler to be used to write
      the data to the file. Specifically, this subcommand searches for the first
      handler whose name matches an initial substring of <i>format-name</i> and
      which has the capability to write an image file. If this option is not
      given, this subcommand uses the first handler that has the capability to
      write an image file.</dd>
  <dt id="from~4"><a class="permalink" href="#from~4"><b>-from </b><i>x1 y1 x2
    y2</i></a></dt>
  <dd>Specifies a rectangular region of <i>imageName</i> to be written to the
      image file. If only <i>x1</i> and <i>y1</i> are specified, the region
      extends from <i>(x1,y1)</i> to the bottom-right corner of
      <i>imageName</i>. If all four coordinates are given, they specify
      diagonally opposite corners of the rectangular region. The default, if
      this option is not given, is the whole image.</dd>
  <dt id="grayscale~2"><a class="permalink" href="#grayscale~2"><b>-grayscale</b></a></dt>
  <dd>If this options is specified, the data will not contain color information.
      All pixel data will be transformed into grayscale.</dd>
</dl>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="IMAGE_FORMATS"><a class="permalink" href="#IMAGE_FORMATS">IMAGE
  FORMATS</a></h1>
<p class="Pp">The photo image code is structured to allow handlers for
    additional image file formats to be added easily. The photo image code
    maintains a list of these handlers. Handlers are added to the list by
    registering them with a call to <b>Tk_CreatePhotoImageFormat</b>. The
    standard Tk distribution comes with handlers for PPM/PGM and GIF formats,
    which are automatically registered on initialization.</p>
<p class="Pp">When reading an image file or processing string data specified
    with the <b>-data</b> configuration option, the photo image code invokes
    each handler in turn until one is found that claims to be able to read the
    data in the file or string. Usually this will find the correct handler, but
    if it does not, the user may give a format name with the <b>-format</b>
    option to specify which handler to use. In fact the photo image code will
    try those handlers whose names begin with the string specified for the
    <b>-format</b> option (the comparison is case-insensitive). For example, if
    the user specifies <b>-format gif</b>, then a handler named GIF87 or GIF89
    may be invoked, but a handler named JPEG may not (assuming that such
    handlers had been registered).</p>
<p class="Pp">When writing image data to a file, the processing of the
    <b>-format</b> option is slightly different: the string value given for the
    <b>-format</b> option must begin with the complete name of the requested
    handler, and may contain additional information following that, which the
    handler can use, for example, to specify which variant to use of the formats
    supported by the handler. Note that not all image handlers may support
    writing transparency data to a file, even where the target image format
    does.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COLOR_ALLOCATION"><a class="permalink" href="#COLOR_ALLOCATION">COLOR
  ALLOCATION</a></h1>
<p class="Pp">When a photo image is displayed in a window, the photo image code
    allocates colors to use to display the image and dithers the image, if
    necessary, to display a reasonable approximation to the image using the
    colors that are available. The colors are allocated as a color cube, that
    is, the number of colors allocated is the product of the number of shades of
    red, green and blue.</p>
<p class="Pp">Normally, the number of colors allocated is chosen based on the
    depth of the window. For example, in an 8-bit PseudoColor window, the photo
    image code will attempt to allocate seven shades of red, seven shades of
    green and four shades of blue, for a total of 198 colors. In a 1-bit
    StaticGray (monochrome) window, it will allocate two colors, black and
    white. In a 24-bit DirectColor or TrueColor window, it will allocate 256
    shades each of red, green and blue. Fortunately, because of the way that
    pixel values can be combined in DirectColor and TrueColor windows, this only
    requires 256 colors to be allocated. If not all of the colors can be
    allocated, the photo image code reduces the number of shades of each primary
    color and tries again.</p>
<p class="Pp">The user can exercise some control over the number of colors that
    a photo image uses with the <b>-palette</b> configuration option. If this
    option is used, it specifies the maximum number of shades of each primary
    color to try to allocate. It can also be used to force the image to be
    displayed in shades of gray, even on a color display, by giving a single
    number rather than three numbers separated by slashes.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CREDITS"><a class="permalink" href="#CREDITS">CREDITS</a></h1>
<p class="Pp">The photo image type was designed and implemented by Paul
    Mackerras, based on his earlier photo widget and some suggestions from John
    Ousterhout.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLE"><a class="permalink" href="#EXAMPLE">EXAMPLE</a></h1>
<p class="Pp">Load an image from a file and tile it to the size of a window,
    which is useful for producing a tiled background:</p>
<div class="Bd-indent">
<pre>
# These lines should be called once
<b>image create photo</b> untiled -file &quot;theFile.ppm&quot;
<b>image create photo</b> tiled
# These lines should be called whenever .someWidget changes
# size; a &lt;Configure&gt; binding is useful here
set width  [winfo width .someWidget]
set height [winfo height .someWidget]
tiled <b>copy</b> untiled -to 0 0 $width $height -shrink</pre>
</div>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">image(n)</p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="KEYWORDS"><a class="permalink" href="#KEYWORDS">KEYWORDS</a></h1>
<p class="Pp">photo, image, color</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">4.0</td>
    <td class="foot-os"><a href="..">Tk</a></td>
  </tr>
</table>
</body>
</html>
