<!DOCTYPE html>
<html lang="en">
<!-- This is an automatically generated file.  Do not edit.
   Copyright (c) 2006-2009 Andreas Kupries <andreas_kupries@users.sourceforge.net>
  
   The definitions below are for supplemental macros used in Tcl/Tk
   manual entries.
  
   .AP type name in/out ?indent?
  	Start paragraph describing an argument to a library procedure.
  	type is type of argument (int, etc.), in/out is either "in", "out",
  	or "in/out" to describe whether procedure reads or modifies arg,
  	and indent is equivalent to second arg of .IP (shouldn't ever be
  	needed;  use .AS below instead)
  
   .AS ?type? ?name?
  	Give maximum sizes of arguments for setting tab stops.  Type and
  	name are examples of largest possible arguments that will be passed
  	to .AP later.  If args are omitted, default tab stops are used.
  
   .BS
  	Start box enclosure.  From here until next .BE, everything will be
  	enclosed in one large box.
  
   .BE
  	End of box enclosure.
  
   .CS
  	Begin code excerpt.
  
   .CE
  	End code excerpt.
  
   .VS ?version? ?br?
  	Begin vertical sidebar, for use in marking newly-changed parts
  	of man pages.  The first argument is ignored and used for recording
  	the version when the .VS was added, so that the sidebars can be
  	found and removed when they reach a certain age.  If another argument
  	is present, then a line break is forced before starting the sidebar.
  
   .VE
  	End of vertical sidebar.
  
   .DS
  	Begin an indented unfilled display.
  
   .DE
  	End of indented unfilled display.
  
   .SO
  	Start of list of standard options for a Tk widget.  The
  	options follow on successive lines, in four columns separated
  	by tabs.
  
   .SE
  	End of list of standard options for a Tk widget.
  
   .OP cmdName dbName dbClass
  	Start of description of a specific option.  cmdName gives the
  	option's name as specified in the class command, dbName gives
  	the option's name in the option database, and dbClass gives
  	the option's class in the option database.
  
   .UL arg1 arg2
  	Print arg1 underlined, then print arg2 normally.
  
   RCS: @(#) $Id: man.macros,v 1.1 2009/01/30 04:56:47 andreas_kupries Exp $
  
  	# Set up traps and other miscellaneous stuff for Tcl/Tk man pages.
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>transfer::copy(n)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">transfer::copy(n)</td>
    <td class="head-vol"><a href=".">Data transfer facilities</a></td>
    <td class="head-rtitle">transfer::copy(n)</td>
  </tr>
</table>
<div class="manual-text">
<br/>
<pre>
</pre>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">transfer::copy - Data transfer foundation</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp">package require <b>Tcl 8.4</b></p>
<p class="Pp">package require <b>transfer::copy ?0.2?</b></p>
<p class="Pp"><b>transfer::copy::do</b> <b>chan</b>|<b>string</b> <i>data</i>
    <i>outchannel</i> ?<i>options</i>...?</p>
<p class="Pp"><b>transfer::copy::chan</b> <i>channel</i> <i>outchannel</i>
    ?<i>options</i>...?</p>
<p class="Pp"><b>transfer::copy::string</b> <i>string</i> <i>outchannel</i>
    ?<i>options</i>...?</p>
<p class="Pp"><b>transfer::copy::doChan</b> <i>channel</i> <i>outchannel</i>
    <i>optvar</i></p>
<p class="Pp"><b>transfer::copy::doString</b> <i>string</i> <i>outchannel</i>
    <i>optvar</i></p>
<p class="Pp"><b>transfer::copy::options</b> <i>outchannel</i> <i>optionlist</i>
    <i>optvar</i></p>
<p class="Pp"></p>
<pre>
</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This package provides a number of commands for the asynchronous of
    information contained in either a string or channel. The main point of this
    package is that the commands here provide a nicer callback API than the
    builtin command <b>fcopy</b>, making the use of these facilities simpler
    than the builtin.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="API"><a class="permalink" href="#API">API</a></h1>
<dl class="Bl-tag">
  <dt id="transfer::copy::do"><a class="permalink" href="#transfer::copy::do"><b>transfer::copy::do</b>
    <b>chan</b>|<b>string</b> <i>data</i> <i>outchannel</i>
    ?<i>options</i>...?</a></dt>
  <dd>This command transfers the information in <i>data</i> to the
      <i>outchannel</i>, according to the <i>options</i>. The type of the
      information in <i>data</i> is determined by the first argument.
    <p class="Pp">The options available to this command are the same as are
        available to the command <b>transfer::copy::options</b>, and explained
        there.</p>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="chan"><a class="permalink" href="#chan"><b>chan</b></a></dt>
  <dd>The argument <i>data</i> contains the handle of a channel and the actual
      infomration to transfer is read from that channel.</dd>
  <dt id="string"><a class="permalink" href="#string"><b>string</b></a></dt>
  <dd>The argument <i>data</i> contains a string and this is the information to
      be transfered.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt id="transfer::copy::chan"><a class="permalink" href="#transfer::copy::chan"><b>transfer::copy::chan</b>
    <i>channel</i> <i>outchannel</i> ?<i>options</i>...?</a></dt>
  <dd>This command is a shorter and more direct form for the command
      <b>transfer::copy::do chan</b>.</dd>
  <dt id="transfer::copy::string"><a class="permalink" href="#transfer::copy::string"><b>transfer::copy::string</b>
    <i>string</i> <i>outchannel</i> ?<i>options</i>...?</a></dt>
  <dd>This command is a shorter and more direct form for the command
      <b>transfer::copy::do string</b>.</dd>
  <dt id="transfer::copy::doChan"><a class="permalink" href="#transfer::copy::doChan"><b>transfer::copy::doChan</b>
    <i>channel</i> <i>outchannel</i> <i>optvar</i></a></dt>
  <dd>This command is an alternate form of <b>transfer::copy::chan</b> which
      reads its options out of the array variable named by <i>optvar</i> instead
      of from a variable length argument list.</dd>
  <dt id="transfer::copy::doString"><a class="permalink" href="#transfer::copy::doString"><b>transfer::copy::doString</b>
    <i>string</i> <i>outchannel</i> <i>optvar</i></a></dt>
  <dd>This command is an alternate form of <b>transfer::copy::string</b> which
      reads its options out of the array variable named by <i>optvar</i> instead
      of from a variable length argument list.</dd>
  <dt id="transfer::copy::options"><a class="permalink" href="#transfer::copy::options"><b>transfer::copy::options</b>
    <i>outchannel</i> <i>optionlist</i> <i>optvar</i></a></dt>
  <dd>This command is the option processor used by all the commands above which
      read their options from a variable length argument list. It first reads
      default settings from the channel handle <i>outchannel</i>, then processes
      the list of options in <i>optionlist</i>, at last stores the results in
      the array variable named by <i>optvar</i>. The contents of that variable
      are in a format which is directly understood by all the commands above
      which read their options out of an array variable.
    <p class="Pp">The recognized options are:</p>
  </dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt id="blocksize"><a class="permalink" href="#blocksize"><b>-blocksize</b>
    <i>int</i></a></dt>
  <dd>This option specifies the size of the chunks to transfer in one operation.
      It is optional and defaults to the value of <b>-buffersize</b> as
      configured for the output channel.
    <p class="Pp">If specified its value has to be an integer number greater
        than zero.</p>
  </dd>
  <dt id="command"><a class="permalink" href="#command"><b>-command</b>
    <i>commandprefix</i></a></dt>
  <dd>This option specifies the completion callback of the operation. This
      option has to be specified. An error will be thrown if it is not, or if
      the empty list was specified as argument to it.
    <p class="Pp">Its value has to be a command prefix, i.e. a list whose first
        word is the command to execute, followed by words containing fixed
        arguments. When the callback is invoked one or two additional arguments
        are appended to the prefix. The first argument is the number of bytes
        which were transfered. The optional second argument is an error message
        and added if and only if an error occured during the the transfer.</p>
  </dd>
  <dt id="progress"><a class="permalink" href="#progress"><b>-progress</b>
    <i>commandprefix</i></a></dt>
  <dd>This option specifies the progress callback of the operation. It is
      optional and defaults to the empty list. This last possibility signals
      that no feedback was asked for and disabled it.
    <p class="Pp">Its value has to be a command prefix, see above,
        <b>-command</b> for a more detailed explanation. When the callback is
        invoked a single additional arguments is appended to the prefix. This
        argument is the number of bytes which were transfered so far.</p>
  </dd>
  <dt id="size"><a class="permalink" href="#size"><b>-size</b>
    <i>int</i></a></dt>
  <dd>This option specifies the number of bytes to read from the input data and
      transfer. It is optional and defaults to &quot;Transfer everything&quot;.
      Its value has to be an integer number and any value less than zero has the
      same meaning, i.e. to transfer all available data. Any other value is the
      amount of bytes to transfer.
    <p class="Pp">All transfer commands will throw error an when their user
        tries to transfer more data than is available in the input. This happens
        immediately, before the transfer is actually started, should the input
        be a string. Otherwise the, i.e. for a channel as input, the error is
        thrown the moment the underflow condition is actually detected.</p>
  </dd>
  <dt id="encoding"><a class="permalink" href="#encoding"><b>-encoding</b>
    <i>encodingname</i></a></dt>
  <dd></dd>
  <dt id="eofchar"><a class="permalink" href="#eofchar"><b>-eofchar</b>
    <i>eofspec</i></a></dt>
  <dd></dd>
  <dt id="translation"><a class="permalink" href="#translation"><b>-translation</b>
    <i>transspec</i></a></dt>
  <dd>These options are the same as are recognized by the builtin command
      <b>fconfigure</b> and provide the settings for the output channel which
      are to be active during the transfer, and only then. I.e. the settings of
      the output channel before the transfer are saved, and restored at the end
      of a transfer, regardless of its success or failure. None of these options
      are required, and they default to the settings of the output channel if
      not specified.</dd>
</dl>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS,_IDEAS,_FEEDBACK"><a class="permalink" href="#BUGS,_IDEAS,_FEEDBACK">BUGS,
  IDEAS, FEEDBACK</a></h1>
<p class="Pp">This document, and the package it describes, will undoubtedly
    contain bugs and other problems. Please report such in the category
    <i>transfer</i> of the <i>Tcllib SF Trackers</i>
    [http://sourceforge.net/tracker/?group_id=12883]. Please also report any
    ideas for enhancements you may have for either package and/or
  documentation.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="KEYWORDS"><a class="permalink" href="#KEYWORDS">KEYWORDS</a></h1>
<p class="Pp">channel, copy, transfer</p>
</section>
<section class="Sh">
<h1 class="Sh" id="CATEGORY"><a class="permalink" href="#CATEGORY">CATEGORY</a></h1>
<p class="Pp">Transfer module</p>
</section>
<section class="Sh">
<h1 class="Sh" id="COPYRIGHT"><a class="permalink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<pre>Copyright (c) 2006-2009 Andreas Kupries &lt;andreas_kupries@users.sourceforge.net&gt;
</pre>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">0.2</td>
    <td class="foot-os"><a href="..">transfer</a></td>
  </tr>
</table>
</body>
</html>
