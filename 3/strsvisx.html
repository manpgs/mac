<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
  	$NetBSD: vis.3,v 1.49 2017/08/05 20:22:29 wiz Exp $
  	$FreeBSD$
  
   Copyright (c) 1989, 1991, 1993
  	The Regents of the University of California.  All rights reserved.
  
   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:
   1. Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
   2. Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
   3. Neither the name of the University nor the names of its contributors
      may be used to endorse or promote products derived from this software
      without specific prior written permission.
  
   THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
   ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
   FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
   DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
   OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
   HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
   OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
   SUCH DAMAGE.
  
       @(#)vis.3	8.1 (Berkeley) 6/9/93
   -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>VIS(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">VIS(3)</td>
    <td class="head-vol">Library Functions Manual</td>
    <td class="head-rtitle">VIS(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">vis</code>, <code class="Nm">nvis</code>,
    <code class="Nm">strvis</code>, <code class="Nm">stravis</code>,
    <code class="Nm">strnvis</code>, <code class="Nm">strvisx</code>,
    <code class="Nm">strnvisx</code>, <code class="Nm">strenvisx</code>,
    <code class="Nm">svis</code>, <code class="Nm">snvis</code>,
    <code class="Nm">strsvis</code>, <code class="Nm">strsnvis</code>,
    <code class="Nm">strsvisx</code>, <code class="Nm">strsnvisx</code>,
    <code class="Nm">strsenvisx</code> &#x2014; <span class="Nd">visually encode
    characters</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="LIBRARY"><a class="permalink" href="#LIBRARY">LIBRARY</a></h1>
<p class="Pp"><span class="Lb">Standard C&#x00A0;Library (libc, -lc)</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><code class="In">#include
  &lt;<a class="In">vis.h</a>&gt;</code></p>
<p class="Pp"><var class="Ft">char *</var>
  <br/>
  <code class="Fn">vis</code>(<var class="Fa" style="white-space: nowrap;">char
    *dst</var>, <var class="Fa" style="white-space: nowrap;">int c</var>,
    <var class="Fa" style="white-space: nowrap;">int flag</var>,
    <var class="Fa" style="white-space: nowrap;">int nextc</var>);</p>
<p class="Pp"><var class="Ft">char *</var>
  <br/>
  <code class="Fn">nvis</code>(<var class="Fa" style="white-space: nowrap;">char
    *dst</var>, <var class="Fa" style="white-space: nowrap;">size_t dlen</var>,
    <var class="Fa" style="white-space: nowrap;">int c</var>,
    <var class="Fa" style="white-space: nowrap;">int flag</var>,
    <var class="Fa" style="white-space: nowrap;">int nextc</var>);</p>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">strvis</code>(<var class="Fa" style="white-space: nowrap;">char
    *dst</var>, <var class="Fa" style="white-space: nowrap;">const char
    *src</var>, <var class="Fa" style="white-space: nowrap;">int
  flag</var>);</p>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">stravis</code>(<var class="Fa" style="white-space: nowrap;">char
    **dst</var>, <var class="Fa" style="white-space: nowrap;">const char
    *src</var>, <var class="Fa" style="white-space: nowrap;">int
  flag</var>);</p>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">strnvis</code>(<var class="Fa" style="white-space: nowrap;">char
    *dst</var>, <var class="Fa" style="white-space: nowrap;">size_t dlen</var>,
    <var class="Fa" style="white-space: nowrap;">const char *src</var>,
    <var class="Fa" style="white-space: nowrap;">int flag</var>);</p>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">strvisx</code>(<var class="Fa" style="white-space: nowrap;">char
    *dst</var>, <var class="Fa" style="white-space: nowrap;">const char
    *src</var>, <var class="Fa" style="white-space: nowrap;">size_t len</var>,
    <var class="Fa" style="white-space: nowrap;">int flag</var>);</p>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">strnvisx</code>(<var class="Fa" style="white-space: nowrap;">char
    *dst</var>, <var class="Fa" style="white-space: nowrap;">size_t dlen</var>,
    <var class="Fa" style="white-space: nowrap;">const char *src</var>,
    <var class="Fa" style="white-space: nowrap;">size_t len</var>,
    <var class="Fa" style="white-space: nowrap;">int flag</var>);</p>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">strenvisx</code>(<var class="Fa" style="white-space: nowrap;">char
    *dst</var>, <var class="Fa" style="white-space: nowrap;">size_t dlen</var>,
    <var class="Fa" style="white-space: nowrap;">const char *src</var>,
    <var class="Fa" style="white-space: nowrap;">size_t len</var>,
    <var class="Fa" style="white-space: nowrap;">int flag</var>,
    <var class="Fa" style="white-space: nowrap;">int *cerr_ptr</var>);</p>
<p class="Pp"><var class="Ft">char *</var>
  <br/>
  <code class="Fn">svis</code>(<var class="Fa" style="white-space: nowrap;">char
    *dst</var>, <var class="Fa" style="white-space: nowrap;">int c</var>,
    <var class="Fa" style="white-space: nowrap;">int flag</var>,
    <var class="Fa" style="white-space: nowrap;">int nextc</var>,
    <var class="Fa" style="white-space: nowrap;">const char *extra</var>);</p>
<p class="Pp"><var class="Ft">char *</var>
  <br/>
  <code class="Fn">snvis</code>(<var class="Fa" style="white-space: nowrap;">char
    *dst</var>, <var class="Fa" style="white-space: nowrap;">size_t dlen</var>,
    <var class="Fa" style="white-space: nowrap;">int c</var>,
    <var class="Fa" style="white-space: nowrap;">int flag</var>,
    <var class="Fa" style="white-space: nowrap;">int nextc</var>,
    <var class="Fa" style="white-space: nowrap;">const char *extra</var>);</p>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">strsvis</code>(<var class="Fa" style="white-space: nowrap;">char
    *dst</var>, <var class="Fa" style="white-space: nowrap;">const char
    *src</var>, <var class="Fa" style="white-space: nowrap;">int flag</var>,
    <var class="Fa" style="white-space: nowrap;">const char *extra</var>);</p>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">strsnvis</code>(<var class="Fa" style="white-space: nowrap;">char
    *dst</var>, <var class="Fa" style="white-space: nowrap;">size_t dlen</var>,
    <var class="Fa" style="white-space: nowrap;">const char *src</var>,
    <var class="Fa" style="white-space: nowrap;">int flag</var>,
    <var class="Fa" style="white-space: nowrap;">const char *extra</var>);</p>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">strsvisx</code>(<var class="Fa" style="white-space: nowrap;">char
    *dst</var>, <var class="Fa" style="white-space: nowrap;">const char
    *src</var>, <var class="Fa" style="white-space: nowrap;">size_t len</var>,
    <var class="Fa" style="white-space: nowrap;">int flag</var>,
    <var class="Fa" style="white-space: nowrap;">const char *extra</var>);</p>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">strsnvisx</code>(<var class="Fa" style="white-space: nowrap;">char
    *dst</var>, <var class="Fa" style="white-space: nowrap;">size_t dlen</var>,
    <var class="Fa" style="white-space: nowrap;">const char *src</var>,
    <var class="Fa" style="white-space: nowrap;">size_t len</var>,
    <var class="Fa" style="white-space: nowrap;">int flag</var>,
    <var class="Fa" style="white-space: nowrap;">const char *extra</var>);</p>
<p class="Pp"><var class="Ft">int</var>
  <br/>
  <code class="Fn">strsenvisx</code>(<var class="Fa" style="white-space: nowrap;">char
    *dst</var>, <var class="Fa" style="white-space: nowrap;">size_t dlen</var>,
    <var class="Fa" style="white-space: nowrap;">const char *src</var>,
    <var class="Fa" style="white-space: nowrap;">size_t len</var>,
    <var class="Fa" style="white-space: nowrap;">int flag</var>,
    <var class="Fa" style="white-space: nowrap;">const char *extra</var>,
    <var class="Fa" style="white-space: nowrap;">int *cerr_ptr</var>);</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The
    <a class="permalink" href="#vis"><code class="Fn" id="vis">vis</code></a>()
    function copies into <var class="Fa">dst</var> a string which represents the
    character <var class="Fa">c</var>. If <var class="Fa">c</var> needs no
    encoding, it is copied in unaltered. The string is null terminated, and a
    pointer to the end of the string is returned. The maximum length of any
    encoding is four bytes (not including the trailing
    <code class="Dv">NUL</code>); thus, when encoding a set of characters into a
    buffer, the size of the buffer should be four times the number of bytes
    encoded, plus one for the trailing <code class="Dv">NUL</code>. The flag
    parameter is used for altering the default range of characters considered
    for encoding and for altering the visual representation. The additional
    character, <var class="Fa">nextc</var>, is only used when selecting the
    <code class="Dv">VIS_CSTYLE</code> encoding format (explained below).</p>
<p class="Pp" id="strvis">The
    <a class="permalink" href="#strvis"><code class="Fn">strvis</code></a>(),
    <a class="permalink" href="#stravis"><code class="Fn" id="stravis">stravis</code></a>(),
    <a class="permalink" href="#strnvis"><code class="Fn" id="strnvis">strnvis</code></a>(),
    <a class="permalink" href="#strvisx"><code class="Fn" id="strvisx">strvisx</code></a>(),
    and
    <a class="permalink" href="#strnvisx"><code class="Fn" id="strnvisx">strnvisx</code></a>()
    functions copy into <var class="Fa">dst</var> a visual representation of the
    string <var class="Fa">src</var>. The <code class="Fn">strvis</code>() and
    <code class="Fn">strnvis</code>() functions encode characters from
    <var class="Fa">src</var> up to the first <code class="Dv">NUL</code>. The
    <code class="Fn">strvisx</code>() and <code class="Fn">strnvisx</code>()
    functions encode exactly <var class="Fa">len</var> characters from
    <var class="Fa">src</var> (this is useful for encoding a block of data that
    may contain <code class="Dv">NUL</code>'s). Both forms
    <code class="Dv">NUL</code> terminate <var class="Fa">dst</var>. The size of
    <var class="Fa">dst</var> must be four times the number of bytes encoded
    from <var class="Fa">src</var> (plus one for the
    <code class="Dv">NUL</code>). Both forms return the number of characters in
    <var class="Fa">dst</var> (not including the trailing
    <code class="Dv">NUL</code>). The <code class="Fn">stravis</code>() function
    allocates space dynamically to hold the string. The
    &#x201C;<code class="Nm">n</code>&#x201D; versions of the functions also
    take an additional argument <var class="Fa">dlen</var> that indicates the
    length of the <var class="Fa">dst</var> buffer. If
    <var class="Fa">dlen</var> is not large enough to fit the converted string
    then the <code class="Fn">strnvis</code>() and
    <code class="Fn">strnvisx</code>() functions return -1 and set
    <var class="Va">errno</var> to <code class="Dv">ENOSPC</code>. The
    <a class="permalink" href="#strenvisx"><code class="Fn" id="strenvisx">strenvisx</code></a>()
    function takes an additional argument, <var class="Fa">cerr_ptr</var>, that
    is used to pass in and out a multibyte conversion error flag. This is useful
    when processing single characters at a time when it is possible that the
    locale may be set to something other than the locale of the characters in
    the input data.</p>
<p class="Pp" id="svis">The functions
    <a class="permalink" href="#svis"><code class="Fn">svis</code></a>(),
    <a class="permalink" href="#snvis"><code class="Fn" id="snvis">snvis</code></a>(),
    <a class="permalink" href="#strsvis"><code class="Fn" id="strsvis">strsvis</code></a>(),
    <a class="permalink" href="#strsnvis"><code class="Fn" id="strsnvis">strsnvis</code></a>(),
    <a class="permalink" href="#strsvisx"><code class="Fn" id="strsvisx">strsvisx</code></a>(),
    <a class="permalink" href="#strsnvisx"><code class="Fn" id="strsnvisx">strsnvisx</code></a>(),
    and
    <a class="permalink" href="#strsenvisx"><code class="Fn" id="strsenvisx">strsenvisx</code></a>()
    correspond to <code class="Fn">vis</code>(), <code class="Fn">nvis</code>(),
    <code class="Fn">strvis</code>(), <code class="Fn">strnvis</code>(),
    <code class="Fn">strvisx</code>(), <code class="Fn">strnvisx</code>(), and
    <code class="Fn">strenvisx</code>() but have an additional argument
    <var class="Fa">extra</var>, pointing to a <code class="Dv">NUL</code>
    terminated list of characters. These characters will be copied encoded or
    backslash-escaped into <var class="Fa">dst</var>. These functions are useful
    e.g. to remove the special meaning of certain characters to shells.</p>
<p class="Pp">The encoding is a unique, invertible representation composed
    entirely of graphic characters; it can be decoded back into the original
    form using the <a class="Xr" href="../3/unvis">unvis(3)</a>,
    <a class="Xr" href="../3/strunvis">strunvis(3)</a> or
    <a class="Xr" href="../3/strnunvis">strnunvis(3)</a> functions.</p>
<p class="Pp" id="vis~2">There are two parameters that can be controlled: the
    range of characters that are encoded (applies only to
    <a class="permalink" href="#vis~2"><code class="Fn">vis</code></a>(),
    <a class="permalink" href="#nvis"><code class="Fn" id="nvis">nvis</code></a>(),
    <code class="Fn">strvis</code>(), <code class="Fn">strnvis</code>(),
    <code class="Fn">strvisx</code>(), and <code class="Fn">strnvisx</code>()),
    and the type of representation used. By default, all non-graphic characters,
    except space, tab, and newline are encoded (see
    <a class="Xr" href="../3/isgraph">isgraph(3)</a>). The following flags alter
    this:</p>
<dl class="Bl-tag">
  <dt id="VIS_DQ"><a class="permalink" href="#VIS_DQ"><code class="Dv">VIS_DQ</code></a></dt>
  <dd>Also encode double quotes</dd>
  <dt id="VIS_GLOB"><a class="permalink" href="#VIS_GLOB"><code class="Dv">VIS_GLOB</code></a></dt>
  <dd>Also encode the magic characters
      (&#x2018;<code class="Li">*</code>&#x2019;,
      &#x2018;<code class="Li">?</code>&#x2019;,
      &#x2018;<code class="Li">[</code>&#x2019;, and
      &#x2018;<code class="Li">#</code>&#x2019;) recognized by
      <a class="Xr" href="../3/glob">glob(3)</a>.</dd>
  <dt id="VIS_SHELL"><a class="permalink" href="#VIS_SHELL"><code class="Dv">VIS_SHELL</code></a></dt>
  <dd>Also encode the meta characters used by shells (in addition to the glob
      characters): (&#x2018;<code class="Li">'</code>&#x2019;,
      &#x2018;<code class="Li">`</code>&#x2019;,
      &#x2018;<code class="Li">&quot;</code>&#x2019;,
      &#x2018;<code class="Li">;</code>&#x2019;,
      &#x2018;<code class="Li">&amp;</code>&#x2019;,
      &#x2018;<code class="Li">&lt;</code>&#x2019;,
      &#x2018;<code class="Li">&gt;</code>&#x2019;,
      &#x2018;<code class="Li">(</code>&#x2019;,
      &#x2018;<code class="Li">)</code>&#x2019;,
      &#x2018;<code class="Li">|</code>&#x2019;,
      &#x2018;<code class="Li">]</code>&#x2019;,
      &#x2018;<code class="Li">\</code>&#x2019;,
      &#x2018;<code class="Li">$</code>&#x2019;,
      &#x2018;<code class="Li">!</code>&#x2019;,
      &#x2018;<code class="Li">^</code>&#x2019;, and
      &#x2018;<code class="Li">~</code>&#x2019;).</dd>
  <dt id="VIS_SP"><a class="permalink" href="#VIS_SP"><code class="Dv">VIS_SP</code></a></dt>
  <dd>Also encode space.</dd>
  <dt id="VIS_TAB"><a class="permalink" href="#VIS_TAB"><code class="Dv">VIS_TAB</code></a></dt>
  <dd>Also encode tab.</dd>
  <dt id="VIS_NL"><a class="permalink" href="#VIS_NL"><code class="Dv">VIS_NL</code></a></dt>
  <dd>Also encode newline.</dd>
  <dt id="VIS_WHITE"><a class="permalink" href="#VIS_WHITE"><code class="Dv">VIS_WHITE</code></a></dt>
  <dd>Synonym for <code class="Dv">VIS_SP</code> |
      <a class="permalink" href="#VIS_TAB~2"><code class="Dv" id="VIS_TAB~2">VIS_TAB</code></a>
      |
      <a class="permalink" href="#VIS_NL~2"><code class="Dv" id="VIS_NL~2">VIS_NL</code></a>.</dd>
  <dt id="VIS_META"><a class="permalink" href="#VIS_META"><code class="Dv">VIS_META</code></a></dt>
  <dd>Synonym for <code class="Dv">VIS_WHITE</code> |
      <a class="permalink" href="#VIS_GLOB~2"><code class="Dv" id="VIS_GLOB~2">VIS_GLOB</code></a>
      |
      <a class="permalink" href="#VIS_SHELL~2"><code class="Dv" id="VIS_SHELL~2">VIS_SHELL</code></a>.</dd>
  <dt id="VIS_SAFE"><a class="permalink" href="#VIS_SAFE"><code class="Dv">VIS_SAFE</code></a></dt>
  <dd>Only encode &#x201C;unsafe&#x201D; characters. Unsafe means control
      characters which may cause common terminals to perform unexpected
      functions. Currently this form allows space, tab, newline, backspace,
      bell, and return &#x2014; in addition to all graphic characters &#x2014;
      unencoded.</dd>
</dl>
<p class="Pp" id="svis~2">(The above flags have no effect for
    <a class="permalink" href="#svis~2"><code class="Fn">svis</code></a>(),
    <a class="permalink" href="#snvis~2"><code class="Fn" id="snvis~2">snvis</code></a>(),
    <a class="permalink" href="#strsvis~2"><code class="Fn" id="strsvis~2">strsvis</code></a>(),
    <a class="permalink" href="#strsnvis~2"><code class="Fn" id="strsnvis~2">strsnvis</code></a>(),
    <a class="permalink" href="#strsvisx~2"><code class="Fn" id="strsvisx~2">strsvisx</code></a>(),
    and
    <a class="permalink" href="#strsnvisx~2"><code class="Fn" id="strsnvisx~2">strsnvisx</code></a>().
    When using these functions, place all graphic characters to be encoded in an
    array pointed to by <var class="Fa">extra</var>. In general, the backslash
    character should be included in this array, see the warning on the use of
    the <code class="Dv">VIS_NOSLASH</code> flag below).</p>
<p class="Pp">There are six forms of encoding. All forms use the backslash
    character &#x2018;<code class="Li">\</code>&#x2019; to introduce a special
    sequence; two backslashes are used to represent a real backslash, except
    <code class="Dv">VIS_HTTPSTYLE</code> that uses
    &#x2018;<code class="Li">%</code>&#x2019;, or
    <code class="Dv">VIS_MIMESTYLE</code> that uses
    &#x2018;<code class="Li">=</code>&#x2019;. These are the visual formats:</p>
<dl class="Bl-tag">
  <dt>(default)</dt>
  <dd>Use an &#x2018;<code class="Li">M</code>&#x2019; to represent meta
      characters (characters with the 8th bit set), and use caret
      &#x2018;<code class="Li">^</code>&#x2019; to represent control characters
      (see <a class="Xr" href="../3/iscntrl">iscntrl(3)</a>). The following
      formats are used:
    <dl class="Bl-tag">
      <dt id="_C"><a class="permalink" href="#_C"><code class="Dv">\^C</code></a></dt>
      <dd>Represents the control character
          &#x2018;<code class="Li">C</code>&#x2019;. Spans characters
          &#x2018;<code class="Li">\000</code>&#x2019; through
          &#x2018;<code class="Li">\037</code>&#x2019;, and
          &#x2018;<code class="Li">\177</code>&#x2019; (as
          &#x2018;<code class="Li">\^?</code>&#x2019;).</dd>
      <dt id="M-C"><a class="permalink" href="#M-C"><code class="Dv">\M-C</code></a></dt>
      <dd>Represents character &#x2018;<code class="Li">C</code>&#x2019; with
          the 8th bit set. Spans characters
          &#x2018;<code class="Li">\241</code>&#x2019; through
          &#x2018;<code class="Li">\376</code>&#x2019;.</dd>
      <dt id="M_C"><a class="permalink" href="#M_C"><code class="Dv">\M^C</code></a></dt>
      <dd>Represents control character &#x2018;<code class="Li">C</code>&#x2019;
          with the 8th bit set. Spans characters
          &#x2018;<code class="Li">\200</code>&#x2019; through
          &#x2018;<code class="Li">\237</code>&#x2019;, and
          &#x2018;<code class="Li">\377</code>&#x2019; (as
          &#x2018;<code class="Li">\M^?</code>&#x2019;).</dd>
      <dt id="040"><a class="permalink" href="#040"><code class="Dv">\040</code></a></dt>
      <dd>Represents ASCII space.</dd>
      <dt id="240"><a class="permalink" href="#240"><code class="Dv">\240</code></a></dt>
      <dd>Represents Meta-space.</dd>
    </dl>
  </dd>
  <dt id="VIS_CSTYLE"><a class="permalink" href="#VIS_CSTYLE"><code class="Dv">VIS_CSTYLE</code></a></dt>
  <dd>Use C-style backslash sequences to represent standard non-printable
      characters. The following sequences are used to represent the indicated
      characters:
    <div class="Bd Pp Bd-indent">
    <pre><code class="Li">\a</code> &#x2014; BEL <span class="No">(007)</span>
<code class="Li">\b</code> &#x2014; BS <span class="No">(010)</span>
<code class="Li">\f</code> &#x2014; NP <span class="No">(014)</span>
<code class="Li">\n</code> &#x2014; NL <span class="No">(012)</span>
<code class="Li">\r</code> &#x2014; CR <span class="No">(015)</span>
<code class="Li">\s</code> &#x2014; SP <span class="No">(040)</span>
<code class="Li">\t</code> &#x2014; HT <span class="No">(011)</span>
<code class="Li">\v</code> &#x2014; VT <span class="No">(013)</span>
<code class="Li">\0</code> &#x2014; NUL <span class="No">(000)</span></pre>
    </div>
    <p class="Pp">When using this format, the <var class="Fa">nextc</var>
        parameter is looked at to determine if a <code class="Dv">NUL</code>
        character can be encoded as &#x2018;<code class="Li">\0</code>&#x2019;
        instead of &#x2018;<code class="Li">\000</code>&#x2019;. If
        <var class="Fa">nextc</var> is an octal digit, the latter representation
        is used to avoid ambiguity.</p>
    <p class="Pp">Non-printable characters without C-style backslash sequences
        use the default representation.</p>
  </dd>
  <dt id="VIS_OCTAL"><a class="permalink" href="#VIS_OCTAL"><code class="Dv">VIS_OCTAL</code></a></dt>
  <dd>Use a three digit octal sequence. The form is
      &#x2018;<code class="Li">\ddd</code>&#x2019; where
      <a class="permalink" href="#d"><i class="Em" id="d">d</i></a> represents
      an octal digit.</dd>
  <dt id="VIS_CSTYLE~2"><a class="permalink" href="#VIS_CSTYLE~2"><code class="Dv">VIS_CSTYLE
    |</code></a> <code class="Dv">VIS_OCTAL</code></dt>
  <dd>Same as <code class="Dv">VIS_CSTYLE</code> except that non-printable
      characters without C-style backslash sequences use a three digit octal
      sequence.</dd>
  <dt id="VIS_HTTPSTYLE"><a class="permalink" href="#VIS_HTTPSTYLE"><code class="Dv">VIS_HTTPSTYLE</code></a></dt>
  <dd>Use URI encoding as described in RFC 1738. The form is
      &#x2018;<code class="Li">%xx</code>&#x2019; where
      <a class="permalink" href="#x"><i class="Em" id="x">x</i></a> represents a
      lower case hexadecimal digit.</dd>
  <dt id="VIS_MIMESTYLE"><a class="permalink" href="#VIS_MIMESTYLE"><code class="Dv">VIS_MIMESTYLE</code></a></dt>
  <dd>Use MIME Quoted-Printable encoding as described in RFC 2045, only don't
      break lines and don't handle CRLF. The form is
      &#x2018;<code class="Li">=XX</code>&#x2019; where
      <a class="permalink" href="#X"><i class="Em" id="X">X</i></a> represents
      an upper case hexadecimal digit.</dd>
</dl>
<p class="Pp">There is one additional flag, <code class="Dv">VIS_NOSLASH</code>,
    which inhibits the doubling of backslashes and the backslash before the
    default format (that is, control characters are represented by
    &#x2018;<code class="Li">^C</code>&#x2019; and meta characters as
    &#x2018;<code class="Li">M-C</code>&#x2019;). With this flag set, the
    encoding is ambiguous and non-invertible.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="MULTIBYTE_CHARACTER_SUPPORT"><a class="permalink" href="#MULTIBYTE_CHARACTER_SUPPORT">MULTIBYTE
  CHARACTER SUPPORT</a></h1>
<p class="Pp">These functions support multibyte character input. The encoding
    conversion is influenced by the setting of the
    <code class="Ev">LC_CTYPE</code> environment variable which defines the set
    of characters that can be copied without encoding.</p>
<p class="Pp">If <code class="Dv">VIS_NOLOCALE</code> is set, processing is done
    assuming the C locale and overriding any other environment settings.</p>
<p class="Pp">When 8-bit data is present in the input,
    <code class="Ev">LC_CTYPE</code> must be set to the correct locale or to the
    C locale. If the locales of the data and the conversion are mismatched,
    multibyte character recognition may fail and encoding will be performed
    byte-by-byte instead.</p>
<p class="Pp">As noted above, <var class="Fa">dst</var> must be four times the
    number of bytes processed from <var class="Fa">src</var>. But note that each
    multibyte character can be up to <code class="Dv">MB_LEN_MAX</code> bytes so
    in terms of multibyte characters, <var class="Fa">dst</var> must be four
    times <code class="Dv">MB_LEN_MAX</code> times the number of characters
    processed from <var class="Fa">src</var>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT"><a class="permalink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt id="LC_CTYPE"><a class="permalink" href="#LC_CTYPE"><code class="Ev">LC_CTYPE</code></a></dt>
  <dd>Specify the locale of the input data. Set to C if the input data locale is
      unknown.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="ERRORS"><a class="permalink" href="#ERRORS">ERRORS</a></h1>
<p class="Pp">The functions <code class="Fn">nvis</code>() and
    <code class="Fn">snvis</code>() will return <code class="Dv">NULL</code> and
    the functions <code class="Fn">strnvis</code>(),
    <code class="Fn">strnvisx</code>(), <code class="Fn">strsnvis</code>(), and
    <code class="Fn">strsnvisx</code>(), will return -1 when the
    <var class="Fa">dlen</var> destination buffer size is not enough to perform
    the conversion while setting <var class="Va">errno</var> to:</p>
<dl class="Bl-tag">
  <dt id="ENOSPC">[<a class="permalink" href="#ENOSPC"><code class="Er">ENOSPC</code></a>]</dt>
  <dd>The destination buffer size is not large enough to perform the
    conversion.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr" href="../1/unvis">unvis(1)</a>,
    <a class="Xr" href="../1/vis">vis(1)</a>,
    <a class="Xr" href="../3/glob">glob(3)</a>,
    <a class="Xr" href="../3/unvis">unvis(3)</a></p>
<p class="Pp"><cite class="Rs"><span class="RsA">T. Berners-Lee</span>,
    <span class="RsT">Uniform Resource Locators (URL)</span>,
    <span class="RsO">RFC 1738</span>.</cite></p>
<p class="Pp"><cite class="Rs"><span class="RsT">Multipurpose Internet Mail
    Extensions (MIME) Part One: Format of Internet Message Bodies</span>,
    <span class="RsO">RFC 2045</span>.</cite></p>
</section>
<section class="Sh">
<h1 class="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
<p class="Pp">The <code class="Fn">vis</code>(),
    <code class="Fn">strvis</code>(), and <code class="Fn">strvisx</code>()
    functions first appeared in <span class="Ux">4.4BSD</span>. The
    <code class="Fn">svis</code>(), <code class="Fn">strsvis</code>(),
    <code class="Fn">strsvisx</code>() <code class="Fn">nvis</code>(),
    <code class="Fn">strnvis</code>(), <code class="Fn">strnvisx</code>(),
    <code class="Fn">snvis</code>(), <code class="Fn">strsnvis</code>() and
    <code class="Fn">strsnvisx</code>() functions as well as multibyte character
    support were added in OS X 10.12.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">April 22, 2017</td>
    <td class="foot-os">macOS 13.3</td>
  </tr>
</table>
</body>
</html>
