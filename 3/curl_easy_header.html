<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   **************************************************************************
   *                                  _   _ ____  _
   *  Project                     ___| | | |  _ \| |
   *                             / __| | | | |_) | |
   *                            | (__| |_| |  _ <| |___
   *                             \___|\___/|_| \_\_____|
   *
   * Copyright (C) 1998 - 2022, Daniel Stenberg, <daniel@haxx.se>, et al.
   *
   * This software is licensed as described in the file COPYING, which
   * you should have received as part of this distribution. The terms
   * are also available at https://curl.se/docs/copyright.html.
   *
   * You may opt to use, copy, modify, merge, publish, distribute and/or sell
   * copies of the Software, and permit persons to whom the Software is
   * furnished to do so, under the terms of the COPYING file.
   *
   * This software is distributed on an "AS IS" basis, WITHOUT WARRANTY OF ANY
   * KIND, either express or implied.
   *
   * SPDX-License-Identifier: curl
   *
   **************************************************************************
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>curl_easy_header(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">curl_easy_header(3)</td>
    <td class="head-vol">libcurl Manual</td>
    <td class="head-rtitle">curl_easy_header(3)</td>
  </tr>
</table>
<div class="manual-text">
<p class="Pp"></p>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">curl_easy_header - get an HTTP header</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>#include &lt;curl/curl.h&gt;
CURLHcode curl_easy_header(CURL *easy,
                           const char *name,
                           size_t index,
                           unsigned int origin,
                           int request,
                           struct curl_header **hout);</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><i>curl_easy_header(3)</i> returns a pointer to a
    &quot;curl_header&quot; struct in <b>hout</b> with data for the HTTP
    response header <i>name</i>. The case insensitive null-terminated header
    name should be specified without colon.</p>
<p class="Pp"><i>index</i> 0 means asking for the first instance of the header.
    If the returned header struct has <b>amount</b> set larger than 1, it means
    there are more instances of the same header name available to get. Asking
    for a too big index makes <b>CURLHE_BADINDEX</b> get returned.</p>
<p class="Pp">The <i>origin</i> argument is for specifying which headers to
    receive, as a single HTTP transfer might provide headers from several
    different places and they may then have different importance to the user and
    headers using the same name might be used. The <i>origin</i> is a bitmask
    for what header sources you want. See the descriptions below.</p>
<p class="Pp">The <i>request</i> argument tells libcurl from which request you
    want headers from. A single transfer might consist of a series of HTTP
    requests and this argument lets you specify which particular individual
    request you want the headers from. 0 being the first request and then the
    number increases for further redirects or when multi-state authentication is
    used. Passing in -1 is a shortcut to &quot;the last&quot; request in the
    series, independently of the actual amount of requests used.</p>
<p class="Pp">libcurl stores and provides the actually used &quot;correct&quot;
    headers. If for example two headers with the same name arrive and the latter
    overrides the former, then only the latter will be provided. If the first
    header survives the second, then only the first one will be provided. An
    application using this API does not have to bother about multiple headers
    used wrongly.</p>
<p class="Pp">The memory for the returned struct is associated with the easy
    handle and subsequent calls to <i>curl_easy_header(3)</i> will clobber the
    struct used in the previous calls for the same easy handle. Applications
    need to copy the data if it wants to keep it around. The memory used for the
    struct gets freed with calling <i>curl_easy_cleanup(3)</i> of the easy
    handle.</p>
<p class="Pp">The first line in an HTTP response is called the status line. It
    is not considered a header by this function. Headers are the &quot;name:
    value&quot; lines following the status.</p>
<p class="Pp">This function can be used before (all) headers have been received
    and is fine to call from within libcurl callbacks. It will always return the
    state of the headers at the time it is called.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="The_header_struct"><a class="permalink" href="#The_header_struct">The
  header struct</a></h1>
<pre>struct curl_header {
   char *name;
   char *value;
   size_t amount;
   size_t index;
   unsigned int origin;
   void *anchor;
};</pre>
<p class="Pp">The data <b>name</b> field points to, will be the same as the
    requested name but it might have a different case.</p>
<p class="Pp">The data <b>value</b> field points to, comes exactly as delivered
    over the network but with leading and trailing whitespace and newlines
    stripped off. The `value` data is null-terminated. For legacy HTTP/1
    &quot;folded headers&quot;, this API provides the full single value in an
    unfolded manner with a single whitespace between the lines.</p>
<p class="Pp"><b>amount</b> is how many headers using this name that exist,
    within the origin and request scope asked for.</p>
<p class="Pp"><b>index</b> is the zero based entry number of this particular
    header, which in case this header was used more than once in the requested
    scope can be larger than 0 but is always less than <b>amount</b>.</p>
<p class="Pp">The <b>origin</b> field in the &quot;curl_header&quot; struct has
    one of the origin bits set, indicating where from the header originates. At
    the time of this writing, there are 5 bits with defined use. The
    undocumented 27 remaining bits are reserved for future use and must not be
    assumed to have any particular value.</p>
<p class="Pp"><b>anchor</b> is a private handle used by libcurl internals. Do
    not modify.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ORIGINS"><a class="permalink" href="#ORIGINS">ORIGINS</a></h1>
<dl class="Bl-tag">
  <dt id="CURLH_HEADER"><a class="permalink" href="#CURLH_HEADER">CURLH_HEADER</a></dt>
  <dd>The header arrived as a header from the server.</dd>
  <dt id="CURLH_TRAILER"><a class="permalink" href="#CURLH_TRAILER">CURLH_TRAILER</a></dt>
  <dd>The header arrived as a trailer. A header that arrives after the
    body.</dd>
  <dt id="CURLH_CONNECT"><a class="permalink" href="#CURLH_CONNECT">CURLH_CONNECT</a></dt>
  <dd>The header arrived in a CONNECT response. A CONNECT request is being done
      to setup a transfer &quot;through&quot; an HTTP(S) proxy.</dd>
  <dt id="CURLH_1XX"><a class="permalink" href="#CURLH_1XX">CURLH_1XX</a></dt>
  <dd>The header arrived in an HTTP 1xx response. A 1xx response is an
      &quot;intermediate&quot; response that might happen before the
      &quot;real&quot; response.</dd>
  <dt id="CURLH_PSEUDO"><a class="permalink" href="#CURLH_PSEUDO">CURLH_PSEUDO</a></dt>
  <dd>The header is an HTTP/2 or HTTP/3 pseudo header</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLE"><a class="permalink" href="#EXAMPLE">EXAMPLE</a></h1>
<pre>struct curl_header *type;
CURLHcode h =
  curl_easy_header(easy, &quot;Content-Type&quot;, 0, CURLH_HEADER, -1, &amp;type);</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="AVAILABILITY"><a class="permalink" href="#AVAILABILITY">AVAILABILITY</a></h1>
<p class="Pp">Added in 7.83.0. Officially supported since 7.84.0.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUE"><a class="permalink" href="#RETURN_VALUE">RETURN
  VALUE</a></h1>
<p class="Pp">This function returns a CURLHcode indicating success or error.</p>
<dl class="Bl-tag">
  <dt id="CURLHE_BADINDEX"><a class="permalink" href="#CURLHE_BADINDEX">CURLHE_BADINDEX
    (1)</a></dt>
  <dd>There is no header with the requested index.</dd>
  <dt id="CURLHE_MISSING"><a class="permalink" href="#CURLHE_MISSING">CURLHE_MISSING
    (2)</a></dt>
  <dd>No such header exists.</dd>
  <dt id="CURLHE_NOHEADERS"><a class="permalink" href="#CURLHE_NOHEADERS">CURLHE_NOHEADERS
    (3)</a></dt>
  <dd>No headers at all have been recorded.</dd>
  <dt id="CURLHE_NOREQUEST"><a class="permalink" href="#CURLHE_NOREQUEST">CURLHE_NOREQUEST
    (4)</a></dt>
  <dd>There was no such request number.</dd>
  <dt id="CURLHE_OUT_OF_MEMORY"><a class="permalink" href="#CURLHE_OUT_OF_MEMORY">CURLHE_OUT_OF_MEMORY
    (5)</a></dt>
  <dd>Out of resources</dd>
  <dt id="CURLHE_BAD_ARGUMENT"><a class="permalink" href="#CURLHE_BAD_ARGUMENT">CURLHE_BAD_ARGUMENT
    (6)</a></dt>
  <dd>One or more of the given arguments are bad.</dd>
  <dt id="CURLHE_NOT_BUILT_IN"><a class="permalink" href="#CURLHE_NOT_BUILT_IN">CURLHE_NOT_BUILT_IN
    (7)</a></dt>
  <dd>HTTP or the header API has been disabled in the build.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>curl_easy_nextheader</b>(3), <b>curl_easy_perform</b>(3),
    <b>CURLOPT_HEADERFUNCTION</b>(3), <b>CURLINFO_CONTENT_TYPE</b>(3) </p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">September 20, 2022</td>
    <td class="foot-os">libcurl 7.87.0</td>
  </tr>
</table>
</body>
</html>
