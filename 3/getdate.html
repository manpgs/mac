<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   t
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>GETDATE(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GETDATE(3)</td>
    <td class="head-vol">Library Functions Manual</td>
    <td class="head-rtitle">GETDATE(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">getdate</code> &#x2014; <span class="Nd">convert
    user format date and time</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><code class="In">#include
  &lt;<a class="In">time.h</a>&gt;</code></p>
<p class="Pp"><var class="Vt">extern int getdate_err</var>;</p>
<p class="Pp"><var class="Ft">struct tm *</var>
  <br/>
  <code class="Fn">getdate</code>(<var class="Fa" style="white-space: nowrap;">const
    char *string</var>);</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">The
    <a class="permalink" href="#getdate"><code class="Fn" id="getdate">getdate</code></a>()
    function converts user-definable date and/or time specifications pointed to
    by <var class="Fa">string</var> to a <var class="Vt">tm</var> structure. The
    <var class="Vt">tm</var> structure is defined in the
    &#x27E8;<span class="Pa">time.h</span>&#x27E9; header.</p>
<p class="Pp">User-supplied templates are used to parse and interpret the input
    string. The templates are text files created by the user and identified via
    the environment variable <code class="Ev">DATEMSK</code>. Each line in the
    template represents an acceptable date and/or time specification using
    conversion specifications similar to those used by
    <a class="Xr" href="../3/strftime">strftime(3)</a> and
    <a class="Xr" href="../3/strptime">strptime(3)</a>. Dates before 1902 and
    after 2037 are illegal. The first line in the template that matches the
    input specification is used for interpretation and conversion into the
    internal time format.</p>
<section class="Ss">
<h2 class="Ss" id="Conversion_Specifications"><a class="permalink" href="#Conversion_Specifications">Conversion
  Specifications</a></h2>
<p class="Pp">The following conversion specifications are supported:</p>
<dl class="Bl-tag">
  <dt id="__"><a class="permalink" href="#__"><code class="Cm">%%</code></a></dt>
  <dd>Same as %.</dd>
  <dt id="_a"><a class="permalink" href="#_a"><code class="Cm">%a</code></a></dt>
  <dd>Locale's abbreviated weekday name.</dd>
  <dt id="_A"><a class="permalink" href="#_A"><code class="Cm">%A</code></a></dt>
  <dd>Locale's full weekday name.</dd>
  <dt id="_b"><a class="permalink" href="#_b"><code class="Cm">%b</code></a></dt>
  <dd>Locale's abbreviated month name.</dd>
  <dt id="_B"><a class="permalink" href="#_B"><code class="Cm">%B</code></a></dt>
  <dd>Locale's full month name.</dd>
  <dt id="_c"><a class="permalink" href="#_c"><code class="Cm">%c</code></a></dt>
  <dd>Locale's appropriate date and time representation.</dd>
  <dt id="_C"><a class="permalink" href="#_C"><code class="Cm">%C</code></a></dt>
  <dd>Century number (the year divided by 100 and truncated to an integer as a
      decimal number [1,99]); single digits are preceded by 0. If used without
      the %y specifier, this format specifier will assume the current year
      offset in whichever century is specified. The only valid years are between
      1902-2037.</dd>
  <dt id="_d"><a class="permalink" href="#_d"><code class="Cm">%d</code></a></dt>
  <dd>day of month [01,31]; leading zero is permitted but not required.</dd>
  <dt id="_D"><a class="permalink" href="#_D"><code class="Cm">%D</code></a></dt>
  <dd>Date as %m/%d/%y.</dd>
  <dt id="_e"><a class="permalink" href="#_e"><code class="Cm">%e</code></a></dt>
  <dd>Same as %d.</dd>
  <dt id="_h"><a class="permalink" href="#_h"><code class="Cm">%h</code></a></dt>
  <dd>Locale's abbreviated month name.</dd>
  <dt id="_H"><a class="permalink" href="#_H"><code class="Cm">%H</code></a></dt>
  <dd>Hour (24-hour clock) [0,23]; leading zero is permitted but not
    required.</dd>
  <dt id="_I"><a class="permalink" href="#_I"><code class="Cm">%I</code></a></dt>
  <dd>Hour (12-hour clock) [1,12]; leading zero is permitted but not
    required.</dd>
  <dt id="_j"><a class="permalink" href="#_j"><code class="Cm">%j</code></a></dt>
  <dd>Day number of the year [1,366]; leading zeros are permitted but not
      required.</dd>
  <dt id="_m"><a class="permalink" href="#_m"><code class="Cm">%m</code></a></dt>
  <dd>Month number [1,12]; leading zero is permitted but not required.</dd>
  <dt id="_M"><a class="permalink" href="#_M"><code class="Cm">%M</code></a></dt>
  <dd>Minute [0,59]; leading zero is permitted but not required.</dd>
  <dt id="_n"><a class="permalink" href="#_n"><code class="Cm">%n</code></a></dt>
  <dd>Any white space.</dd>
  <dt id="_p"><a class="permalink" href="#_p"><code class="Cm">%p</code></a></dt>
  <dd>Locale's equivalent of either a.m. or p.m.</dd>
  <dt id="_r"><a class="permalink" href="#_r"><code class="Cm">%r</code></a></dt>
  <dd>Appropriate time representation in the 12-hour clock format with %p.</dd>
  <dt id="_R"><a class="permalink" href="#_R"><code class="Cm">%R</code></a></dt>
  <dd>Time as %H:%M.</dd>
  <dt id="_S"><a class="permalink" href="#_S"><code class="Cm">%S</code></a></dt>
  <dd>Seconds [0,61]; leading zero is permitted but not required. The range of
      values is [00,61] rather than [00,59] to allow for the occasional leap
      second and even more occasional double leap second.</dd>
  <dt id="_t"><a class="permalink" href="#_t"><code class="Cm">%t</code></a></dt>
  <dd>Any white space.</dd>
  <dt id="_T"><a class="permalink" href="#_T"><code class="Cm">%T</code></a></dt>
  <dd>Time as %H:%M:%S.</dd>
  <dt id="_U"><a class="permalink" href="#_U"><code class="Cm">%U</code></a></dt>
  <dd>Week number of the year as a decimal number [0,53], with Sunday as the
      first day of the week; leading zero is permitted but not required.</dd>
  <dt id="_w"><a class="permalink" href="#_w"><code class="Cm">%w</code></a></dt>
  <dd>Weekday as a decimal number [0,6], with 0 representing Sunday.</dd>
  <dt id="_W"><a class="permalink" href="#_W"><code class="Cm">%W</code></a></dt>
  <dd>Week number of the year as a decimal number [0,53], with Monday as the
      first day of the week; leading zero is permitted but not required.</dd>
  <dt id="_x"><a class="permalink" href="#_x"><code class="Cm">%x</code></a></dt>
  <dd>Locale's appropriate date representation.</dd>
  <dt id="_X"><a class="permalink" href="#_X"><code class="Cm">%X</code></a></dt>
  <dd>Locale's appropriate time representation.</dd>
  <dt id="_y"><a class="permalink" href="#_y"><code class="Cm">%y</code></a></dt>
  <dd>Year within century. When a century is not otherwise specified, values in
      the range 69-99 refer to years in the twentieth century (1969 to 1999
      inclusive); values in the range 00-68 refer to years in the twenty-first
      century (2000 to 2068 inclusive).</dd>
  <dt id="_Y"><a class="permalink" href="#_Y"><code class="Cm">%Y</code></a></dt>
  <dd>Year, including the century (for example, 1993).</dd>
  <dt id="_Z"><a class="permalink" href="#_Z"><code class="Cm">%Z</code></a></dt>
  <dd>Time zone name or no characters if no time zone exists.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Modified_Conversion_Specifications"><a class="permalink" href="#Modified_Conversion_Specifications">Modified
  Conversion Specifications</a></h2>
<p class="Pp">Some conversion specifications can be modified by the E and O
    modifier characters to indicate that an alternative format or specification
    should be used rather than the one normally used by the unmodified
    specification. If the alternative format or specification does not exist in
    the current locale, the behavior be as if the unmodified conversion
    specification were used.</p>
<dl class="Bl-tag">
  <dt id="_Ec"><a class="permalink" href="#_Ec"><code class="Cm">%Ec</code></a></dt>
  <dd>Locale's alternative appropriate date and time representation.</dd>
  <dt id="_EC"><a class="permalink" href="#_EC"><code class="Cm">%EC</code></a></dt>
  <dd>Name of the base year (period) in the locale's alternative
    representation.</dd>
  <dt id="_Ex"><a class="permalink" href="#_Ex"><code class="Cm">%Ex</code></a></dt>
  <dd>Locale's alternative date representation.</dd>
  <dt id="_EX"><a class="permalink" href="#_EX"><code class="Cm">%EX</code></a></dt>
  <dd>Locale's alternative time representation.</dd>
  <dt id="_Ey"><a class="permalink" href="#_Ey"><code class="Cm">%Ey</code></a></dt>
  <dd>Offset from %EC (year only) in the locale's alternative
    representation.</dd>
  <dt id="_EY"><a class="permalink" href="#_EY"><code class="Cm">%EY</code></a></dt>
  <dd>Full alternative year representation.</dd>
  <dt id="_Od"><a class="permalink" href="#_Od"><code class="Cm">%Od</code></a></dt>
  <dd>Day of the month using the locale's alternative numeric symbols; leading
      zeros are permitted but not required.</dd>
  <dt id="_Oe"><a class="permalink" href="#_Oe"><code class="Cm">%Oe</code></a></dt>
  <dd>Same as %Od.</dd>
  <dt id="_OH"><a class="permalink" href="#_OH"><code class="Cm">%OH</code></a></dt>
  <dd>Hour (24-hour clock) using the locale's alternative numeric symbols.</dd>
  <dt id="_OI"><a class="permalink" href="#_OI"><code class="Cm">%OI</code></a></dt>
  <dd>Hour (12-hour clock) using the locale's alternative numeric symbols.</dd>
  <dt id="_Om"><a class="permalink" href="#_Om"><code class="Cm">%Om</code></a></dt>
  <dd>Month using the locale's alternative numeric symbols.</dd>
  <dt id="_OM"><a class="permalink" href="#_OM"><code class="Cm">%OM</code></a></dt>
  <dd>Minutes using the locale's alternative numeric symbols.</dd>
  <dt id="_OS"><a class="permalink" href="#_OS"><code class="Cm">%OS</code></a></dt>
  <dd>Seconds using the locale's alternative numeric symbols.</dd>
  <dt id="_OU"><a class="permalink" href="#_OU"><code class="Cm">%OU</code></a></dt>
  <dd>Week number of the year (Sunday as the first day of the week) using the
      locale's alternative numeric symbols.</dd>
  <dt id="_Ow"><a class="permalink" href="#_Ow"><code class="Cm">%Ow</code></a></dt>
  <dd>Number of the weekday (Sunday=0) using the locale's alternative numeric
      symbols.</dd>
  <dt id="_OW"><a class="permalink" href="#_OW"><code class="Cm">%OW</code></a></dt>
  <dd>Week number of the year (Monday as the first day of the week) using the
      locale's alternative numeric symbols.</dd>
  <dt id="_Oy"><a class="permalink" href="#_Oy"><code class="Cm">%Oy</code></a></dt>
  <dd>Year (offset from %C) in the locale's alternative representation and using
      the locale's alternative numeric symbols.</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="Internal_Format_Conversion"><a class="permalink" href="#Internal_Format_Conversion">Internal
  Format Conversion</a></h2>
<p class="Pp">The following rules are applied for converting the input
    specification into the internal format:</p>
<ul class="Bl-bullet Bd-indent">
  <li>If only the weekday is given, today is assumed if the given day is equal
      to the current day and next week if it is less.</li>
  <li>If only the month is given, the current month is assumed if the given
      month is equal to the current month and next year if it is less and no
      year is given. (The first day of month is assumed if no day is
    given.)</li>
  <li>If only the year is given, the values of the tm_mon, tm_mday, tm_yday,
      tm_wday, and tm_isdst members of the returned tm structure are not
      specified.</li>
  <li>If the century is given, but the year within the century is not given, the
      current year within the century is assumed.</li>
  <li>If no hour, minute, and second are given, the current hour, minute, and
      second are assumed.</li>
  <li>If no date is given, today is assumed if the given hour is greater than
      the current hour and tomorrow is assumed if it is less.</li>
</ul>
</section>
<section class="Ss">
<h2 class="Ss" id="General_Specifications"><a class="permalink" href="#General_Specifications">General
  Specifications</a></h2>
<p class="Pp">A conversion specification that is an ordinary character is
    executed by scanning the next character from the buffer. If the character
    scanned from the buffer differs from the one comprising the conversion
    specification, the specification fails, and the differing and subsequent
    characters remain unscanned.</p>
<p class="Pp">A series of conversion specifications composed of
    &#x2018;<code class="Li">%n</code>&#x2019;,
    &#x2018;<code class="Li">%t</code>&#x2019;, white space characters, or any
    combination is executed by scanning up to the first character that is not
    white space (which remains unscanned), or until no more characters can be
    scanned.</p>
<p class="Pp" id="getdate~2">Any other conversion specification is executed by
    scanning characters until a character matching the next conversion
    specification is scanned, or until no more characters can be scanned. These
    characters, except the one matching the next conversion specification, are
    then compared to the locale values associated with the conversion specifier.
    If a match is found, values for the appropriate <var class="Vt">tm</var>
    structure members are set to values corresponding to the locale information.
    If no match is found,
    <a class="permalink" href="#getdate~2"><code class="Fn">getdate</code></a>()
    fails and no more characters are scanned.</p>
<p class="Pp">The month names, weekday names, era names, and alternative numeric
    symbols can consist of any combination of upper and lower case letters. The
    user can request that the input date or time specification be in a specific
    language by setting the <code class="Ev">LC_TIME</code> category using
    <a class="Xr" href="../3/setlocale">setlocale(3)</a>.</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUES"><a class="permalink" href="#RETURN_VALUES">RETURN
  VALUES</a></h1>
<p class="Pp">If successful, <code class="Fn">getdate</code>() returns a pointer
    to a <var class="Vt">tm</var> structure; otherwise, it returns
    <code class="Dv">NULL</code> and sets the global variable
    <var class="Va">getdate_err</var> to indicate the error. Subsequent calls to
    <code class="Fn">getdate</code>() alter the contents of
    <var class="Va">getdate_err</var>.</p>
<p class="Pp">The following is a complete list of the
    <var class="Va">getdate_err</var> settings and their meanings:</p>
<dl class="Bl-tag">
  <dt>1</dt>
  <dd>The DATEMSK environment variable is null or undefined.</dd>
  <dt>2</dt>
  <dd>The template file cannot be opened for reading.</dd>
  <dt>3</dt>
  <dd>Failed to get file status information.</dd>
  <dt>4</dt>
  <dd>The template file is not a regular file.</dd>
  <dt>5</dt>
  <dd>An error is encountered while reading the template file.</dd>
  <dt>6</dt>
  <dd>The <a class="Xr" href="../3/malloc">malloc(3)</a> function failed (not
      enough memory is available).</dd>
  <dt>7</dt>
  <dd>There is no line in the template that matches the input.</dd>
  <dt>8</dt>
  <dd>The input specification is invalid (for example, February 31).</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="USAGE"><a class="permalink" href="#USAGE">USAGE</a></h1>
<p class="Pp">The
    <a class="permalink" href="#getdate~3"><code class="Fn" id="getdate~3">getdate</code></a>()
    function makes explicit use of macros described on the
    <a class="Xr" href="../3/ctype">ctype(3)</a> manual page.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">Example 1: Examples of the <code class="Fn">getdate</code>()
    function.</p>
<p class="Pp">The following example shows the possible contents of a
  template:</p>
<div class="Bd Pp Li">
<pre>%m
%A %B %d %Y, %H:%M:%S
%A
%B
%m/%d/%y %I %p
%d,%m,%Y %H:%M
at %A the %dst of %B in %Y
run job at %I %p,%B %dnd
%A den %d. %B %Y %H.%M Uhr</pre>
</div>
<p class="Pp">The following are examples of valid input specifications for the
    above template:</p>
<div class="Bd Pp Li">
<pre>getdate(&quot;10/1/87 4 PM&quot;)
getdate(&quot;Friday&quot;)
getdate(&quot;Friday September 19 1987, 10:30:30&quot;)
getdate(&quot;24,9,1986 10:30&quot;)
getdate(&quot;at monday the 1st of december in 1986&quot;)
getdate(&quot;run job at 3 PM, december 2nd&quot;)

</pre>
</div>
If the <code class="Ev">LANG</code> environment variable is set to de (German),
  the following is valid:
<div class="Bd Pp Li">
<pre>getdate(&quot;freitag den 10. oktober 1986 10.30 Uhr&quot;)</pre>
</div>
<p class="Pp">Local time and date specification are also supported. The
    following examples show how local date and time specification can be defined
    in the template.</p>
<p class="Pp"></p>
<div class="Bf Li">
<table class="tbl" style="border-style: solid;">
  <tr>
    <td style="text-align: center; border-right-style: solid;">Invocation</td>
    <td style="text-align: center;">Line in Template</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">getdate(&quot;11/27/86&quot;)</td>
    <td>%m/%d/%y</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">getdate(&quot;27.11.86&quot;)</td>
    <td>%d.%m.%y</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">getdate(&quot;86-11-27&quot;)</td>
    <td>%y-%m-%d</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">getdate(&quot;Friday
      12:00:00&quot;)</td>
    <td>%A %H:%M:%S</td>
  </tr>
</table>
</div>
<p class="Pp">The following examples illustrate the Internal Format Conversion
    rules. Assume that the current date is <code class="Li">Mon Sep 22 12:19:47
    EDT 1986</code> and the <code class="Ev">LANG</code> environment variable is
    not set.</p>
<p class="Pp"></p>
<div class="Bf Li">
<table class="tbl" style="border-style: solid;">
  <tr>
    <td style="text-align: center; border-right-style: solid;">Input</td>
    <td style="text-align: center; border-right-style: solid;">Template
      Line</td>
    <td style="text-align: center;">Date </td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">Mon</td>
    <td style="border-right-style: solid;">%a</td>
    <td>Mon Sep 22 12:19:48 EDT 1986</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">Sun</td>
    <td style="border-right-style: solid;">%a</td>
    <td>Sun Sep 28 12:19:49 EDT 1986</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">Fri</td>
    <td style="border-right-style: solid;">%a</td>
    <td>Fri Sep 26 12:19:49 EDT 1986</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">September</td>
    <td style="border-right-style: solid;">%B</td>
    <td>Mon Sep 1 12:19:49 EDT 1986</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">January</td>
    <td style="border-right-style: solid;">%B</td>
    <td>Thu Jan 1 12:19:49 EST 1987</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">December</td>
    <td style="border-right-style: solid;">%B</td>
    <td>Mon Dec 1 12:19:49 EDT 1986</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">Sep Mon</td>
    <td style="border-right-style: solid;">%b %a</td>
    <td>Mon Sep 1 12:19:50 EDT 1986</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">Jan Fri</td>
    <td style="border-right-style: solid;">%b %a</td>
    <td>Fri Jan 2 12:19:50 EST 1987</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">Dec Mon</td>
    <td style="border-right-style: solid;">%b %a</td>
    <td>Mon Dec 1 12:19:50 EST 1986</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">Jan Wed 1989</td>
    <td style="border-right-style: solid;">%b %a %Y</td>
    <td>Wed Jan 4 12:19:51 EST 1989</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">Fri 9</td>
    <td style="border-right-style: solid;">%a %H</td>
    <td>Fri Sep 26 09:00:00 EDT 1986</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">Feb 10:30</td>
    <td style="border-right-style: solid;">%b %H:%S</td>
    <td>Sun Feb 1 10:00:30 EST 1987</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">10:30</td>
    <td style="border-right-style: solid;">%H:%M</td>
    <td>Tue Sep 23 10:30:00 EDT 1986</td>
  </tr>
  <tr>
    <td style="border-right-style: solid;">13:30</td>
    <td style="border-right-style: solid;">%H:%M</td>
    <td>Mon Sep 22 13:30:00 EDT 1986</td>
  </tr>
</table>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr" href="../3/ctype">ctype(3)</a>,
    <a class="Xr" href="../3/mktime">mktime(3)</a>,
    <a class="Xr" href="../3/setlocale">setlocale(3)</a>,
    <a class="Xr" href="../3/strftime">strftime(3)</a>,
    <a class="Xr" href="../3/strptime">strptime(3)</a>,
    <a class="Xr" href="../5/environ">environ(5)</a></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">January 3, 2004</td>
    <td class="foot-os">macOS 14.6</td>
  </tr>
</table>
</body>
</html>
