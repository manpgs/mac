<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   **************************************************************************
   *                                  _   _ ____  _
   *  Project                     ___| | | |  _ \| |
   *                             / __| | | | |_) | |
   *                            | (__| |_| |  _ <| |___
   *                             \___|\___/|_| \_\_____|
   *
   * Copyright (C) 1998 - 2022, Daniel Stenberg, <daniel@haxx.se>, et al.
   *
   * This software is licensed as described in the file COPYING, which
   * you should have received as part of this distribution. The terms
   * are also available at https://curl.se/docs/copyright.html.
   *
   * You may opt to use, copy, modify, merge, publish, distribute and/or sell
   * copies of the Software, and permit persons to whom the Software is
   * furnished to do so, under the terms of the COPYING file.
   *
   * This software is distributed on an "AS IS" basis, WITHOUT WARRANTY OF ANY
   * KIND, either express or implied.
   *
   * SPDX-License-Identifier: curl
   *
   **************************************************************************
   -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>CURLOPT_HTTPPROXYTUNNEL(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CURLOPT_HTTPPROXYTUNNEL(3)</td>
    <td class="head-vol">curl_easy_setopt options</td>
    <td class="head-rtitle">CURLOPT_HTTPPROXYTUNNEL(3)</td>
  </tr>
</table>
<div class="manual-text">
<p class="Pp"></p>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">CURLOPT_HTTPPROXYTUNNEL - tunnel through HTTP proxy</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>#include &lt;curl/curl.h&gt;
CURLcode curl_easy_setopt(CURL *handle, CURLOPT_HTTPPROXYTUNNEL, long tunnel);</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">Set the <b>tunnel</b> parameter to 1L to make libcurl tunnel all
    operations through the HTTP proxy (set with <i>CURLOPT_PROXY(3)</i>). There
    is a big difference between using a proxy and to tunnel through it.</p>
<p class="Pp">Tunneling means that an HTTP CONNECT request is sent to the proxy,
    asking it to connect to a remote host on a specific port number and then the
    traffic is just passed through the proxy. Proxies tend to white-list
    specific port numbers it allows CONNECT requests to and often only port 80
    and 443 are allowed.</p>
<p class="Pp">To suppress proxy CONNECT response headers from user callbacks use
    <i>CURLOPT_SUPPRESS_CONNECT_HEADERS(3)</i>.</p>
<p class="Pp">HTTP proxies can generally only speak HTTP (for obvious reasons),
    which makes libcurl convert non-HTTP requests to HTTP when using an HTTP
    proxy without this tunnel option set. For example, asking for an FTP URL and
    specifying an HTTP proxy will make libcurl send an FTP URL in an HTTP GET
    request to the proxy. By instead tunneling through the proxy, you avoid that
    conversion (that rarely works through the proxy anyway).</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DEFAULT"><a class="permalink" href="#DEFAULT">DEFAULT</a></h1>
<p class="Pp">0</p>
</section>
<section class="Sh">
<h1 class="Sh" id="PROTOCOLS"><a class="permalink" href="#PROTOCOLS">PROTOCOLS</a></h1>
<p class="Pp">All network protocols</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLE"><a class="permalink" href="#EXAMPLE">EXAMPLE</a></h1>
<pre>CURL *curl = curl_easy_init();
if(curl) {
  curl_easy_setopt(curl, CURLOPT_URL, &quot;ftp://example.com/file.txt&quot;);
  curl_easy_setopt(curl, CURLOPT_PROXY, &quot;http://127.0.0.1:80&quot;);
  curl_easy_setopt(curl, CURLOPT_HTTPPROXYTUNNEL, 1L);
  curl_easy_perform(curl);
}</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="AVAILABILITY"><a class="permalink" href="#AVAILABILITY">AVAILABILITY</a></h1>
<p class="Pp">Always</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUE"><a class="permalink" href="#RETURN_VALUE">RETURN
  VALUE</a></h1>
<p class="Pp">Returns CURLE_OK</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>CURLOPT_PROXY</b>(3), <b>CURLOPT_PROXYTYPE</b>(3),
    <b>CURLOPT_PROXYPORT</b>(3), </p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">May 17, 2022</td>
    <td class="foot-os">libcurl 7.85.0</td>
  </tr>
</table>
</body>
</html>
