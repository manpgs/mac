<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   generated by cd2nroff 0.1 from CURLMOPT_MAXCONNECTS.md
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>CURLMOPT_MAXCONNECTS(3)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CURLMOPT_MAXCONNECTS(3)</td>
    <td class="head-vol">Library Functions Manual</td>
    <td class="head-rtitle">CURLMOPT_MAXCONNECTS(3)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">CURLMOPT_MAXCONNECTS - size of connection cache</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>#include &lt;curl/curl.h&gt;
CURLMcode curl_multi_setopt(CURLM *handle, CURLMOPT_MAXCONNECTS, long max);</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">Pass a long indicating the <b>max</b>. The set number is used as
    the maximum amount of simultaneously open connections that libcurl may keep
    in its connection cache after completed use. By default libcurl enlarges the
    size for each added easy handle to make it fit 4 times the number of added
    easy handles.</p>
<p class="Pp">By setting this option, you can prevent the cache size from
    growing beyond the limit set by you.</p>
<p class="Pp">When the cache is full, curl closes the oldest one in the cache to
    prevent the number of open connections from increasing.</p>
<p class="Pp">This option is for the multi handle's use only, when using the
    easy interface you should instead use the <i>CURLOPT_MAXCONNECTS(3)</i>
    option.</p>
<p class="Pp">See <i>CURLMOPT_MAX_TOTAL_CONNECTIONS(3)</i> for limiting the
    number of active connections.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DEFAULT"><a class="permalink" href="#DEFAULT">DEFAULT</a></h1>
<p class="Pp">See DESCRIPTION</p>
</section>
<section class="Sh">
<h1 class="Sh" id="PROTOCOLS"><a class="permalink" href="#PROTOCOLS">PROTOCOLS</a></h1>
<p class="Pp">All</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLE"><a class="permalink" href="#EXAMPLE">EXAMPLE</a></h1>
<pre>int main(void)
{
  CURLM *m = curl_multi_init();
  /* only keep 10 connections in the cache */
  curl_multi_setopt(m, CURLMOPT_MAXCONNECTS, 10L);
}</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="AVAILABILITY"><a class="permalink" href="#AVAILABILITY">AVAILABILITY</a></h1>
<p class="Pp">Added in 7.16.3</p>
</section>
<section class="Sh">
<h1 class="Sh" id="RETURN_VALUE"><a class="permalink" href="#RETURN_VALUE">RETURN
  VALUE</a></h1>
<p class="Pp">Returns CURLM_OK if the option is supported, and
    CURLM_UNKNOWN_OPTION if not.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>CURLMOPT_MAX_HOST_CONNECTIONS</b>(3),
    <b>CURLOPT_MAXCONNECTS</b>(3)</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">March 12 2024</td>
    <td class="foot-os">libcurl</td>
  </tr>
</table>
</body>
</html>
