<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit. -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>EFICHECK(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">EFICHECK(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">EFICHECK(8)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">eficheck</code> &#x2014; <span class="Nd">check
    the integrity of the x86 flash chip firmware.</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">eficheck</code></td>
    <td><code class="Cm">--integrity-check</code> [-h
      <var class="Ar">EFI-hash-input-file</var>] [-b
      <var class="Ar">EFI-binary-input-file</var>]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">eficheck</code></td>
    <td><code class="Cm">--show-hashes</code> [-h
      <var class="Ar">EFI-hash-input-file</var>] [-b
      <var class="Ar">EFI-binary-input-file</var>]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">eficheck</code></td>
    <td><code class="Cm">--generate-hashes</code> [-h
      <var class="Ar">EFI-hash-output-file</var>] [-p
      <var class="Ar">output-path</var>]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">eficheck</code></td>
    <td><code class="Cm">--save</code> [-b
      <var class="Ar">EFI-binary-output-file</var>]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">eficheck</code></td>
    <td><code class="Cm">--cleanup</code> [-b
      <var class="Ar">EFI-binary-input-and-output-file&gt;</var>]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">eficheck</code></td>
    <td><code class="Cm">--version</code></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><code class="Nm">eficheck</code></td>
    <td><code class="Cm">--help</code></td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><code class="Nm">eficheck</code> is a tool to check the x86 flash
    chip firmware.</p>
<p class="Pp">The following commands can be used with eficheck:</p>
<p class="Pp"><code class="Cm">--integrity-check</code> hashes portion of the
    firmware and compares against known-good hashes</p>
<p class="Pp"><code class="Cm">--generate-hashes</code> outputs hashes for a
    given firmware to be used as known-good hashes</p>
<p class="Pp"><code class="Cm">--show-hashes</code> shows the hashes for the
    sub-sections of the firmware which are measured</p>
<p class="Pp"><code class="Cm">--save</code> saves the full flash chip contents
    to a binary file. Requires root privileges.</p>
<p class="Pp"><code class="Cm">--cleanup</code> zeros any privacy-sensitive data
    (such as nvram), enabling the file to be shared for analysis.</p>
<p class="Pp"><code class="Cm">--version</code> print out eficheck version
    number.</p>
<p class="Pp"><code class="Cm">--help</code> display a short help.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<br/>
<p class="Pp"> 	 'eficheck --save -b firmware.bin'</p>
<p class="Pp">
  <br/>
   		 Save this system's EFI firmware as firmware.bin</p>
<p class="Pp">
  <br/>
   	 'eficheck --cleanup -b firmware.bin'</p>
<p class="Pp">
  <br/>
   		 Overwrite the EFI variables portion of the firmware.bin, in place</p>
<p class="Pp">
  <br/>
   	 'eficheck --generate-hashes'</p>
<p class="Pp">
  <br/>
   		 Analyze the current system's installed EFI firmware, and store the hashes
    into hash file(s) in current folder</p>
<p class="Pp">
  <br/>
   		 File name(s) will be selected according to image's EFI version(s)</p>
<p class="Pp">	 'eficheck --generate-hashes -b firmware.bin'</p>
<p class="Pp">		 Analyze the firmware.bin, and store the hashes into hash
    file(s) in current folder. Filename will be based on the detected firmware
    version.</p>
<p class="Pp">	 'eficheck --generate-hashes -p /usr/local/allowlists'</p>
<p class="Pp">		 Analyze the current system's installed EFI firmware, and store
    the hashes into hash file(s) in /usr/local/allowlists folder</p>
<p class="Pp">	 'eficheck --integrity-check'</p>
<p class="Pp">		 Attempt to automatically determine which firmware you are
    running, and integrity check against the appropriate file, and report any
    differences</p>
<p class="Pp">	 'eficheck --integrity-check -h
    /usr/libexec/firmwarecheckers/eficheck/EFIAllowListShipping.bundle/allowlists/IM171.88Z.0105.B08.1604111319.0.ealf'</p>
<p class="Pp">		 Compare the current system's EFI firmware against the
    Apple-provided expected measurements for an &quot;iMac17,1&quot; at firmware
    revision B08, and report any differences</p>
<p class="Pp">	 'eficheck --integrity-check -h hash.ealf -b firmware.bin'</p>
<p class="Pp">		 Compare the given hash file against against the given firmware
    image and report any differences</p>
<p class="Pp">	 'eficheck --show-hashes'</p>
<p class="Pp">		 Print the hashes for the current system's installed EFI
    firmware to stdout</p>
<p class="Pp">	 'eficheck --show-hashes -b firmware.bin'</p>
<p class="Pp">		 Print the hashes for the given firmware.bin to stdout</p>
<p class="Pp">	 'eficheck --show-hashes -h
  IM171.88Z.0105.B08.1604111319.0.ealf'</p>
<p class="Pp">		 Print the hashes for the given allowlist to stdout</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">May 25, 2017</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
