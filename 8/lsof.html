<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="../style.css" type="text/css" media="all"/>
  <title>LSOF(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">LSOF(8)</td>
    <td class="head-vol"><a href=".">System Manager's Manual</a></td>
    <td class="head-rtitle">LSOF(8)</td>
  </tr>
</table>
<div class="manual-text">
<p class="Pp"></p>
<p class="Pp"></p>
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">lsof - list open files</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><b>lsof</b> [ <b>-?abChlnNOPRtUvVX</b> ] [ <b>-A</b><i> A</i> ] [
    <b>-c</b><i> c</i> ] [ <b>+c</b><i> c</i> ] [ <b>+|-d</b><i> d</i> ] [
    <b>+|-D</b><i> D</i> ] [ <b>+|-e</b><i> s</i> ] [ <b>+|-E</b> ] [ <b>+|-f
    [cfgGn]</b> ] [ <b>-F</b><i> [f]</i> ] [ <b>-g</b><i> [s]</i> ] [
    <b>-i</b><i> [i]</i> ] [ <b>-k</b><i> k</i> ] [ <b>-K</b><i> k</i> ] [
    <b>+|-L</b><i> [l]</i> ] [ <b>+|-m</b><i> m</i> ] [ <b>+|-M</b> ] [
    <b>-o</b><i> [o]</i> ] [ <b>-p</b><i> s</i> ] [ <b>+|-r</b><i>
    [t[m&lt;fmt&gt;]]</i> ] [ <b>-s</b><i> [p:s]</i> ] [ <b>-S</b><i> [t]</i> ]
    [ <b>-T</b><i> [t]</i> ] [ <b>-u</b><i> s</i> ] [ <b>+|-w</b> ] [
    <b>-x</b><i> [fl]</i> ] [ <b>+|-X</b> ] [ <b>-z</b><i> [z]</i> ] [
    <b>-Z</b><i> [Z]</i> ] [ <b>--</b> ] [<i>names</i>]</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><i>Lsof</i> revision 4.91 lists on its standard output file
    information about files opened by processes for the following UNIX
  dialects:</p>
<p class="Pp"></p>
<pre>	Apple Darwin 9 and Mac OS X 10.[567]
	FreeBSD 8.[234], 9.0 and 1[012].0 for AMD64-based systems
	Linux 2.1.72 and above for x86-based systems
	Solaris 9, 10 and 11</pre>
<p class="Pp">(See the <b>DISTRIBUTION</b> section of this manual page for
    information on how to obtain the latest <i>lsof</i> revision.)</p>
<p class="Pp">An open file may be a regular file, a directory, a block special
    file, a character special file, an executing text reference, a library, a
    stream or a network file (Internet socket, NFS file or UNIX domain socket.)
    A specific file or all the files in a file system may be selected by
  path.</p>
<p class="Pp">Instead of a formatted display, <i>lsof</i> will produce output
    that can be parsed by other programs. See the <b>-F</b>, option description,
    and the <b>OUTPUT FOR OTHER PROGRAMS</b> section for more information.</p>
<p class="Pp">In addition to producing a single output list, <i>lsof</i> will
    run in repeat mode. In repeat mode it will produce output, delay, then
    repeat the output operation until stopped with an interrupt or quit signal.
    See the <b>+|-r</b><i> [t[m&lt;fmt&gt;]]</i> option description for more
    information.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<p class="Pp">In the absence of any options, <i>lsof</i> lists all open files
    belonging to all active processes.</p>
<p class="Pp">If any list request option is specified, other list requests must
    be specifically requested - e.g., if <b>-U</b> is specified for the listing
    of UNIX socket files, NFS files won't be listed unless <b>-N</b> is also
    specified; or if a user list is specified with the <b>-u</b> option, UNIX
    domain socket files, belonging to users not in the list, won't be listed
    unless the <b>-U</b> option is also specified.</p>
<p class="Pp">Normally list options that are specifically stated are ORed -
    i.e., specifying the <b>-i</b> option without an address and the
    <b>-u</b>foo option produces a listing of all network files OR files
    belonging to processes owned by user ``foo''. The exceptions are:</p>
<dl class="Bl-tag">
  <dt>1)</dt>
  <dd>the `^' (negated) login name or user ID (UID), specified with the
      <b>-u</b> option;</dd>
  <dt>2)</dt>
  <dd>the `^' (negated) process ID (PID), specified with the <b>-p</b>
    option;</dd>
  <dt>3)</dt>
  <dd>the `^' (negated) process group ID (PGID), specified with the <b>-g</b>
      option;</dd>
  <dt>4)</dt>
  <dd>the `^' (negated) command, specified with the <b>-c</b> option;</dd>
  <dt>5)</dt>
  <dd>the (`^') negated TCP or UDP protocol state names, specified with the
      <b>-s</b><i> [p:s]</i> option.</dd>
</dl>
<p class="Pp">Since they represent exclusions, they are applied without ORing or
    ANDing and take effect before any other selection criteria are applied.</p>
<p class="Pp">The <b>-a</b> option may be used to AND the selections. For
    example, specifying <b>-a</b>, <b>-U</b>, and <b>-u</b>foo produces a
    listing of only UNIX socket files that belong to processes owned by user
    ``foo''.</p>
<p class="Pp">Caution: the <b>-a</b> option causes all list selection options to
    be ANDed; it can't be used to cause ANDing of selected pairs of selection
    options by placing it between them, even though its placement there is
    acceptable. Wherever <b>-a</b> is placed, it causes the ANDing of all
    selection options.</p>
<p class="Pp">Items of the same selection set - command names, file descriptors,
    network addresses, process identifiers, user identifiers, zone names,
    security contexts - are joined in a single ORed set and applied before the
    result participates in ANDing. Thus, for example, specifying
    <b>-i</b>@aaa.bbb, <b>-i</b>@ccc.ddd, <b>-a</b>, and <b>-u</b>fff,ggg will
    select the listing of files that belong to either login ``fff'' OR ``ggg''
    AND have network connections to either host aaa.bbb OR ccc.ddd.</p>
<p class="Pp">Options may be grouped together following a single prefix -- e.g.,
    the option set ``<b>-a -b -C</b>'' may be stated as <b>-abC</b>. However,
    since values are optional following <b>+|-f</b>, <b>-F</b>, <b>-g</b>,
    <b>-i</b>, <b>+|-L</b>, <b>-o</b>, <b>+|-r</b>, <b>-s</b>, <b>-S</b>,
    <b>-T</b>, <b>-x</b> and <b>-z</b>. when you have no values for them be
    careful that the following character isn't ambiguous. For example,
    <b>-Fn</b> might represent the <b>-F</b> and <b>-n</b> options, or it might
    represent the <b>n</b> field identifier character following the <b>-F</b>
    option. When ambiguity is possible, start a new option with a `-' character
    - e.g., ``<b>-F -n</b>''. If the next option is a file name, follow the
    possibly ambiguous option with ``--'' - e.g., ``<b>-F --
  </b><i>name</i>''.</p>
<p class="Pp">Either the `+' or the `-' prefix may be applied to a group of
    options. Options that don't take on separate meanings for each prefix -
    e.g., <b>-i</b> - may be grouped under either prefix. Thus, for example,
    ``+M -i'' may be stated as ``+Mi'' and the group means the same as the
    separate options. Be careful of prefix grouping when one or more options in
    the group does take on separate meanings under different prefixes - e.g.,
    <b>+|-M</b>; ``-iM'' is not the same request as ``-i +M''. When in doubt,
    use separate options with appropriate prefixes.</p>
<dl class="Bl-tag">
  <dt><b>-? -h</b></dt>
  <dd>These two equivalent options select a usage (help) output list.
      <i>Lsof</i> displays a shortened form of this output when it detects an
      error in the options supplied to it, after it has displayed messages
      explaining each error. (Escape the `?' character as your shell
    requires.)</dd>
  <dt id="a"><a class="permalink" href="#a"><b>-a</b></a></dt>
  <dd>causes list selection options to be ANDed, as described above.</dd>
  <dt id="A"><a class="permalink" href="#A"><b>-A</b><i> A</i></a></dt>
  <dd>is available on systems configured for AFS whose AFS kernel code is
      implemented via dynamic modules. It allows the <i>lsof</i> user to specify
      <i>A</i> as an alternate name list file where the kernel addresses of the
      dynamic modules might be found. See the <i>lsof</i> FAQ (The <b>FAQ</b>
      section gives its location.) for more information about dynamic modules,
      their symbols, and how they affect <i>lsof</i>.</dd>
  <dt id="b"><a class="permalink" href="#b"><b>-b</b></a></dt>
  <dd>causes <i>lsof</i> to avoid kernel functions that might block -
      <i>lstat</i>(2), <i>readlink</i>(2), and <i>stat</i>(2).</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>See the <b>BLOCKS AND TIMEOUTS</b> and <b>AVOIDING KERNEL BLOCKS</b>
      sections for information on using this option.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="c"><a class="permalink" href="#c"><b>-c</b><i> c</i></a></dt>
  <dd>selects the listing of files for processes executing the command that
      begins with the characters of <i>c</i>. Multiple commands may be
      specified, using multiple <b>-c</b> options. They are joined in a single
      ORed set before participating in AND option selection.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>If <i>c</i> begins with a `^', then the following characters specify a
      command name whose processes are to be ignored (excluded.)</dd>
  <dt></dt>
  <dd>If <i>c</i> begins and ends with a slash ('/'), the characters between the
      slashes are interpreted as a regular expression. Shell meta-characters in
      the regular expression must be quoted to prevent their interpretation by
      the shell. The closing slash may be followed by these modifiers:</dd>
  <dt></dt>
  <dd>
    <pre>	b	the regular expression is a basic one.
	i	ignore the case of letters.
	x	the regular expression is an extended one
		(default).</pre>
  </dd>
  <dt></dt>
  <dd>See the <i>lsof</i> FAQ (The <b>FAQ</b> section gives its location.) for
      more information on basic and extended regular expressions.</dd>
  <dt></dt>
  <dd>The simple command specification is tested first. If that test fails, the
      command regular expression is applied. If the simple command test
      succeeds, the command regular expression test isn't made. This may result
      in ``no command found for regex:'' messages when lsof's <b>-V</b> option
      is specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt><b>+c</b><i> w</i></dt>
  <dd>defines the maximum number of initial characters of the name, supplied by
      the UNIX dialect, of the UNIX command associated with a process to be
      printed in the COMMAND column. (The <i>lsof</i> default is nine.)</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Note that many UNIX dialects do not supply all command name characters to
      <i>lsof</i> in the files and structures from which <i>lsof</i> obtains
      command name. Often dialects limit the number of characters supplied in
      those sources. For example, Linux 2.4.27 and Solaris 9 both limit command
      name length to 16 characters.</dd>
  <dt></dt>
  <dd>If <i>w</i> is zero ('0'), all command characters supplied to <i>lsof</i>
      by the UNIX dialect will be printed.</dd>
  <dt></dt>
  <dd>If <i>w</i> is less than the length of the column title, ``COMMAND'', it
      will be raised to that length.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="C"><a class="permalink" href="#C"><b>-C</b></a></dt>
  <dd>disables the reporting of any path name components from the kernel's name
      cache. See the <b>KERNEL NAME CACHE</b> section for more information.</dd>
  <dt><b>+d</b><i> s</i></dt>
  <dd>causes <i>lsof</i> to search for all open instances of directory <i>s</i>
      and the files and directories it contains at its top level. <b>+d</b> does
      NOT descend the directory tree, rooted at <i>s</i>. The <b>+D</b><i> D</i>
      option may be used to request a full-descent directory tree search, rooted
      at directory <i>D</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Processing of the <b>+d</b> option does not follow symbolic links within
      <i>s</i> unless the <b>-x</b> or <b>-x l</b> option is also specified. Nor
      does it search for open files on file system mount points on
      subdirectories of <i>s</i> unless the <b>-x</b> or <b>-x f</b> option is
      also specified.</dd>
  <dt></dt>
  <dd>Note: the authority of the user of this option limits it to searching for
      files that the user has permission to examine with the system
      <i>stat</i>(2) function.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="d"><a class="permalink" href="#d"><b>-d</b><i> s</i></a></dt>
  <dd>specifies a list of file descriptors (FDs) to exclude from or include in
      the output listing. The file descriptors are specified in the
      comma-separated set <i>s</i> - e.g., ``cwd,1,3'', ``^6,^2''. (There should
      be no spaces in the set.)</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>The list is an exclusion list if all entries of the set begin with `^'. It
      is an inclusion list if no entry begins with `^'. Mixed lists are not
      permitted.</dd>
  <dt></dt>
  <dd>A file descriptor number range may be in the set as long as neither member
      is empty, both members are numbers, and the ending member is larger than
      the starting one - e.g., ``0-7'' or ``3-10''. Ranges may be specified for
      exclusion if they have the `^' prefix - e.g., ``^0-7'' excludes all file
      descriptors 0 through 7.</dd>
  <dt></dt>
  <dd>Multiple file descriptor numbers are joined in a single ORed set before
      participating in AND option selection.</dd>
  <dt></dt>
  <dd>When there are exclusion and inclusion members in the set, <i>lsof</i>
      reports them as errors and exits with a non-zero return code.</dd>
  <dt></dt>
  <dd>See the description of File Descriptor (FD) output values in the
      <b>OUTPUT</b> section for more information on file descriptor names.</dd>
</dl>
<dl class="Bl-tag">
  <dt><b>+D</b><i> D</i></dt>
  <dd>causes <i>lsof</i> to search for all open instances of directory <i>D</i>
      and all the files and directories it contains to its complete depth.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Processing of the <b>+D</b> option does not follow symbolic links within
      <i>D</i> unless the <b>-x</b> or <b>-x l</b> option is also specified. Nor
      does it search for open files on file system mount points on
      subdirectories of <i>D</i> unless the <b>-x</b> or <b>-x f</b> option is
      also specified.</dd>
  <dt></dt>
  <dd>Note: the authority of the user of this option limits it to searching for
      files that the user has permission to examine with the system
      <i>stat</i>(2) function.</dd>
  <dt></dt>
  <dd>Further note: <i>lsof</i> may process this option slowly and require a
      large amount of dynamic memory to do it. This is because it must descend
      the entire directory tree, rooted at <i>D</i>, calling <i>stat</i>(2) for
      each file and directory, building a list of all the files it finds, and
      searching that list for a match with every open file. When directory
      <i>D</i> is large, these steps can take a long time, so use this option
      prudently.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="D"><a class="permalink" href="#D"><b>-D</b><i> D</i></a></dt>
  <dd>directs <i>lsof's</i> use of the device cache file. The use of this option
      is sometimes restricted. See the <b>DEVICE CACHE FILE</b> section and the
      sections that follow it for more information on this option.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd><b>-D</b> must be followed by a function letter; the function letter may
      optionally be followed by a path name. <i>Lsof</i> recognizes these
      function letters:</dd>
  <dt></dt>
  <dd>
    <pre>	<b>?</b> - report device cache file paths
	<b>b</b> - build the device cache file
	<b>i</b> - ignore the device cache file
	<b>r</b> - read the device cache file
	<b>u</b> - read and update the device cache file</pre>
  </dd>
  <dt></dt>
  <dd>The <b>b</b>, <b>r</b>, and <b>u</b> functions, accompanied by a path
      name, are sometimes restricted. When these functions are restricted, they
      will not appear in the description of the <b>-D</b> option that
      accompanies <b>-h</b> or <b>-?</b> option output. See the <b>DEVICE CACHE
      FILE</b> section and the sections that follow it for more information on
      these functions and when they're restricted.</dd>
  <dt></dt>
  <dd>The <b>?</b> function reports the read-only and write paths that lsof can
      use for the device cache file, the names of any environment variables
      whose values <i>lsof</i> will examine when forming the device cache file
      path, and the format for the personal device cache file path. (Escape the
      `?' character as your shell requires.)</dd>
  <dt></dt>
  <dd>When available, the <b>b</b>, <b>r</b>, and <b>u</b> functions may be
      followed by the device cache file's path. The standard default is
      <i>.lsof_hostname</i> in the home directory of the real user ID that
      executes <i>lsof</i>, but this could have been changed when <i>lsof</i>
      was configured and compiled. (The output of the <b>-h</b> and <b>-?</b>
      options show the current default prefix - e.g., ``.lsof''.) The suffix,
      <i>hostname</i>, is the first component of the host's name returned by
      <i>gethostname</i>(2).</dd>
  <dt></dt>
  <dd>When available, the <b>b</b> function directs <i>lsof</i> to build a new
      device cache file at the default or specified path.</dd>
  <dt></dt>
  <dd>The <b>i</b> function directs <i>lsof</i> to ignore the default device
      cache file and obtain its information about devices via direct calls to
      the kernel.</dd>
  <dt></dt>
  <dd>The <b>r</b> function directs <i>lsof</i> to read the device cache at the
      default or specified path, but prevents it from creating a new device
      cache file when none exists or the existing one is improperly structured.
      The <b>r</b> function, when specified without a path name, prevents
      <i>lsof</i> from updating an incorrect or outdated device cache file, or
      creating a new one in its place. The <b>r</b> function is always available
      when it is specified without a path name argument; it may be restricted by
      the permissions of the <i>lsof</i> process.</dd>
  <dt></dt>
  <dd>When available, the <b>u</b> function directs <i>lsof</i> to read the
      device cache file at the default or specified path, if possible, and to
      rebuild it, if necessary. This is the default device cache file function
      when no <b>-D</b> option has been specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt><b>+|-e</b><i> s</i></dt>
  <dd>exempts the file system whose path name is <i>s</i> from being subjected
      to kernel function calls that might block. The <b>+e</b> option exempts
      <i>stat</i>(2), <i>lstat</i>(2) and most <i>readlink</i>(2) kernel
      function calls. The <b>-e</b> option exempts only <i>stat(2)</i> and
      <i>lstat</i>(2) kernel function calls. Multiple file systems may be
      specified with separate <b>+|-e</b> specifications and each may have
      <i>readlink</i>(2) calls exempted or not.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>This option is currently implemented only for Linux.</dd>
  <dt></dt>
  <dd><b>CAUTION:</b> this option can easily be mis-applied to other than the
      file system of interest, because it uses path name rather than the more
      reliable device and inode numbers. (Device and inode numbers are acquired
      via the potentially blocking <i>stat</i>(2) kernel call and are thus not
      available, but see the <b>+|-m</b><i> m</i> option as a possible
      alternative way to supply device numbers.) <b>Use this option with great
      care and fully specify the path name of the</b> <b>file system to be
      exempted.</b></dd>
  <dt></dt>
  <dd>When open files on exempted file systems are reported, it may not be
      possible to obtain all their information. Therefore, some information
      columns will be blank, the characters ``UNKN'' preface the values in the
      TYPE column, and the applicable exemption option is added in parentheses
      to the end of the NAME column. (Some device number information might be
      made available via the <b>+|-m</b><i> m</i> option.)</dd>
</dl>
<dl class="Bl-tag">
  <dt><b>+|-E</b></dt>
  <dd><b>+E</b> specifies that Linux pipe, Linux UNIX socket and Linux
      pseudoterminal files should be displayed with endpoint information and the
      files of the endpoints should also be displayed. Note: UNIX socket file
      endpoint information is only available when the compile flags line of
      <b>-v</b> output contains HASUXSOCKEPT, and psudoterminal endpoint
      information is only available when the compile flags line contains
      HASPTYEPT.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Pipe endpoint information is displayed in the NAME column in the form
      ``<i>PID,cmd,FDmode</i>'', where <i>PID</i> is the endpoint process ID;
      <i>cmd</i> is the endpoint process command; <i>FD</i> is the endpoint
      file's descriptor; and <i>mode</i> is the endpoint file's access
    mode.</dd>
  <dt></dt>
  <dd>Pseudoterminal endpoint information is displayed in the NAME column as
      ``-&gt;/dev/pts<i>min</i>&#x00A0;<i>PID,cmd,FDmode</i>'' or
      ``<i>PID,cmd,FDmode</i>''. The first form is for a primary device; the
      second, for a replica device. <i>min</i> is a replica device's minor
      device number; and <i>PID, cmd, FD</i> and <i>mode</i> are the same as
      with pipe endpoint information. Note: psudoterminal endpoint information
      is only available when the compile flags line of <b>-V</b> output contains
      HASPTYEPT.</dd>
  <dt></dt>
  <dd>UNIX socket file endpoint information is displayed in the NAME column in
      the form
    <br/>
    ``type=<i>TYPE</i>&#x00A0;-&gt;INO=<i>INODE</i>&#x00A0;<i>PID,cmd,FDmode</i>'',
      where <i>TYPE</i> is the socket type; <i>INODE</i> is the i-node number of
      the connected socket; and <i>PID, cmd, FD</i> and <i>mode</i> are the same
      as with pipe endpoint information. Note: UNIX socket file endpoint
      information is available only when the compile flags line of <b>-v</b>
      output contains HASUXSOCKEPT.</dd>
  <dt></dt>
  <dd>Multiple occurrences of this information can appear in a file's NAME
      column.</dd>
  <dt></dt>
  <dd><b>-E</b> specfies that Linux pipe and Linux UNIX socket files should be
      displayed with endpoint information, but not the files of the
    endpoints.</dd>
</dl>
<dl class="Bl-tag">
  <dt><b>+|-f [cfgGn]</b></dt>
  <dd><b>f</b> by itself clarifies how path name arguments are to be
      interpreted. When followed by <b>c</b>, <b>f</b>, <b>g</b>, <b>G</b>, or
      <b>n</b> in any combination it specifies that the listing of kernel file
      structure information is to be enabled (`+') or inhibited (`-').</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Normally a path name argument is taken to be a file system name if it
      matches a mounted-on directory name reported by <i>mount</i>(8), or if it
      represents a block device, named in the <i>mount</i> output and associated
      with a mounted directory name. When <b>+f</b> is specified, all path name
      arguments will be taken to be file system names, and <i>lsof</i> will
      complain if any are not. This can be useful, for example, when the file
      system name (mounted-on device) isn't a block device. This happens for
      some CD-ROM file systems.</dd>
  <dt></dt>
  <dd>When <b>-f</b> is specified by itself, all path name arguments will be
      taken to be simple files. Thus, for example, the ``<b>-f</b>&#x00A0;-- /''
      arguments direct lsof to search for open files with a `/' path name, not
      all open files in the `/' (root) file system.</dd>
  <dt></dt>
  <dd>Be careful to make sure <b>+f</b> and <b>-f</b> are properly terminated
      and aren't followed by a character (e.g., of the file or file system name)
      that might be taken as a parameter. For example, use ``--'' after
      <b>+f</b> and <b>-f</b> as in these examples.</dd>
  <dt></dt>
  <dd>
    <pre>	$ lsof +f -- /file/system/name
	$ lsof -f -- /file/name</pre>
  </dd>
  <dt></dt>
  <dd>The listing of information from kernel file structures, requested with the
      <b>+f [cfgGn]</b> option form, is normally inhibited, and is not available
      in whole or part for some dialects - e.g., /proc-based Linux kernels below
      2.6.22. When the prefix to <b>f</b> is a plus sign (`+'), these characters
      request file structure information:</dd>
  <dt></dt>
  <dd>
    <pre>	<b>c</b>	file structure use count (not Linux)
	<b>f</b>	file structure address (not Linux)
	<b>g</b>	file flag abbreviations (Linux 2.6.22 and up)
	<b>G</b>	file flags in hexadecimal (Linux 2.6.22 and up)
	<b>n</b>	file structure node address (not Linux)</pre>
  </dd>
  <dt></dt>
  <dd>When the prefix is minus (`-') the same characters disable the listing of
      the indicated values.</dd>
  <dt></dt>
  <dd>File structure addresses, use counts, flags, and node addresses may be
      used to detect more readily identical files inherited by child processes
      and identical files in use by different processes. <i>Lsof</i> column
      output can be sorted by output columns holding the values and listed to
      identify identical file use, or <i>lsof</i> field output can be parsed by
      an AWK or Perl post-filter script, or by a C program.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="F"><a class="permalink" href="#F"><b>-F</b><i> f</i></a></dt>
  <dd>specifies a character list, <i>f</i>, that selects the fields to be output
      for processing by another program, and the character that terminates each
      output field. Each field to be output is specified with a single character
      in <i>f</i>. The field terminator defaults to NL, but may be changed to
      NUL (000). See the <b>OUTPUT FOR OTHER PROGRAMS</b> section for a
      description of the field identification characters and the field output
      process.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>When the field selection character list is empty, all standard fields are
      selected (except the raw device field, security context and zone field for
      compatibility reasons) and the NL field terminator is used.</dd>
  <dt></dt>
  <dd>When the field selection character list contains only a zero (`0'), all
      fields are selected (except the raw device field for compatibility
      reasons) and the NUL terminator character is used.</dd>
  <dt></dt>
  <dd>Other combinations of fields and their associated field terminator
      character must be set with explicit entries in <i>f</i>, as described in
      the <b>OUTPUT FOR OTHER PROGRAMS</b> section.</dd>
  <dt></dt>
  <dd>When a field selection character identifies an item <i>lsof</i> does not
      normally list - e.g., PPID, selected with <b>-R</b> - specification of the
      field character - e.g., ``<b>-FR</b>'' - also selects the listing of the
      item.</dd>
  <dt></dt>
  <dd>When the field selection character list contains the single character `?',
      <i>lsof</i> will display a help list of the field identification
      characters. (Escape the `?' character as your shell requires.)</dd>
</dl>
<dl class="Bl-tag">
  <dt id="g"><a class="permalink" href="#g"><b>-g</b><i> [s]</i></a></dt>
  <dd>excludes or selects the listing of files for the processes whose optional
      process group IDentification (PGID) numbers are in the comma-separated set
      <i>s</i> - e.g., ``123'' or ``123,^456''. (There should be no spaces in
      the set.)</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>PGID numbers that begin with `^' (negation) represent exclusions.</dd>
  <dt></dt>
  <dd>Multiple PGID numbers are joined in a single ORed set before participating
      in AND option selection. However, PGID exclusions are applied without
      ORing or ANDing and take effect before other selection criteria are
      applied.</dd>
  <dt></dt>
  <dd>The <b>-g</b> option also enables the output display of PGID numbers. When
      specified without a PGID set that's all it does.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="i"><a class="permalink" href="#i"><b>-i</b><i> [i]</i></a></dt>
  <dd>selects the listing of files any of whose Internet address matches the
      address specified in <i>i</i>. If no address is specified, this option
      selects the listing of all Internet and x.25 (HP-UX) network files.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>If <b>-i</b><i>4</i> or <b>-i</b><i>6</i> is specified with no following
      address, only files of the indicated IP version, IPv4 or IPv6, are
      displayed. (An IPv6 specification may be used only if the dialects
      supports IPv6, as indicated by ``[46]'' and ``IPv[46]'' in <i>lsof's</i>
      <b>-h</b> or <b>-?</b> output.) Sequentially specifying <b>-i</b>4,
      followed by <b>-i</b>6 is the same as specifying <b>-i</b>, and
      vice-versa. Specifying <b>-i</b>4, or <b>-i</b>6 after <b>-i</b> is the
      same as specifying <b>-i</b>4 or <b>-i</b>6 by itself.</dd>
  <dt></dt>
  <dd>Multiple addresses (up to a limit of 100) may be specified with multiple
      <b>-i</b> options. (A port number or service name range is counted as one
      address.) They are joined in a single ORed set before participating in AND
      option selection.</dd>
  <dt></dt>
  <dd>An Internet address is specified in the form (Items in square brackets are
      optional.):</dd>
  <dt></dt>
  <dd>
    <p class="Pp">[<i>46</i>][<i>protocol</i>][@<i>hostname</i>|<i>hostaddr</i>][:<i>service</i>|<i>port</i>]</p>
  </dd>
  <dt></dt>
  <dd>where:
    <pre>
	<i>46</i> specifies the IP version, IPv4 or IPv6
		that applies to the following address.
		'6' may be be specified only if the UNIX
		dialect supports IPv6.  If neither '4' nor
		'6' is specified, the following address
		applies to all IP versions.
	<i>protocol</i> is a protocol name - <b>TCP</b>, <b>UDP</b>
	<i>hostname</i> is an Internet host name.  Unless a
		specific IP version is specified, open
		network files associated with host names
		of all versions will be selected.
	<i>hostaddr</i> is a numeric Internet IPv4 address in
		dot form; or an IPv6 numeric address in
		colon form, enclosed in brackets, if the
		UNIX dialect supports IPv6.  When an IP
		version is selected, only its numeric
		addresses may be specified.
	<i>service</i> is an <i>/etc/services</i> name - e.g., <b>smtp</b> -
		or a list of them.
	<i>port</i> is a port number, or a list of them.</pre>
  </dd>
  <dt></dt>
  <dd>IPv6 options may be used only if the UNIX dialect supports IPv6. To see if
      the dialect supports IPv6, run <i>lsof</i> and specify the <b>-h</b> or
      <b>-?</b> (help) option. If the displayed description of the <b>-i</b>
      option contains ``[46]'' and ``IPv[46]'', IPv6 is supported.</dd>
  <dt></dt>
  <dd>IPv4 host names and addresses may not be specified if network file
      selection is limited to IPv6 with <b>-i</b> 6. IPv6 host names and
      addresses may not be specified if network file selection is limited to
      IPv4 with <b>-i</b> 4. When an open IPv4 network file's address is mapped
      in an IPv6 address, the open file's type will be IPv6, not IPv4, and its
      display will be selected by '6', not '4'.</dd>
  <dt></dt>
  <dd>At least one address component - <b>4,</b> <b>6,</b> <i>protocol</i>,
      <i>hostname</i>, <i>hostaddr</i>, or <i>service</i> - must be supplied.
      The `@' character, leading the host specification, is always required; as
      is the `:', leading the port specification. Specify either <i>hostname</i>
      or <i>hostaddr</i>. Specify either <i>service</i> name list or <i>port</i>
      number list. If a <i>service</i> name list is specified, the
      <i>protocol</i> may also need to be specified if the TCP, UDP and UDPLITE
      port numbers for the service name are different. Use any case - lower or
      upper - for <i>protocol</i>.</dd>
  <dt></dt>
  <dd><i>Service</i> names and <i>port</i> numbers may be combined in a list
      whose entries are separated by commas and whose numeric range entries are
      separated by minus signs. There may be no embedded spaces, and all service
      names must belong to the specified <i>protocol</i>. Since service names
      may contain embedded minus signs, the starting entry of a range can't be a
      service name; it can be a port number, however.</dd>
  <dt></dt>
  <dd>Here are some sample addresses:
    <pre>
	-i6 - IPv6 only
	TCP:25 - TCP and port 25
	@1.2.3.4 - Internet IPv4 host address 1.2.3.4
	@[3ffe:1ebc::1]:1234 - Internet IPv6 host address
		3ffe:1ebc::1, port 1234
	UDP:who - UDP who service port
	TCP@lsof.itap:513 - TCP, port 513 and host name lsof.itap
	tcp@foo:1-10,smtp,99 - TCP, ports 1 through 10,
		service name <i>smtp</i>, port 99, host name foo
	tcp@bar:1-smtp - TCP, ports 1 through <i>smtp</i>, host bar
	:time - either TCP, UDP or UDPLITE time service port</pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt id="K"><a class="permalink" href="#K"><b>-K</b><i> k</i></a></dt>
  <dd>selects the listing of tasks (threads) of processes, on dialects where
      task (thread) reporting is supported. (If help output - i.e., the output
      of the <b>-h</b> or <b>-?</b> options - shows this option, then task
      (thread) reporting is supported by the dialect.)</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>If <b>-K</b> is followed by a value, <i>k</i>, it must be ``i''. That
      causes <i>lsof</i> to ignore tasks, particularly in the default,
      list-everything case when no other options are specified.</dd>
  <dt></dt>
  <dd>When <b>-K</b> and <b>-a</b> are both specified on Linux, and the tasks of
      a main process are selected by other options, the main process will also
      be listed as though it were a task, but without a task ID. (See the
      description of the TID column in the <b>OUTPUT</b> section.)</dd>
  <dt></dt>
  <dd>Where the FreeBSD version supports threads, all threads will be listed
      with their IDs.</dd>
  <dt></dt>
  <dd>In general threads and tasks inherit the files of the caller, but may
      close some and open others, so <i>lsof</i> always reports all the open
      files of threads and tasks.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="k"><a class="permalink" href="#k"><b>-k</b><i> k</i></a></dt>
  <dd>specifies a kernel name list file, <i>k</i>, in place of /vmunix, /mach,
      etc. <b>-k</b> is not available under AIX on the IBM RISC/System
    6000.</dd>
  <dt id="l"><a class="permalink" href="#l"><b>-l</b></a></dt>
  <dd>inhibits the conversion of user ID numbers to login names. It is also
      useful when login name lookup is working improperly or slowly.</dd>
  <dt><b>+|-L</b><i> [l]</i></dt>
  <dd>enables (`+') or disables (`-') the listing of file link counts, where
      they are available - e.g., they aren't available for sockets, or most
      FIFOs and pipes.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>When <b>+L</b> is specified without a following number, all link counts
      will be listed. When <b>-L</b> is specified (the default), no link counts
      will be listed.</dd>
  <dt></dt>
  <dd>When <b>+L</b> is followed by a number, only files having a link count
      less than that number will be listed. (No number may follow <b>-L</b>.) A
      specification of the form ``<b>+L1</b>'' will select open files that have
      been unlinked. A specification of the form
      ``<b>+aL1&#x00A0;</b><i>&lt;file_system&gt;</i>'' will select unlinked
      open files on the specified file system.</dd>
  <dt></dt>
  <dd>For other link count comparisons, use field output (<b>-F</b>) and a
      post-processing script or program.</dd>
</dl>
<dl class="Bl-tag">
  <dt><b>+|-m</b><i> m</i></dt>
  <dd>specifies an alternate kernel memory file or activates mount table
      supplement processing.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>The option form <b>-m</b><i> m</i> specifies a kernel memory file,
      <i>m</i>, in place of <i>/dev/kmem</i> or <i>/dev/mem</i> - e.g., a crash
      dump file.</dd>
  <dt></dt>
  <dd>The option form <b>+m</b> requests that a mount supplement file be written
      to the standard output file. All other options are silently ignored.</dd>
  <dt></dt>
  <dd>There will be a line in the mount supplement file for each mounted file
      system, containing the mounted file system directory, followed by a single
      space, followed by the device number in hexadecimal &quot;0x&quot; format
      - e.g.,</dd>
  <dt></dt>
  <dd>
    <pre>	/ 0x801</pre>
  </dd>
  <dt></dt>
  <dd><i>Lsof</i> can use the mount supplement file to get device numbers for
      file systems when it can't get them via <i>stat</i>(2) or
    <i>lstat</i>(2).</dd>
  <dt></dt>
  <dd>The option form <b>+m</b><i> m</i> identifies <i>m</i> as a mount
      supplement file.</dd>
  <dt></dt>
  <dd>Note: the <b>+m</b> and <b>+m</b><i> m</i> options are not available for
      all supported dialects. Check the output of <i>lsof's</i> <b>-h</b> or
      <b>-?</b> options to see if the <b>+m</b> and <b>+m</b><i> m</i> options
      are available.</dd>
</dl>
<dl class="Bl-tag">
  <dt><b>+|-M</b></dt>
  <dd>Enables (<b>+</b>) or disables (<b>-</b>) the reporting of portmapper
      registrations for local TCP, UDP and UDPLITE ports, where port mapping is
      supported. (See the last paragraph of this option description for
      information about where portmapper registration reporting is
    supported.)</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>The default reporting mode is set by the <i>lsof</i> builder with the
      HASPMAPENABLED #define in the dialect's machine.h header file; <i>lsof</i>
      is distributed with the HASPMAPENABLED #define deactivated, so portmapper
      reporting is disabled by default and must be requested with <b>+M</b>.
      Specifying <i>lsof's</i> <b>-h</b> or <b>-?</b> option will report the
      default mode. Disabling portmapper registration when it is already
      disabled or enabling it when already enabled is acceptable. When
      portmapper registration reporting is enabled, <i>lsof</i> displays the
      portmapper registration (if any) for local TCP, UDP or UDPLITE ports in
      square brackets immediately following the port numbers or service names -
      e.g., ``:1234[name]'' or ``:name[100083]''. The registration information
      may be a name or number, depending on what the registering program
      supplied to the portmapper when it registered the port.</dd>
  <dt></dt>
  <dd>When portmapper registration reporting is enabled, <i>lsof</i> may run a
      little more slowly or even become blocked when access to the portmapper
      becomes congested or stopped. Reverse the reporting mode to determine if
      portmapper registration reporting is slowing or blocking <i>lsof</i>.</dd>
  <dt></dt>
  <dd>For purposes of portmapper registration reporting <i>lsof</i> considers a
      TCP, UDP or UDPLITE port local if: it is found in the local part of its
      containing kernel structure; or if it is located in the foreign part of
      its containing kernel structure and the local and foreign Internet
      addresses are the same; or if it is located in the foreign part of its
      containing kernel structure and the foreign Internet address is
      INADDR_LOOPBACK (127.0.0.1). This rule may make <i>lsof</i> ignore some
      foreign ports on machines with multiple interfaces when the foreign
      Internet address is on a different interface from the local one.</dd>
  <dt></dt>
  <dd>See the <i>lsof</i> FAQ (The <b>FAQ</b> section gives its location.) for
      further discussion of portmapper registration reporting issues.</dd>
  <dt></dt>
  <dd>Portmapper registration reporting is supported only on dialects that have
      RPC header files. (Some Linux distributions with GlibC 2.14 do not have
      them.) When portmapper registration reporting is supported, the <b>-h</b>
      or <b>-?</b> help output will show the <b>+|-M</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="n"><a class="permalink" href="#n"><b>-n</b></a></dt>
  <dd>inhibits the conversion of network numbers to host names for network
      files. Inhibiting conversion may make <i>lsof</i> run faster. It is also
      useful when host name lookup is not working properly.</dd>
  <dt id="N"><a class="permalink" href="#N"><b>-N</b></a></dt>
  <dd>selects the listing of NFS files.</dd>
  <dt id="o"><a class="permalink" href="#o"><b>-o</b></a></dt>
  <dd>directs <i>lsof</i> to display file offset at all times. It causes the
      SIZE/OFF output column title to be changed to OFFSET. Note: on some UNIX
      dialects <i>lsof</i> can't obtain accurate or consistent file offset
      information from its kernel data sources, sometimes just for particular
      kinds of files (e.g., socket files.) Consult the <i>lsof</i> FAQ (The
      <b>FAQ</b> section gives its location.) for more information.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>The <b>-o</b> and <b>-s</b> options are mutually exclusive; they can't
      both be specified. When neither is specified, <i>lsof</i> displays
      whatever value - size or offset - is appropriate and available for the
      type of the file.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="o~2"><a class="permalink" href="#o~2"><b>-o</b><i> o</i></a></dt>
  <dd>defines the number of decimal digits (<i>o</i>) to be printed after the
      ``0t'' for a file offset before the form is switched to ``0x...''. An
      <i>o</i> value of zero (unlimited) directs <i>lsof</i> to use the ``0t''
      form for all offset output.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>This option does NOT direct <i>lsof</i> to display offset at all times;
      specify <b>-o</b> (without a trailing number) to do that. <b>-o</b><i>
      o</i> only specifies the number of digits after ``0t'' in either mixed
      size and offset or offset-only output. Thus, for example, to direct
      <i>lsof</i> to display offset at all times with a decimal digit count of
      10, use:</dd>
  <dt></dt>
  <dd>
    <pre>	-o -o 10
or
	-oo10</pre>
  </dd>
  <dt></dt>
  <dd>The default number of digits allowed after ``0t'' is normally 8, but may
      have been changed by the lsof builder. Consult the description of the
      <b>-o</b><i> o</i> option in the output of the <b>-h</b> or <b>-?</b>
      option to determine the default that is in effect.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="O"><a class="permalink" href="#O"><b>-O</b></a></dt>
  <dd>directs <i>lsof</i> to bypass the strategy it uses to avoid being blocked
      by some kernel operations - i.e., doing them in forked child processes.
      See the <b>BLOCKS AND TIMEOUTS</b> and <b>AVOIDING KERNEL BLOCKS</b>
      sections for more information on kernel operations that may block
      <i>lsof</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>While use of this option will reduce <i>lsof</i> startup overhead, it may
      also cause <i>lsof</i> to hang when the kernel doesn't respond to a
      function. Use this option cautiously.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="p"><a class="permalink" href="#p"><b>-p</b><i> s</i></a></dt>
  <dd>excludes or selects the listing of files for the processes whose optional
      process IDentification (PID) numbers are in the comma-separated set
      <i>s</i> - e.g., ``123'' or ``123,^456''. (There should be no spaces in
      the set.)</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>PID numbers that begin with `^' (negation) represent exclusions.</dd>
  <dt></dt>
  <dd>Multiple process ID numbers are joined in a single ORed set before
      participating in AND option selection. However, PID exclusions are applied
      without ORing or ANDing and take effect before other selection criteria
      are applied.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="P"><a class="permalink" href="#P"><b>-P</b></a></dt>
  <dd>inhibits the conversion of port numbers to port names for network files.
      Inhibiting the conversion may make <i>lsof</i> run a little faster. It is
      also useful when port name lookup is not working properly.</dd>
  <dt><b>+|-r</b><i> [t[m&lt;fmt&gt;]]</i></dt>
  <dd>puts <i>lsof</i> in repeat mode. There <i>lsof</i> lists open files as
      selected by other options, delays <i>t</i> seconds (default fifteen), then
      repeats the listing, delaying and listing repetitively until stopped by a
      condition defined by the prefix to the option.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>If the prefix is a `-', repeat mode is endless. <i>Lsof</i> must be
      terminated with an interrupt or quit signal.</dd>
  <dt></dt>
  <dd>If the prefix is `+', repeat mode will end the first cycle no open files
      are listed - and of course when <i>lsof</i> is stopped with an interrupt
      or quit signal. When repeat mode ends because no files are listed, the
      process exit code will be zero if any open files were ever listed; one, if
      none were ever listed.</dd>
  <dt></dt>
  <dd><i>Lsof</i> marks the end of each listing: if field output is in progress
      (the <b>-F</b>, option has been specified), the default marker is `m';
      otherwise the default marker is ``========''. The marker is followed by a
      NL character.</dd>
  <dt></dt>
  <dd>The optional &quot;m&lt;fmt&gt;&quot; argument specifies a format for the
      marker line. The &lt;fmt&gt; characters following `m' are interpreted as a
      format specification to the <i>strftime</i>(3) function, when both it and
      the <i>localtime</i>(3) function are available in the dialect's C library.
      Consult the <i>strftime</i>(3) documentation for what may appear in its
      format specification. Note that when field output is requested with the
      <b>-F</b> option, &lt;fmt&gt; cannot contain the NL format, ``%n''. Note
      also that when &lt;fmt&gt; contains spaces or other characters that affect
      the shell's interpretation of arguments, &lt;fmt&gt; must be quoted
      appropriately.</dd>
  <dt></dt>
  <dd>Repeat mode reduces <i>lsof</i> startup overhead, so it is more efficient
      to use this mode than to call <i>lsof</i> repetitively from a shell
      script, for example.</dd>
  <dt></dt>
  <dd>To use repeat mode most efficiently, accompany <b>+|-r</b> with
      specification of other <i>lsof</i> selection options, so the amount of
      kernel memory access <i>lsof</i> does will be kept to a minimum. Options
      that filter at the process level - e.g., <b>-c</b>, <b>-g</b>, <b>-p</b>,
      <b>-u</b> - are the most efficient selectors.</dd>
  <dt></dt>
  <dd>Repeat mode is useful when coupled with field output (see the <b>-F</b>,
      option description) and a supervising <i>awk</i> or <i>Perl</i> script, or
      a C program.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="R"><a class="permalink" href="#R"><b>-R</b></a></dt>
  <dd>directs lsof to list the Parent Process IDentification number in the PPID
      column.</dd>
  <dt id="s"><a class="permalink" href="#s"><b>-s</b><i> [p:s]</i></a></dt>
  <dd><b>s</b> alone directs <i>lsof</i> to display file size at all times. It
      causes the SIZE/OFF output column title to be changed to SIZE. If the file
      does not have a size, nothing is displayed.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>The optional <b>-s</b><i> p:s</i> form is available only for selected
      dialects, and only when the <b>-h</b> or <b>-?</b> help output lists
    it.</dd>
  <dt></dt>
  <dd>When the optional form is available, the <b>s</b> may be followed by a
      protocol name (<i>p</i>), either TCP or UDP, a colon (`:') and a
      comma-separated protocol state name list, the option causes open TCP and
      UDP files to be excluded if their state name(s) are in the list (<i>s</i>)
      preceded by a `^'; or included if their name(s) are not preceded by a
    `^'.</dd>
  <dt></dt>
  <dd>Dialects that support this option may support only one protocol. When an
      unsupported protocol is specified, a message will be displayed indicating
      state names for the protocol are unavailable.</dd>
  <dt></dt>
  <dd>When an inclusion list is defined, only network files with state names in
      the list will be present in the <i>lsof</i> output. Thus, specifying one
      state name means that only network files with that lone state name will be
      listed.</dd>
  <dt></dt>
  <dd>Case is unimportant in the protocol or state names, but there may be no
      spaces and the colon (`:') separating the protocol name (<i>p</i>) and the
      state name list (<i>s</i>) is required.</dd>
  <dt></dt>
  <dd>If only TCP and UDP files are to be listed, as controlled by the specified
      exclusions and inclusions, the <b>-i</b> option must be specified, too. If
      only a single protocol's files are to be listed, add its name as an
      argument to the <b>-i</b> option.</dd>
  <dt></dt>
  <dd>For example, to list only network files with TCP state LISTEN, use:</dd>
  <dt></dt>
  <dd>
    <pre>	-iTCP -sTCP:LISTEN</pre>
  </dd>
  <dt></dt>
  <dd>Or, for example, to list network files with all UDP states except Idle,
      use:</dd>
  <dt></dt>
  <dd>
    <pre>	-iUDP -sUDP:Idle</pre>
  </dd>
  <dt></dt>
  <dd>State names vary with UNIX dialects, so it's not possible to provide a
      complete list. Some common TCP state names are: CLOSED, IDLE, BOUND,
      LISTEN, ESTABLISHED, SYN_SENT, SYN_RCDV, ESTABLISHED, CLOSE_WAIT,
      FIN_WAIT1, CLOSING, LAST_ACK, FIN_WAIT_2, and TIME_WAIT. Two common UDP
      state names are Unbound and Idle.</dd>
  <dt></dt>
  <dd>See the <i>lsof</i> FAQ (The <b>FAQ</b> section gives its location.) for
      more information on how to use protocol state exclusion and inclusion,
      including examples.</dd>
  <dt></dt>
  <dd>The <b>-o</b> (without a following decimal digit count) and <b>-s</b>
      option (without a following protocol and state name list) are mutually
      exclusive; they can't both be specified. When neither is specified,
      <i>lsof</i> displays whatever value - size or offset - is appropriate and
      available for the type of file.</dd>
  <dt></dt>
  <dd>Since some types of files don't have true sizes - sockets, FIFOs, pipes,
      etc. - lsof displays for their sizes the content amounts in their
      associated kernel buffers, if possible.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="S"><a class="permalink" href="#S"><b>-S</b><i> [t]</i></a></dt>
  <dd>specifies an optional time-out seconds value for kernel functions -
      <i>lstat</i>(2), <i>readlink</i>(2), and <i>stat</i>(2) - that might
      otherwise deadlock. The minimum for <i>t</i> is two; the default, fifteen;
      when no value is specified, the default is used.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>See the <b>BLOCKS AND TIMEOUTS</b> section for more information.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="T"><a class="permalink" href="#T"><b>-T</b><i> [t]</i></a></dt>
  <dd>controls the reporting of some TCP/TPI information, also reported by
      <i>netstat</i>(1), following the network addresses. In normal output the
      information appears in parentheses, each item except TCP or TPI state name
      identified by a keyword, followed by `=', separated from others by a
      single space:</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>	&lt;TCP or TPI state name&gt;
	QR=&lt;read queue length&gt;
	QS=&lt;send queue length&gt;
	SO=&lt;socket options and values&gt;
	SS=&lt;socket states&gt;
	TF=&lt;TCP flags and values&gt;
	WR=&lt;window read length&gt;
	WW=&lt;window write length&gt;</pre>
  </dd>
  <dt></dt>
  <dd>Not all values are reported for all UNIX dialects. Items values (when
      available) are reported after the item name and '='.</dd>
  <dt></dt>
  <dd>When the field output mode is in effect (See <b>OUTPUT FOR OTHER
      PROGRAMS</b>.) each item appears as a field with a `T' leading
    character.</dd>
  <dt></dt>
  <dd><b>-T</b> with no following key characters disables TCP/TPI information
      reporting.</dd>
  <dt></dt>
  <dd><b>-T</b> with following characters selects the reporting of specific
      TCP/TPI information:</dd>
  <dt></dt>
  <dd>
    <pre>	<b>f</b>	selects reporting of socket options,
		states and values, and TCP flags and
		values.
	<b>q</b>	selects queue length reporting.
	<b>s</b>	selects connection state reporting.
	<b>w</b>	selects window size reporting.</pre>
  </dd>
  <dt></dt>
  <dd>Not all selections are enabled for some UNIX dialects. State may be
      selected for all dialects and is reported by default. The <b>-h</b> or
      <b>-?</b> help output for the <b>-T</b> option will show what selections
      may be used with the UNIX dialect.</dd>
  <dt></dt>
  <dd>When <b>-T</b> is used to select information - i.e., it is followed by one
      or more selection characters - the displaying of state is disabled by
      default, and it must be explicitly selected again in the characters
      following <b>-T</b>. (In effect, then, the default is equivalent to
      <b>-Ts</b>.) For example, if queue lengths and state are desired, use
      <b>-Tqs</b>.</dd>
  <dt></dt>
  <dd>Socket options, socket states, some socket values, TCP flags and one TCP
      value may be reported (when available in the UNIX dialect) in the form of
      the names that commonly appear after SO_, so_, SS_, TCP_ and TF_ in the
      dialect's header files - most often &lt;sys/socket.h&gt;,
      &lt;sys/socketvar.h&gt; and &lt;netinet/tcp_var.h&gt;. Consult those
      header files for the meaning of the flags, options, states and
    values.</dd>
  <dt></dt>
  <dd>``SO='' precedes socket options and values; ``SS='', socket states; and
      ``TF='', TCP flags and values.</dd>
  <dt></dt>
  <dd>If a flag or option has a value, the value will follow an '=' and the name
      -- e.g., ``SO=LINGER=5'', ``SO=QLIM=5'', ``TF=MSS=512''. The following
      seven values may be reported:</dd>
  <dt></dt>
  <dd>
    <pre>	Name
	Reported	Description (Common Symbol)
	KEEPALIVE	keep alive time (SO_KEEPALIVE)
	LINGER	linger time (SO_LINGER)
	MSS		maximum segment size (TCP_MAXSEG)
	PQLEN		partial listen queue connections
	QLEN		established listen queue connections
	QLIM		established listen queue limit
	RCVBUF	receive buffer length (SO_RCVBUF)
	SNDBUF	send buffer length (SO_SNDBUF)</pre>
  </dd>
  <dt></dt>
  <dd>Details on what socket options and values, socket states, and TCP flags
      and values may be displayed for particular UNIX dialects may be found in
      the answer to the ``Why doesn't lsof report socket options, socket states,
      and TCP flags and values for my dialect?'' and ``Why doesn't lsof report
      the partial listen queue connection count for my dialect?'' questions in
      the <i>lsof</i> FAQ (The <b>FAQ</b> section gives its location.)</dd>
</dl>
<dl class="Bl-tag">
  <dt id="t"><a class="permalink" href="#t"><b>-t</b></a></dt>
  <dd>specifies that <i>lsof</i> should produce terse output with process
      identifiers only and no header - e.g., so that the output may be piped to
      <i>kill</i>(1). <b>-t</b> selects the <b>-w</b> option.</dd>
  <dt id="u"><a class="permalink" href="#u"><b>-u</b><i> s</i></a></dt>
  <dd>selects the listing of files for the user whose login names or user ID
      numbers are in the comma-separated set <i>s</i> - e.g., ``abe'', or
      ``548,root''. (There should be no spaces in the set.)</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Multiple login names or user ID numbers are joined in a single ORed set
      before participating in AND option selection.</dd>
  <dt></dt>
  <dd>If a login name or user ID is preceded by a `^', it becomes a negation -
      i.e., files of processes owned by the login name or user ID will never be
      listed. A negated login name or user ID selection is neither ANDed nor
      ORed with other selections; it is applied before all other selections and
      absolutely excludes the listing of the files of the process. For example,
      to direct <i>lsof</i> to exclude the listing of files belonging to root
      processes, specify ``-u^root'' or ``-u^0''.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="U"><a class="permalink" href="#U"><b>-U</b></a></dt>
  <dd>selects the listing of UNIX domain socket files.</dd>
  <dt id="v"><a class="permalink" href="#v"><b>-v</b></a></dt>
  <dd>selects the listing of <i>lsof</i> version information, including:
      revision number; when the <i>lsof</i> binary was constructed; who
      constructed the binary and where; the name of the compiler used to
      construct the <i>lsof binary;</i> the version number of the compiler when
      readily available; the compiler and loader flags used to construct the
      <i>lsof</i> binary; and system information, typically the output of
      <i>uname</i>'s <b>-a</b> option.</dd>
  <dt id="V"><a class="permalink" href="#V"><b>-V</b></a></dt>
  <dd>directs <i>lsof</i> to indicate the items it was asked to list and failed
      to find - command names, file names, Internet addresses or files, login
      names, NFS files, PIDs, PGIDs, and UIDs.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>When other options are ANDed to search options, or compile-time options
      restrict the listing of some files, <i>lsof</i> may not report that it
      failed to find a search item when an ANDed option or compile-time option
      prevents the listing of the open file containing the located search
    item.</dd>
  <dt></dt>
  <dd>For example, ``lsof -V -iTCP@foobar -a -d 999'' may not report a failure
      to locate open files at ``TCP@foobar'' and may not list any, if none have
      a file descriptor number of 999. A similar situation arises when
      HASSECURITY and HASNOSOCKSECURITY are defined at compile time and they
      prevent the listing of open files.</dd>
</dl>
<dl class="Bl-tag">
  <dt><b>+|-w</b></dt>
  <dd>Enables (<b>+</b>) or disables (<b>-</b>) the suppression of warning
      messages.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>The <i>lsof</i> builder may choose to have warning messages disabled or
      enabled by default. The default warning message state is indicated in the
      output of the <b>-h</b> or <b>-?</b> option. Disabling warning messages
      when they are already disabled or enabling them when already enabled is
      acceptable.</dd>
  <dt></dt>
  <dd>The <b>-t</b> option selects the <b>-w</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="x"><a class="permalink" href="#x"><b>-x</b><i> [fl]</i></a></dt>
  <dd>may accompany the <b>+d</b> and <b>+D</b> options to direct their
      processing to cross over symbolic links and|or file system mount points
      encountered when scanning the directory (<b>+d</b>) or directory tree
      (<b>+D</b>).</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>If <b>-x</b> is specified by itself without a following parameter,
      cross-over processing of both symbolic links and file system mount points
      is enabled. Note that when <b>-x</b> is specified without a parameter, the
      next argument must begin with '-' or '+'.</dd>
  <dt></dt>
  <dd>The optional 'f' parameter enables file system mount point cross-over
      processing; 'l', symbolic link cross-over processing.</dd>
  <dt></dt>
  <dd>The <b>-x</b> option may not be supplied without also supplying a
      <b>+d</b> or <b>+D</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="X"><a class="permalink" href="#X"><b>-X</b></a></dt>
  <dd>This is a dialect-specific option.</dd>
</dl>
<p class="Pp HP">&#x00A0;&#x00A0;&#x00A0;&#x00A0;AIX:
  <br/>
  This IBM AIX RISC/System 6000 option requests the reporting of executed text
    file and shared library references.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd><b>WARNING:</b> because this option uses the kernel readx() function, its
      use on a busy AIX system might cause an application process to hang so
      completely that it can neither be killed nor stopped. I have never seen
      this happen or had a report of its happening, but I think there is a
      remote possibility it could happen.</dd>
  <dt></dt>
  <dd>By default use of readx() is disabled. On AIX 5L and above <i>lsof</i> may
      need setuid-root permission to perform the actions this option
    requests.</dd>
  <dt></dt>
  <dd>The <i>lsof</i> builder may specify that the <b>-X</b> option be
      restricted to processes whose real UID is root. If that has been done, the
      <b>-X</b> option will not appear in the <b>-h</b> or <b>-?</b> help output
      unless the real UID of the <i>lsof</i> process is root. The default
      <i>lsof</i> distribution allows any UID to specify <b>-X,</b> so by
      default it will appear in the help output.</dd>
  <dt></dt>
  <dd>When AIX readx() use is disabled, <i>lsof</i> may not be able to report
      information for all text and loader file references, but it may also avoid
      exacerbating an AIX kernel directory search kernel error, known as the
      Stale Segment ID bug.</dd>
  <dt></dt>
  <dd>The readx() function, used by <i>lsof</i> or any other program to access
      some sections of kernel virtual memory, can trigger the Stale Segment ID
      bug. It can cause the kernel's dir_search() function to believe
      erroneously that part of an in-memory copy of a file system directory has
      been zeroed. Another application process, distinct from <i>lsof</i>,
      asking the kernel to search the directory - e.g., by using <i>open</i>(2)
      - can cause dir_search() to loop forever, thus hanging the application
      process.</dd>
  <dt></dt>
  <dd>Consult the <i>lsof</i> FAQ (The <b>FAQ</b> section gives its location.)
      and the <i>00README</i> file of the <i>lsof</i> distribution for a more
      complete description of the Stale Segment ID bug, its APAR, and methods
      for defining readx() use when compiling <i>lsof</i>.</dd>
</dl>
<p class="Pp HP">&#x00A0;&#x00A0;&#x00A0;&#x00A0;Darwin:
  <br/>
  This Darwin option requests that <i>lsof</i> reports exclusively information
    about files from the process file descriptor table and process file
  ports.</p>
<p class="Pp HP">&#x00A0;&#x00A0;&#x00A0;&#x00A0;Linux:
  <br/>
  This Linux option requests that <i>lsof</i> skip the reporting of information
    on all open TCP, UDP and UDPLITE IPv4 and IPv6 files.</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>This Linux option is most useful when the system has an extremely large
      number of open TCP, UDP and UDPLITE files, the processing of whose
      information in the <i>/proc/net/tcp*</i> and <i>/proc/net/udp*</i> files
      would take <i>lsof</i> a long time, and whose reporting is not of
      interest.</dd>
  <dt></dt>
  <dd>Use this option with care and only when you are sure that the information
      you want <i>lsof</i> to display isn't associated with open TCP, UDP or
      UDPLITE socket files.</dd>
</dl>
<p class="Pp HP">&#x00A0;&#x00A0;&#x00A0;&#x00A0;Solaris 10 and above:
  <br/>
  This Solaris 10 and above option requests the reporting of cached paths for
    files that have been deleted - i.e., removed with <i>rm</i>(1) or
    <i>unlink</i>(2).</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>The cached path is followed by the string ``&#x00A0;(deleted)'' to
      indicate that the path by which the file was opened has been deleted.</dd>
  <dt></dt>
  <dd>Because intervening changes made to the path - i.e., renames with
      <i>mv</i>(1) or <i>rename</i>(2) - are not recorded in the cached path,
      what <i>lsof</i> reports is only the path by which the file was opened,
      not its possibly different final path.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="z"><a class="permalink" href="#z"><b>-z</b><i> [z]</i></a></dt>
  <dd>specifies how Solaris 10 and higher zone information is to be
    handled.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Without a following argument - e.g., NO <i>z</i> - the option specifies
      that zone names are to be listed in the ZONE output column.</dd>
  <dt></dt>
  <dd>The <b>-z</b> option may be followed by a zone name, <b>z</b><i>.</i> That
      causes lsof to list only open files for processes in that zone. Multiple
      <b>-z</b><i> z</i> option and argument pairs may be specified to form a
      list of named zones. Any open file of any process in any of the zones will
      be listed, subject to other conditions specified by other options and
      arguments.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="Z"><a class="permalink" href="#Z"><b>-Z</b><i> [Z]</i></a></dt>
  <dd>specifies how SELinux security contexts are to be handled. It and 'Z'
      field output character support are inhibited when SELinux is disabled in
      the running Linux kernel. See <b>OUTPUT FOR OTHER PROGRAMS</b> for more
      information on the 'Z' field output character.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>Without a following argument - e.g., NO <i>Z</i> - the option specifies
      that security contexts are to be listed in the SECURITY-CONTEXT output
      column.</dd>
  <dt></dt>
  <dd>The <b>-Z</b> option may be followed by a wildcard security context name,
      <b>Z</b><i>.</i> That causes lsof to list only open files for processes in
      that security context. Multiple <b>-Z</b><i> Z</i> option and argument
      pairs may be specified to form a list of security contexts. Any open file
      of any process in any of the security contexts will be listed, subject to
      other conditions specified by other options and arguments. Note that
      <i>Z</i> can be A:B:C or *:B:C or A:B:* or *:*:C to match against the
      A:B:C context.</dd>
</dl>
<dl class="Bl-tag">
  <dt><b>--</b></dt>
  <dd>The double minus sign option is a marker that signals the end of the keyed
      options. It may be used, for example, when the first file name begins with
      a minus sign. It may also be used when the absence of a value for the last
      keyed option must be signified by the presence of a minus sign in the
      following option and before the start of the file names.</dd>
  <dt id="names"><a class="permalink" href="#names"><i>names</i></a></dt>
  <dd>These are path names of specific files to list. Symbolic links are
      resolved before use. The first name may be separated from the preceding
      options with the ``--'' option.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>If a <i>name</i> is the mounted-on directory of a file system or the
      device of the file system, <i>lsof</i> will list all the files open on the
      file system. To be considered a file system, the <i>name</i> must match a
      mounted-on directory name in <i>mount</i>(8) output, or match the name of
      a block device associated with a mounted-on directory name. The
      <b>+|-f</b> option may be used to force <i>lsof</i> to consider a
      <i>name</i> a file system identifier (<b>+f</b>) or a simple file
      (<b>-f</b>).</dd>
  <dt></dt>
  <dd>If <i>name</i> is a path to a directory that is not the mounted-on
      directory name of a file system, it is treated just as a regular file is
      treated - i.e., its listing is restricted to processes that have it open
      as a file or as a process-specific directory, such as the root or current
      working directory. To request that <i>lsof</i> look for open files inside
      a directory name, use the <b>+d</b><i> s</i> and <b>+D</b><i> D</i>
      options.</dd>
  <dt></dt>
  <dd>If a <i>name</i> is the base name of a family of multiplexed files - e.g,
      AIX's <i>/dev/pt[cs]</i> - <i>lsof</i> will list all the associated
      multiplexed files on the device that are open - e.g.,
      <i>/dev/pt[cs]/1</i>, <i>/dev/pt[cs]/2</i>, etc.</dd>
  <dt></dt>
  <dd>If a <i>name</i> is a UNIX domain socket name, <i>lsof</i> will usually
      search for it by the characters of the name alone - exactly as it is
      specified and is recorded in the kernel socket structure. (See the next
      paragraph for an exception to that rule for Linux.) Specifying a relative
      path - e.g., <i>./file</i> - in place of the file's absolute path - e.g.,
      <i>/tmp/file</i> - won't work because <i>lsof</i> must match the
      characters you specify with what it finds in the kernel UNIX domain socket
      structures.</dd>
  <dt></dt>
  <dd>If a <i>name</i> is a Linux UNIX domain socket name, in one case
      <i>lsof</i> is able to search for it by its device and inode number,
      allowing <i>name</i> to be a relative path. The case requires that the
      absolute path -- i.e., one beginning with a slash ('/') be used by the
      process that created the socket, and hence be stored in the
      <i>/proc/net/unix</i> file; and it requires that <i>lsof</i> be able to
      obtain the device and node numbers of both the absolute path in
      <i>/proc/net/unix</i> and <i>name</i> via successful <i>stat</i>(2) system
      calls. When those conditions are met, <i>lsof</i> will be able to search
      for the UNIX domain socket when some path to it is is specified in
      <i>name</i>. Thus, for example, if the path is <i>/dev/log</i>, and an
      <i>lsof</i> search is initiated when the working directory is <i>/dev</i>,
      then <i>name</i> could be <i>./log</i>.</dd>
  <dt></dt>
  <dd>If a <i>name</i> is none of the above, <i>lsof</i> will list any open
      files whose device and inode match that of the specified path
    <i>name</i>.</dd>
  <dt></dt>
  <dd>If you have also specified the <b>-b</b> option, the only <i>names</i> you
      may safely specify are file systems for which your mount table supplies
      alternate device numbers. See the <b>AVOIDING KERNEL BLOCKS</b> and
      <b>ALTERNATE DEVICE NUMBERS</b> sections for more information.</dd>
  <dt></dt>
  <dd>Multiple file names are joined in a single ORed set before participating
      in AND option selection.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="AFS"><a class="permalink" href="#AFS">AFS</a></h1>
<p class="Pp"><i>Lsof</i> supports the recognition of AFS files for these
    dialects (and AFS versions):</p>
<p class="Pp"></p>
<pre>	AIX 4.1.4 (AFS 3.4a)
	HP-UX 9.0.5 (AFS 3.4a)
	Linux 1.2.13 (AFS 3.3)
	Solaris 2.[56] (AFS 3.4a)</pre>
<p class="Pp">It may recognize AFS files on other versions of these dialects,
    but has not been tested there. Depending on how AFS is implemented,
    <i>lsof</i> may recognize AFS files in other dialects, or may have
    difficulties recognizing AFS files in the supported dialects.</p>
<p class="Pp"><i>Lsof</i> may have trouble identifying all aspects of AFS files
    in supported dialects when AFS kernel support is implemented via dynamic
    modules whose addresses do not appear in the kernel's variable name list. In
    that case, <i>lsof</i> may have to guess at the identity of AFS files, and
    might not be able to obtain volume information from the kernel that is
    needed for calculating AFS volume node numbers. When <i>lsof</i> can't
    compute volume node numbers, it reports blank in the NODE column.</p>
<p class="Pp">The <b>-A</b><i> A</i> option is available in some dialect
    implementations of <i>lsof</i> for specifying the name list file where
    dynamic module kernel addresses may be found. When this option is available,
    it will be listed in the <i>lsof</i> help output, presented in response to
    the <b>-h</b> or <b>-?</b></p>
<p class="Pp">See the <i>lsof</i> FAQ (The <b>FAQ</b> section gives its
    location.) for more information about dynamic modules, their symbols, and
    how they affect <i>lsof</i> options.</p>
<p class="Pp">Because AFS path lookups don't seem to participate in the kernel's
    name cache operations, <i>lsof</i> can't identify path name components for
    AFS files.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SECURITY"><a class="permalink" href="#SECURITY">SECURITY</a></h1>
<p class="Pp"><i>Lsof</i> has three features that may cause security concerns.
    First, its default compilation mode allows anyone to list all open files
    with it. Second, by default it creates a user-readable and user-writable
    device cache file in the home directory of the real user ID that executes
    <i>lsof</i>. (The list-all-open-files and device cache features may be
    disabled when <i>lsof</i> is compiled.) Third, its <b>-k</b> and <b>-m</b>
    options name alternate kernel name list or memory files.</p>
<p class="Pp">Restricting the listing of all open files is controlled by the
    compile-time HASSECURITY and HASNOSOCKSECURITY options. When HASSECURITY is
    defined, <i>lsof</i> will allow only the root user to list all open files.
    The non-root user may list only open files of processes with the same user
    IDentification number as the real user ID number of the <i>lsof</i> process
    (the one that its user logged on with).</p>
<p class="Pp">However, if HASSECURITY and HASNOSOCKSECURITY are both defined,
    anyone may list open socket files, provided they are selected with the
    <b>-i</b> option.</p>
<p class="Pp">When HASSECURITY is not defined, anyone may list all open
  files.</p>
<p class="Pp">Help output, presented in response to the <b>-h</b> or <b>-?</b>
    option, gives the status of the HASSECURITY and HASNOSOCKSECURITY
    definitions.</p>
<p class="Pp">See the <b>Security</b> section of the <i>00README</i> file of the
    <i>lsof</i> distribution for information on building <i>lsof</i> with the
    HASSECURITY and HASNOSOCKSECURITY options enabled.</p>
<p class="Pp">Creation and use of a user-readable and user-writable device cache
    file is controlled by the compile-time HASDCACHE option. See the <b>DEVICE
    CACHE FILE</b> section and the sections that follow it for details on how
    its path is formed. For security considerations it is important to note that
    in the default <i>lsof</i> distribution, if the real user ID under which
    <i>lsof</i> is executed is root, the device cache file will be written in
    root's home directory - e.g., <i>/</i> or <i>/root</i>. When HASDCACHE is
    not defined, <i>lsof</i> does not write or attempt to read a device cache
    file.</p>
<p class="Pp">When HASDCACHE is defined, the <i>lsof</i> help output, presented
    in response to the <b>-h</b>, <b>-D?</b>, or <b>-?</b> options, will provide
    device cache file handling information. When HASDCACHE is not defined, the
    <b>-h</b> or <b>-?</b> output will have no <b>-D</b> option description.</p>
<p class="Pp">Before you decide to disable the device cache file feature -
    enabling it improves the performance of <i>lsof</i> by reducing the startup
    overhead of examining all the nodes in <i>/dev</i> (or <i>/devices</i>) -
    read the discussion of it in the <i>00DCACHE</i> file of the <i>lsof</i>
    distribution and the <i>lsof</i> FAQ (The <b>FAQ</b> section gives its
    location.)</p>
<p class="Pp">WHEN IN DOUBT, YOU CAN TEMPORARILY DISABLE THE USE OF THE DEVICE
    CACHE FILE WITH THE <b>-Di</b> OPTION.</p>
<p class="Pp">When <i>lsof</i> user declares alternate kernel name list or
    memory files with the <b>-k</b> and <b>-m</b> options, <i>lsof</i> checks
    the user's authority to read them with <i>access</i>(2). This is intended to
    prevent whatever special power <i>lsof's</i> modes might confer on it from
    letting it read files not normally accessible via the authority of the real
    user ID.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OUTPUT"><a class="permalink" href="#OUTPUT">OUTPUT</a></h1>
<p class="Pp">This section describes the information <i>lsof</i> lists for each
    open file. See the <b>OUTPUT FOR OTHER PROGRAMS</b> section for additional
    information on output that can be processed by another program.</p>
<p class="Pp"><i>Lsof</i> only outputs printable (declared so by
    <i>isprint</i>(3)) 8 bit characters. Non-printable characters are printed in
    one of three forms: the C ``\[bfrnt]'' form; the control character `^' form
    (e.g., ``^@''); or hexadecimal leading ``\x'' form (e.g., ``\xab''). Space
    is non-printable in the COMMAND column (``\x20'') and printable
  elsewhere.</p>
<p class="Pp">For some dialects - if HASSETLOCALE is defined in the dialect's
    machine.h header file - <i>lsof</i> will print the extended 8 bit characters
    of a language locale. The <i>lsof</i> process must be supplied a language
    locale environment variable (e.g., LANG) whose value represents a known
    language locale in which the extended characters are considered printable by
    <i>isprint</i>(3). Otherwise <i>lsof</i> considers the extended characters
    non-printable and prints them according to its rules for non-printable
    characters, stated above. Consult your dialect's <i>setlocale</i>(3) man
    page for the names of other environment variables that may be used in place
    of LANG - e.g., LC_ALL, LC_CTYPE, etc.</p>
<p class="Pp"><i>Lsof's</i> language locale support for a dialect also covers
    wide characters - e.g., UTF-8 - when HASSETLOCALE and HASWIDECHAR are
    defined in the dialect's machine.h header file, and when a suitable language
    locale has been defined in the appropriate environment variable for the
    <i>lsof</i> process. Wide characters are printable under those conditions if
    <i>iswprint</i>(3) reports them to be. If HASSETLOCALE, HASWIDECHAR and a
    suitable language locale aren't defined, or if <i>iswprint</i>(3) reports
    wide characters that aren't printable, <i>lsof</i> considers the wide
    characters non-printable and prints each of their 8 bits according to its
    rules for non-printable characters, stated above.</p>
<p class="Pp">Consult the answers to the &quot;Language locale support&quot;
    questions in the lsof FAQ (The <b>FAQ</b> section gives its location.) for
    more information.</p>
<p class="Pp"><i>Lsof</i> dynamically sizes the output columns each time it
    runs, guaranteeing that each column is a minimum size. It also guarantees
    that each column is separated from its predecessor by at least one
  space.</p>
<dl class="Bl-tag">
  <dt id="COMMAND"><a class="permalink" href="#COMMAND">COMMAND</a></dt>
  <dd>contains the first nine characters of the name of the UNIX command
      associated with the process. If a non-zero <i>w</i> value is specified to
      the <b>+c</b><i> w</i> option, the column contains the first <i>w</i>
      characters of the name of the UNIX command associated with the process up
      to the limit of characters supplied to <i>lsof</i> by the UNIX dialect.
      (See the description of the <b>+c</b><i> w</i> command or the <i>lsof</i>
      FAQ for more information. The <b>FAQ</b> section gives its location.)</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>If <i>w</i> is less than the length of the column title, ``COMMAND'', it
      will be raised to that length.</dd>
  <dt></dt>
  <dd>If a zero <i>w</i> value is specified to the <b>+c</b><i> w</i> option,
      the column contains all the characters of the name of the UNIX command
      associated with the process.</dd>
  <dt></dt>
  <dd>All command name characters maintained by the kernel in its structures are
      displayed in field output when the command name descriptor (`c') is
      specified. See the <b>OUTPUT FOR OTHER COMMANDS</b> section for
      information on selecting field output and the associated command name
      descriptor.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="PID"><a class="permalink" href="#PID">PID</a></dt>
  <dd>is the Process IDentification number of the process.</dd>
  <dt id="TID"><a class="permalink" href="#TID">TID</a></dt>
  <dd>is the task (thread) IDentification number, if task (thread) reporting is
      supported by the dialect and a task (thread) is being listed. (If help
      output - i.e., the output of the <b>-h</b> or <b>-?</b> options - shows
      this option, then task (thread) reporting is supported by the
    dialect.)</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>A blank TID column in Linux indicates a process - i.e., a non-task.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="TASKCMD"><a class="permalink" href="#TASKCMD">TASKCMD</a></dt>
  <dd>is the task command name. Generally this will be the same as the process
      named in the COMMAND column, but some task implementations (e.g., Linux)
      permit a task to change its command name.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>The TASKCMD column width is subject to the same size limitation as the
      COMMAND column.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="ZONE"><a class="permalink" href="#ZONE">ZONE</a></dt>
  <dd>is the Solaris 10 and higher zone name. This column must be selected with
      the <b>-z</b> option.</dd>
  <dt>SECURITY-CONTEXT</dt>
  <dd>is the SELinux security context. This column must be selected with the
      <b>-Z</b> option. Note that the <b>-Z</b> option is inhibited when SELinux
      is disabled in the running Linux kernel.</dd>
  <dt id="PPID"><a class="permalink" href="#PPID">PPID</a></dt>
  <dd>is the Parent Process IDentification number of the process. It is only
      displayed when the <b>-R</b> option has been specified.</dd>
  <dt id="PGID"><a class="permalink" href="#PGID">PGID</a></dt>
  <dd>is the process group IDentification number associated with the process. It
      is only displayed when the <b>-g</b> option has been specified.</dd>
  <dt id="USER"><a class="permalink" href="#USER">USER</a></dt>
  <dd>is the user ID number or login name of the user to whom the process
      belongs, usually the same as reported by <i>ps</i>(1). However, on Linux
      USER is the user ID number or login that owns the directory in /proc where
      <i>lsof</i> finds information about the process. Usually that is the same
      value reported by <i>ps</i>(1), but may differ when the process has
      changed its effective user ID. (See the <b>-l</b> option description for
      information on when a user ID number or login name is displayed.)</dd>
  <dt id="FD"><a class="permalink" href="#FD">FD</a></dt>
  <dd>is the File Descriptor number of the file or:</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>	<b>cwd</b>	current working directory;
	<b>L</b><i>nn</i>	library references (AIX);
	<b>err</b>	FD information error (see NAME column);
	<b>jld</b>	jail directory (FreeBSD);
	<b>ltx</b>	shared library text (code and data);
	<b>Mxx</b>	hex memory-mapped type number xx.
	<b>m86</b>	DOS Merge mapped file;
	<b>mem</b>	memory-mapped file;
	<b>mmap</b>	memory-mapped device;
	<b>pd</b>	parent directory;
	<b>rtd</b>	root directory;
	<b>tr</b>	kernel trace file (OpenBSD);
	<b>txt</b>	program text (code and data);
	<b>v86</b>	VP/ix mapped file;</pre>
  </dd>
  <dt></dt>
  <dd>FD is followed by one of these characters, describing the mode under which
      the file is open:</dd>
  <dt></dt>
  <dd>	<b>r</b> for read access;
    <br/>
    	<b>w</b> for write access;
    <br/>
    	<b>u</b> for read and write access;
    <br/>
    	space if mode unknown and no lock
    <br/>
    		character follows;
    <br/>
    	`-' if mode unknown and lock
    <br/>
    		character follows.</dd>
  <dt></dt>
  <dd>The mode character is followed by one of these lock characters, describing
      the type of lock applied to the file:</dd>
  <dt></dt>
  <dd>	<b>N</b> for a Solaris NFS lock of unknown type;
    <br/>
    	<b>r</b> for read lock on part of the file;
    <br/>
    	<b>R</b> for a read lock on the entire file;
    <br/>
    	<b>w</b> for a write lock on part of the file;
    <br/>
    	<b>W</b> for a write lock on the entire file;
    <br/>
    	<b>u</b> for a read and write lock of any length;
    <br/>
    	<b>U</b> for a lock of unknown type;
    <br/>
    	<b>x</b> for an SCO OpenServer Xenix lock on part 	of the file;
    <br/>
    	<b>X</b> for an SCO OpenServer Xenix lock on the entire file;
    <br/>
    	space if there is no lock.</dd>
  <dt></dt>
  <dd>See the <b>LOCKS</b> section for more information on the lock information
      character.</dd>
  <dt></dt>
  <dd>The FD column contents constitutes a single field for parsing in
      post-processing scripts.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="TYPE"><a class="permalink" href="#TYPE">TYPE</a></dt>
  <dd>is the type of the node associated with the file - e.g., GDIR, GREG, VDIR,
      VREG, etc.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>or ``IPv4'' for an IPv4 socket;</dd>
  <dt></dt>
  <dd>or ``IPv6'' for an open IPv6 network file - even if its address is IPv4,
      mapped in an IPv6 address;</dd>
  <dt></dt>
  <dd>or ``ax25'' for a Linux AX.25 socket;</dd>
  <dt></dt>
  <dd>or ``inet'' for an Internet domain socket;</dd>
  <dt></dt>
  <dd>or ``lla'' for a HP-UX link level access file;</dd>
  <dt></dt>
  <dd>or ``rte'' for an AF_ROUTE socket;</dd>
  <dt></dt>
  <dd>or ``sock'' for a socket of unknown domain;</dd>
  <dt></dt>
  <dd>or ``unix'' for a UNIX domain socket;</dd>
  <dt></dt>
  <dd>or ``x.25'' for an HP-UX x.25 socket;</dd>
  <dt></dt>
  <dd>or ``BLK'' for a block special file;</dd>
  <dt></dt>
  <dd>or ``CHR'' for a character special file;</dd>
  <dt></dt>
  <dd>or ``DEL'' for a Linux map file that has been deleted;</dd>
  <dt></dt>
  <dd>or ``DIR'' for a directory;</dd>
  <dt></dt>
  <dd>or ``DOOR'' for a VDOOR file;</dd>
  <dt></dt>
  <dd>or ``FIFO'' for a FIFO special file;</dd>
  <dt></dt>
  <dd>or ``KQUEUE'' for a BSD style kernel event queue file;</dd>
  <dt></dt>
  <dd>or ``LINK'' for a symbolic link file;</dd>
  <dt></dt>
  <dd>or ``MPB'' for a multiplexed block file;</dd>
  <dt></dt>
  <dd>or ``MPC'' for a multiplexed character file;</dd>
  <dt></dt>
  <dd>or ``NOFD'' for a Linux /proc/&lt;PID&gt;/fd directory that can't be
      opened -- the directory path appears in the NAME column, followed by an
      error message;</dd>
  <dt></dt>
  <dd>or ``PAS'' for a <i>/proc/as</i> file;</dd>
  <dt></dt>
  <dd>or ``PAXV'' for a <i>/proc/auxv</i> file;</dd>
  <dt></dt>
  <dd>or ``PCRE'' for a <i>/proc/cred</i> file;</dd>
  <dt></dt>
  <dd>or ``PCTL'' for a <i>/proc</i> control file;</dd>
  <dt></dt>
  <dd>or ``PCUR'' for the current <i>/proc</i> process;</dd>
  <dt></dt>
  <dd>or ``PCWD'' for a <i>/proc</i> current working directory;</dd>
  <dt></dt>
  <dd>or ``PDIR'' for a <i>/proc</i> directory;</dd>
  <dt></dt>
  <dd>or ``PETY'' for a <i>/proc</i> executable type (<i>etype</i>);</dd>
  <dt></dt>
  <dd>or ``PFD'' for a <i>/proc</i> file descriptor;</dd>
  <dt></dt>
  <dd>or ``PFDR'' for a <i>/proc</i> file descriptor directory;</dd>
  <dt></dt>
  <dd>or ``PFIL'' for an executable <i>/proc</i> file;</dd>
  <dt></dt>
  <dd>or ``PFPR'' for a <i>/proc</i> FP register set;</dd>
  <dt></dt>
  <dd>or ``PGD'' for a <i>/proc/pagedata</i> file;</dd>
  <dt></dt>
  <dd>or ``PGID'' for a <i>/proc</i> group notifier file;</dd>
  <dt></dt>
  <dd>or ``PIPE'' for pipes;</dd>
  <dt></dt>
  <dd>or ``PLC'' for a <i>/proc/lwpctl</i> file;</dd>
  <dt></dt>
  <dd>or ``PLDR'' for a <i>/proc/lpw</i> directory;</dd>
  <dt></dt>
  <dd>or ``PLDT'' for a <i>/proc/ldt</i> file;</dd>
  <dt></dt>
  <dd>or ``PLPI'' for a <i>/proc/lpsinfo</i> file;</dd>
  <dt></dt>
  <dd>or ``PLST'' for a <i>/proc/lstatus</i> file;</dd>
  <dt></dt>
  <dd>or ``PLU'' for a <i>/proc/lusage</i> file;</dd>
  <dt></dt>
  <dd>or ``PLWG'' for a <i>/proc/gwindows</i> file;</dd>
  <dt></dt>
  <dd>or ``PLWI'' for a <i>/proc/lwpsinfo</i> file;</dd>
  <dt></dt>
  <dd>or ``PLWS'' for a <i>/proc/lwpstatus</i> file;</dd>
  <dt></dt>
  <dd>or ``PLWU'' for a <i>/proc/lwpusage</i> file;</dd>
  <dt></dt>
  <dd>or ``PLWX'' for a <i>/proc/xregs</i> file;</dd>
  <dt></dt>
  <dd>or ``PMAP'' for a <i>/proc</i> map file (<i>map</i>);</dd>
  <dt></dt>
  <dd>or ``PMEM'' for a <i>/proc</i> memory image file;</dd>
  <dt></dt>
  <dd>or ``PNTF'' for a <i>/proc</i> process notifier file;</dd>
  <dt></dt>
  <dd>or ``POBJ'' for a <i>/proc/object</i> file;</dd>
  <dt></dt>
  <dd>or ``PODR'' for a <i>/proc/object</i> directory;</dd>
  <dt></dt>
  <dd>or ``POLP'' for an old format <i>/proc</i> light weight process file;</dd>
  <dt></dt>
  <dd>or ``POPF'' for an old format <i>/proc</i> PID file;</dd>
  <dt></dt>
  <dd>or ``POPG'' for an old format <i>/proc</i> page data file;</dd>
  <dt></dt>
  <dd>or ``PORT'' for a SYSV named pipe;</dd>
  <dt></dt>
  <dd>or ``PREG'' for a <i>/proc</i> register file;</dd>
  <dt></dt>
  <dd>or ``PRMP'' for a <i>/proc/rmap</i> file;</dd>
  <dt></dt>
  <dd>or ``PRTD'' for a <i>/proc</i> root directory;</dd>
  <dt></dt>
  <dd>or ``PSGA'' for a <i>/proc/sigact</i> file;</dd>
  <dt></dt>
  <dd>or ``PSIN'' for a <i>/proc/psinfo</i> file;</dd>
  <dt></dt>
  <dd>or ``PSTA'' for a <i>/proc</i> status file;</dd>
  <dt></dt>
  <dd>or ``PSXSEM'' for a POSIX semaphore file;</dd>
  <dt></dt>
  <dd>or ``PSXSHM'' for a POSIX shared memory file;</dd>
  <dt></dt>
  <dd>or ``PTS'' for a <i>/dev/pts</i> file;</dd>
  <dt></dt>
  <dd>or ``PUSG'' for a <i>/proc/usage</i> file;</dd>
  <dt></dt>
  <dd>or ``PW'' for a <i>/proc/watch</i> file;</dd>
  <dt></dt>
  <dd>or ``PXMP'' for a <i>/proc/xmap</i> file;</dd>
  <dt></dt>
  <dd>or ``REG'' for a regular file;</dd>
  <dt></dt>
  <dd>or ``SMT'' for a shared memory transport file;</dd>
  <dt></dt>
  <dd>or ``STSO'' for a stream socket;</dd>
  <dt></dt>
  <dd>or ``UNNM'' for an unnamed type file;</dd>
  <dt></dt>
  <dd>or ``XNAM'' for an OpenServer Xenix special file of unknown type;</dd>
  <dt></dt>
  <dd>or ``XSEM'' for an OpenServer Xenix semaphore file;</dd>
  <dt></dt>
  <dd>or ``XSD'' for an OpenServer Xenix shared data file;</dd>
  <dt></dt>
  <dd>or the four type number octets if the corresponding name isn't known.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="FILE"><a class="permalink" href="#FILE">FILE-ADDR</a></dt>
  <dd>contains the kernel file structure address when <b>f</b> has been
      specified to <b>+f</b>;</dd>
  <dt id="FCT"><a class="permalink" href="#FCT">FCT</a></dt>
  <dd>contains the file reference count from the kernel file structure when
      <b>c</b> has been specified to <b>+f</b>;</dd>
  <dt id="FILE~2"><a class="permalink" href="#FILE~2">FILE-FLAG</a></dt>
  <dd>when <b>g</b> or <b>G</b> has been specified to <b>+f</b>, this field
      contains the contents of the f_flag[s] member of the kernel file structure
      and the kernel's per-process open file flags (if available); `G' causes
      them to be displayed in hexadecimal; `g', as short-hand names; two lists
      may be displayed with entries separated by commas, the lists separated by
      a semicolon (`;'); the first list may contain short-hand names for
      f_flag[s] values from the following table:</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>
    <pre>	AIO		asynchronous I/O (e.g., FAIO)
	AP		append
	ASYN		asynchronous I/O (e.g., FASYNC)
	BAS		block, test, and set in use
	BKIU		block if in use
	BL		use block offsets
	BSK		block seek
	CA		copy avoid
	CIO		concurrent I/O
	CLON		clone
	CLRD		CL read
	CR		create
	DF		defer
	DFI		defer IND
	DFLU		data flush
	DIR		direct
	DLY		delay
	DOCL		do clone
	DSYN		data-only integrity
	DTY		must be a directory
	EVO		event only
	EX		open for exec
	EXCL		exclusive open
	FSYN		synchronous writes
	GCDF		defer during unp_gc() (AIX)
	GCMK		mark during unp_gc() (AIX)
	GTTY		accessed via /dev/tty
	HUP		HUP in progress
	KERN		kernel
	KIOC		kernel-issued ioctl
	LCK		has lock
	LG		large file
	MBLK		stream message block
	MK		mark
	MNT		mount
	MSYN		multiplex synchronization
	NATM		don't update atime
	NB		non-blocking I/O
	NBDR		no BDRM check
	NBIO		SYSV non-blocking I/O
	NBF		n-buffering in effect
	NC		no cache
	ND		no delay
	NDSY		no data synchronization
	NET		network
	NFLK		don't follow links
	NMFS		NM file system
	NOTO		disable background stop
	NSH		no share
	NTTY		no controlling TTY
	OLRM		OLR mirror
	PAIO		POSIX asynchronous I/O
	PP		POSIX pipe
	R		read
	RC		file and record locking cache
	REV		revoked
	RSH		shared read
	RSYN		read synchronization
	RW		read and write access
	SL		shared lock
	SNAP		cooked snapshot
	SOCK		socket
	SQSH		Sequent shared set on open
	SQSV		Sequent SVM set on open
	SQR		Sequent set repair on open
	SQS1		Sequent full shared open
	SQS2		Sequent partial shared open
	STPI		stop I/O
	SWR		synchronous read
	SYN		file integrity while writing
	TCPM		avoid TCP collision
	TR		truncate
	W		write
	WKUP		parallel I/O synchronization
	WTG		parallel I/O synchronization
	VH		vhangup pending
	VTXT		virtual text
	XL		exclusive lock</pre>
  </dd>
  <dt></dt>
  <dd>this list of names was derived from F* #define's in dialect header files
      &lt;fcntl.h&gt;, &lt;linux&lt;/fs.h&gt;, &lt;sys/fcntl.c&gt;,
      &lt;sys/fcntlcom.h&gt;, and &lt;sys/file.h&gt;; see the lsof.h header file
      for a list showing the correspondence between the above short-hand names
      and the header file definitions;</dd>
  <dt></dt>
  <dd>the second list (after the semicolon) may contain short-hand names for
      kernel per-process open file flags from this table:</dd>
  <dt></dt>
  <dd>
    <pre>	ALLC		allocated
	BR		the file has been read
	BHUP		activity stopped by SIGHUP
	BW		the file has been written
	CLSG		closing
	CX		close-on-exec (see fcntl(F_SETFD))
	LCK		lock was applied
	MP		memory-mapped
	OPIP		open pending - in progress
	RSVW		reserved wait
	SHMT		UF_FSHMAT set (AIX)
	USE		in use (multi-threaded)</pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt>NODE-ID</dt>
  <dd>(or INODE-ADDR for some dialects) contains a unique identifier for the
      file node (usually the kernel vnode or inode address, but also
      occasionally a concatenation of device and node number) when <b>n</b> has
      been specified to <b>+f</b>;</dd>
  <dt id="DEVICE"><a class="permalink" href="#DEVICE">DEVICE</a></dt>
  <dd>contains the device numbers, separated by commas, for a character special,
      block special, regular, directory or NFS file;</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>or ``memory'' for a memory file system node under Tru64 UNIX;</dd>
  <dt></dt>
  <dd>or the address of the private data area of a Solaris socket stream;</dd>
  <dt></dt>
  <dd>or a kernel reference address that identifies the file (The kernel
      reference address may be used for FIFO's, for example.);</dd>
  <dt></dt>
  <dd>or the base address or device name of a Linux AX.25 socket device.</dd>
  <dt></dt>
  <dd>Usually only the lower thirty two bits of Tru64 UNIX kernel addresses are
      displayed.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="SIZE,"><a class="permalink" href="#SIZE,">SIZE, SIZE/OFF, or
    OFFSET</a></dt>
  <dd>is the size of the file or the file offset in bytes. A value is displayed
      in this column only if it is available. <i>Lsof</i> displays whatever
      value - size or offset - is appropriate for the type of the file and the
      version of <i>lsof</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>On some UNIX dialects <i>lsof</i> can't obtain accurate or consistent file
      offset information from its kernel data sources, sometimes just for
      particular kinds of files (e.g., socket files.) In other cases, files
      don't have true sizes - e.g., sockets, FIFOs, pipes - so <i>lsof</i>
      displays for their sizes the content amounts it finds in their kernel
      buffer descriptors (e.g., socket buffer size counts or TCP/IP window
      sizes.) Consult the <i>lsof</i> FAQ (The <b>FAQ</b> section gives its
      location.) for more information.</dd>
  <dt></dt>
  <dd>The file size is displayed in decimal; the offset is normally displayed in
      decimal with a leading ``0t'' if it contains 8 digits or less; in
      hexadecimal with a leading ``0x'' if it is longer than 8 digits. (Consult
      the <b>-o</b><i> o</i> option description for information on when 8 might
      default to some other value.)</dd>
  <dt></dt>
  <dd>Thus the leading ``0t'' and ``0x'' identify an offset when the column may
      contain both a size and an offset (i.e., its title is SIZE/OFF).</dd>
  <dt></dt>
  <dd>If the <b>-o</b> option is specified, <i>lsof</i> always displays the file
      offset (or nothing if no offset is available) and labels the column
      OFFSET. The offset always begins with ``0t'' or ``0x'' as described
    above.</dd>
  <dt></dt>
  <dd>The <i>lsof</i> user can control the switch from ``0t'' to ``0x'' with the
      <b>-o</b><i> o</i> option. Consult its description for more
    information.</dd>
  <dt></dt>
  <dd>If the <b>-s</b> option is specified, <i>lsof</i> always displays the file
      size (or nothing if no size is available) and labels the column SIZE. The
      <b>-o</b> and <b>-s</b> options are mutually exclusive; they can't both be
      specified.</dd>
  <dt></dt>
  <dd>For files that don't have a fixed size - e.g., don't reside on a disk
      device - <i>lsof</i> will display appropriate information about the
      current size or position of the file if it is available in the kernel
      structures that define the file.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="NLINK"><a class="permalink" href="#NLINK">NLINK</a></dt>
  <dd>contains the file link count when <b>+L</b> has been specified;</dd>
  <dt id="NODE"><a class="permalink" href="#NODE">NODE</a></dt>
  <dd>is the node number of a local file;</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>or the inode number of an NFS file in the server host;</dd>
  <dt></dt>
  <dd>or the Internet protocol type - e.g, ``TCP'';</dd>
  <dt></dt>
  <dd>or ``STR'' for a stream;</dd>
  <dt></dt>
  <dd>or ``CCITT'' for an HP-UX x.25 socket;</dd>
  <dt></dt>
  <dd>or the IRQ or inode number of a Linux AX.25 socket device.</dd>
</dl>
<dl class="Bl-tag">
  <dt id="NAME~2"><a class="permalink" href="#NAME~2">NAME</a></dt>
  <dd>is the name of the mount point and file system on which the file
    resides;</dd>
</dl>
<dl class="Bl-tag">
  <dt></dt>
  <dd>or the name of a file specified in the <i>names</i> option (after any
      symbolic links have been resolved);</dd>
  <dt></dt>
  <dd>or the name of a character special or block special device;</dd>
  <dt></dt>
  <dd>or the local and remote Internet addresses of a network file; the local
      host name or IP number is followed by a colon (':'), the port, ``-&gt;'',
      and the two-part remote address; IP addresses may be reported as numbers
      or names, depending on the <b>+|-M</b>, <b>-n</b>, and <b>-P</b> options;
      colon-separated IPv6 numbers are enclosed in square brackets; IPv4
      INADDR_ANY and IPv6 IN6_IS_ADDR_UNSPECIFIED addresses, and zero port
      numbers are represented by an asterisk ('*'); a UDP destination address
      may be followed by the amount of time elapsed since the last packet was
      sent to the destination; TCP, UDP and UDPLITE remote addresses may be
      followed by TCP/TPI information in parentheses - state (e.g.,
      ``(ESTABLISHED)'', ``(Unbound)''), queue sizes, and window sizes (not all
      dialects) - in a fashion similar to what <i>netstat</i>(1) reports; see
      the <b>-T</b> option description or the description of the TCP/TPI field
      in <b>OUTPUT FOR OTHER PROGRAMS</b> for more information on state, queue
      size, and window size;</dd>
  <dt></dt>
  <dd>or the address or name of a UNIX domain socket, possibly including a
      stream clone device name, a file system object's path name, local and
      foreign kernel addresses, socket pair information, and a bound vnode
      address;</dd>
  <dt></dt>
  <dd>or the local and remote mount point names of an NFS file;</dd>
  <dt></dt>
  <dd>or ``STR'', followed by the stream name;</dd>
  <dt></dt>
  <dd>or a stream character device name, followed by ``-&gt;'' and the stream
      name or a list of stream module names, separated by ``-&gt;'';</dd>
  <dt></dt>
  <dd>or ``STR:'' followed by the SCO OpenServer stream device and module names,
      separated by ``-&gt;'';</dd>
  <dt></dt>
  <dd>or system directory name, `` -- '', and as many components of the path
      name as <i>lsof</i> can find in the kernel's name cache for selected
      dialects (See the <b>KERNEL NAME CACHE</b> section for more
    information.);</dd>
  <dt></dt>
  <dd>or ``PIPE-&gt;'', followed by a Solaris kernel pipe destination
    address;</dd>
  <dt></dt>
  <dd>or ``COMMON:'', followed by the vnode device information structure's
      device name, for a Solaris common vnode;</dd>
  <dt></dt>
  <dd>or the address family, followed by a slash (`/'), followed by fourteen
      comma-separated bytes of a non-Internet raw socket address;</dd>
  <dt></dt>
  <dd>or the HP-UX x.25 local address, followed by the virtual connection number
      (if any), followed by the remote address (if any);</dd>
  <dt></dt>
  <dd>or ``(dead)'' for disassociated Tru64 UNIX files - typically terminal
      files that have been flagged with the TIOCNOTTY ioctl and closed by
      daemons;</dd>
  <dt></dt>
  <dd>or ``rd=&lt;offset&gt;'' and ``wr=&lt;offset&gt;'' for the values of the
      read and write offsets of a FIFO;</dd>
  <dt></dt>
  <dd>or ``clone <i>n</i>:/dev/event'' for SCO OpenServer file clones of the
      <i>/dev/event</i> device, where <i>n</i> is the minor device number of the
      file;</dd>
  <dt></dt>
  <dd>or ``(socketpair: n)'' for a Solaris 2.6, 8, 9 or 10 UNIX domain socket,
      created by the <i>socketpair</i>(3N) network function;</dd>
  <dt></dt>
  <dd>or ``no PCB'' for socket files that do not have a protocol block
      associated with them, optionally followed by ``, CANTSENDMORE'' if sending
      on the socket has been disabled, or ``, CANTRCVMORE'' if receiving on the
      socket has been disabled (e.g., by the <i>shutdown</i>(2) function);</dd>
  <dt></dt>
  <dd>or the local and remote addresses of a Linux IPX socket file in the form
      &lt;net&gt;:[&lt;node&gt;:]&lt;port&gt;, followed in parentheses by the
      transmit and receive queue sizes, and the connection state;</dd>
  <dt></dt>
  <dd>or ``dgram'' or ``stream'' for the type UnixWare 7.1.1 and above in-kernel
      UNIX domain sockets, followed by a colon (':') and the local path name
      when available, followed by ``-&gt;'' and the remote path name or kernel
      socket address in hexadecimal when available;</dd>
  <dt></dt>
  <dd>or the association value, association index, endpoint value, local
      address, local port, remote address and remote port for Linux SCTP
      sockets;</dd>
  <dt></dt>
  <dd>or ``protocol: '' followed by the Linux socket's protocol attribute.</dd>
</dl>
<p class="Pp">For dialects that support a ``namefs'' file system, allowing one
    file to be attached to another with <i>fattach</i>(3C), <i>lsof</i> will add
    ``(FA:&lt;address1&gt;&lt;direction&gt;&lt;address2&gt;)'' to the NAME
    column. &lt;address1&gt; and &lt;address2&gt; are hexadecimal vnode
    addresses. &lt;direction&gt; will be ``&lt;-'' if &lt;address2&gt; has been
    fattach'ed to this vnode whose address is &lt;address1&gt;; and ``-&gt;'' if
    &lt;address1&gt;, the vnode address of this vnode, has been fattach'ed to
    &lt;address2&gt;. &lt;address1&gt; may be omitted if it already appears in
    the DEVICE column.</p>
<p class="Pp"><i>Lsof</i> may add two parenthetical notes to the NAME column for
    open Solaris 10 files: ``(?)'' if <i>lsof</i> considers the path name of
    questionable accuracy; and ``(deleted)'' if the <b>-X</b> option has been
    specified and <i>lsof</i> detects the open file's path name has been
    deleted. Consult the <i>lsof</i> FAQ (The <b>FAQ</b> section gives its
    location.) for more information on these NAME column additions.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="LOCKS"><a class="permalink" href="#LOCKS">LOCKS</a></h1>
<p class="Pp"><i>Lsof</i> can't adequately report the wide variety of UNIX
    dialect file locks in a single character. What it reports in a single
    character is a compromise between the information it finds in the kernel and
    the limitations of the reporting format.</p>
<p class="Pp">Moreover, when a process holds several byte level locks on a file,
    <i>lsof</i> only reports the status of the first lock it encounters. If it
    is a byte level lock, then the lock character will be reported in lower case
    - i.e., `r', `w', or `x' - rather than the upper case equivalent reported
    for a full file lock.</p>
<p class="Pp">Generally <i>lsof</i> can only report on locks held by local
    processes on local files. When a local process sets a lock on a remotely
    mounted (e.g., NFS) file, the remote server host usually records the lock
    state. One exception is Solaris - at some patch levels of 2.3, and in all
    versions above 2.4, the Solaris kernel records information on remote locks
    in local structures.</p>
<p class="Pp"><i>Lsof</i> has trouble reporting locks for some UNIX dialects.
    Consult the <b>BUGS</b> section of this manual page or the <i>lsof</i> FAQ
    (The <b>FAQ</b> section gives its location.) for more information.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OUTPUT_FOR_OTHER_PROGRAMS"><a class="permalink" href="#OUTPUT_FOR_OTHER_PROGRAMS">OUTPUT
  FOR OTHER PROGRAMS</a></h1>
<p class="Pp">When the <b>-F</b> option is specified, <i>lsof</i> produces
    output that is suitable for processing by another program - e.g, an
    <i>awk</i> or <i>Perl</i> script, or a C program.</p>
<p class="Pp">Each unit of information is output in a field that is identified
    with a leading character and terminated by a NL (012) (or a NUL (000) if the
    0 (zero) field identifier character is specified.) The data of the field
    follows immediately after the field identification character and extends to
    the field terminator.</p>
<p class="Pp">It is possible to think of field output as process and file sets.
    A process set begins with a field whose identifier is `p' (for process
    IDentifier (PID)). It extends to the beginning of the next PID field or the
    beginning of the first file set of the process, whichever comes first.
    Included in the process set are fields that identify the command, the
    process group IDentification (PGID) number, the task (thread) ID (TID), and
    the user ID (UID) number or login name.</p>
<p class="Pp">A file set begins with a field whose identifier is `f' (for file
    descriptor). It is followed by lines that describe the file's access mode,
    lock state, type, device, size, offset, inode, protocol, name and stream
    module names. It extends to the beginning of the next file or process set,
    whichever comes first.</p>
<p class="Pp">When the NUL (000) field terminator has been selected with the 0
    (zero) field identifier character, <i>lsof</i> ends each process and file
    set with a NL (012) character.</p>
<p class="Pp"><i>Lsof</i> always produces one field, the PID (`p') field. All
    other fields may be declared optionally in the field identifier character
    list that follows the <b>-F</b> option. When a field selection character
    identifies an item <i>lsof</i> does not normally list - e.g., PPID, selected
    with <b>-R</b> - specification of the field character - e.g., ``<b>-FR</b>''
    - also selects the listing of the item.</p>
<p class="Pp">It is entirely possible to select a set of fields that cannot
    easily be parsed - e.g., if the field descriptor field is not selected, it
    may be difficult to identify file sets. To help you avoid this difficulty,
    <i>lsof</i> supports the <b>-F</b> option; it selects the output of all
    fields with NL terminators (the <b>-F0</b> option pair selects the output of
    all fields with NUL terminators). For compatibility reasons neither
    <b>-F</b> nor <b>-F0</b> select the raw device field.</p>
<p class="Pp">These are the fields that <i>lsof</i> will produce. The single
    character listed first is the field identifier.</p>
<p class="Pp"></p>
<pre>	a	file access mode
	c	process command name (all characters from proc or
		user structure)
	C	file structure share count
	d	file's device character code
	D	file's major/minor device number (0x&lt;hexadecimal&gt;)
	f	file descriptor (always selected)
	F	file structure address (0x&lt;hexadecimal&gt;)
	G	file flaGs (0x&lt;hexadecimal&gt;; names if <b>+fg</b> follows)
	g	process group ID
	i	file's inode number
	K	tasK ID
	k	link count
	l	file's lock status
	L	process login name
	m	marker between repeated output
	M	the task comMand name
	n	file name, comment, Internet address
	N	node identifier (ox&lt;hexadecimal&gt;
	o	file's offset (decimal)
	p	process ID (always selected)
	P	protocol name
	r	raw device number (0x&lt;hexadecimal&gt;)
	R	parent process ID
	s	file's size (decimal)
	S	file's stream identification
	t	file's type
	T	TCP/TPI information, identified by prefixes (the
		`=' is part of the prefix):
		    QR=&lt;read queue size&gt;
		    QS=&lt;send queue size&gt;
		    SO=&lt;socket options and values&gt; (not all dialects)
		    SS=&lt;socket states&gt; (not all dialects)
		    ST=&lt;connection state&gt;
		    TF=&lt;TCP flags and values&gt; (not all dialects)
		    WR=&lt;window read size&gt;  (not all dialects)
		    WW=&lt;window write size&gt;  (not all dialects)
		(TCP/TPI information isn't reported for all supported
		  UNIX dialects. The <b>-h</b> or <b>-?</b> help output for the
		  <b>-T</b> option will show what TCP/TPI reporting can be
		  requested.)
	u	process user ID
	z	Solaris 10 and higher zone name
	Z	SELinux security context (inhibited when SELinux is disabled)
	0	use NUL field terminator character in place of NL
	1-9	dialect-specific field identifiers (The output
		of <b>-F?</b> identifies the information to be found
		in dialect-specific fields.)</pre>
<p class="Pp">You can get on-line help information on these characters and their
    descriptions by specifying the <b>-F?</b> option pair. (Escape the `?'
    character as your shell requires.) Additional information on field content
    can be found in the <b>OUTPUT</b> section.</p>
<p class="Pp">As an example, ``<b>-F pcfn</b>'' will select the process ID
    (`p'), command name (`c'), file descriptor (`f') and file name (`n') fields
    with an NL field terminator character; ``<b>-F pcfn0</b>'' selects the same
    output with a NUL (000) field terminator character.</p>
<p class="Pp"><i>Lsof</i> doesn't produce all fields for every process or file
    set, only those that are available. Some fields are mutually exclusive: file
    device characters and file major/minor device numbers; file inode number and
    protocol name; file name and stream identification; file size and offset.
    One or the other member of these mutually exclusive sets will appear in
    field output, but not both.</p>
<p class="Pp">Normally <i>lsof</i> ends each field with a NL (012) character.
    The 0 (zero) field identifier character may be specified to change the field
    terminator character to a NUL (000). A NUL terminator may be easier to
    process with <i>xargs (1),</i> for example, or with programs whose quoting
    mechanisms may not easily cope with the range of characters in the field
    output. When the NUL field terminator is in use, <i>lsof</i> ends each
    process and file set with a NL (012).</p>
<p class="Pp">Three aids to producing programs that can process <i>lsof</i>
    field output are included in the <i>lsof</i> distribution. The first is a C
    header file, <i>lsof_fields.h</i>, that contains symbols for the field
    identification characters, indexes for storing them in a table, and
    explanation strings that may be compiled into programs. <i>Lsof</i> uses
    this header file.</p>
<p class="Pp">The second aid is a set of sample scripts that process field
    output, written in <i>awk</i>, <i>Perl</i> 4, and <i>Perl</i> 5. They're
    located in the <i>scripts</i> subdirectory of the <i>lsof</i>
  distribution.</p>
<p class="Pp">The third aid is the C library used for the <i>lsof</i> test
    suite. The test suite is written in C and uses field output to validate the
    correct operation of <i>lsof</i>. The library can be found in the
    <i>tests/LTlib.c</i> file of the <i>lsof</i> distribution. The library uses
    the first aid, the <i>lsof_fields.h</i> header file.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BLOCKS_AND_TIMEOUTS"><a class="permalink" href="#BLOCKS_AND_TIMEOUTS">BLOCKS
  AND TIMEOUTS</a></h1>
<p class="Pp"><i>Lsof</i> can be blocked by some kernel functions that it uses -
    <i>lstat</i>(2), <i>readlink</i>(2), and <i>stat</i>(2). These functions are
    stalled in the kernel, for example, when the hosts where mounted NFS file
    systems reside become inaccessible.</p>
<p class="Pp"><i>Lsof</i> attempts to break these blocks with timers and child
    processes, but the techniques are not wholly reliable. When <i>lsof</i> does
    manage to break a block, it will report the break with an error message. The
    messages may be suppressed with the <b>-t</b> and <b>-w</b> options.</p>
<p class="Pp">The default timeout value may be displayed with the <b>-h</b> or
    <b>-?</b> option, and it may be changed with the <b>-S</b><i> [t]</i>
    option. The minimum for <i>t</i> is two seconds, but you should avoid small
    values, since slow system responsiveness can cause short timeouts to expire
    unexpectedly and perhaps stop <i>lsof</i> before it can produce any
  output.</p>
<p class="Pp">When <i>lsof</i> has to break a block during its access of mounted
    file system information, it normally continues, although with less
    information available to display about open files.</p>
<p class="Pp"><i>Lsof</i> can also be directed to avoid the protection of timers
    and child processes when using the kernel functions that might block by
    specifying the <b>-O</b> option. While this will allow <i>lsof</i> to start
    up with less overhead, it exposes <i>lsof</i> completely to the kernel
    situations that might block it. Use this option cautiously.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AVOIDING_KERNEL_BLOCKS"><a class="permalink" href="#AVOIDING_KERNEL_BLOCKS">AVOIDING
  KERNEL BLOCKS</a></h1>
<p class="Pp">You can use the <b>-b</b> option to tell <i>lsof</i> to avoid
    using kernel functions that would block. Some cautions apply.</p>
<p class="Pp">First, using this option usually requires that your system supply
    alternate device numbers in place of the device numbers that <i>lsof</i>
    would normally obtain with the <i>lstat</i>(2) and <i>stat</i>(2) kernel
    functions. See the <b>ALTERNATE DEVICE NUMBERS</b> section for more
    information on alternate device numbers.</p>
<p class="Pp">Second, you can't specify <i>names</i> for <i>lsof</i> to locate
    unless they're file system names. This is because <i>lsof</i> needs to know
    the device and inode numbers of files listed with <i>names</i> in the
    <i>lsof</i> options, and the <b>-b</b> option prevents <i>lsof</i> from
    obtaining them. Moreover, since <i>lsof</i> only has device numbers for the
    file systems that have alternates, its ability to locate files on file
    systems depends completely on the availability and accuracy of the
    alternates. If no alternates are available, or if they're incorrect,
    <i>lsof</i> won't be able to locate files on the named file systems.</p>
<p class="Pp">Third, if the names of your file system directories that
    <i>lsof</i> obtains from your system's mount table are symbolic links,
    <i>lsof</i> won't be able to resolve the links. This is because the
    <b>-b</b> option causes <i>lsof</i> to avoid the kernel <i>readlink</i>(2)
    function it uses to resolve symbolic links.</p>
<p class="Pp">Finally, using the <b>-b</b> option causes <i>lsof</i> to issue
    warning messages when it needs to use the kernel functions that the
    <b>-b</b> option directs it to avoid. You can suppress these messages by
    specifying the <b>-w</b> option, but if you do, you won't see the alternate
    device numbers reported in the warning messages.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ALTERNATE_DEVICE_NUMBERS"><a class="permalink" href="#ALTERNATE_DEVICE_NUMBERS">ALTERNATE
  DEVICE NUMBERS</a></h1>
<p class="Pp">On some dialects, when <i>lsof</i> has to break a block because it
    can't get information about a mounted file system via the <i>lstat</i>(2)
    and <i>stat</i>(2) kernel functions, or because you specified the <b>-b</b>
    option, <i>lsof</i> can obtain some of the information it needs - the device
    number and possibly the file system type - from the system mount table. When
    that is possible, <i>lsof</i> will report the device number it obtained.
    (You can suppress the report by specifying the <b>-w</b> option.)</p>
<p class="Pp">You can assist this process if your mount table is supported with
    an <i>/etc/mtab</i> or <i>/etc/mnttab</i> file that contains an options
    field by adding a ``dev=xxxx'' field for mount points that do not have one
    in their options strings. Note: you must be able to edit the file - i.e.,
    some mount tables like recent Solaris /etc/mnttab or Linux /proc/mounts are
    read-only and can't be modified.</p>
<p class="Pp">You may also be able to supply device numbers using the <b>+m</b>
    and <b>+m</b><i> m</i> options, provided they are supported by your dialect.
    Check the output of <i>lsof's</i> <b>-h</b> or <b>-?</b> options to see if
    the <b>+m</b> and <b>+m</b><i> m</i> options are available.</p>
<p class="Pp">The ``xxxx'' portion of the field is the hexadecimal value of the
    file system's device number. (Consult the <i>st_dev</i> field of the output
    of the <i>lstat</i>(2) and <i>stat</i>(2) functions for the appropriate
    values for your file systems.) Here's an example from a Sun Solaris 2.6
    <i>/etc/mnttab</i> for a file system remotely mounted via NFS:</p>
<p class="Pp"></p>
<pre>	nfs  ignore,noquota,dev=2a40001</pre>
<p class="Pp">There's an advantage to having ``dev=xxxx'' entries in your mount
    table file, especially for file systems that are mounted from remote NFS
    servers. When a remote server crashes and you want to identify its users by
    running <i>lsof</i> on one of its clients, <i>lsof</i> probably won't be
    able to get output from the <i>lstat</i>(2) and <i>stat</i>(2) functions for
    the file system. If it can obtain the file system's device number from the
    mount table, it will be able to display the files open on the crashed NFS
    server.</p>
<p class="Pp">Some dialects that do not use an ASCII <i>/etc/mtab</i> or
    <i>/etc/mnttab</i> file for the mount table may still provide an alternative
    device number in their internal mount tables. This includes AIX, Apple
    Darwin, FreeBSD, NetBSD, OpenBSD, and Tru64 UNIX. <i>Lsof</i> knows how to
    obtain the alternative device number for these dialects and uses it when its
    attempt to <i>lstat</i>(2) or <i>stat</i>(2) the file system is blocked.</p>
<p class="Pp">If you're not sure your dialect supplies alternate device numbers
    for file systems from its mount table, use this <i>lsof</i> incantation to
    see if it reports any alternate device numbers:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof -b</dd>
</dl>
<p class="Pp">Look for standard error file warning messages that begin
    ``assuming &quot;dev=xxxx&quot; from ...''.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="KERNEL_NAME_CACHE"><a class="permalink" href="#KERNEL_NAME_CACHE">KERNEL
  NAME CACHE</a></h1>
<p class="Pp"><i>Lsof</i> is able to examine the kernel's name cache or use
    other kernel facilities (e.g., the ADVFS 4.x tag_to_path() function under
    Tru64 UNIX) on some dialects for most file system types, excluding AFS, and
    extract recently used path name components from it. (AFS file system path
    lookups don't use the kernel's name cache; some Solaris VxFS file system
    operations apparently don't use it, either.)</p>
<p class="Pp"><i>Lsof</i> reports the complete paths it finds in the NAME
    column. If <i>lsof</i> can't report all components in a path, it reports in
    the NAME column the file system name, followed by a space, two `-'
    characters, another space, and the name components it has located, separated
    by the `/' character.</p>
<p class="Pp">When <i>lsof</i> is run in repeat mode - i.e., with the <b>-r</b>
    option specified - the extent to which it can report path name components
    for the same file may vary from cycle to cycle. That's because other running
    processes can cause the kernel to remove entries from its name cache and
    replace them with others.</p>
<p class="Pp"><i>Lsof's</i> use of the kernel name cache to identify the paths
    of files can lead it to report incorrect components under some
    circumstances. This can happen when the kernel name cache uses device and
    node number as a key (e.g., SCO OpenServer) and a key on a rapidly changing
    file system is reused. If the UNIX dialect's kernel doesn't purge the name
    cache entry for a file when it is unlinked, <i>lsof</i> may find a reference
    to the wrong entry in the cache. The <i>lsof</i> FAQ (The <b>FAQ</b> section
    gives its location.) has more information on this situation.</p>
<p class="Pp"><i>Lsof</i> can report path name components for these
  dialects:</p>
<p class="Pp"></p>
<pre>	FreeBSD
	HP-UX
	Linux
	NetBSD
	NEXTSTEP
	OpenBSD
	OPENSTEP
	SCO OpenServer
	SCO|Caldera UnixWare
	Solaris
	Tru64 UNIX</pre>
<p class="Pp"><i>Lsof</i> can't report path name components for these
  dialects:</p>
<p class="Pp"></p>
<pre>	AIX</pre>
<p class="Pp">If you want to know why <i>lsof</i> can't report path name
    components for some dialects, see the <i>lsof</i> FAQ (The <b>FAQ</b>
    section gives its location.)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DEVICE_CACHE_FILE"><a class="permalink" href="#DEVICE_CACHE_FILE">DEVICE
  CACHE FILE</a></h1>
<p class="Pp">Examining all members of the <i>/dev</i> (or <i>/devices</i>) node
    tree with <i>stat</i>(2) functions can be time consuming. What's more, the
    information that <i>lsof</i> needs - device number, inode number, and path -
    rarely changes.</p>
<p class="Pp">Consequently, <i>lsof</i> normally maintains an ASCII text file of
    cached <i>/dev</i> (or <i>/devices</i>) information (exception: the
    /proc-based Linux <i>lsof</i> where it's not needed.) The local system
    administrator who builds <i>lsof</i> can control the way the device cache
    file path is formed, selecting from these options:</p>
<p class="Pp"></p>
<pre>	Path from the <b>-D</b> option;
	Path from an environment variable;
	System-wide path;
	Personal path (the default);
	Personal path, modified by an environment variable.</pre>
<p class="Pp">Consult the output of the <b>-h</b>, <b>-D? ,</b> or <b>-?</b>
    help options for the current state of device cache support. The help output
    lists the default read-mode device cache file path that is in effect for the
    current invocation of <i>lsof</i>. The <b>-D?</b> option output lists the
    read-only and write device cache file paths, the names of any applicable
    environment variables, and the personal device cache path format.</p>
<p class="Pp"><i>Lsof</i> can detect that the current device cache file has been
    accidentally or maliciously modified by integrity checks, including the
    computation and verification of a sixteen bit Cyclic Redundancy Check (CRC)
    sum on the file's contents. When <i>lsof</i> senses something wrong with the
    file, it issues a warning and attempts to remove the current cache file and
    create a new copy, but only to a path that the process can legitimately
    write.</p>
<p class="Pp">The path from which a <i>lsof</i> process may attempt to read a
    device cache file may not be the same as the path to which it can
    legitimately write. Thus when <i>lsof</i> senses that it needs to update the
    device cache file, it may choose a different path for writing it from the
    path from which it read an incorrect or outdated version.</p>
<p class="Pp">If available, the <b>-Dr</b> option will inhibit the writing of a
    new device cache file. (It's always available when specified without a path
    name argument.)</p>
<p class="Pp">When a new device is added to the system, the device cache file
    may need to be recreated. Since <i>lsof</i> compares the mtime of the device
    cache file with the mtime and ctime of the <i>/dev</i> (or <i>/devices</i>)
    directory, it usually detects that a new device has been added; in that case
    <i>lsof</i> issues a warning message and attempts to rebuild the device
    cache file.</p>
<p class="Pp">Whenever <i>lsof</i> writes a device cache file, it sets its
    ownership to the real UID of the executing process, and its permission modes
    to 0600, this restricting its reading and writing to the file's owner.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="LSOF_PERMISSIONS_THAT_AFFECT_DEVICE_CACHE_FILE_ACCESS"><a class="permalink" href="#LSOF_PERMISSIONS_THAT_AFFECT_DEVICE_CACHE_FILE_ACCESS">LSOF
  PERMISSIONS THAT AFFECT DEVICE CACHE FILE ACCESS</a></h1>
<p class="Pp">Two permissions of the <i>lsof</i> executable affect its ability
    to access device cache files. The permissions are set by the local system
    administrator when <i>lsof</i> is installed.</p>
<p class="Pp">The first and rarer permission is setuid-root. It comes into
    effect when <i>lsof</i> is executed; its effective UID is then root, while
    its real (i.e., that of the logged-on user) UID is not. The <i>lsof</i>
    distribution recommends that versions for these dialects run
  setuid-root.</p>
<p class="Pp"></p>
<pre>	HP-UX 11.11 and 11.23
	Linux</pre>
<p class="Pp">The second and more common permission is setgid. It comes into
    effect when the effective group IDentification number (GID) of the
    <i>lsof</i> process is set to one that can access kernel memory devices -
    e.g., ``kmem'', ``sys'', or ``system''.</p>
<p class="Pp">An <i>lsof</i> process that has setgid permission usually
    surrenders the permission after it has accessed the kernel memory devices.
    When it does that, <i>lsof</i> can allow more liberal device cache path
    formations. The <i>lsof</i> distribution recommends that versions for these
    dialects run setgid and be allowed to surrender setgid permission.</p>
<p class="Pp"></p>
<pre>	AIX 5.[12] and 5.3-ML1
	Apple Darwin 7.x Power Macintosh systems
	FreeBSD 4.x, 4.1x, 5.x and [6789].x for x86-based systems
	FreeBSD 5.x, [6789].x and 1[012].8for Alpha, AMD64 and Sparc64
	    based systems
	HP-UX 11.00
	NetBSD 1.[456], 2.x and 3.x for Alpha, x86, and SPARC-based
	    systems
	NEXTSTEP 3.[13] for NEXTSTEP architectures
	OpenBSD 2.[89] and 3.[0-9] for x86-based systems
	OPENSTEP 4.x
	SCO OpenServer Release 5.0.6 for x86-based systems
	SCO|Caldera UnixWare 7.1.4 for x86-based systems
	Solaris 2.6, 8, 9 and 10
	Tru64 UNIX 5.1</pre>
<p class="Pp">(Note: <i>lsof</i> for AIX 5L and above needs setuid-root
    permission if its <b>-X</b> option is used.)</p>
<p class="Pp"><i>Lsof</i> for these dialects does not support a device cache, so
    the permissions given to the executable don't apply to the device cache
    file.</p>
<p class="Pp"></p>
<pre>	Linux</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="DEVICE_CACHE_FILE_PATH_FROM_THE_"><a class="permalink" href="#DEVICE_CACHE_FILE_PATH_FROM_THE_">DEVICE
  CACHE FILE PATH FROM THE -D OPTION</a></h1>
<p class="Pp">The <b>-D</b> option provides limited means for specifying the
    device cache file path. Its <b>?</b> function will report the read-only and
    write device cache file paths that <i>lsof</i> will use.</p>
<p class="Pp">When the <b>-D</b> <b>b</b>, <b>r</b>, and <b>u</b> functions are
    available, you can use them to request that the cache file be built in a
    specific location (<b>b</b>[<i>path</i>]); read but not rebuilt
    (<b>r</b>[<i>path</i>]); or read and rebuilt (<b>u</b>[<i>path</i>]). The
    <b>b</b>, <b>r</b>, and <b>u</b> functions are restricted under some
    conditions. They are restricted when the <i>lsof</i> process is setuid-root.
    The path specified with the <b>r</b> function is always read-only, even when
    it is available.</p>
<p class="Pp">The <b>b</b>, <b>r</b>, and <b>u</b> functions are also restricted
    when the <i>lsof</i> process runs setgid and <i>lsof</i> doesn't surrender
    the setgid permission. (See the <b>LSOF PERMISSIONS THAT AFFECT DEVICE CACHE
    FILE ACCESS</b> section for a list of implementations that normally don't
    surrender their setgid permission.)</p>
<p class="Pp">A further <b>-D</b> function, <b>i</b> (for ignore), is always
    available.</p>
<p class="Pp">When available, the <b>b</b> function tells <i>lsof</i> to read
    device information from the kernel with the <i>stat</i>(2) function and
    build a device cache file at the indicated path.</p>
<p class="Pp">When available, the <b>r</b> function tells <i>lsof</i> to read
    the device cache file, but not update it. When a path argument accompanies
    <b>-Dr</b>, it names the device cache file path. The <b>r</b> function is
    always available when it is specified without a path name argument. If
    <i>lsof</i> is not running setuid-root and surrenders its setgid permission,
    a path name argument may accompany the <b>r</b> function.</p>
<p class="Pp">When available, the <b>u</b> function tells <i>lsof</i> to attempt
    to read and use the device cache file. If it can't read the file, or if it
    finds the contents of the file incorrect or outdated, it will read
    information from the kernel, and attempt to write an updated version of the
    device cache file, but only to a path it considers legitimate for the
    <i>lsof</i> process effective and real UIDs.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DEVICE_CACHE_PATH_FROM_AN_ENVIRONMENT_VARIABLE"><a class="permalink" href="#DEVICE_CACHE_PATH_FROM_AN_ENVIRONMENT_VARIABLE">DEVICE
  CACHE PATH FROM AN ENVIRONMENT VARIABLE</a></h1>
<p class="Pp"><i>Lsof's</i> second choice for the device cache file is the
    contents of the LSOFDEVCACHE environment variable. It avoids this choice if
    the <i>lsof</i> process is setuid-root, or the real UID of the process is
    root.</p>
<p class="Pp">A further restriction applies to a device cache file path taken
    from the LSOFDEVCACHE environment variable: <i>lsof</i> will not write a
    device cache file to the path if the <i>lsof</i> process doesn't surrender
    its setgid permission. (See the <b>LSOF PERMISSIONS THAT AFFECT DEVICE CACHE
    FILE ACCESS</b> section for information on implementations that don't
    surrender their setgid permission.)</p>
<p class="Pp">The local system administrator can disable the use of the
    LSOFDEVCACHE environment variable or change its name when building
    <i>lsof</i>. Consult the output of <b>-D?</b> for the environment variable's
    name.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYSTEM-WIDE_DEVICE_CACHE_PATH"><a class="permalink" href="#SYSTEM-WIDE_DEVICE_CACHE_PATH">SYSTEM-WIDE
  DEVICE CACHE PATH</a></h1>
<p class="Pp">The local system administrator may choose to have a system-wide
    device cache file when building <i>lsof</i>. That file will generally be
    constructed by a special system administration procedure when the system is
    booted or when the contents of <i>/dev</i> or <i>/devices</i>) changes. If
    defined, it is <i>lsof's</i> third device cache file path choice.</p>
<p class="Pp">You can tell that a system-wide device cache file is in effect for
    your local installation by examining the <i>lsof</i> help option output -
    i.e., the output from the <b>-h</b> or <b>-?</b> option.</p>
<p class="Pp"><i>Lsof</i> will never write to the system-wide device cache file
    path by default. It must be explicitly named with a <b>-D</b> function in a
    root-owned procedure. Once the file has been written, the procedure must
    change its permission modes to 0644 (owner-read and owner-write, group-read,
    and other-read).</p>
</section>
<section class="Sh">
<h1 class="Sh" id="PERSONAL_DEVICE_CACHE_PATH_(DEFAULT)"><a class="permalink" href="#PERSONAL_DEVICE_CACHE_PATH_(DEFAULT)">PERSONAL
  DEVICE CACHE PATH (DEFAULT)</a></h1>
<p class="Pp">The default device cache file path of the <i>lsof</i> distribution
    is one recorded in the home directory of the real UID that executes
    <i>lsof</i>. Added to the home directory is a second path component of the
    form <i>.lsof_hostname</i>.</p>
<p class="Pp">This is <i>lsof's</i> fourth device cache file path choice, and is
    usually the default. If a system-wide device cache file path was defined
    when <i>lsof</i> was built, this fourth choice will be applied when
    <i>lsof</i> can't find the system-wide device cache file. This is the
    <b>only</b> time <i>lsof</i> uses two paths when reading the device cache
    file.</p>
<p class="Pp">The <i>hostname</i> part of the second component is the base name
    of the executing host, as returned by <i>gethostname</i>(2). The base name
    is defined to be the characters preceding the first `.' in the
    <i>gethostname</i>(2) output, or all the <i>gethostname</i>(2) output if it
    contains no `.'.</p>
<p class="Pp">The device cache file belongs to the user ID and is readable and
    writable by the user ID alone - i.e., its modes are 0600. Each distinct real
    user ID on a given host that executes <i>lsof</i> has a distinct device
    cache file. The <i>hostname</i> part of the path distinguishes device cache
    files in an NFS-mounted home directory into which device cache files are
    written from several different hosts.</p>
<p class="Pp">The personal device cache file path formed by this method
    represents a device cache file that <i>lsof</i> will attempt to read, and
    will attempt to write should it not exist or should its contents be
    incorrect or outdated.</p>
<p class="Pp">The <b>-Dr</b> option without a path name argument will inhibit
    the writing of a new device cache file.</p>
<p class="Pp">The <b>-D?</b> option will list the format specification for
    constructing the personal device cache file. The conversions used in the
    format specification are described in the <i>00DCACHE</i> file of the
    <i>lsof</i> distribution.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="MODIFIED_PERSONAL_DEVICE_CACHE_PATH"><a class="permalink" href="#MODIFIED_PERSONAL_DEVICE_CACHE_PATH">MODIFIED
  PERSONAL DEVICE CACHE PATH</a></h1>
<p class="Pp">If this option is defined by the local system administrator when
    <i>lsof</i> is built, the LSOFPERSDCPATH environment variable contents may
    be used to add a component of the personal device cache file path.</p>
<p class="Pp">The LSOFPERSDCPATH variable contents are inserted in the path at
    the place marked by the local system administrator with the ``%p''
    conversion in the HASPERSDC format specification of the dialect's
    <i>machine.h</i> header file. (It's placed right after the home directory in
    the default <i>lsof</i> distribution.)</p>
<p class="Pp">Thus, for example, if LSOFPERSDCPATH contains ``LSOF'', the home
    directory is ``/Homes/abe'', the host name is ``lsof.itap.purdue.edu'', and
    the HASPERSDC format is the default (``%h/%p.lsof_%L''), the modified
    personal device cache file path is:</p>
<p class="Pp"></p>
<pre>	/Homes/abe/LSOF/.lsof_vic</pre>
<p class="Pp">The LSOFPERSDCPATH environment variable is ignored when the
    <i>lsof</i> process is setuid-root or when the real UID of the process is
    root.</p>
<p class="Pp"><i>Lsof</i> will not write to a modified personal device cache
    file path if the <i>lsof</i> process doesn't surrender setgid permission.
    (See the <b>LSOF PERMISSIONS THAT AFFECT DEVICE CACHE FILE ACCESS</b>
    section for a list of implementations that normally don't surrender their
    setgid permission.)</p>
<p class="Pp">If, for example, you want to create a sub-directory of personal
    device cache file paths by using the LSOFPERSDCPATH environment variable to
    name it, and <i>lsof</i> doesn't surrender its setgid permission, you will
    have to allow <i>lsof</i> to create device cache files at the standard
    personal path and move them to your subdirectory with shell commands.</p>
<p class="Pp">The local system administrator may: disable this option when
    <i>lsof</i> is built; change the name of the environment variable from
    LSOFPERSDCPATH to something else; change the HASPERSDC format to include the
    personal path component in another place; or exclude the personal path
    component entirely. Consult the output of the <b>-D?</b> option for the
    environment variable's name and the HASPERSDC format specification.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DIAGNOSTICS"><a class="permalink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
<p class="Pp">Errors are identified with messages on the standard error
  file.</p>
<p class="Pp"><i>Lsof</i> returns a one (1) if any error was detected, including
    the failure to locate command names, file names, Internet addresses or
    files, login names, NFS files, PIDs, PGIDs, or UIDs it was asked to list. If
    the <b>-V</b> option is specified, <i>lsof</i> will indicate the search
    items it failed to list.</p>
<p class="Pp">It returns a zero (0) if no errors were detected and if it was
    able to list some information about all the specified search arguments.</p>
<p class="Pp">When <i>lsof</i> cannot open access to <i>/dev</i> (or
    <i>/devices</i>) or one of its subdirectories, or get information on a file
    in them with <i>stat</i>(2), it issues a warning message and continues. That
    <i>lsof</i> will issue warning messages about inaccessible files in
    <i>/dev</i> (or <i>/devices</i>) is indicated in its help output - requested
    with the <b>-h</b> or &gt;B -? options - with the message:</p>
<p class="Pp"></p>
<pre>	Inaccessible /dev warnings are enabled.</pre>
<p class="Pp">The warning message may be suppressed with the <b>-w</b> option.
    It may also have been suppressed by the system administrator when
    <i>lsof</i> was compiled by the setting of the WARNDEVACCESS definition. In
    this case, the output from the help options will include the message:</p>
<p class="Pp"></p>
<pre>	Inaccessible /dev warnings are disabled.</pre>
<p class="Pp">Inaccessible device warning messages usually disappear after
    <i>lsof</i> has created a working device cache file.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">For a more extensive set of examples, documented more fully, see
    the <i>00QUICKSTART</i> file of the <i>lsof</i> distribution.</p>
<p class="Pp">To list all open files, use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof</dd>
</dl>
<p class="Pp">To list all open Internet, x.25 (HP-UX), and UNIX domain files,
    use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof -i -U</dd>
</dl>
<p class="Pp">To list all open IPv4 network files in use by the process whose
    PID is 1234, use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof -i 4 -a -p 1234</dd>
</dl>
<p class="Pp">Presuming the UNIX dialect supports IPv6, to list only open IPv6
    network files, use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof -i 6</dd>
</dl>
<p class="Pp">To list all files using any protocol on ports 513, 514, or 515 of
    host wonderland.cc.purdue.edu, use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof -i @wonderland.cc.purdue.edu:513-515</dd>
</dl>
<p class="Pp">To list all files using any protocol on any port of
    mace.cc.purdue.edu (cc.purdue.edu is the default domain), use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof -i @mace</dd>
</dl>
<p class="Pp">To list all open files for login name ``abe'', or user ID 1234, or
    process 456, or process 123, or process 789, use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof -p 456,123,789 -u 1234,abe</dd>
</dl>
<p class="Pp">To list all open files on device /dev/hd4, use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof /dev/hd4</dd>
</dl>
<p class="Pp">To find the process that has /u/abe/foo open, use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof /u/abe/foo</dd>
</dl>
<p class="Pp">To send a SIGHUP to the processes that have /u/abe/bar open,
  use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>kill -HUP `lsof -t /u/abe/bar`</dd>
</dl>
<p class="Pp">To find any open file, including an open UNIX domain socket file,
    with the name <i>/dev/log</i>, use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof /dev/log</dd>
</dl>
<p class="Pp">To find processes with open files on the NFS file system named
    <i>/nfs/mount/point</i> whose server is inaccessible, and presuming your
    mount table supplies the device number for <i>/nfs/mount/point</i>, use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof -b /nfs/mount/point</dd>
</dl>
<p class="Pp">To do the preceding search with warning messages suppressed,
  use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof -bw /nfs/mount/point</dd>
</dl>
<p class="Pp">To ignore the device cache file, use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof -Di</dd>
</dl>
<p class="Pp">To obtain PID and command name field output for each process, file
    descriptor, file device number, and file inode number for each file of each
    process, use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof -FpcfDi</dd>
</dl>
<p class="Pp">To list the files at descriptors 1 and 3 of every process running
    the <i>lsof</i> command for login ID ``abe'' every 10 seconds, use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof -c lsof -a -d 1 -d 3 -u abe -r10</dd>
</dl>
<p class="Pp">To list the current working directory of processes running a
    command that is exactly four characters long and has an 'o' or 'O' in
    character three, use this regular expression form of the <b>-c</b><i> c</i>
    option:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof -c /^..o.$/i -a -d cwd</dd>
</dl>
<p class="Pp">To find an IP version 4 socket file by its associated numeric
    dot-form address, use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof -i@128.210.15.17</dd>
</dl>
<p class="Pp">To find an IP version 6 socket file (when the UNIX dialect
    supports IPv6) by its associated numeric colon-form address, use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof -i@[0:1:2:3:4:5:6:7]</dd>
</dl>
<p class="Pp">To find an IP version 6 socket file (when the UNIX dialect
    supports IPv6) by an associated numeric colon-form address that has a run of
    zeroes in it - e.g., the loop-back address - use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof -i@[::1]</dd>
</dl>
<p class="Pp">To obtain a repeat mode marker line that contains the current
    time, use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof -rm====%T====</dd>
</dl>
<p class="Pp">To add spaces to the previous marker line, use:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>lsof -r &quot;m==== %T ====&quot;</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">Since <i>lsof</i> reads kernel memory in its search for open
    files, rapid changes in kernel memory may produce unpredictable results.</p>
<p class="Pp">When a file has multiple record locks, the lock status character
    (following the file descriptor) is derived from a test of the first lock
    structure, not from any combination of the individual record locks that
    might be described by multiple lock structures.</p>
<p class="Pp"><i>Lsof</i> can't search for files with restrictive access
    permissions by <i>name</i> unless it is installed with root set-UID
    permission. Otherwise it is limited to searching for files to which its user
    or its set-GID group (if any) has access permission.</p>
<p class="Pp">The display of the destination address of a raw socket (e.g., for
    <i>ping</i>) depends on the UNIX operating system. Some dialects store the
    destination address in the raw socket's protocol control block, some do
  not.</p>
<p class="Pp"><i>Lsof</i> can't always represent Solaris device numbers in the
    same way that <i>ls</i>(1) does. For example, the major and minor device
    numbers that the <i>lstat</i>(2) and <i>stat</i>(2) functions report for the
    directory on which CD-ROM files are mounted (typically <i>/cdrom</i>) are
    not the same as the ones that it reports for the device on which CD-ROM
    files are mounted (typically <i>/dev/sr0</i>). (<i>Lsof</i> reports the
    directory numbers.)</p>
<p class="Pp">The support for <i>/proc</i> file systems is available only for
    BSD and Tru64 UNIX dialects, Linux, and dialects derived from SYSV R4 -
    e.g., FreeBSD, NetBSD, OpenBSD, Solaris, UnixWare.</p>
<p class="Pp">Some <i>/proc</i> file items - device number, inode number, and
    file size - are unavailable in some dialects. Searching for files in a
    <i>/proc</i> file system may require that the full path name be
  specified.</p>
<p class="Pp">No text (<b>txt</b>) file descriptors are displayed for Linux
    processes. All entries for files other than the current working directory,
    the root directory, and numerical file descriptors are labeled <b>mem</b>
    descriptors.</p>
<p class="Pp"><i>Lsof</i> can't search for Tru64 UNIX named pipes by name,
    because their kernel implementation of lstat(2) returns an improper device
    number for a named pipe.</p>
<p class="Pp"><i>Lsof</i> can't report fully or correctly on HP-UX 9.01, 10.20,
    and 11.00 locks because of insufficient access to kernel data or errors in
    the kernel data. See the <i>lsof</i> FAQ (The <b>FAQ</b> section gives its
    location.) for details.</p>
<p class="Pp">The AIX SMT file type is a fabrication. It's made up for file
    structures whose type (15) isn't defined in the AIX
    <i>/usr/include/sys/file.h</i> header file. One way to create such file
    structures is to run X clients with the DISPLAY variable set to
  ``:0.0''.</p>
<p class="Pp">The <b>+|-f</b><i>[cfgGn]</i> option is not supported under
    /proc-based Linux <i>lsof</i>, because it doesn't read kernel structures
    from kernel memory.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT"><a class="permalink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<p class="Pp"><i>Lsof</i> may access these environment variables.</p>
<dl class="Bl-tag">
  <dt id="LANG"><a class="permalink" href="#LANG">LANG</a></dt>
  <dd>defines a language locale. See <i>setlocale</i>(3) for the names of other
      variables that can be used in place of LANG - e.g., LC_ALL, LC_TYPE,
    etc.</dd>
  <dt id="LSOFDEVCACHE"><a class="permalink" href="#LSOFDEVCACHE">LSOFDEVCACHE</a></dt>
  <dd>defines the path to a device cache file. See the <b>DEVICE CACHE PATH FROM
      AN ENVIRONMENT VARIABLE</b> section for more information.</dd>
  <dt id="LSOFPERSDCPATH"><a class="permalink" href="#LSOFPERSDCPATH">LSOFPERSDCPATH</a></dt>
  <dd>defines the middle component of a modified personal device cache file
      path. See the <b>MODIFIED PERSONAL DEVICE CACHE PATH</b> section for more
      information.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="FAQ"><a class="permalink" href="#FAQ">FAQ</a></h1>
<p class="Pp">Frequently-asked questions and their answers (an FAQ) are
    available in the <i>00FAQ</i> file of the <i>lsof</i> distribution.</p>
<p class="Pp">That file is also available via anonymous ftp from
    <i>lsof.itap.purdue.edu</i> at <i>pub/tools/unix/lsof</i>FAQ<i>.</i> The URL
    is:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/FAQ</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="FILES"><a class="permalink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt><i>/dev/kmem</i></dt>
  <dd>kernel virtual memory device</dd>
  <dt><i>/dev/mem</i></dt>
  <dd>physical memory device</dd>
  <dt><i>/dev/swap</i></dt>
  <dd>system paging device</dd>
  <dt><i>.lsof_hostname</i></dt>
  <dd><i>lsof's</i> device cache file (The suffix, <i>hostname</i>, is the first
      component of the host's name returned by <i>gethostname</i>(2).)</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<p class="Pp"><i>Lsof</i> was written by Victor A.Abell &lt;abe@purdue.edu&gt;
    of Purdue University. Many others have contributed to <i>lsof</i>. They're
    listed in the <i>00CREDITS</i> file of the <i>lsof</i> distribution.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DISTRIBUTION"><a class="permalink" href="#DISTRIBUTION">DISTRIBUTION</a></h1>
<p class="Pp">The latest distribution of <i>lsof</i> is available via anonymous
    ftp from the host <i>lsof.itap.purdue.edu</i>. You'll find the <i>lsof</i>
    distribution in the <i>pub/tools/unix/lsof</i> directory.</p>
<p class="Pp">You can also use this URL:</p>
<dl class="Bl-tag">
  <dt></dt>
  <dd>ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof</dd>
</dl>
<p class="Pp"><i>Lsof</i> is also mirrored elsewhere. When you access
    <i>lsof.itap.purdue.edu</i> and change to its <i>pub/tools/unix/lsof</i>
    directory, you'll be given a list of some mirror sites. The
    <i>pub/tools/unix/lsof</i> directory also contains a more complete list in
    its <i>mirrors</i> file. Use mirrors with caution - not all mirrors always
    have the latest <i>lsof</i> revision.</p>
<p class="Pp">Some pre-compiled <i>Lsof</i> executables are available on
    <i>lsof.itap.purdue.edu</i>, but their use is discouraged - it's better that
    you build your own from the sources. If you feel you must use a pre-compiled
    executable, please read the cautions that appear in the README files of the
    <i>pub/tools/unix/lsof/binaries</i> subdirectories and in the 00* files of
    the distribution.</p>
<p class="Pp">More information on the <i>lsof</i> distribution can be found in
    its <i>README.lsof_&lt;version&gt;</i> file. If you intend to get the
    <i>lsof</i> distribution and build it, please read
    <i>README.lsof_&lt;version&gt;</i> and the other 00* files of the
    distribution before sending questions to the author.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp">Not all the following manual pages may exist in every UNIX dialect
    to which <i>lsof</i> has been ported.</p>
<p class="Pp">access(2), awk(1), crash(1), fattach(3C), ff(1), fstat(8),
    fuser(1), gethostname(2), isprint(3), kill(1), localtime(3), lstat(2),
    modload(8), mount(8), netstat(1), ofiles(8L), perl(1), ps(1), readlink(2),
    setlocale(3), stat(2), strftime(3), time(2), uname(1).</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">Revision-4.91</td>
    <td class="foot-os"><a href=".."></a></td>
  </tr>
</table>
</body>
</html>
